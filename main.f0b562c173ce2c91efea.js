(self.webpackChunkinbox=self.webpackChunkinbox||[]).push([[179],{40991:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=40991,t.exports=e},54450:function(t,e,r){"use strict";function n(t){return"function"==typeof t}let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},c=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function u(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:r,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(let t=0;t<r.length;++t)r[t].remove(this);if(n(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){e=a instanceof l?f(a.errors):[a]}}if(c(o)){let t=-1,r=o.length;for(;++t<r;){const r=o[t];if(u(r))try{r.unsubscribe()}catch(a){e=e||[],a instanceof l?e=e.concat(f(a.errors)):e.push(a)}}}if(e)throw new l(e)}add(e){let r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){const e=r;r=new t,r._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=r;if(null===n)r._parentOrParents=this;else if(n instanceof t){if(n===this)return r;r._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return r;n.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r}remove(t){const e=this._subscriptions;if(e){const r=e.indexOf(t);-1!==r&&e.splice(r,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,r)}}[d](){return this}static create(t,e,r){const n=new p(t,e,r);return n.syncErrorThrowable=!1,n}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends p{constructor(t,e,r,i){let s;super(),this._parentSubscriber=t;let o=this;n(e)?s=e:e&&(s=e.next,r=e.error,i=e.complete,e!==a&&(o=Object.create(e),n(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:r}=s;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(r){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw r;o(r)}}__tryOrSetError(t,e,r){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(n){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(o(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(t,e,r){const{operator:n}=this,i=function(t,e,r){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||r?new p(t,e,r):new p(a)}(t,e,r);if(i.add(n?n.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:r,isStopped:n}=t;if(e||n)return!1;t=r&&r instanceof p?r:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,r)=>{let n;n=this.subscribe(e=>{try{t(e)}catch(i){r(i),n&&n.unsubscribe()}},r,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let r;this.subscribe(t=>r=t,t=>e(t),()=>t(r))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const _=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}class S extends p{constructor(t){super(t),this.destination=t}}let E=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new S(this)}lift(t){const e=new C(this,this);return e.operator=t,e}next(t){if(this.closed)throw new _;if(!this.isStopped){const{observers:e}=this,r=e.length,n=e.slice();for(let i=0;i<r;i++)n[i].next(t)}}error(t){if(this.closed)throw new _;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,r=e.length,n=e.slice();for(let i=0;i<r;i++)n[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:t}=this,e=t.length,r=t.slice();for(let n=0;n<e;n++)r[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new _;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new _;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new C(t,e),t})();class C extends E{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}function A(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new x(t,e))}}class x{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new T(t,this.project,this.thisArg))}}class T extends p{constructor(t,e,r){super(t),this.project=e,this.count=0,this.thisArg=r||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const I=t=>e=>{for(let r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()};function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=R(),F=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function O(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const M=t=>{if(t&&"function"==typeof t[g])return r=t,t=>{const e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(F(t))return I(t);if(O(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e))(t);if(t&&"function"==typeof t[P])return e=t,t=>{const r=e[P]();for(;;){let e;try{e=r.next()}catch(n){return t.error(n),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof r.return&&t.add(()=>{r.return&&r.return()}),t};{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,r};function B(t,e){return new v(r=>{const n=new h;let i=0;return n.add(e.schedule(function(){i!==t.length?(r.next(t[i++]),r.closed||n.add(this.schedule())):r.complete()})),n})}function N(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new v(r=>{const n=new h;return n.add(e.schedule(()=>{const i=t[g]();n.add(i.subscribe({next(t){n.add(e.schedule(()=>r.next(t)))},error(t){n.add(e.schedule(()=>r.error(t)))},complete(){n.add(e.schedule(()=>r.complete()))}}))})),n})}(t,e);if(O(t))return function(t,e){return new v(r=>{const n=new h;return n.add(e.schedule(()=>t.then(t=>{n.add(e.schedule(()=>{r.next(t),n.add(e.schedule(()=>r.complete()))}))},t=>{n.add(e.schedule(()=>r.error(t)))}))),n})}(t,e);if(F(t))return B(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(r=>{const n=new h;let i;return n.add(()=>{i&&"function"==typeof i.return&&i.return()}),n.add(e.schedule(()=>{i=t[P](),n.add(e.schedule(function(){if(r.closed)return;let t,e;try{const r=i.next();t=r.value,e=r.done}catch(n){return void r.error(n)}e?r.complete():(r.next(t),this.schedule())}))})),n})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof v?t:new v(M(t))}class D extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class L extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function j(t,e){if(!e.closed)return t instanceof v?t.subscribe(e):M(t)(e)}function U(t,e,r=Number.POSITIVE_INFINITY){return"function"==typeof e?n=>n.pipe(U((r,n)=>N(t(r,n)).pipe(A((t,i)=>e(r,t,n,i))),r)):("number"==typeof e&&(r=e),e=>e.lift(new V(t,r)))}class V{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new H(t,this.project,this.concurrent))}}class H extends L{constructor(t,e,r=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e)}_innerSub(t){const e=new D(this),r=this.destination;r.add(e);const n=j(t,e);n!==e&&r.add(n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(t=Number.POSITIVE_INFINITY){return U(y,t)}function K(t,e){return e?B(t,e):new v(I(t))}function z(...t){let e=Number.POSITIVE_INFINITY,r=null,n=t[t.length-1];return k(n)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof n&&(e=t.pop()),null===r&&1===t.length&&t[0]instanceof v?t[0]:q(e)(K(t,r))}function W(){return function(t){return t.lift(new $(t))}}class ${constructor(t){this.connectable=t}call(t,e){const{connectable:r}=this;r._refCount++;const n=new G(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i}}class G extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:r}=this,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}class Q extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return W()(this)}}const J=(()=>{const t=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Y(){return new E}function X(){return t=>{return W()((e=Y,function(t){let r;r="function"==typeof e?e:function(){return e};const n=Object.create(t,J);return n.source=t,n.subjectFactory=r,n})(t));var e}}
/**
 * @license Angular v11.0.9
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function tt(t){for(let e in t)if(t[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function et(t,e){for(const r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r])}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function rt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(rt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const r=e.indexOf("\n");return-1===r?e:e.substring(0,r)}function nt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const it=tt({__forward_ref__:tt});function st(t){return t.__forward_ref__=st,t.toString=function(){return rt(this())},t}function ot(t){return at(t)?t():t}function at(t){return"function"==typeof t&&t.hasOwnProperty(it)&&t.__forward_ref__===st}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ct(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ut(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function lt(t){return ht(t,dt)||ht(t,mt)}function ht(t,e){return t.hasOwnProperty(e)?t[e]:null}function ft(t){return t&&(t.hasOwnProperty(pt)||t.hasOwnProperty(gt))?t[pt]:null}const dt=tt({"\u0275prov":tt}),pt=tt({"\u0275inj":tt}),mt=tt({ngInjectableDef:tt}),gt=tt({ngInjectorDef:tt});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var yt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let vt;function bt(t){const e=vt;return vt=t,e}function _t(t,e,r){const n=lt(t);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(r&yt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${rt(t)}]`)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function wt(t){return{toString:t}.toString()}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var St=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Et=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Ct="undefined"!=typeof globalThis&&globalThis,kt="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xt="undefined"!=typeof global&&global,Tt=Ct||xt||kt||At,It={},Rt=[],Pt=tt({"\u0275cmp":tt}),Ft=tt({"\u0275dir":tt}),Ot=tt({"\u0275pipe":tt}),Mt=tt({"\u0275mod":tt}),Bt=tt({"\u0275loc":tt}),Nt=tt({"\u0275fac":tt}),Dt=tt({__NG_ELEMENT_ID__:tt});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let Lt=0;function jt(t){return wt(()=>{const e={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Rt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Et.Emulated,id:"c",styles:t.styles||Rt,_:null,setInput:null,schemas:t.schemas||null,tView:null},n=t.directives,i=t.features,s=t.pipes;return r.id+=Lt++,r.inputs=Kt(t.inputs,e),r.outputs=Kt(t.outputs),i&&i.forEach(t=>t(r)),r.directiveDefs=n?()=>("function"==typeof n?n():n).map(Ut):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Vt):null,r})}function Ut(t){return $t(t)||function(t){return t[Ft]||null}(t)}function Vt(t){return function(t){return t[Ot]||null}(t)}const Ht={};function qt(t){const e={type:t.type,bootstrap:t.bootstrap||Rt,declarations:t.declarations||Rt,imports:t.imports||Rt,exports:t.exports||Rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&wt(()=>{Ht[t.id]=t.type}),e}function Kt(t,e){if(null==t)return It;const r={};for(const n in t)if(t.hasOwnProperty(n)){let i=t[n],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),r[i]=n,e&&(e[i]=s)}return r}const zt=jt;function Wt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function $t(t){return t[Pt]||null}function Gt(t,e){const r=t[Mt]||null;if(!r&&!0===e)throw new Error(`Type ${rt(t)} does not have '\u0275mod' property.`);return r}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Qt=20,Jt=10;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Zt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yt(t){return Array.isArray(t)&&!0===t[1]}function Xt(t){return 0!=(8&t.flags)}function te(t){return 2==(2&t.flags)}function ee(t){return 1==(1&t.flags)}function re(t){return null!==t.template}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ne(t,e){return t.hasOwnProperty(Nt)?t[Nt]:null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class ie extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t,e)),this.code=t}}function se(t){return"string"==typeof t?t:null==t?"":String(t)}function oe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():se(t)}function ae(t,e){const r=e?` in ${e}`:"";throw new ie("201",`No provider for ${oe(t)} found${r}`)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class ce{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ue(){return le}function le(t){return t.type.prototype.ngOnChanges&&(t.setInput=fe),he}function he(){const t=de(this),e=null==t?void 0:t.current;if(e){const r=t.previous;if(r===It)t.previous=e;else for(let t in e)r[t]=e[t];t.current=null,this.ngOnChanges(e)}}function fe(t,e,r,n){const i=de(t)||function(t,e){return t.__ngSimpleChanges__=e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t,{previous:It,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[r],c=o[a];s[a]=new ce(c&&c.currentValue,e,o===It),t[n]=e}function de(t){return t.__ngSimpleChanges__||null}ue.ngInherit=!0;const pe="http://www.w3.org/2000/svg";
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let me;function ge(t){return!!t.listen}const ye={createRenderer:(t,e)=>void 0!==me?me:"undefined"!=typeof document?document:void 0};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ve(t){for(;Array.isArray(t);)t=t[0];return t}function be(t,e){return ve(e[t])}function _e(t,e){return ve(e[t.index])}function we(t,e){return t.data[e]}function Se(t,e){return t[e]}function Ee(t,e){const r=e[t];return Zt(r)?r:r[0]}function Ce(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ke(t){return 4==(4&t[2])}function Ae(t){return 128==(128&t[2])}function xe(t,e){return null==e?null:t[e]}function Te(t){t[18]=0}function Ie(t,e){t[5]+=e;let r=t,n=t[3];for(;null!==n&&(1===e&&1===r[5]||-1===e&&0===r[5]);)n[5]+=e,r=n,n=n[3]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Re={lFrame:er(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Pe(){return Re.bindingsEnabled}function Fe(){return Re.lFrame.lView}function Oe(){return Re.lFrame.tView}function Me(t){Re.lFrame.contextLView=t}function Be(){let t=Ne();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ne(){return Re.lFrame.currentTNode}function De(t,e){const r=Re.lFrame;r.currentTNode=t,r.isParent=e}function Le(){return Re.lFrame.isParent}function je(){Re.lFrame.isParent=!1}function Ue(){return Re.isInCheckNoChangesMode}function Ve(t){Re.isInCheckNoChangesMode=t}function He(){const t=Re.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function qe(){return Re.lFrame.bindingIndex}function Ke(){return Re.lFrame.bindingIndex++}function ze(t){const e=Re.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function We(t,e){const r=Re.lFrame;r.bindingIndex=r.bindingRootIndex=t,$e(e)}function $e(t){Re.lFrame.currentDirectiveIndex=t}function Ge(t){const e=Re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Qe(){return Re.lFrame.currentQueryIndex}function Je(t){Re.lFrame.currentQueryIndex=t}function Ze(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ye(t,e,r){if(r&yt.SkipSelf){let n=e,i=t;for(;n=n.parent,!(null!==n||r&yt.Host||(n=Ze(i),null===n)||(i=i[15],10&n.type)););if(null===n)return!1;e=n,t=i}const n=Re.lFrame=tr();return n.currentTNode=e,n.lView=t,!0}function Xe(t){const e=tr(),r=t[1];Re.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function tr(){const t=Re.lFrame,e=null===t?null:t.child;return null===e?er(t):e}function er(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function rr(){const t=Re.lFrame;return Re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nr=rr;function ir(){const t=rr();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sr(){return Re.lFrame.selectedIndex}function or(t){Re.lFrame.selectedIndex=t}function ar(){const t=Re.lFrame;return we(t.tView,t.selectedIndex)}function cr(){Re.lFrame.currentNamespace=pe}function ur(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){const e=t.data[r].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;n&&(t.contentHooks||(t.contentHooks=[])).push(-r,n),i&&((t.contentHooks||(t.contentHooks=[])).push(r,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(r,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-r,s),o&&((t.viewHooks||(t.viewHooks=[])).push(r,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(r,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(r,a)}}function lr(t,e,r){dr(t,e,3,r)}function hr(t,e,r,n){(3&t[2])===r&&dr(t,e,r,n)}function fr(t,e){let r=t[2];(3&r)===e&&(r&=2047,r+=1,t[2]=r)}function dr(t,e,r,n){const i=null!=n?n:-1,s=e.length-1;let o=0;for(let a=void 0!==n?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=n&&o>=n)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(pr(t,r,e,a),t[18]=(4294901760&t[18])+a+2),a++}function pr(t,e,r,n){const i=r[n]<0,s=r[n+1],o=t[i?-r[n]:r[n]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const mr=-1;class gr{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function yr(t,e,r){const n=ge(t);let i=0;for(;i<r.length;){const s=r[i];if("number"==typeof s){if(0!==s)break;i++;const o=r[i++],a=r[i++],c=r[i++];n?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=r[++i];br(o)?n&&t.setProperty(e,o,a):n?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function vr(t){return 3===t||4===t||6===t}function br(t){return 64===t.charCodeAt(0)}function _r(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){const i=e[n];"number"==typeof i?r=i:0===r||wr(t,r,i,null,-1===r||2===r?e[++n]:null)}}return t}function wr(t,e,r,n,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const r=t[s++];if("number"==typeof r){if(r===e){o=-1;break}if(r>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===r){if(null===n)return void(null!==i&&(t[s+1]=i));if(n===t[s+1])return void(t[s+2]=i)}s++,null!==n&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,r),null!==n&&t.splice(s++,0,n),null!==i&&t.splice(s++,0,i)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Sr(t){return t!==mr}function Er(t){return 32767&t}function Cr(t,e){let r=t>>16,n=e;for(;r>0;)n=n[15],r--;return n}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let kr=!0;function Ar(t){const e=kr;return kr=t,e}let xr=0;function Tr(t,e){const r=Rr(t,e);if(-1!==r)return r;const n=e[1];n.firstCreatePass&&(t.injectorIndex=e.length,Ir(n.data,t),Ir(e,null),Ir(n.blueprint,null));const i=Pr(t,e),s=t.injectorIndex;if(Sr(i)){const t=Er(i),r=Cr(i,e),n=r[1].data;for(let i=0;i<8;i++)e[s+i]=r[t+i]|n[t+i]}return e[s+8]=i,s}function Ir(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Rr(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Pr(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(n=2===e?t.declTNode:1===e?i[6]:null,null===n)return mr;if(r++,i=i[15],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return mr}function Fr(t,e,r){!function(t,e,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(Dt)&&(n=r[Dt]),null==n&&(n=r[Dt]=xr++);const i=255&n,s=1<<i,o=64&i,a=32&i,c=e.data;128&i?o?a?c[t+7]|=s:c[t+6]|=s:a?c[t+5]|=s:c[t+4]|=s:o?a?c[t+3]|=s:c[t+2]|=s:a?c[t+1]|=s:c[t]|=s}(t,e,r)}function Or(t,e,r){if(r&yt.Optional)return t;ae(e,"NodeInjector")}function Mr(t,e,r,n){if(r&yt.Optional&&void 0===n&&(n=null),0==(r&(yt.Self|yt.Host))){const i=t[9],s=bt(void 0);try{return i?i.get(e,n,r&yt.Optional):_t(e,n,r&yt.Optional)}finally{bt(s)}}return Or(n,e,r)}function Br(t,e,r,n=yt.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Dt)?t[Dt]:void 0;return"number"==typeof e?e>=0?255&e:Dr:e}(r);if("function"==typeof s){if(!Ye(e,t,n))return n&yt.Host?Or(i,r,n):Mr(e,r,n,i);try{const t=s();if(null!=t||n&yt.Optional)return t;ae(r)}finally{nr()}}else if("number"==typeof s){let i=null,o=Rr(t,e),a=mr,c=n&yt.Host?e[16][6]:null;for((-1===o||n&yt.SkipSelf)&&(a=-1===o?Pr(t,e):e[o+8],a!==mr&&Hr(n,!1)?(i=e[1],o=Er(a),e=Cr(a,e)):o=-1);-1!==o;){const t=e[1];if(Vr(s,o,t.data)){const t=Lr(o,e,r,i,n,c);if(t!==Nr)return t}a=e[o+8],a!==mr&&Hr(n,e[1].data[o+8]===c)&&Vr(s,o,e)?(i=t,o=Er(a),e=Cr(a,e)):o=-1}}}return Mr(e,r,n,i)}const Nr={};function Dr(){return new qr(Be(),Fe())}function Lr(t,e,r,n,i,s){const o=e[1],a=o.data[t+8],c=jr(a,o,r,null==n?te(a)&&kr:n!=o&&0!=(3&a.type),i&yt.Host&&s===a);return null!==c?Ur(e,o,c,a):Nr}function jr(t,e,r,n,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=i?a+u:t.directiveEnd;for(let h=n?a:a+u;h<l;h++){const t=o[h];if(h<c&&r===t||h>=c&&t.type===r)return h}if(i){const t=o[c];if(t&&re(t)&&t.type===r)return c}return null}function Ur(t,e,r,n){let i=t[r];const s=e.data;if(i instanceof gr){const o=i;o.resolving&&function(t,e){throw new ie("200",`Circular dependency in DI detected for ${t}`)}(oe(s[r]));const a=Ar(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?bt(o.injectImpl):null;Ye(t,n,yt.Default);try{i=t[r]=o.factory(void 0,s,t,n),e.firstCreatePass&&r>=n.directiveStart&&
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(t,e,r){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(n){const n=le(e);(r.preOrderHooks||(r.preOrderHooks=[])).push(t,n),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,n)}i&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-t,i),s&&((r.preOrderHooks||(r.preOrderHooks=[])).push(t,s),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,s))}(r,s[r],e)}finally{null!==c&&bt(c),Ar(a),o.resolving=!1,nr()}}return i}function Vr(t,e,r){const n=64&t,i=32&t;let s;return s=128&t?n?i?r[e+7]:r[e+6]:i?r[e+5]:r[e+4]:n?i?r[e+3]:r[e+2]:i?r[e+1]:r[e],!!(s&1<<t)}function Hr(t,e){return!(t&yt.Self||t&yt.Host&&e)}class qr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Br(this._tNode,this._lView,t,void 0,e)}}function Kr(t){const e=t;if(at(t))return()=>{const t=Kr(ot(e));return t?t():null};let r=ne(e);if(null===r){const t=ft(e);r=t&&t.factory}return r||null}function zr(t){return wt(()=>{const e=t.prototype.constructor,r=e[Nt]||Kr(e),n=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){const t=i[Nt]||Kr(i);if(t&&t!==r)return t;i=Object.getPrototypeOf(i)}return t=>new t})}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Wr(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const r=t.attrs;if(r){const t=r.length;let n=0;for(;n<t;){const i=r[n];if(vr(i))break;if(0===i)n+=2;else if("number"==typeof i)for(n++;n<t&&"string"==typeof r[n];)n++;else{if(i===e)return r[n+1];n+=2}}}return null}(Be(),t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const $r="__parameters__";function Gr(t,e,r){return wt(()=>{const n=function(t){return function(...e){if(t){const r=t(...e);for(const t in r)this[t]=r[t]}}}(e);function i(...t){if(this instanceof i)return n.apply(this,t),this;const e=new i(...t);return r.annotation=e,r;function r(t,r,n){const i=t.hasOwnProperty($r)?t[$r]:Object.defineProperty(t,$r,{value:[]})[$r];for(;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(e),t}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Qr{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ct({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Jr=new Qr("AnalyzeForEntryComponents"),Zr=Function;function Yr(t,e){void 0===e&&(e=t);for(let r=0;r<t.length;r++){let n=t[r];Array.isArray(n)?(e===t&&(e=t.slice(0,r)),Yr(n,e)):e!==t&&e.push(n)}return e}function Xr(t,e){t.forEach(t=>Array.isArray(t)?Xr(t,e):e(t))}function tn(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function en(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function rn(t,e){const r=[];for(let n=0;n<t;n++)r.push(e);return r}function nn(t,e,r){let n=on(t,e);return n>=0?t[1|n]=r:(n=~n,function(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(1===i)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=r,t[e+1]=n}}(t,n,e,r)),n}function sn(t,e){const r=on(t,e);if(r>=0)return t[1|r]}function on(t,e){return function(t,e,r){let n=0,i=t.length>>1;for(;i!==n;){const r=n+(i-n>>1),s=t[r<<1];if(e===s)return r<<1;s>e?i=r:n=r+1}return~(i<<1)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t,e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const an=Gr("Inject",t=>({token:t})),cn=Gr("Optional"),un=Gr("Self"),ln=Gr("SkipSelf"),hn=Gr("Host"),fn={},dn=/\n/gm,pn="__source",mn=tt({provide:String,useValue:tt});let gn;function yn(t){const e=gn;return gn=t,e}function vn(t,e=yt.Default){if(void 0===gn)throw new Error("inject() must be called from an injection context");return null===gn?_t(t,void 0,e):gn.get(t,e&yt.Optional?null:void 0,e)}function bn(t,e=yt.Default){return(vt||vn)(ot(t),e)}const _n=bn;function wn(t){const e=[];for(let r=0;r<t.length;r++){const n=ot(t[r]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let t,r=yt.Default;for(let e=0;e<n.length;e++){const i=n[e];i instanceof cn||"Optional"===i.ngMetadataName||i===cn?r|=yt.Optional:i instanceof ln||"SkipSelf"===i.ngMetadataName||i===ln?r|=yt.SkipSelf:i instanceof un||"Self"===i.ngMetadataName||i===un?r|=yt.Self:i instanceof hn||"Host"===i.ngMetadataName||i===hn?r|=yt.Host:t=i instanceof an||i===an?i.token:i}e.push(bn(t,r))}else e.push(bn(n))}return e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let Sn;function En(t){var e;return(null===(e=function(){if(void 0===Sn&&(Sn=null,Tt.trustedTypes))try{Sn=Tt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Sn}())||void 0===e?void 0:e.createHTML(t))||t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Cn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class kn extends Cn{getTypeName(){return"HTML"}}class An extends Cn{getTypeName(){return"Style"}}class xn extends Cn{getTypeName(){return"Script"}}class Tn extends Cn{getTypeName(){return"URL"}}class In extends Cn{getTypeName(){return"ResourceURL"}}function Rn(t){return t instanceof Cn?t.changingThisBreaksApplicationSecurity:t}function Pn(t,e){const r=Fn(t);if(null!=r&&r!==e){if("ResourceURL"===r&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===e}function Fn(t){return t instanceof Cn&&t.getTypeName()||null}class On{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(En(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Mn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=En(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=En(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let n=e.length-1;0<n;n--){const r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Bn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Nn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Dn(t){return(t=String(t)).match(Bn)||t.match(Nn)?t:"unsafe:"+t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Ln(t){const e={};for(const r of t.split(","))e[r]=!0;return e}function jn(...t){const e={};for(const r of t)for(const t in r)r.hasOwnProperty(t)&&(e[t]=!0);return e}const Un=Ln("area,br,col,hr,img,wbr"),Vn=Ln("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hn=Ln("rp,rt"),qn=jn(Hn,Vn),Kn=jn(Un,jn(Vn,Ln("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jn(Hn,Ln("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qn),zn=Ln("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wn=Ln("srcset"),$n=jn(zn,Wn,Ln("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ln("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gn=Ln("script,style,template");class Qn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Kn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Gn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const t=r.item(i),e=t.name,s=e.toLowerCase();if(!$n.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;zn[s]&&(o=Dn(o)),Wn[s]&&(n=o,o=(n=String(n)).split(",").map(t=>Dn(t.trim())).join(", ")),this.buf.push(" ",e,'="',Yn(o),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Kn.hasOwnProperty(e)&&!Un.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Yn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Jn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zn=/([^\#-~ |!])/g;function Yn(t){return t.replace(/&/g,"&amp;").replace(Jn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Zn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xn;function ti(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t)?t.content:null}var ei=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ri(t){const e=function(){const t=Fe();return t&&t[12]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */();return e?e.sanitize(ei.URL,t)||"":Pn(t,"URL")?Rn(t):Dn(se(t))}function ni(t){return t.ngDebugContext}function ii(t){return t.ngOriginalError}function si(t,...e){t.error(...e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class oi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=this._findContext(t),n=function(t){return t.ngErrorLogger||si}(t);n(this._console,"ERROR",t),e&&n(this._console,"ORIGINAL ERROR",e),r&&n(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?ni(t)?ni(t):this._findContext(ii(t)):null}_findOriginalError(t){let e=ii(t);for(;e&&ii(e);)e=ii(e);return e}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ai(t,e){t.__ngContext__=e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const ci=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function ui(t){return t instanceof Function?t():t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var li=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function hi(t,e){return(void 0)(t,e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function fi(t){const e=t[3];return Yt(e)?e[3]:e}function di(t){return mi(t[13])}function pi(t){return mi(t[4])}function mi(t){for(;null!==t&&!Yt(t);)t=t[4];return t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function gi(t,e,r,n,i){if(null!=n){let s,o=!1;Yt(n)?s=n:Zt(n)&&(o=!0,n=n[0]);const a=ve(n);0===t&&null!==r?null==i?Ci(e,r,a):Ei(e,r,a,i||null,!0):1===t&&null!==r?Ei(e,r,a,i||null,!0):2===t?function(t,e,r){const n=Ai(t,e);n&&function(t,e,r,n){ge(t)?t.removeChild(e,r,n):e.removeChild(r)}(t,n,e,r)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,r,n,i){const s=r[7];s!==ve(r)&&gi(e,t,n,s,i);for(let o=Jt;o<r.length;o++){const i=r[o];Oi(i[1],i,t,e,n,s)}}(e,t,s,r,i)}}function yi(t,e,r){return ge(t)?t.createElement(e,r):null===r?t.createElement(e):t.createElementNS(r,e)}function vi(t,e){const r=t[9],n=r.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ie(i,-1)),r.splice(n,1)}function bi(t,e){if(t.length<=Jt)return;const r=Jt+e,n=t[r];if(n){const s=n[17];null!==s&&s!==t&&vi(s,n),e>0&&(t[r-1][4]=n[4]);const o=en(t,Jt+e);Oi(n[1],i=n,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),n[3]=null,n[4]=null,n[2]&=-129}var i;return n}function _i(t,e){if(!(256&e[2])){const r=e[11];ge(r)&&r.destroyNode&&Oi(t,e,r,3,null,null),function(t){let e=t[13];if(!e)return wi(t[1],t);for(;e;){let r=null;if(Zt(e))r=e[13];else{const t=e[10];t&&(r=t)}if(!r){for(;e&&!e[4]&&e!==t;)Zt(e)&&wi(e[1],e),e=e[3];null===e&&(e=t),Zt(e)&&wi(e[1],e),r=e&&e[4]}e=r}}(e)}}function wi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let n=0;n<r.length;n+=2){const t=e[r[n]];if(!(t instanceof gr)){const e=r[n+1];if(Array.isArray(e))for(let r=0;r<e.length;r+=2)e[r+1].call(t[e[r]]);else e.call(t)}}}(t,e),function(t,e){const r=t.cleanup,n=e[7];let i=-1;if(null!==r)for(let s=0;s<r.length-1;s+=2)if("string"==typeof r[s]){const t=r[s+1],o="function"==typeof t?t(e):ve(e[t]),a=n[i=r[s+2]],c=r[s+3];"boolean"==typeof c?o.removeEventListener(r[s],a,c):c>=0?n[i=c]():n[i=-c].unsubscribe(),s+=2}else{const t=n[i=r[s+1]];r[s].call(t)}if(null!==n){for(let t=i+1;t<n.length;t++)(0,n[t])();e[7]=null}}(t,e),1===e[1].type&&ge(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Yt(e[3])){r!==e[3]&&vi(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Si(t,e,r){return function(t,e,r){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return r[0];if(2&n.flags){const e=t.data[n.directiveStart].encapsulation;if(e===Et.None||e===Et.Emulated)return null}return _e(n,r)}(t,e.parent,r)}function Ei(t,e,r,n,i){ge(t)?t.insertBefore(e,r,n,i):e.insertBefore(r,n,i)}function Ci(t,e,r){ge(t)?t.appendChild(e,r):e.appendChild(r)}function ki(t,e,r,n,i){null!==n?Ei(t,e,r,n,i):Ci(t,e,r)}function Ai(t,e){return ge(t)?t.parentNode(e):e.parentNode}function xi(t,e,r){return Ti(t,e,r)}let Ti=function(t,e,r){return 40&t.type?_e(t,r):null};function Ii(t,e,r,n){const i=Si(t,n,e),s=e[11],o=xi(n.parent||e[6],n,e);if(null!=i)if(Array.isArray(r))for(let a=0;a<r.length;a++)ki(s,i,r[a],o,!1);else ki(s,i,r,o,!1)}function Ri(t,e){if(null!==e){const r=e.type;if(3&r)return _e(e,t);if(4&r)return Pi(-1,t[e.index]);if(8&r){const r=e.child;if(null!==r)return Ri(t,r);{const r=t[e.index];return Yt(r)?Pi(-1,r):ve(r)}}if(32&r)return hi(e,t)()||ve(t[e.index]);{const r=t[16],n=r[6],i=fi(r),s=n.projection[e.projection];return null!=s?Ri(i,s):Ri(t,e.next)}}return null}function Pi(t,e){const r=Jt+t+1;if(r<e.length){const t=e[r],n=t[1].firstChild;if(null!==n)return Ri(t,n)}return e[7]}function Fi(t,e,r,n,i,s,o){for(;null!=r;){const a=n[r.index],c=r.type;if(o&&0===e&&(a&&ai(ve(a),n),r.flags|=4),64!=(64&r.flags))if(8&c)Fi(t,e,r.child,n,i,s,!1),gi(e,t,i,a,s);else if(32&c){const o=hi(r,n);let c;for(;c=o();)gi(e,t,i,c,s);gi(e,t,i,a,s)}else 16&c?Mi(t,e,n,r,i,s):gi(e,t,i,a,s);r=o?r.projectionNext:r.next}}function Oi(t,e,r,n,i,s){Fi(r,n,t.firstChild,e,i,s,!1)}function Mi(t,e,r,n,i,s){const o=r[16],a=o[6].projection[n.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)gi(e,t,i,a[c],s);else Fi(t,e,a,o[3],i,s,!0)}function Bi(t,e,r){ge(t)?t.setAttribute(e,"style",r):e.style.cssText=r}function Ni(t,e,r){ge(t)?""===r?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r):e.className=r}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Di(t,e,r){let n=t.length;for(;;){const i=t.indexOf(e,r);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const r=e.length;if(i+r===n||t.charCodeAt(i+r)<=32)return i}r=i+1}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Li="ng-template";function ji(t,e,r){let n=0;for(;n<t.length;){let i=t[n++];if(r&&"class"===i){if(i=t[n],-1!==Di(i.toLowerCase(),e,0))return!0}else if(1===i){for(;n<t.length&&"string"==typeof(i=t[n++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ui(t){return 4===t.type&&t.value!==Li}function Vi(t,e,r){return e===(4!==t.type||r?t.value:Li)}function Hi(t,e,r){let n=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(vr(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&n){if(n=2|1&n,""!==c&&!Vi(t,c,r)||""===c&&1===e.length){if(qi(n))return!1;o=!0}}else{const u=8&n?c:e[++a];if(8&n&&null!==t.attrs){if(!ji(t.attrs,u,r)){if(qi(n))return!1;o=!0}continue}const l=Ki(8&n?"class":c,i,Ui(t),r);if(-1===l){if(qi(n))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&n?t:null;if(e&&-1!==Di(e,u,0)||2&n&&u!==t){if(qi(n))return!1;o=!0}}}}else{if(!o&&!qi(n)&&!qi(c))return!1;if(o&&qi(c))continue;o=!1,n=c|1&n}}return qi(n)||o}function qi(t){return 0==(1&t)}function Ki(t,e,r,n){if(null===e)return-1;let i=0;if(n||!r){let r=!1;for(;i<e.length;){const n=e[i];if(n===t)return i;if(3===n||6===n)r=!0;else{if(1===n||2===n){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===n)break;if(0===n){i+=4;continue}}i+=r?1:2}return-1}return function(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const n=t[r];if("number"==typeof n)return-1;if(n===e)return r;r++}return-1}(e,t)}function zi(t,e,r=!1){for(let n=0;n<e.length;n++)if(Hi(t,e[n],r))return!0;return!1}function Wi(t,e){t:for(let r=0;r<e.length;r++){const n=e[r];if(t.length===n.length){for(let e=0;e<t.length;e++)if(t[e]!==n[e])continue t;return!0}}return!1}function $i(t,e){return t?":not("+e.trim()+")":e}function Gi(t){let e=t[0],r=1,n=2,i="",s=!1;for(;r<t.length;){let o=t[r];if("string"==typeof o)if(2&n){const e=t[++r];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&n?i+="."+o:4&n&&(i+=" "+o);else""===i||qi(o)||(e+=$i(s,i),i=""),n=o,s=s||!qi(n);r++}return""!==i&&(e+=$i(s,i)),e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Qi={};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ji(t){Zi(Oe(),Fe(),sr()+t,Ue())}function Zi(t,e,r,n){if(!n)if(3==(3&e[2])){const n=t.preOrderCheckHooks;null!==n&&lr(e,n,r)}else{const n=t.preOrderHooks;null!==n&&hr(e,n,0,r)}or(r)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Yi(t,e){return t<<17|e<<2}function Xi(t){return t>>17&32767}function ts(t){return 2|t}function es(t){return(131068&t)>>2}function rs(t,e){return-131069&t|e<<2}function ns(t){return 1|t}function is(t,e){const r=t.contentQueries;if(null!==r)for(let n=0;n<r.length;n+=2){const i=r[n],s=r[n+1];if(-1!==s){const r=t.data[s];Je(i),r.contentQueries(2,e[s],s)}}}function ss(t,e,r,n,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|n,Te(l),l[3]=l[15]=t,l[8]=r,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function os(t,e,r,n,i){let s=t.data[e];if(null===s)s=function(t,e,r,n,i){const s=Ne(),o=Le(),a=t.data[e]=function(t,e,r,n,i,s){return{type:r,index:n,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,r,e,n,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,r,n,i),Re.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=r,s.value=n,s.attrs=i;const t=function(){const t=Re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return De(s,!0),s}function as(t,e,r,n){if(0===r)return-1;const i=e.length;for(let s=0;s<r;s++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function cs(t,e,r){Xe(e);try{const n=t.viewQuery;null!==n&&Ls(1,n,r);const i=t.template;null!==i&&hs(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&is(t,e),t.staticViewQueries&&Ls(2,t.viewQuery,r);const s=t.components;null!==s&&function(t,e){for(let r=0;r<e.length;r++)Os(t,e[r])}(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),n}finally{e[2]&=-5,ir()}}function us(t,e,r,n){const i=e[2];if(256==(256&i))return;Xe(e);const s=Ue();try{Te(e),Re.lFrame.bindingIndex=t.bindingStartIndex,null!==r&&hs(t,e,r,2,n);const o=3==(3&i);if(!s)if(o){const r=t.preOrderCheckHooks;null!==r&&lr(e,r,null)}else{const r=t.preOrderHooks;null!==r&&hr(e,r,0,null),fr(e,0)}if(function(t){for(let e=di(t);null!==e;e=pi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const r=t[e],n=r[3];0==(1024&r[2])&&Ie(n,1),r[2]|=1024}}}(e),function(t){for(let e=di(t);null!==e;e=pi(e))for(let t=Jt;t<e.length;t++){const r=e[t],n=r[1];Ae(r)&&us(n,r,n.template,r[8])}}(e),null!==t.contentQueries&&is(t,e),!s)if(o){const r=t.contentCheckHooks;null!==r&&lr(e,r)}else{const r=t.contentHooks;null!==r&&hr(e,r,1),fr(e,1)}!function(t,e){const r=t.hostBindingOpCodes;if(null!==r)try{for(let t=0;t<r.length;t++){const n=r[t];if(n<0)or(~n);else{const i=n,s=r[++t],o=r[++t];We(s,i),o(2,e[i])}}}finally{or(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let r=0;r<e.length;r++)Ps(t,e[r])}(e,a);const c=t.viewQuery;if(null!==c&&Ls(2,c,n),!s)if(o){const r=t.viewCheckHooks;null!==r&&lr(e,r)}else{const r=t.viewHooks;null!==r&&hr(e,r,2),fr(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ie(e[3],-1))}finally{ir()}}function ls(t,e,r,n){const i=e[10],s=!Ue(),o=ke(e);try{s&&!o&&i.begin&&i.begin(),o&&cs(t,e,n),us(t,e,r,n)}finally{s&&!o&&i.end&&i.end()}}function hs(t,e,r,n,i){const s=sr();try{or(-1),2&n&&e.length>Qt&&Zi(t,e,Qt,Ue()),r(n,i)}finally{or(s)}}function fs(t,e,r){if(Xt(e)){const n=e.directiveEnd;for(let i=e.directiveStart;i<n;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,r[i],i)}}}function ds(t,e,r){Pe()&&(function(t,e,r,n){const i=r.directiveStart,s=r.directiveEnd;t.firstCreatePass||Tr(r,e),ai(n,e);const o=r.initialInputs;for(let a=i;a<s;a++){const n=t.data[a],s=re(n);s&&xs(e,r,n);const c=Ur(e,t,a,r);ai(c,e),null!==o&&Ts(0,a-i,c,n,0,o),s&&(Ee(r.index,e)[8]=c)}}(t,e,r,_e(r,e)),128==(128&r.flags)&&function(t,e,r){const n=r.directiveStart,i=r.directiveEnd,s=r.index,o=Re.lFrame.currentDirectiveIndex;try{or(s);for(let r=n;r<i;r++){const n=t.data[r],i=e[r];$e(r),null===n.hostBindings&&0===n.hostVars&&null===n.hostAttrs||Ss(n,i)}}finally{or(-1),$e(o)}}(t,e,r))}function ps(t,e,r=_e){const n=e.localNames;if(null!==n){let i=e.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=-1===o?r(e,t):t[o];t[i++]=a}}}function ms(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=gs(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function gs(t,e,r,n,i,s,o,a,c,u){const l=Qt+n,h=l+i,f=function(t,e){const r=[];for(let n=0;n<e;n++)r.push(n<t?null:Qi);return r}(l,h),d="function"==typeof u?u():u;return f[1]={type:t,blueprint:f,template:r,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:d,incompleteFirstPass:!1}}function ys(t,e,r,n){const i=Us(e);null===r?i.push(n):(i.push(r),t.firstCreatePass&&Vs(t).push(n,i.length-1))}function vs(t,e,r){for(let n in t)if(t.hasOwnProperty(n)){const i=t[n];(r=null===r?{}:r).hasOwnProperty(n)?r[n].push(e,i):r[n]=[e,i]}return r}function bs(t,e,r,n,i,s,o,a){const c=_e(e,r);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[n])?(Ks(t,r,u,n,i),te(e)&&function(t,e){const r=Ee(e,t);16&r[2]||(r[2]|=64)}(r,e.index)):3&e.type&&(n="class"===(h=n)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",n):i,ge(s)?s.setProperty(c,n,i):br(n)||(c.setProperty?c.setProperty(n,i):c[n]=i))}function _s(t,e,r,n){let i=!1;if(Pe()){const s=function(t,e,r){const n=t.directiveRegistry;let i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];zi(r,o.selectors,!1)&&(i||(i=[]),Fr(Tr(r,e),t,o.type),re(o)?(Es(t,r),i.unshift(o)):i.push(o))}return i}(t,e,r),o=null===n?null:{"":-1};if(null!==s){i=!0,ks(r,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let n=!1,a=!1,c=as(t,e,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];r.mergedAttrs=_r(r.mergedAttrs,u.hostAttrs),As(t,r,e,c,u),Cs(c,u,o),null!==u.contentQueries&&(r.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(r.flags|=128);const l=u.type.prototype;!n&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(r.index),n=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(r.index),a=!0),c++}!function(t,e){const r=e.directiveEnd,n=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<r;c++){const t=n[c],r=t.inputs,u=null===i||Ui(e)?null:Is(r,i);s.push(u),o=vs(r,c,o),a=vs(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,r)}o&&function(t,e,r){if(e){const n=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=r[e[t+1]];if(null==i)throw new ie("301",`Export of name '${e[t+1]}' not found!`);n.push(e[t],i)}}}(r,n,o)}return r.mergedAttrs=_r(r.mergedAttrs,r.attrs),i}function ws(t,e,r,n,i,s){const o=s.hostBindings;if(o){let r=t.hostBindingOpCodes;null===r&&(r=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const r=t[--e];if("number"==typeof r&&r<0)return r}return 0})(r)!=s&&r.push(s),r.push(n,i,o)}}function Ss(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Es(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Cs(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;re(e)&&(r[""]=t)}}function ks(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}function As(t,e,r,n,i){t.data[n]=i;const s=i.factory||(i.factory=ne(i.type)),o=new gr(s,re(i),null);t.blueprint[n]=o,r[n]=o,ws(t,e,0,n,as(t,r,i.hostVars,Qi),i)}function xs(t,e,r){const n=_e(e,t),i=ms(r),s=t[10],o=Ms(t,ss(t,i,null,r.onPush?64:16,n,e,s,s.createRenderer(n,r),null,null));t[e.index]=o}function Ts(t,e,r,n,i,s){const o=s[e];if(null!==o){const t=n.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?n.setInput(r,a,i,s):r[s]=a}}}function Is(t,e){let r=null,n=0;for(;n<e.length;){const i=e[n];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===r&&(r=[]),r.push(i,t[i],e[n+1])),n+=2}else n+=2;else n+=4}return r}function Rs(t,e,r,n){return new Array(t,!0,!1,e,null,0,n,r,null,null)}function Ps(t,e){const r=Ee(e,t);if(Ae(r)){const t=r[1];80&r[2]?us(t,r,t.template,r[8]):r[5]>0&&Fs(r)}}function Fs(t){for(let r=di(t);null!==r;r=pi(r))for(let t=Jt;t<r.length;t++){const e=r[t];if(1024&e[2]){const t=e[1];us(t,e,t.template,e[8])}else e[5]>0&&Fs(e)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const n=Ee(e[r],t);Ae(n)&&n[5]>0&&Fs(n)}}function Os(t,e){const r=Ee(e,t),n=r[1];!function(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}(n,r),cs(n,r,r[8])}function Ms(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Bs(t){for(;t;){t[2]|=64;const e=fi(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ns(t,e,r){const n=e[10];n.begin&&n.begin();try{us(t,e,t.template,r)}catch(i){throw qs(e,i),i}finally{n.end&&n.end()}}function Ds(t){!function(t){for(let e=0;e<t.components.length;e++){const r=t.components[e],n=Ce(r),i=n[1];ls(i,n,i.template,r)}}(t[8])}function Ls(t,e,r){Je(0),e(t,r)}const js=(()=>Promise.resolve(null))();function Us(t){return t[7]||(t[7]=[])}function Vs(t){return t.cleanup||(t.cleanup=[])}function Hs(t,e,r){return(null===t||re(t))&&(r=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(r[e.index])),r[11]}function qs(t,e){const r=t[9],n=r?r.get(oi,null):null;n&&n.handleError(e)}function Ks(t,e,r,n,i){for(let s=0;s<r.length;){const o=r[s++],a=r[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,n,a):c[a]=i}}function zs(t,e,r){const n=be(e,t);!function(t,e,r){ge(t)?t.setValue(e,r):e.textContent=r}(t[11],n,r)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ws(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=nt(i,t):2==s&&(n=nt(n,t+": "+e[++o]+";"))}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const $s=new Qr("INJECTOR",-1);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Gs{get(t,e=fn){if(e===fn){const e=new Error(`NullInjectorError: No provider for ${rt(t)}!`);throw e.name="NullInjectorError",e}return e}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Qs=new Qr("Set Injector scope."),Js={},Zs={},Ys=[];
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let Xs;function to(){return void 0===Xs&&(Xs=new Gs),Xs}function eo(t,e=null,r=null,n){return new ro(t,r,e||to(),n)}class ro{constructor(t,e,r,n=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Xr(e,r=>this.processProvider(r,t,e)),Xr([t],t=>this.processInjectorType(t,[],i)),this.records.set($s,so(void 0,this));const s=this.records.get(Qs);this.scope=null!=s?s.value:null,this.source=n||("object"==typeof t?null:rt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=fn,r=yt.Default){this.assertNotDestroyed();const n=yn(this);try{if(!(r&yt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const r=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Qr)&&lt(t);e=r&&this.injectableDefInScope(r)?so(no(t),Js):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(r&yt.Self?to():this.parent).get(t,e=r&yt.Optional&&e===fn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(rt(t)),n)throw s;return function(t,e,r,n){const i=t.ngTempTokenPath;throw e[pn]&&i.unshift(e[pn]),t.message=function(t,e,r,n=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=rt(e);if(Array.isArray(e))i=e.map(rt).join(" -> ");else if("object"==typeof e){let t=[];for(let r in e)if(e.hasOwnProperty(r)){let n=e[r];t.push(r+":"+("string"==typeof n?JSON.stringify(n):rt(n)))}i=`{${t.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(dn,"\n  ")}`}("\n"+t.message,i,r,n),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{yn(n)}var i;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,r)=>t.push(rt(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,r){if(!(t=ot(t)))return!1;let n=ft(t);const i=null==n&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==r.indexOf(s);if(void 0!==i&&(n=ft(i)),null==n)return!1;if(null!=n.imports&&!o){let t;r.push(s);try{Xr(n.imports,n=>{this.processInjectorType(n,e,r)&&(void 0===t&&(t=[]),t.push(n))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:r,providers:n}=t[e];Xr(n,t=>this.processProvider(t,r,n||Ys))}}this.injectorDefTypes.add(s),this.records.set(s,so(n.factory,Js));const a=n.providers;if(null!=a&&!o){const e=t;Xr(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,r){let n=ao(t=ot(t))?t:ot(t&&t.provide);const i=function(t,e,r){return oo(t)?so(void 0,t.useValue):so(io(t),Js)}(t);if(ao(t)||!0!==t.multi)this.records.get(n);else{let e=this.records.get(n);e||(e=so(void 0,Js,!0),e.factory=()=>wn(e.multi),this.records.set(n,e)),n=t,e.multi.push(t)}this.records.set(n,i)}hydrate(t,e){var r;return e.value===Js&&(e.value=Zs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(r=e.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function no(t){const e=lt(t),r=null!==e?e.factory:ne(t);if(null!==r)return r;const n=ft(t);if(null!==n)return n.factory;if(t instanceof Qr)throw new Error(`Token ${rt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=rn(e,"?");throw new Error(`Can't resolve all parameters for ${rt(t)}: (${r.join(", ")}).`)}const r=function(t){const e=t&&(t[dt]||t[mt]);if(e){const r=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),e}return null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Error("unreachable")}function io(t,e,r){let n;if(ao(t)){const e=ot(t);return ne(e)||no(e)}if(oo(t))n=()=>ot(t.useValue);else if((i=t)&&i.useFactory)n=()=>t.useFactory(...wn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))n=()=>bn(ot(t.useExisting));else{const e=ot(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ne(e)||no(e);n=()=>new e(...wn(t.deps))}var i;return n}function so(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function oo(t){return null!==t&&"object"==typeof t&&mn in t}function ao(t){return"function"==typeof t}const co=function(t,e,r){return function(t,e=null,r=null,n){const i=eo(t,e,r,n);return i._resolveInjectorDefTypes(),i}({name:r},e,t,r)};let uo=(()=>{class t{static create(t,e){return Array.isArray(t)?co(t,e,""):co(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=fn,t.NULL=new Gs,t.\u0275prov=ct({token:t,providedIn:"any",factory:()=>bn($s)}),t.__NG_ELEMENT_ID__=-1,t})();function lo(t,e){ur(Ce(t)[1],Be())}function ho(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,r=!0;const n=[t];for(;e;){let i;if(re(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(r){n.push(i);const e=t;e.inputs=fo(t.inputs),e.declaredInputs=fo(t.declaredInputs),e.outputs=fo(t.outputs);const r=i.hostBindings;r&&go(t,r);const s=i.viewQuery,o=i.contentQueries;if(s&&po(t,s),o&&mo(t,o),et(t.inputs,i.inputs),et(t.declaredInputs,i.declaredInputs),et(t.outputs,i.outputs),re(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let n=0;n<e.length;n++){const i=e[n];i&&i.ngInherit&&i(t),i===ho&&(r=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,r=null;for(let n=t.length-1;n>=0;n--){const i=t[n];i.hostVars=e+=i.hostVars,i.hostAttrs=_r(i.hostAttrs,r=_r(r,i.hostAttrs))}}(n)}function fo(t){return t===It?{}:t===Rt?[]:t}function po(t,e){const r=t.viewQuery;t.viewQuery=r?(t,n)=>{e(t,n),r(t,n)}:e}function mo(t,e){const r=t.contentQueries;t.contentQueries=r?(t,n,i)=>{e(t,n,i),r(t,n,i)}:e}function go(t,e){const r=t.hostBindings;t.hostBindings=r?(t,n)=>{e(t,n),r(t,n)}:e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let yo=null;function vo(){if(!yo){const t=Tt.Symbol;if(t&&t.iterator)yo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(yo=r)}}}return yo}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class bo{constructor(t){this.wrapped=t}static wrap(t){return new bo(t)}static unwrap(t){return bo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof bo}}function _o(t){return!!wo(t)&&(Array.isArray(t)||!(t instanceof Map)&&vo()in t)}function wo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function So(t,e,r){return t[e]=r}function Eo(t,e,r){return!Object.is(t[e],r)&&(t[e]=r,!0)}function Co(t,e,r,n){const i=Eo(t,e,r);return Eo(t,e+1,n)||i}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ko(t,e,r,n){const i=Fe();return Eo(i,Ke(),e)&&(Oe(),function(t,e,r,n,i,s){const o=_e(t,e);!function(t,e,r,n,i,s,o){if(null==s)ge(t)?t.removeAttribute(e,i,r):e.removeAttribute(i);else{const a=null==o?se(s):o(s,n||"",i);ge(t)?t.setAttribute(e,i,a,r):r?e.setAttributeNS(r,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,r,n,i)}(ar(),i,t,e,r,n)),ko}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ao(t,e,r,n){return Eo(t,Ke(),r)?e+se(r)+n:Qi}function xo(t,e,r,n,i,s,o,a){const c=Fe(),u=Oe(),l=t+Qt,h=u.firstCreatePass?
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(t,e,r,n,i,s,o,a,c){const u=e.consts,l=os(e,t,4,o||null,xe(u,a));_s(e,r,l,xe(u,c)),ur(e,l);const h=l.tViews=gs(2,l,n,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,r,n,i,s,o):u.data[l];De(h,!1);const f=c[11].createComment("");Ii(u,c,f,h),ai(f,c),Ms(c,c[l]=Rs(f,c,f,h)),ee(h)&&ds(u,c,h),null!=o&&ps(c,h,a)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function To(t){return Se(Re.lFrame.contextLView,Qt+t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Io(t,e=yt.Default){const r=Fe();return null===r?bn(t,e):Br(Be(),r,ot(t),e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Ro(t,e,r){const n=Fe();return Eo(n,Ke(),e)&&bs(Oe(),ar(),n,t,e,n[11],r,!1),Ro}function Po(t,e,r,n,i){const s=i?"class":"style";Ks(t,r,e.inputs[s],s,n)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Fo(t,e,r,n){const i=Fe(),s=Oe(),o=Qt+t,a=i[11],c=i[o]=yi(a,e,Re.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,r,n,i,s,o){const a=e.consts,c=os(e,t,2,i,xe(a,s));return _s(e,r,c,xe(a,o)),null!==c.attrs&&Ws(c,c.attrs,!1),null!==c.mergedAttrs&&Ws(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,r,n):s.data[o];De(u,!0);const l=u.mergedAttrs;null!==l&&yr(a,c,l);const h=u.classes;null!==h&&Ni(a,c,h);const f=u.styles;null!==f&&Bi(a,c,f),64!=(64&u.flags)&&Ii(s,i,c,u),0===Re.lFrame.elementDepthCount&&ai(c,i),Re.lFrame.elementDepthCount++,ee(u)&&(ds(s,i,u),fs(s,u,i)),null!==n&&ps(i,u)}function Oo(){let t=Be();Le()?je():(t=t.parent,De(t,!1));const e=t;Re.lFrame.elementDepthCount--;const r=Oe();r.firstCreatePass&&(ur(r,t),Xt(t)&&r.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Po(r,e,Fe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e)&&Po(r,e,Fe(),e.stylesWithoutHost,!1)}function Mo(t,e,r,n){Fo(t,e,r,n),Oo()}function Bo(t,e,r){const n=Fe(),i=Oe(),s=t+Qt,o=i.firstCreatePass?
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(t,e,r,n,i){const s=e.consts,o=xe(s,n),a=os(e,t,8,"ng-container",o);return null!==o&&Ws(a,o,!0),_s(e,r,a,xe(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,n,e,r):i.data[s];De(o,!0);const a=n[s]=n[11].createComment("");Ii(i,n,a,o),ai(a,n),ee(o)&&(ds(i,n,o),fs(i,o,n)),null!=r&&ps(n,o)}function No(){let t=Be();const e=Oe();Le()?je():(t=t.parent,De(t,!1)),e.firstCreatePass&&(ur(e,t),Xt(t)&&e.queries.elementEnd(t))}function Do(t,e,r){Bo(t,e,r),No()}function Lo(){return Fe()}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function jo(t){return!!t&&"function"==typeof t.then}function Uo(t){return!!t&&"function"==typeof t.subscribe}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Vo(t,e,r=!1,n){const i=Fe(),s=Oe(),o=Be();return qo(s,i,i[11],o,t,e,r,n),Vo}function Ho(t,e,r=!1,n){const i=Be(),s=Fe(),o=Oe();return qo(o,s,Hs(Ge(o.data),i,s),i,t,e,r,n),Ho}function qo(t,e,r,n,i,s,o=!1,a){const c=ee(n),u=t.firstCreatePass&&Vs(t),l=Us(e);let h=!0;if(3&n.type){const f=_e(n,e),d=a?a(f):It,p=d.target||f,m=l.length,g=a?t=>a(ve(t[n.index])).target:n.index;if(ge(r)){let o=null;if(!a&&c&&(o=function(t,e,r,n){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===r&&i[s+1]===n){const t=e[7],r=i[s+2];return t.length>r?t[r]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,n.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=zo(n,e,s,!1);const t=r.listen(d.name||p,i,s);l.push(s,t),u&&u.push(i,g,m,m+1)}}else s=zo(n,e,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,g,m,o)}else s=zo(n,e,s,!1);const f=n.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let r=0;r<t;r+=2){const t=e[d[r]][d[r+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,n.index,o,-(o+1))}}}function Ko(t,e,r){try{return!1!==e(r)}catch(n){return qs(t,n),!1}}function zo(t,e,r,n){return function i(s){if(s===Function)return r;const o=2&t.flags?Ee(t.index,e):e;0==(32&e[2])&&Bs(o);let a=Ko(e,r,s),c=i.__ngNextListenerFn__;for(;c;)a=Ko(e,c,s)&&a,c=c.__ngNextListenerFn__;return n&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Wo(t=1){return function(t){return(Re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Re.lFrame.contextLView))[8]}(t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function $o(t,e){let r=null;const n=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===n?zi(t,s,!0):Wi(n,s))return i}else r=i}return r}function Go(t){const e=Fe()[16][6];if(!e.projection){const r=e.projection=rn(t?t.length:1,null),n=r.slice();let i=e.child;for(;null!==i;){const e=t?$o(i,t):0;null!==e&&(n[e]?n[e].projectionNext=i:r[e]=i,n[e]=i),i=i.next}}}function Qo(t,e=0,r){const n=Fe(),i=Oe(),s=os(i,Qt+t,16,null,r||null);null===s.projection&&(s.projection=e),je(),64!=(64&s.flags)&&function(t,e,r){Mi(e[11],0,e,r,Si(t,r,e),xi(r.parent||e[6],r,e))}(i,n,s)}function Jo(t,e,r){return Zo(t,"",e,"",r),Jo}function Zo(t,e,r,n,i){const s=Fe(),o=Ao(s,e,r,n);return o!==Qi&&bs(Oe(),ar(),s,t,o,s[11],i,!1),Zo}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Yo=[];function Xo(t,e,r,n,i){const s=t[r+1],o=null===e;let a=n?Xi(s):es(s),c=!1;for(;0!==a&&(!1===c||o);){const r=t[a+1];ta(t[a],e)&&(c=!0,t[a+1]=n?ns(r):ts(r)),a=n?Xi(r):es(r)}c&&(t[r+1]=n?ts(s):ns(s))}function ta(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&on(t,e)>=0}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const ea={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ra(t){return t.substring(ea.key,ea.keyEnd)}function na(t){return t.substring(ea.value,ea.valueEnd)}function ia(t,e){const r=ea.textEnd;let n=ea.key=sa(t,e,r);return r===n?-1:(n=ea.keyEnd=function(t,e,r){let n;for(;e<r&&(45===(n=t.charCodeAt(e))||95===n||(-33&n)>=65&&(-33&n)<=90||n>=48&&n<=57);)e++;return e}(t,n,r),n=oa(t,n,r),n=ea.value=sa(t,n,r),n=ea.valueEnd=function(t,e,r){let n=-1,i=-1,s=-1,o=e,a=o;for(;o<r;){const c=t.charCodeAt(o++);if(59===c)return a;34===c||39===c?a=o=aa(t,c,o,r):e===o-4&&85===s&&82===i&&76===n&&40===c?a=o=aa(t,41,o,r):c>32&&(a=o),s=i,i=n,n=-33&c}return a}(t,n,r),oa(t,n,r))}function sa(t,e,r){for(;e<r&&t.charCodeAt(e)<=32;)e++;return e}function oa(t,e,r,n){return(e=sa(t,e,r))<r&&e++,e}function aa(t,e,r,n){let i=-1,s=r;for(;s<n;){const r=t.charCodeAt(s++);if(r==e&&92!==i)return s;i=92==r&&92===i?0:r}throw new Error}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ca(t,e,r){return fa(t,e,r,!1),ca}function ua(t,e){return fa(t,e,null,!0),ua}function la(t){!function(t,e,r,n){const i=Oe(),s=ze(2);i.firstUpdatePass&&pa(i,null,s,n);const o=Fe();if(r!==Qi&&Eo(o,s,r)){const a=i.data[sr()];if(wa(a,n)&&!da(i,s)){let t=a.stylesWithoutHost;null!==t&&(r=nt(t,r||"")),Po(i,a,o,r,n)}else!function(t,e,r,n,i,s,o,a){i===Qi&&(i=Yo);let c=0,u=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0;let d,p=null;l===h?(c+=2,u+=2,o!==f&&(p=h,d=f)):null===h||null!==l&&l<h?(c+=2,p=l):(u+=2,p=h,d=f),null!==p&&va(t,e,r,n,p,d,false,a),l=c<i.length?i[c]:null,h=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,r){if(null==r||""===r)return Yo;const n=[],i=Rn(r);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(n,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(n,s,i[s]);else"string"==typeof i&&e(n,i);return n}(t,e,r),0,s)}}(ya,ha,t,!1)}function ha(t,e){for(let r=function(t){return function(t){ea.key=0,ea.keyEnd=0,ea.value=0,ea.valueEnd=0,ea.textEnd=t.length}(t),ia(t,sa(t,0,ea.textEnd))}(e);r>=0;r=ia(e,r))ya(t,ra(e),na(e))}function fa(t,e,r,n){const i=Fe(),s=Oe(),o=ze(2);s.firstUpdatePass&&pa(s,t,o,n),e!==Qi&&Eo(i,o,e)&&va(s,s.data[sr()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=rt(Rn(t)))),t}(e,r),n,o)}function da(t,e){return e>=t.expandoStartIndex}function pa(t,e,r,n){const i=t.data;if(null===i[r+1]){const s=i[sr()],o=da(t,r);wa(s,n)&&null===e&&!o&&(e=!1),e=function(t,e,r,n){const i=Ge(t);let s=n?e.residualClasses:e.residualStyles;if(null===i)0===(n?e.classBindings:e.styleBindings)&&(r=ga(r=ma(null,t,e,r,n),e.attrs,n),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(r=ma(i,t,e,r,n),null===s){let r=function(t,e,r){const n=r?e.classBindings:e.styleBindings;if(0!==es(n))return t[Xi(n)]}(t,e,n);void 0!==r&&Array.isArray(r)&&(r=ma(null,t,e,r[1],n),r=ga(r,e.attrs,n),function(t,e,r,n){t[Xi(r?e.classBindings:e.styleBindings)]=n}(t,e,n,r))}else s=function(t,e,r){let n;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)n=ga(n,t[s].hostAttrs,r);return ga(n,e.attrs,r)}(t,e,n)}return void 0!==s&&(n?e.residualClasses=s:e.residualStyles=s),r}(i,s,e,n),function(t,e,r,n,i,s){let o=s?e.classBindings:e.styleBindings,a=Xi(o),c=es(o);t[n]=r;let u,l=!1;if(Array.isArray(r)){const t=r;u=t[1],(null===u||on(t,u)>0)&&(l=!0)}else u=r;if(i)if(0!==c){const e=Xi(t[a+1]);t[n+1]=Yi(e,a),0!==e&&(t[e+1]=rs(t[e+1],n)),t[a+1]=131071&t[a+1]|n<<17}else t[n+1]=Yi(a,0),0!==a&&(t[a+1]=rs(t[a+1],n)),a=n;else t[n+1]=Yi(c,0),0===a?a=n:t[c+1]=rs(t[c+1],n),c=n;l&&(t[n+1]=ts(t[n+1])),Xo(t,u,n,!0),Xo(t,u,n,!1),function(t,e,r,n,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&on(s,e)>=0&&(r[n+1]=ns(r[n+1]))}(e,u,t,n,s),o=Yi(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,r,o,n)}}function ma(t,e,r,n,i){let s=null;const o=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<o&&(s=e[a],n=ga(n,s.hostAttrs,i),s!==t);)a++;return null!==t&&(r.directiveStylingLast=a),n}function ga(t,e,r){const n=r?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),nn(t,o,!!r||e[++s]))}return void 0===t?null:t}function ya(t,e,r){nn(t,e,Rn(r))}function va(t,e,r,n,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];_a(1==(1&u)?ba(c,e,r,i,es(u),o):void 0)||(_a(s)||2==(2&u)&&(s=ba(c,null,r,i,a,o)),function(t,e,r,n,i){const s=ge(t);if(e)i?s?t.addClass(r,n):r.classList.add(n):s?t.removeClass(r,n):r.classList.remove(n);else{let e=-1===n.indexOf("-")?void 0:li.DashCase;if(null==i)s?t.removeStyle(r,n,e):r.style.removeProperty(n);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=li.Important),s?t.setStyle(r,n,i,e):r.style.setProperty(n,i,o?"important":"")}}}(n,o,be(sr(),r),i,s))}function ba(t,e,r,n,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=r[i+1];l===Qi&&(l=u?Yo:void 0);let h=u?sn(l,n):c===n?l:void 0;if(s&&!_a(h)&&(h=sn(e,n)),_a(h)&&(a=h,o))return a;const f=t[i+1];i=o?Xi(f):es(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=sn(t,n))}return a}function _a(t){return void 0!==t}function wa(t,e){return 0!=(t.flags&(e?16:32))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Sa(t,e=""){const r=Fe(),n=Oe(),i=t+Qt,s=n.firstCreatePass?os(n,i,1,e,null):n.data[i],o=r[i]=function(t,e){return ge(t)?t.createText(e):t.createTextNode(e)}(r[11],e);Ii(n,r,o,s),De(s,!1)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ea(t){return Ca("",t,""),Ea}function Ca(t,e,r){const n=Fe(),i=Ao(n,t,e,r);return i!==Qi&&zs(n,sr(),i),Ca}function ka(t,e,r,n,i){const s=Fe(),o=function(t,e,r,n,i,s){const o=Co(t,qe(),r,i);return ze(2),o?e+se(r)+n+se(i)+s:Qi}(s,t,e,r,n,i);return o!==Qi&&zs(s,sr(),o),ka}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Aa(t,e,r){const n=Fe();return Eo(n,Ke(),e)&&bs(Oe(),ar(),n,t,e,n[11],r,!0),Aa}function xa(t,e,r){const n=Fe();if(Eo(n,Ke(),e)){const i=Oe(),s=ar();bs(i,s,n,t,e,Hs(Ge(i.data),s,n),r,!0)}return xa}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Ta=void 0;var Ia=["en",[["a","p"],["AM","PM"],Ta],[["AM","PM"],Ta,Ta],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ta,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ta,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ta,"{1} 'at' {0}",Ta],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let Ra={};function Pa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t);let r=Fa(e);if(r)return r;const n=e.split("-")[0];if(r=Fa(n),r)return r;if("en"===n)return Ia;throw new Error(`Missing locale data for the locale "${t}".`)}function Fa(t){return t in Ra||(Ra[t]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[t]),Ra[t]}var Oa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ma="en-US";
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let Ba=Ma;function Na(t){var e,r;r="Expected localeId to be defined",null==(e=t)&&function(t,e,r,n){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(r,e),"string"==typeof t&&(Ba=t.toLowerCase().replace(/_/g,"-"))}function Da(t,e,r,n,i){if(t=ot(t),Array.isArray(t))for(let s=0;s<t.length;s++)Da(t[s],e,r,n,i);else{const s=Oe(),o=Fe();let a=ao(t)?t:ot(t.provide),c=io(t);const u=Be(),l=1048575&u.providerIndexes,h=u.directiveStart,f=u.providerIndexes>>20;if(ao(t)||!t.multi){const n=new gr(c,i,Io),d=Ua(a,e,i?l:l+f,h);-1===d?(Fr(Tr(u,o),s,a),La(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),r.push(n),o.push(n)):(r[d]=n,o[d]=n)}else{const d=Ua(a,e,l+f,h),p=Ua(a,e,l,l+f),m=d>=0&&r[d],g=p>=0&&r[p];if(i&&!g||!i&&!m){Fr(Tr(u,o),s,a);const l=function(t,e,r,n,i){const s=new gr(t,r,Io);return s.multi=[],s.index=e,s.componentProviders=0,ja(s,i,n&&!r),s}(i?Ha:Va,r.length,i,n,c);!i&&g&&(r[p].providerFactory=l),La(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),r.push(l),o.push(l)}else La(s,t,d>-1?d:p,ja(r[i?p:d],c,!i&&n));!i&&n&&g&&r[p].componentProviders++}}}function La(t,e,r,n){const i=ao(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(r);-1===t?o.push(r,[n,s]):o[t+1].push(n,s)}else o.push(r,s)}}}function ja(t,e,r){return r&&t.componentProviders++,t.multi.push(e)-1}function Ua(t,e,r,n){for(let i=r;i<n;i++)if(e[i]===t)return i;return-1}function Va(t,e,r,n){return qa(this.multi,[])}function Ha(t,e,r,n){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ur(r,r[1],this.providerFactory.index,n);s=e.slice(0,t),qa(i,s);for(let r=t;r<e.length;r++)s.push(e[r])}else s=[],qa(i,s);return s}function qa(t,e){for(let r=0;r<t.length;r++)e.push((0,t[r])());return e}function Ka(t,e=[]){return r=>{r.providersResolver=(r,n)=>
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(t,e,r){const n=Oe();if(n.firstCreatePass){const i=re(t);Da(r,n.data,n.blueprint,i,!0),Da(e,n.data,n.blueprint,i,!1)}}(r,n?n(t):t,e)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class za{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Wa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${rt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let $a=(()=>{class t{}return t.NULL=new Wa,t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Ga(...t){}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Qa(t,e){return new Za(_e(t,e))}const Ja=function(){return Qa(Be(),Fe())};let Za=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ja,t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Ya{}let Xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>tc(),t})();const tc=function(){const t=Fe(),e=Ee(Be().index,t);return function(t){return t[11]}(Zt(e)?e:t)};let ec=(()=>{class t{}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>null}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class rc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const nc=new rc("11.0.9");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class ic{constructor(){}supports(t){return _o(t)}create(t){return new oc(t)}}const sc=(t,e)=>e;class oc{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||sc}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,n=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<lc(r,n,i)?e:r,o=lc(s,n,i),a=s.currentIndex;if(s===r)n--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)n++;else{i||(i=[]);const t=o-n,e=a-n;if(t!=e){for(let r=0;r<t;r++){const n=r<i.length?i[r]:i[r]=0,s=n+r;e<=s&&s<t&&(i[r]=n+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!_o(t))throw new Error(`Error trying to diff '${rt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,r,n,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=t[e],n=this._trackByFn(e,r),null!==i&&Object.is(i.trackById,n)?(s&&(i=this._verifyReinsertion(i,r,n,e)),Object.is(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,n,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let r=0;r<t.length;r++)e(t[r]);else{const r=t[vo()]();let n;for(;!(n=r.next()).done;)e(n.value)}}(t,t=>{n=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,n)?(s&&(i=this._verifyReinsertion(i,t,n,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,n,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,n){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,n))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,n)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,n)):t=this._addAfter(new ac(e,r),i,n),t}_verifyReinsertion(t,e,r,n){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const n=t._prevRemoved,i=t._nextRemoved;return null===n?this._removalsHead=i:n._nextRemoved=i,null===i?this._removalsTail=n:i._prevRemoved=n,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new uc),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ac{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cc{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class uc{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new cc,this.map.set(e,r)),r.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lc(t,e,r){const n=t.previousIndex;if(null===n)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+e+i}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class hc{constructor(){}supports(t){return t instanceof Map||wo(t)}create(){return new fc}}class fc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||wo(t)))throw new Error(`Error trying to diff '${rt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const n=this._getOrCreateRecordForKey(r,t);e=this._insertBeforeOrAppend(e,n)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const n=r._prev,i=r._next;return n&&(n._next=i),i&&(i._prev=n),r._next=null,r._prev=null,r}const r=new dc(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class dc{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let pc=(()=>{class t{constructor(t){this.factories=t}static create(e,r){if(null!=r){const t=r.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>{if(!r)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,r)},deps:[[t,new ln,new cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${r=t,r.name||typeof r}'`);var r}}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new t([new ic])}),t})(),mc=(()=>{class t{constructor(t){this.factories=t}static create(e,r){if(r){const t=r.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>{if(!r)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,r)},deps:[[t,new ln,new cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new t([new hc])}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function gc(t,e,r,n,i=!1){for(;null!==r;){const s=e[r.index];if(null!==s&&n.push(ve(s)),Yt(s))for(let t=Jt;t<s.length;t++){const e=s[t],r=e[1].firstChild;null!==r&&gc(e[1],e,r,n)}const o=r.type;if(8&o)gc(t,e,r.child,n);else if(32&o){const t=hi(r,e);let i;for(;i=t();)n.push(i)}else if(16&o){const t=e[16],i=t[6].projection[r.projection];if(Array.isArray(i))n.push(...i);else{const e=fi(t);gc(e[1],e,i,n,!0)}}r=i?r.projectionNext:r.next}return n}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class yc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return gc(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Yt(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(bi(t,r),en(e,r))}this._attachedToViewContainer=!1}_i(this._lView[1],this._lView)}onDestroy(t){ys(this._lView[1],this._lView,null,t)}markForCheck(){Bs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ns(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,r){Ve(!0);try{Ns(t,e,r)}finally{Ve(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Oi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class vc extends yc{constructor(t){super(t),this._view=t}detectChanges(){Ds(this._view)}checkNoChanges(){!function(t){Ve(!0);try{Ds(t)}finally{Ve(!1)}}(this._view)}get context(){return null}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const bc=wc;let _c=(()=>{class t{}return t.__NG_ELEMENT_ID__=bc,t.__ChangeDetectorRef__=!0,t})();function wc(t=!1){return function(t,e,r){if(!r&&te(t)){const r=Ee(t.index,e);return new yc(r,r)}return 47&t.type?new yc(e[16],e):null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(Be(),Fe(),t)}const Sc=[new hc],Ec=new pc([new ic]),Cc=new mc(Sc),kc=function(){return Ic(Be(),Fe())};let Ac=(()=>{class t{}return t.__NG_ELEMENT_ID__=kc,t})();const xc=Ac,Tc=class extends xc{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=ss(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const n=this._declarationLView[19];return null!==n&&(r[19]=n.createEmbeddedView(e)),cs(e,r,t),new yc(r)}};function Ic(t,e){return 4&t.type?new Tc(e,t,Qa(t,e)):null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Rc{}class Pc{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Fc=function(){return Lc(Be(),Fe())};let Oc=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fc,t})();const Mc=Oc,Bc=class extends Mc{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Qa(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Pr(this._hostTNode,this._hostLView);if(Sr(t)){const e=Cr(t,this._hostLView),r=Er(t);return new qr(e[1].data[r+8],e)}return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Nc(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(t,e,r){const n=t.createEmbeddedView(e||{});return this.insert(n,r),n}createComponent(t,e,r,n,i){const s=r||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Rc,null);t&&(i=t)}const o=t.create(s,n,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const r=t._lView,n=r[1];if(Yt(r[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=r[3],n=new Bc(e,e[6],e[3]);n.detach(n.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,r,n){const i=Jt+n,s=r.length;n>0&&(r[i-1][4]=e),n<s-Jt?(e[4]=r[i],tn(r,Jt+n,e)):(r.push(e),e[4]=null),e[3]=r;const o=e[17];null!==o&&r!==o&&function(t,e){const r=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===r?t[9]=[e]:r.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(n,r,s,i);const o=Pi(i,s),a=r[11],c=Ai(a,s[7]);return null!==c&&function(t,e,r,n,i,s){n[0]=i,n[6]=e,Oi(t,n,r,1,i,s)}(n,s[6],a,r,c,o),t.attachToViewContainerRef(),tn(Dc(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Nc(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=bi(this._lContainer,e);r&&(en(Dc(this._lContainer),e),_i(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=bi(this._lContainer,e);return r&&null!=en(Dc(this._lContainer),e)?new yc(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Nc(t){return t[8]}function Dc(t){return t[8]||(t[8]=[])}function Lc(t,e){let r;const n=e[t.index];if(Yt(n))r=n;else{let i;if(8&t.type)i=ve(n);else{const r=e[11];i=r.createComment("");const n=_e(t,e);Ei(r,Ai(r,n),i,function(t,e){return ge(t)?t.nextSibling(e):e.nextSibling}(r,n),!1)}e[t.index]=r=Rs(n,e,i,t),Ms(e,r)}return new Bc(r,t,e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const jc={};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Uc extends $a{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=$t(t);return new qc(e,this.ngModule)}}function Vc(t){const e=[];for(let r in t)t.hasOwnProperty(r)&&e.push({propName:t[r],templateName:r});return e}const Hc=new Qr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ci});class qc extends za{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Gi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Vc(this.componentDef.inputs)}get outputs(){return Vc(this.componentDef.outputs)}create(t,e,r,n){const i=(n=n||this.ngModule)?function(t,e){return{get:(r,n,i)=>{const s=t.get(r,jc,i);return s!==jc||n===jc?s:e.get(r,n,i)}}}(t,n.injector):t,s=i.get(Ya,ye),o=i.get(ec,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function(t,e,r){if(ge(t))return t.selectRootElement(e,r===Et.ShadowDom);let n="string"==typeof e?t.querySelector(e):e;return n.textContent="",n}(a,r,this.componentDef.encapsulation):yi(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?pe:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:ci,clean:js,playerHandler:null,flags:0},f=gs(0,null,null,1,0,null,null,null,null,null),d=ss(null,f,h,l,null,null,s,a,o,i);let p,m;Xe(d);try{const t=function(t,e,r,n,i,s){const o=r[1];r[20]=t;const a=os(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Ws(a,c,!0),null!==t&&(yr(i,t,c),null!==a.classes&&Ni(i,t,a.classes),null!==a.styles&&Bi(i,t,a.styles)));const u=n.createRenderer(t,e),l=ss(r,ms(e),null,e.onPush?64:16,r[20],a,n,u,null,null);return o.firstCreatePass&&(Fr(Tr(a,r),o,e.type),Es(o,a),ks(a,r.length,1)),Ms(r,l),r[20]=l}(u,this.componentDef,d,s,a);if(u)if(r)yr(a,u,["ng-version",nc.full]);else{const{attrs:t,classes:e}=function(t){const e=[],r=[];let n=1,i=2;for(;n<t.length;){let s=t[n];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++n]):8===i&&r.push(s);else{if(!qi(i))break;i=s}n++}return{attrs:e,classes:r}}(this.componentDef.selectors[0]);t&&yr(a,u,t),e&&e.length>0&&Ni(a,u,e.join(" "))}if(m=we(f,Qt),void 0!==e){const t=m.projection=[];for(let r=0;r<this.ngContentSelectors.length;r++){const n=e[r];t.push(null!=n?Array.from(n):null)}}p=function(t,e,r,n,i){const s=r[1],o=function(t,e,r){const n=Be();t.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),As(t,n,e,as(t,e,1,null),r));const i=Ur(e,t,n.directiveStart,n);ai(i,e);const s=_e(n,e);return s&&ai(s,e),i}(s,r,e);if(n.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Be();e.contentQueries(1,o,t.directiveStart)}const a=Be();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(or(a.index),ws(r[1],a,0,a.directiveStart,a.directiveEnd,e),Ss(e,o)),o}(t,this.componentDef,d,h,[lo]),cs(f,d,null)}finally{ir()}return new Kc(this.componentType,p,Qa(m,d),d,m)}}class Kc extends class{}{constructor(t,e,r,n,i){super(),this.location=r,this._rootLView=n,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new vc(n),this.componentType=t}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const zc=new Map;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Wc extends Rc{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Uc(this);const r=Gt(t),n=t[Bt]||null;n&&Na(n),this._bootstrapComponents=ui(r.bootstrap),this._r3Injector=eo(t,e,[{provide:Rc,useValue:this},{provide:$a,useValue:this.componentFactoryResolver}],rt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=uo.THROW_IF_NOT_FOUND,r=yt.Default){return t===uo||t===Rc||t===$s?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $c extends Pc{constructor(t){super(),this.moduleType=t,null!==Gt(t)&&function(t){const e=new Set;!function t(r){const n=Gt(r,!0),i=n.id;null!==i&&(function(t,e,r){if(e&&e!==r)throw new Error(`Duplicate module registered for ${t} - ${rt(e)} vs ${rt(e.name)}`)}(i,zc.get(i),r),zc.set(i,r));const s=ui(n.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Wc(this.moduleType,t)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Gc(t,e,r,n){return Jc(Fe(),He(),t,e,r,n)}function Qc(t,e){const r=t[e];return r===Qi?void 0:r}function Jc(t,e,r,n,i,s){const o=e+r;return Eo(t,o,i)?So(t,o+1,s?n.call(s,i):n(i)):Qc(t,o+1)}function Zc(t,e,r,n,i,s,o){const a=e+r;return Co(t,a,i,s)?So(t,a+2,o?n.call(o,i,s):n(i,s)):Qc(t,a+2)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Yc(t,e){const r=Oe();let n;const i=t+Qt;r.firstCreatePass?(n=function(t,e){if(e)for(let r=e.length-1;r>=0;r--){const n=e[r];if(t===n.name)return n}throw new ie("302",`The pipe '${t}' could not be found!`)}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];const s=n.factory||(n.factory=ne(n.type)),o=bt(Io);try{const t=Ar(!1),e=s();return Ar(t),function(t,e,r,n){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=n}(r,Fe(),i,e),e}finally{bt(o)}}function Xc(t,e,r){const n=t+Qt,i=Fe(),s=Se(i,n);return ru(i,eu(i,n)?Jc(i,He(),e,s.transform,r,s):s.transform(r))}function tu(t,e,r,n){const i=t+Qt,s=Fe(),o=Se(s,i);return ru(s,eu(s,i)?Zc(s,He(),e,o.transform,r,n,o):o.transform(r,n))}function eu(t,e){return t[1].data[e].pure}function ru(t,e){return bo.isWrapped(e)&&(e=bo.unwrap(e),t[qe()]=Qi),e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const nu=class extends E{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let n,i=t=>null,s=()=>null;t&&"object"==typeof t?(n=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(n=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),r&&(s=this.__isAsync?()=>{setTimeout(()=>r())}:()=>{r()}));const o=super.subscribe(n,i,s);return t instanceof h&&t.add(o),o}};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function iu(){return this._results[vo()]()}class su{constructor(){this.dirty=!0,this._results=[],this.changes=new nu,this.length=0;const t=vo(),e=su.prototype;e[t]||(e[t]=iu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=Yr(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class ou{constructor(t){this.queryList=t,this.matches=null}clone(){return new ou(this.queryList)}setDirty(){this.queryList.setDirty()}}class au{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,n=[];for(let t=0;t<r;t++){const r=e.getByIndex(t);n.push(this.queries[r.indexInDeclarationView].clone())}return new au(n)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ku(t,e).matches&&this.queries[e].setDirty()}}class cu{constructor(t,e,r,n=null){this.predicate=t,this.descendants=e,this.isStatic=r,this.read=n}}class uu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const n=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(t,n);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new uu(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class lu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new lu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let n=0;n<r.length;n++){const i=r[n];this.matchTNodeWithReadOption(t,e,hu(e,i)),this.matchTNodeWithReadOption(t,e,jr(e,t,i,!1,!1))}else r===Ac?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,jr(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const n=this.metadata.read;if(null!==n)if(n===Za||n===Oc||n===Ac&&4&e.type)this.addMatch(e.index,-2);else{const r=jr(e,t,n,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function hu(t,e){const r=t.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===e)return r[n+1];return null}function fu(t,e,r,n){return-1===r?function(t,e){return 11&t.type?Qa(t,e):4&t.type?Ic(t,e):null}(e,t):-2===r?function(t,e,r){return r===Za?Qa(e,t):r===Ac?Ic(e,t):r===Oc?Lc(e,t):void 0}(t,e,n):Ur(t,t[1],r,e)}function du(t,e,r,n){const i=e[19].queries[n];if(null===i.matches){const n=t.data,s=r.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:fu(e,n[i],s[t+1],r.metadata.read))}i.matches=o}return i.matches}function pu(t,e,r,n){const i=t.queries.getByIndex(r),s=i.matches;if(null!==s){const o=du(t,e,i,r);for(let t=0;t<s.length;t+=2){const r=s[t];if(r>0)n.push(o[t/2]);else{const i=s[t+1],o=e[-r];for(let t=Jt;t<o.length;t++){const e=o[t];e[17]===e[3]&&pu(e[1],e,i,n)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const r=t[e];pu(r[1],r,i,n)}}}}}return n}function mu(t){const e=Fe(),r=Oe(),n=Qe();Je(n+1);const i=ku(r,n);if(t.dirty&&ke(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?pu(r,e,n,[]):du(r,e,i,n);t.reset(s),t.notifyOnChanges()}return!0}return!1}function gu(t,e,r){vu(Oe(),Fe(),t,e,r,!0)}function yu(t,e,r){vu(Oe(),Fe(),t,e,r,!1)}function vu(t,e,r,n,i,s){t.firstCreatePass&&(Cu(t,new cu(r,n,s,i),-1),s&&(t.staticViewQueries=!0)),Eu(t,e)}function bu(t,e,r,n){wu(Oe(),Fe(),e,r,n,!1,Be(),t)}function _u(t,e,r,n){wu(Oe(),Fe(),e,r,n,!0,Be(),t)}function wu(t,e,r,n,i,s,o,a){t.firstCreatePass&&(Cu(t,new cu(r,n,s,i),o.index),function(t,e){const r=t.contentQueries||(t.contentQueries=[]);e!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),Eu(t,e)}function Su(){return t=Fe(),e=Qe(),t[19].queries[e].queryList;var t,e}function Eu(t,e){const r=new su;ys(t,e,r,r.destroy),null===e[19]&&(e[19]=new au),e[19].queries.push(new ou(r))}function Cu(t,e,r){null===t.queries&&(t.queries=new uu),t.queries.track(new lu(e,r))}function ku(t,e){return t.queries.getByIndex(e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Au(t,e){return Ic(t,e)}const xu=new Qr("Application Initializer");let Tu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ga,this.reject=Ga,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const e=this.appInits[r]();jo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(bn(xu,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Iu=new Qr("AppId"),Ru={provide:Iu,useFactory:function(){return`${Pu()}${Pu()}${Pu()}`},deps:[]};function Pu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fu=new Qr("Platform Initializer"),Ou=new Qr("Platform ID"),Mu=new Qr("appBootstrapListener");let Bu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Nu=new Qr("LocaleId"),Du=new Qr("DefaultCurrencyCode");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Lu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ju=function(t){return new $c(t)},Uu=ju,Vu=function(t){return Promise.resolve(ju(t))},Hu=function(t){const e=ju(t),r=ui(Gt(t).declarations).reduce((t,e)=>{const r=$t(e);return r&&t.push(new qc(r)),t},[]);return new Lu(e,r)},qu=Hu,Ku=function(t){return Promise.resolve(Hu(t))};let zu=(()=>{class t{constructor(){this.compileModuleSync=Uu,this.compileModuleAsync=Vu,this.compileModuleAndAllComponentsSync=qu,this.compileModuleAndAllComponentsAsync=Ku}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Wu=(()=>Promise.resolve(0))();function $u(t){"undefined"==typeof Zone?Wu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Gu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nu(!1),this.onMicrotaskEmpty=new nu(!1),this.onStable=new nu(!1),this.onError=new nu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=e,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=Tt.requestAnimationFrame,e=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Zu(t),Ju(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Zu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(r,n,i,s,o,a)=>{try{return Yu(t),r.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Xu(t)}},onInvoke:(e,r,n,i,s,o,a)=>{try{return Yu(t),e.invoke(n,i,s,o,a)}finally{Xu(t)}},onHasTask:(e,r,n,i)=>{e.hasTask(n,i),r===n&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Zu(t),Ju(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,n,i)=>(e.handleError(n,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,n){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+n,t,Qu,Ga,Ga);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const Qu={};function Ju(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Zu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Yu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xu(t){t._nesting--,Ju(t)}class tl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nu,this.onMicrotaskEmpty=new nu,this.onStable=new nu,this.onError=new nu}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,n){return t.apply(e,r)}}let el=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gu.assertNotInAngularZone(),$u(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$u(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,r){let n=-1;e&&e>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==n),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:n,updateCb:r})}whenStable(t,e,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,r){return[]}}return t.\u0275fac=function(e){return new(e||t)(bn(Gu))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),rl=(()=>{class t{constructor(){this._applications=new Map,sl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return sl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class nl{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let il,sl=new nl,ol=!0,al=!1;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function cl(){return al=!0,ol}const ul=new Qr("AllowMultipleToken");class ll{constructor(t,e){this.name=t,this.token=e}}function hl(t,e,r=[]){const n=`Platform: ${e}`,i=new Qr(n);return(e=[])=>{let s=fl();if(!s||s.injector.get(ul,!1))if(t)t(r.concat(e).concat({provide:i,useValue:!0}));else{const t=r.concat(e).concat({provide:i,useValue:!0},{provide:Qs,useValue:"platform"});!function(t){if(il&&!il.destroyed&&!il.injector.get(ul,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");il=t.get(dl);const e=t.get(Fu,null);e&&e.forEach(t=>t())}(uo.create({providers:t,name:n}))}return function(t){const e=fl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function fl(){return il&&!il.destroyed?il:null}let dl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const r=function(t,e){let r;return r="noop"===t?new tl:("zone.js"===t?void 0:t)||new Gu({enableLongStackTrace:cl(),shouldCoalesceEventChangeDetection:e}),r}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),n=[{provide:Gu,useValue:r}];return r.run(()=>{const e=uo.create({providers:n,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(oi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.runOutsideAngular(()=>{const t=r.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{gl(this._modules,i),t.unsubscribe()})}),function(t,e,r){try{const n=r();return jo(n)?n.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(s,r,()=>{const t=i.injector.get(Tu);return t.runInitializers(),t.donePromise.then(()=>(Na(i.injector.get(Nu,Ma)||Ma),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const r=pl({},e);return function(t,e,r){const n=new $c(r);return Promise.resolve(n)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,r))}_moduleDoBootstrap(t){const e=t.injector.get(ml);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${rt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(bn(uo))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function pl(t,e){return Array.isArray(e)?e.reduce(pl,t):Object.assign(Object.assign({},t),e)}let ml=(()=>{class t{constructor(t,e,r,n,i,s){this._zone=t,this._console=e,this._injector=r,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Gu.assertNotInAngularZone(),$u(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const r=this._zone.onUnstable.subscribe(()=>{Gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),r.unsubscribe()}});this.isStable=z(o,a.pipe(X()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=t instanceof za?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);const n=r.isBoundToModule?void 0:this._injector.get(Rc),i=r.create(uo.NULL,[],e||r.selector,n),s=i.location.nativeElement,o=i.injector.get(el,null),a=o&&i.injector.get(rl);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),gl(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),cl()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;gl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Mu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(bn(Gu),bn(Bu),bn(uo),bn(oi),bn($a),bn(Tu))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function gl(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class yl{}class vl{}const bl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let _l=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||bl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,n]=t.split("#");return void 0===n&&(n="default"),r(40991)(e).then(t=>t[n]).then(t=>wl(t,e,n)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,n]=t.split("#"),i="NgFactory";return void 0===n&&(n="default",i=""),r(40991)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[n+i]).then(t=>wl(t,e,n))}}return t.\u0275fac=function(e){return new(e||t)(bn(zu),bn(vl,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function wl(t,e,r){if(!t)throw new Error(`Cannot find '${r}' in '${e}'`);return t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Sl=hl(null,"core",[{provide:Ou,useValue:"unknown"},{provide:dl,deps:[uo]},{provide:rl,deps:[]},{provide:Bu,deps:[]}]),El=[{provide:ml,useClass:ml,deps:[Gu,Bu,uo,oi,$a,Tu]},{provide:Hc,deps:[Gu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Tu,useClass:Tu,deps:[[new cn,xu]]},{provide:zu,useClass:zu,deps:[]},Ru,{provide:pc,useFactory:
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(){return Ec},deps:[]},{provide:mc,useFactory:function(){return Cc},deps:[]},{provide:Nu,useFactory:function(t){return Na(t=t||"undefined"!=typeof $localize&&$localize.locale||Ma),t},deps:[[new an(Nu),new cn,new ln]]},{provide:Du,useValue:"USD"}];let Cl=(()=>{class t{constructor(t){}}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(bn(ml))},providers:El}),t})(),kl=null;function Al(){return kl}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const xl=new Qr("DocumentToken");let Tl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:Il,token:t,providedIn:"platform"}),t})();function Il(){return bn(Pl)}const Rl=new Qr("Location Initialized");let Pl=(()=>{class t extends Tl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Al().getLocation(),this._history=Al().getHistory()}getBaseHrefFromDOM(){return Al().getBaseHref(this._doc)}onPopState(t){Al().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Al().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,r){Fl()?this._history.pushState(t,e,r):this.location.hash=r}replaceState(t,e,r){Fl()?this._history.replaceState(t,e,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(bn(xl))},t.\u0275prov=ct({factory:Ol,token:t,providedIn:"platform"}),t})();function Fl(){return!!window.history.pushState}function Ol(){return new Pl(bn(xl))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ml(t,e){if(0==t.length)return e;if(0==e.length)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,2==r?t+e.substring(1):1==r?t+e:t+"/"+e}function Bl(t){const e=t.match(/#|\?|$/),r=e&&e.index||t.length;return t.slice(0,r-("/"===t[r-1]?1:0))+t.slice(r)}function Nl(t){return t&&"?"!==t[0]?"?"+t:t}let Dl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:Ll,token:t,providedIn:"root"}),t})();function Ll(t){const e=bn(xl).location;return new Ul(bn(Tl),e&&e.origin||"")}const jl=new Qr("appBaseHref");let Ul=(()=>{class t extends Dl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ml(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Nl(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${e}${r}`:e}pushState(t,e,r,n){const i=this.prepareExternalUrl(r+Nl(n));this._platformLocation.pushState(t,e,i)}replaceState(t,e,r,n){const i=this.prepareExternalUrl(r+Nl(n));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(bn(Tl),bn(jl,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Vl=(()=>{class t extends Dl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Ml(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,r,n){let i=this.prepareExternalUrl(r+Nl(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,r,n){let i=this.prepareExternalUrl(r+Nl(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(bn(Tl),bn(jl,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Hl=(()=>{class t{constructor(t,e){this._subject=new nu,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Bl(Kl(r)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Nl(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Kl(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",r=null){this._platformStrategy.pushState(r,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nl(e)),r)}replaceState(t,e="",r=null){this._platformStrategy.replaceState(r,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nl(e)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(r=>r(t,e))}subscribe(t,e,r){return this._subject.subscribe({next:t,error:e,complete:r})}}return t.\u0275fac=function(e){return new(e||t)(bn(Dl),bn(Tl))},t.normalizeQueryParams=Nl,t.joinWithSlash=Ml,t.stripTrailingSlash=Bl,t.\u0275prov=ct({factory:ql,token:t,providedIn:"root"}),t})();function ql(){return new Hl(bn(Dl),bn(Tl))}function Kl(t){return t.replace(/\/index.html$/,"")}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var zl=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Wl=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),$l=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),Gl=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),Ql=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Jl(t,e){return eh(Pa(t)[Oa.DateFormat],e)}function Zl(t,e){return eh(Pa(t)[Oa.TimeFormat],e)}function Yl(t,e){return eh(Pa(t)[Oa.DateTimeFormat],e)}function Xl(t,e){const r=Pa(t),n=r[Oa.NumberSymbols][e];if(void 0===n){if(e===Ql.CurrencyDecimal)return r[Oa.NumberSymbols][Ql.Decimal];if(e===Ql.CurrencyGroup)return r[Oa.NumberSymbols][Ql.Group]}return n}function th(t){if(!t[Oa.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Oa.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function eh(t,e){for(let r=e;r>-1;r--)if(void 0!==t[r])return t[r];throw new Error("Locale data API: locale data undefined")}function rh(t){const[e,r]=t.split(":");return{hours:+e,minutes:+r}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const nh=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ih={},sh=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var oh=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),ah=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),ch=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function uh(t,e,r,n){let i=function(t){if(wh(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,r,n]=t.split("-").map(t=>+t);return new Date(e,r-1,n)}let r;if(r=t.match(nh))return function(t){const e=new Date(0);let r=0,n=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=Number(t[9]+t[10]),n=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-r,a=Number(t[5]||0)-n,c=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,c,u),e}(r)}const e=new Date(t);if(!wh(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=lh(r,e)||e;let s,o=[];for(;e;){if(s=sh.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();n&&(a=_h(n,a),i=function(t,e,r){const n=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(_h(e,n)-n))}(i,n));let c="";return o.forEach(t=>{const e=function(t){if(bh[t])return bh[t];let e;switch(t){case"G":case"GG":case"GGG":e=ph(ch.Eras,$l.Abbreviated);break;case"GGGG":e=ph(ch.Eras,$l.Wide);break;case"GGGGG":e=ph(ch.Eras,$l.Narrow);break;case"y":e=dh(ah.FullYear,1,0,!1,!0);break;case"yy":e=dh(ah.FullYear,2,0,!0,!0);break;case"yyy":e=dh(ah.FullYear,3,0,!1,!0);break;case"yyyy":e=dh(ah.FullYear,4,0,!1,!0);break;case"Y":e=vh(1);break;case"YY":e=vh(2,!0);break;case"YYY":e=vh(3);break;case"YYYY":e=vh(4);break;case"M":case"L":e=dh(ah.Month,1,1);break;case"MM":case"LL":e=dh(ah.Month,2,1);break;case"MMM":e=ph(ch.Months,$l.Abbreviated);break;case"MMMM":e=ph(ch.Months,$l.Wide);break;case"MMMMM":e=ph(ch.Months,$l.Narrow);break;case"LLL":e=ph(ch.Months,$l.Abbreviated,Wl.Standalone);break;case"LLLL":e=ph(ch.Months,$l.Wide,Wl.Standalone);break;case"LLLLL":e=ph(ch.Months,$l.Narrow,Wl.Standalone);break;case"w":e=yh(1);break;case"ww":e=yh(2);break;case"W":e=yh(1,!0);break;case"d":e=dh(ah.Date,1);break;case"dd":e=dh(ah.Date,2);break;case"E":case"EE":case"EEE":e=ph(ch.Days,$l.Abbreviated);break;case"EEEE":e=ph(ch.Days,$l.Wide);break;case"EEEEE":e=ph(ch.Days,$l.Narrow);break;case"EEEEEE":e=ph(ch.Days,$l.Short);break;case"a":case"aa":case"aaa":e=ph(ch.DayPeriods,$l.Abbreviated);break;case"aaaa":e=ph(ch.DayPeriods,$l.Wide);break;case"aaaaa":e=ph(ch.DayPeriods,$l.Narrow);break;case"b":case"bb":case"bbb":e=ph(ch.DayPeriods,$l.Abbreviated,Wl.Standalone,!0);break;case"bbbb":e=ph(ch.DayPeriods,$l.Wide,Wl.Standalone,!0);break;case"bbbbb":e=ph(ch.DayPeriods,$l.Narrow,Wl.Standalone,!0);break;case"B":case"BB":case"BBB":e=ph(ch.DayPeriods,$l.Abbreviated,Wl.Format,!0);break;case"BBBB":e=ph(ch.DayPeriods,$l.Wide,Wl.Format,!0);break;case"BBBBB":e=ph(ch.DayPeriods,$l.Narrow,Wl.Format,!0);break;case"h":e=dh(ah.Hours,1,-12);break;case"hh":e=dh(ah.Hours,2,-12);break;case"H":e=dh(ah.Hours,1);break;case"HH":e=dh(ah.Hours,2);break;case"m":e=dh(ah.Minutes,1);break;case"mm":e=dh(ah.Minutes,2);break;case"s":e=dh(ah.Seconds,1);break;case"ss":e=dh(ah.Seconds,2);break;case"S":e=dh(ah.FractionalSeconds,1);break;case"SS":e=dh(ah.FractionalSeconds,2);break;case"SSS":e=dh(ah.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=mh(oh.Short);break;case"ZZZZZ":e=mh(oh.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=mh(oh.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=mh(oh.Long);break;default:return null}return bh[t]=e,e}(t);c+=e?e(i,r,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function lh(t,e){const r=function(t){return Pa(t)[Oa.LocaleId]}(t);if(ih[r]=ih[r]||{},ih[r][e])return ih[r][e];let n="";switch(e){case"shortDate":n=Jl(t,Gl.Short);break;case"mediumDate":n=Jl(t,Gl.Medium);break;case"longDate":n=Jl(t,Gl.Long);break;case"fullDate":n=Jl(t,Gl.Full);break;case"shortTime":n=Zl(t,Gl.Short);break;case"mediumTime":n=Zl(t,Gl.Medium);break;case"longTime":n=Zl(t,Gl.Long);break;case"fullTime":n=Zl(t,Gl.Full);break;case"short":const e=lh(t,"shortTime"),r=lh(t,"shortDate");n=hh(Yl(t,Gl.Short),[e,r]);break;case"medium":const i=lh(t,"mediumTime"),s=lh(t,"mediumDate");n=hh(Yl(t,Gl.Medium),[i,s]);break;case"long":const o=lh(t,"longTime"),a=lh(t,"longDate");n=hh(Yl(t,Gl.Long),[o,a]);break;case"full":const c=lh(t,"fullTime"),u=lh(t,"fullDate");n=hh(Yl(t,Gl.Full),[c,u])}return n&&(ih[r][e]=n),n}function hh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),t}function fh(t,e,r="-",n,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=r));let o=String(t);for(;o.length<e;)o="0"+o;return n&&(o=o.substr(o.length-e)),s+o}function dh(t,e,r=0,n=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case ah.FullYear:return e.getFullYear();case ah.Month:return e.getMonth();case ah.Date:return e.getDate();case ah.Hours:return e.getHours();case ah.Minutes:return e.getMinutes();case ah.Seconds:return e.getSeconds();case ah.FractionalSeconds:return e.getMilliseconds();case ah.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((r>0||a>-r)&&(a+=r),t===ah.Hours)0===a&&-12===r&&(a=12);else if(t===ah.FractionalSeconds)return c=e,fh(a,3).substr(0,c);var c;const u=Xl(o,Ql.MinusSign);return fh(a,e,u,n,i)}}function ph(t,e,r=Wl.Format,n=!1){return function(i,s){return function(t,e,r,n,i,s){switch(r){case ch.Months:return function(t,e,r){const n=Pa(t),i=eh([n[Oa.MonthsFormat],n[Oa.MonthsStandalone]],e);return eh(i,r)}(e,i,n)[t.getMonth()];case ch.Days:return function(t,e,r){const n=Pa(t),i=eh([n[Oa.DaysFormat],n[Oa.DaysStandalone]],e);return eh(i,r)}(e,i,n)[t.getDay()];case ch.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const t=function(t){const e=Pa(t);return th(e),(e[Oa.ExtraData][2]||[]).map(t=>"string"==typeof t?rh(t):[rh(t[0]),rh(t[1])])}(e),r=function(t,e,r){const n=Pa(t);th(n);const i=eh([n[Oa.ExtraData][0],n[Oa.ExtraData][1]],e)||[];return eh(i,r)||[]}(e,i,n),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,r]=t,n=o>=e.hours&&a>=e.minutes,i=o<r.hours||o===r.hours&&a<r.minutes;if(e.hours<r.hours){if(n&&i)return!0}else if(n||i)return!0}else if(t.hours===o&&t.minutes===a)return!0;return!1});if(-1!==s)return r[s]}return function(t,e,r){const n=Pa(t),i=eh([n[Oa.DayPeriodsFormat],n[Oa.DayPeriodsStandalone]],e);return eh(i,r)}(e,i,n)[o<12?0:1];case ch.Eras:return function(t,e){return eh(Pa(t)[Oa.Eras],e)}(e,n)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${r}`)}}(i,s,t,e,r,n)}}function mh(t){return function(e,r,n){const i=-1*n,s=Xl(r,Ql.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case oh.Short:return(i>=0?"+":"")+fh(o,2,s)+fh(Math.abs(i%60),2,s);case oh.ShortGMT:return"GMT"+(i>=0?"+":"")+fh(o,1,s);case oh.Long:return"GMT"+(i>=0?"+":"")+fh(o,2,s)+":"+fh(Math.abs(i%60),2,s);case oh.Extended:return 0===n?"Z":(i>=0?"+":"")+fh(o,2,s)+":"+fh(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function gh(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function yh(t,e=!1){return function(r,n){let i;if(e){const t=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,e=r.getDate();i=1+Math.floor((e+t)/7)}else{const t=gh(r),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),n=t.getTime()-e.getTime();i=1+Math.round(n/6048e5)}return fh(i,t,Xl(n,Ql.MinusSign))}}function vh(t,e=!1){return function(r,n){return fh(gh(r).getFullYear(),t,Xl(n,Ql.MinusSign),e)}}const bh={};function _h(t,e){t=t.replace(/:/g,"");const r=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(r)?e:r}function wh(t){return t instanceof Date&&!isNaN(t.valueOf())}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Sh{}let Eh=(()=>{class t extends Sh{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return Pa(t)[Oa.PluralCase]}(e||this.locale)(t)){case zl.Zero:return"zero";case zl.One:return"one";case zl.Two:return"two";case zl.Few:return"few";case zl.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(bn(Nu))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Ch(t,e){e=encodeURIComponent(e);for(const r of t.split(";")){const t=r.indexOf("="),[n,i]=-1==t?[r,""]:[r.slice(0,t),r.slice(t+1)];if(n.trim()===e)return decodeURIComponent(i)}return null}let kh=(()=>{class t{constructor(t,e,r,n){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=r,this._renderer=n,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(_o(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${rt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Io(pc),Io(mc),Io(Za),Io(Xa))},t.\u0275dir=zt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Ah{constructor(t,e,r,n){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xh=(()=>{class t{constructor(t,e,r){this._viewContainer=t,this._template=e,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${r}' of type '${t=r,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,r,n)=>{if(null==t.previousIndex){const r=this._viewContainer.createEmbeddedView(this._template,new Ah(null,this._ngForOf,-1,-1),null===n?void 0:n),i=new Th(t,r);e.push(i)}else if(null==n)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const i=this._viewContainer.get(r);this._viewContainer.move(i,n);const s=new Th(t,i);e.push(s)}});for(let r=0;r<e.length;r++)this._perViewChange(e[r].view,e[r].record);for(let r=0,n=this._viewContainer.length;r<n;r++){const t=this._viewContainer.get(r);t.context.index=r,t.context.count=n,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Io(Oc),Io(Ac),Io(pc))},t.\u0275dir=zt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Th{constructor(t,e){this.record=t,this.view=e}}let Ih=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Rh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ph("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ph("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Io(Oc),Io(Ac))},t.\u0275dir=zt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Rh{constructor(){this.$implicit=null,this.ngIf=null}}function Ph(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${rt(e)}'.`)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Fh{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Oh=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Mh=(()=>{class t{constructor(t,e,r){this.ngSwitch=r,r._addCase(),this._view=new Fh(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(Io(Oc),Io(Ac),Io(Oh,1))},t.\u0275dir=zt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Bh(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${rt(t)}'`)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Nh{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Dh{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Lh=new Dh,jh=new Nh;let Uh=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(jo(e))return Lh;if(Uo(e))return jh;throw Bh(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(function(t=yt.Default){const e=wc(!0);if(null!=e||t&yt.Optional)return e;ae("ChangeDetectorRef")}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */())},t.\u0275pipe=Wt({name:"async",type:t,pure:!1}),t})(),Vh=(()=>{class t{constructor(t){this.locale=t}transform(e,r="mediumDate",n,i){if(null==e||""===e||e!=e)return null;try{return uh(e,r,i||this.locale,n)}catch(s){throw Bh(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(Io(Nu))},t.\u0275pipe=Wt({name:"date",type:t,pure:!0}),t})(),Hh=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Wt({name:"json",type:t,pure:!1}),t})(),qh=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=Kh){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const r=this.differ.diff(t);return r&&(this.keyValues=[],r.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(Io(mc))},t.\u0275pipe=Wt({name:"keyvalue",type:t,pure:!1}),t})();function Kh(t,e){const r=t.key,n=e.key;if(r===n)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(null===r)return 1;if(null===n)return-1;if("string"==typeof r&&"string"==typeof n)return r<n?-1:1;if("number"==typeof r&&"number"==typeof n)return r-n;if("boolean"==typeof r&&"boolean"==typeof n)return r<n?-1:1;const i=String(r),s=String(n);return i==s?0:i<s?-1:1}let zh=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[{provide:Sh,useClass:Eh}]}),t})(),Wh=(()=>{class t{}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new $h(bn(xl),window)}),t})();class $h{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const r=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,n=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],n-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Gh(this.window.history)||Gh(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Gh(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Qh extends
/**
 * @license Angular v11.0.9
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */{static makeCurrent(){var t;t=new Qh,kl||(kl=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Zh||(Zh=document.querySelector("base"),Zh)?Zh.getAttribute("href"):null;return null==e?null:(r=e,Jh||(Jh=document.createElement("a")),Jh.setAttribute("href",r),"/"===Jh.pathname.charAt(0)?Jh.pathname:"/"+Jh.pathname);var r;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */}resetBaseElement(){Zh=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Ch(document.cookie,t)}}let Jh,Zh=null;const Yh=new Qr("TRANSITION_ID"),Xh=[{provide:xu,useFactory:function(t,e,r){return()=>{r.get(Tu).donePromise.then(()=>{const r=Al();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>r.remove(t))})}},deps:[Yh,xl,uo],multi:!0}];
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class tf{static init(){var t;t=new tf,sl=t}addToWindow(t){Tt.getAngularTestability=(e,r=!0)=>{const n=t.findTestabilityInTree(e,r);if(null==n)throw new Error("Could not find testability for element.");return n},Tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Tt.getAllAngularRootElements=()=>t.getAllRootElements(),Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(t=>{const e=Tt.getAllAngularTestabilities();let r=e.length,n=!1;const i=function(e){n=n||e,r--,0==r&&t(n)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const n=t.getTestability(e);return null!=n?n:r?Al().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const ef=new Qr("EventManagerPlugins");let rf=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,r){return this._findPluginFor(e).addEventListener(t,e,r)}addGlobalEventListener(t,e,r){return this._findPluginFor(e).addGlobalEventListener(t,e,r)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const r=this._plugins;for(let n=0;n<r.length;n++){const e=r[n];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(bn(ef),bn(Gu))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class nf{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const n=Al().getGlobalEventTarget(this._doc,t);if(!n)throw new Error(`Unsupported event target ${n} for event ${e}`);return this.addEventListener(n,e,r)}}let sf=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),of=(()=>{class t extends sf{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,this._styleNodes.add(e.appendChild(r))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Al().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(bn(xl))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const af={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},cf=/%COMP%/g;function uf(t,e,r){for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?uf(t,i,r):(i=i.replace(cf,t),r.push(i))}return r}function lf(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let hf=(()=>{class t{constructor(t,e,r){this.eventManager=t,this.sharedStylesHost=e,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ff(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Et.Emulated:{let r=this.rendererByCompId.get(e.id);return r||(r=new df(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,r)),r.applyToHost(t),r}case 1:case Et.ShadowDom:return new pf(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=uf(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(bn(rf),bn(of),bn(Iu))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class ff{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(af[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,n){if(n){e=n+":"+e;const i=af[n];i?t.setAttributeNS(i,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const n=af[r];n?t.removeAttributeNS(n,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,n){n&(li.DashCase|li.Important)?t.style.setProperty(e,r,n&li.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&li.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,lf(r)):this.eventManager.addEventListener(t,e,lf(r))}}class df extends ff{constructor(t,e,r,n){super(t),this.component=r;const i=uf(n+"-"+r.id,r.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(cf,n+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(cf,n+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class pf extends ff{constructor(t,e,r,n){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=uf(n.id,n.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let mf=(()=>{class t extends nf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,r){return t.addEventListener(e,r,!1),()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,r){return t.removeEventListener(e,r)}}return t.\u0275fac=function(e){return new(e||t)(bn(xl))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const gf=["alt","control","meta","shift"],yf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vf={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bf={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let _f=(()=>{class t extends nf{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,n){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Al().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),n=r.shift();if(0===r.length||"keydown"!==n&&"keyup"!==n)return null;const i=t._normalizeKey(r.pop());let s="";if(gf.forEach(t=>{const e=r.indexOf(t);e>-1&&(r.splice(e,1),s+=t+".")}),s+=i,0!=r.length||0===i.length)return null;const o={};return o.domEventName=n,o.fullKey=s,o}static getEventFullKey(t){let e="",r=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&vf.hasOwnProperty(e)&&(e=vf[e]))}return yf[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gf.forEach(n=>{n!=r&&(0,bf[n])(t)&&(e+=n+".")}),e+=r,e}static eventCallback(e,r,n){return i=>{t.getEventFullKey(i)===e&&n.runGuarded(()=>r(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(bn(xl))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),wf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:function(){return bn(Ef)},token:t,providedIn:"root"}),t})();function Sf(t){return new Ef(t.get(xl))}let Ef=(()=>{class t extends wf{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case ei.NONE:return e;case ei.HTML:return Pn(e,"HTML")?Rn(e):function(t,e){let r=null;try{Xn=Xn||
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(t){const e=new Mn(t);return function(){try{return!!(new window.DOMParser).parseFromString(En(""),"text/html")}catch(t){return!1}}()?new On(e):e}(t);let n=e?String(e):"";r=Xn.getInertBodyElement(n);let i=5,s=n;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,n=s,s=r.innerHTML,r=Xn.getInertBodyElement(n)}while(n!==s);return(new Qn).sanitizeChildren(ti(r)||r)}finally{if(r){const t=ti(r)||r;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e));case ei.STYLE:return Pn(e,"Style")?Rn(e):e;case ei.SCRIPT:if(Pn(e,"Script"))return Rn(e);throw new Error("unsafe value used in a script context");case ei.URL:return Fn(e),Pn(e,"URL")?Rn(e):Dn(String(e));case ei.RESOURCE_URL:if(Pn(e,"ResourceURL"))return Rn(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new kn(t)}bypassSecurityTrustStyle(t){return new An(t)}bypassSecurityTrustScript(t){return new xn(t)}bypassSecurityTrustUrl(t){return new Tn(t)}bypassSecurityTrustResourceUrl(t){return new In(t)}}return t.\u0275fac=function(e){return new(e||t)(bn(xl))},t.\u0275prov=ct({factory:function(){return Sf(bn($s))},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Cf=hl(Sl,"browser",[{provide:Ou,useValue:"browser"},{provide:Fu,useValue:function(){Qh.makeCurrent(),tf.init()},multi:!0},{provide:xl,useFactory:function(){return function(t){me=t}(document),document},deps:[]}]),kf=[[],{provide:Qs,useValue:"root"},{provide:oi,useFactory:function(){return new oi},deps:[]},{provide:ef,useClass:mf,multi:!0,deps:[xl,Gu,Ou]},{provide:ef,useClass:_f,multi:!0,deps:[xl]},[],{provide:hf,useClass:hf,deps:[rf,of,Iu]},{provide:Ya,useExisting:hf},{provide:sf,useExisting:of},{provide:of,useClass:of,deps:[xl]},{provide:el,useClass:el,deps:[Gu]},{provide:rf,useClass:rf,deps:[ef,Gu]},[]];let Af=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Iu,useValue:e.appId},{provide:Yh,useExisting:Iu},Xh]}}}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(bn(t,12))},providers:kf,imports:[zh,Cl]}),t})();function xf(...t){let e=t[t.length-1];return k(e)?(t.pop(),B(t,e)):K(t)}"undefined"!=typeof window&&window;class Tf extends E{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(t){super.next(this._value=t)}}class If extends p{notifyNext(t,e,r,n,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Rf extends p{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Pf(t,e,r,n,i=new Rf(t,r,n)){if(!i.closed)return e instanceof v?e.subscribe(i):M(e)(i)}const Ff={};function Of(...t){let e,r;return k(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),K(t,r).lift(new Mf(e))}class Mf{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Bf(t,this.resultSelector))}}class Bf extends If{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ff),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(Pf(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const n=this.values,i=this.toRespond?n[r]===Ff?--this.toRespond:this.toRespond:0;n[r]=e,0===i&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const Nf=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Df(...t){return q(1)(xf(...t))}const Lf=new v(t=>t.complete());function jf(t){return t?function(t){return new v(e=>t.schedule(()=>e.complete()))}(t):Lf}function Uf(t){return new v(e=>{let r;try{r=t()}catch(n){return void e.error(n)}return(r?N(r):jf()).subscribe(e)})}function Vf(t,e){return"function"==typeof e?r=>r.pipe(Vf((r,n)=>N(t(r,n)).pipe(A((t,i)=>e(r,t,n,i))))):e=>e.lift(new Hf(t))}class Hf{constructor(t){this.project=t}call(t,e){return e.subscribe(new qf(t,this.project))}}class qf extends L{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new D(this),n=this.destination;n.add(r),this.innerSubscription=j(t,r),this.innerSubscription!==r&&n.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Kf=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function zf(t){return e=>0===t?jf():e.lift(new Wf(t))}class Wf{constructor(t){if(this.total=t,this.total<0)throw new Kf}call(t,e){return e.subscribe(new $f(t,this.total))}}class $f extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function Gf(...t){const e=t[t.length-1];return k(e)?(t.pop(),r=>Df(t,r,e)):e=>Df(t,e)}function Qf(t,e){let r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new Jf(t,e,r))}}class Jf{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new Zf(t,this.accumulator,this.seed,this.hasSeed))}}class Zf extends p{constructor(t,e,r,n){super(t),this.accumulator=e,this._seed=r,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(n){this.destination.error(n)}this.seed=r,this.destination.next(r)}}function Yf(t,e){return function(r){return r.lift(new Xf(t,e))}}class Xf{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new td(t,this.predicate,this.thisArg))}}class td extends p{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function ed(t){return function(e){const r=new rd(t),n=e.lift(r);return r.caught=n}}class rd{constructor(t){this.selector=t}call(t,e){return e.subscribe(new nd(t,this.selector,this.caught))}}class nd extends L{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let r;try{r=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const n=new D(this);this.add(n);const i=j(r,n);i!==n&&this.add(i)}}}function id(t,e){return U(t,e,1)}function sd(t){return function(e){return 0===t?jf():e.lift(new od(t))}}class od{constructor(t){if(this.total=t,this.total<0)throw new Kf}call(t,e){return e.subscribe(new ad(t,this.total))}}class ad extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,n=this.ring;for(let i=0;i<r;i++){const i=e++%r;t.next(n[i])}}t.complete()}}function cd(t=hd){return e=>e.lift(new ud(t))}class ud{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ld(t,this.errorFactory))}}class ld extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function hd(){return new Nf}function fd(t=null){return e=>e.lift(new dd(t))}class dd{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new pd(t,this.defaultValue))}}class pd extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function md(t,e){const r=arguments.length>=2;return n=>n.pipe(t?Yf((e,r)=>t(e,r,n)):y,zf(1),r?fd(e):cd(()=>new Nf))}function gd(){}function yd(t,e,r){return function(n){return n.lift(new vd(t,e,r))}}class vd{constructor(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}call(t,e){return e.subscribe(new bd(t,this.nextOrObserver,this.error,this.complete))}}class bd extends p{constructor(t,e,r,i){super(t),this._tapNext=gd,this._tapError=gd,this._tapComplete=gd,this._tapError=r||gd,this._tapComplete=i||gd,n(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||gd,this._tapError=e.error||gd,this._tapComplete=e.complete||gd)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function _d(t){return e=>e.lift(new wd(t))}class wd{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Sd(t,this.callback))}}class Sd extends p{constructor(t,e){super(t),this.add(new h(e))}}
/**
 * @license Angular v11.0.9
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Ed{constructor(t,e){this.id=t,this.url=e}}class Cd extends Ed{constructor(t,e,r="imperative",n=null){super(t,e),this.navigationTrigger=r,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kd extends Ed{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ad extends Ed{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xd extends Ed{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Td extends Ed{constructor(t,e,r,n){super(t,e),this.urlAfterRedirects=r,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Id extends Ed{constructor(t,e,r,n){super(t,e),this.urlAfterRedirects=r,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rd extends Ed{constructor(t,e,r,n,i){super(t,e),this.urlAfterRedirects=r,this.state=n,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pd extends Ed{constructor(t,e,r,n){super(t,e),this.urlAfterRedirects=r,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fd extends Ed{constructor(t,e,r,n){super(t,e),this.urlAfterRedirects=r,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Od{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Md{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bd{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nd{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dd{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ld{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jd{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Ud="primary";class Vd{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Hd(t){return new Vd(t)}function qd(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Kd(t,e,r){const n=r.path.split("/");if(n.length>t.length)return null;if("full"===r.pathMatch&&(e.hasChildren()||n.length<t.length))return null;const i={};for(let s=0;s<n.length;s++){const e=n[s],r=t[s];if(e.startsWith(":"))i[e.substring(1)]=r;else if(e!==r.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function zd(t,e){const r=Object.keys(t),n=Object.keys(e);if(!r||!n||r.length!=n.length)return!1;let i;for(let s=0;s<r.length;s++)if(i=r[s],!Wd(t[i],e[i]))return!1;return!0}function Wd(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const r=[...t].sort(),n=[...e].sort();return r.every((t,e)=>n[e]===t)}return t===e}function $d(t){return Array.prototype.concat.apply([],t)}function Gd(t){return t.length>0?t[t.length-1]:null}function Qd(t,e){for(const r in t)t.hasOwnProperty(r)&&e(t[r],r)}function Jd(t){return Uo(t)?t:jo(t)?N(Promise.resolve(t)):xf(t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Zd(t,e,r){return r?function(t,e){return zd(t,e)}(t.queryParams,e.queryParams)&&Yd(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>Wd(t[r],e[r]))}(t.queryParams,e.queryParams)&&Xd(t.root,e.root)}function Yd(t,e){if(!ip(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children){if(!t.children[r])return!1;if(!Yd(t.children[r],e.children[r]))return!1}return!0}function Xd(t,e){return tp(t,e,e.segments)}function tp(t,e,r){if(t.segments.length>r.length)return!!ip(t.segments.slice(0,r.length),r)&&!e.hasChildren();if(t.segments.length===r.length){if(!ip(t.segments,r))return!1;for(const r in e.children){if(!t.children[r])return!1;if(!Xd(t.children[r],e.children[r]))return!1}return!0}{const n=r.slice(0,t.segments.length),i=r.slice(t.segments.length);return!!ip(t.segments,n)&&!!t.children.primary&&tp(t.children.primary,e,i)}}class ep{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hd(this.queryParams)),this._queryParamMap}toString(){return ap.serialize(this)}}class rp{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qd(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cp(this)}}class np{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Hd(this.parameters)),this._parameterMap}toString(){return mp(this)}}function ip(t,e){return t.length===e.length&&t.every((t,r)=>t.path===e[r].path)}class sp{}class op{parse(t){const e=new _p(t);return new ep(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${up(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(t=>`${hp(e)}=${hp(t)}`).join("&"):`${hp(e)}=${hp(r)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const ap=new op;function cp(t){return t.segments.map(t=>mp(t)).join("/")}function up(t,e){if(!t.hasChildren())return cp(t);if(e){const e=t.children.primary?up(t.children.primary,!1):"",r=[];return Qd(t.children,(t,e)=>{e!==Ud&&r.push(`${e}:${up(t,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(t,e){let r=[];return Qd(t.children,(t,n)=>{n===Ud&&(r=r.concat(e(t,n)))}),Qd(t.children,(t,n)=>{n!==Ud&&(r=r.concat(e(t,n)))}),r}(t,(e,r)=>r===Ud?[up(t.children.primary,!1)]:[`${r}:${up(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${cp(t)}/${e[0]}`:`${cp(t)}/(${e.join("//")})`}}function lp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hp(t){return lp(t).replace(/%3B/gi,";")}function fp(t){return lp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dp(t){return decodeURIComponent(t)}function pp(t){return dp(t.replace(/\+/g,"%20"))}function mp(t){return`${fp(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${fp(t)}=${fp(e[t])}`).join("")}`;var e}const gp=/^[^\/()?;=#]+/;function yp(t){const e=t.match(gp);return e?e[0]:""}const vp=/^[^=?&#]+/,bp=/^[^?&#]+/;class _p{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rp([],{}):new rp([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r.primary=new rp(t,e)),r}parseSegment(){const t=yp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new np(dp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=yp(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const t=yp(this.remaining);t&&(r=t,this.capture(r))}t[dp(e)]=dp(r)}parseQueryParam(t){const e=function(t){const e=t.match(vp);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(bp);return e?e[0]:""}(this.remaining);t&&(r=t,this.capture(r))}const n=pp(e),i=pp(r);if(t.hasOwnProperty(n)){let e=t[n];Array.isArray(e)||(e=[e],t[n]=e),e.push(i)}else t[n]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yp(this.remaining),n=this.remaining[r.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let i;r.indexOf(":")>-1?(i=r.substr(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ud);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new rp([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class wp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Sp(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Sp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ep(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ep(t,this._root).map(t=>t.value)}}function Sp(t,e){if(t===e.value)return e;for(const r of e.children){const e=Sp(t,r);if(e)return e}return null}function Ep(t,e){if(t===e.value)return[e];for(const r of e.children){const n=Ep(t,r);if(n.length)return n.unshift(e),n}return[]}class Cp{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function kp(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Ap extends wp{constructor(t,e){super(t),this.snapshot=e,Fp(this,t)}toString(){return this.snapshot.toString()}}function xp(t,e){const r=function(t,e){const r=new Rp([],{},{},"",{},Ud,e,null,t.root,-1,{});return new Pp("",new Cp(r,[]))}(t,e),n=new Tf([new np("",{})]),i=new Tf({}),s=new Tf({}),o=new Tf({}),a=new Tf(""),c=new Tp(n,i,o,a,s,Ud,e,r.root);return c.snapshot=r.root,new Ap(new Cp(c,[]),r)}class Tp{constructor(t,e,r,n,i,s,o,a){this.url=t,this.params=e,this.queryParams=r,this.fragment=n,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(A(t=>Hd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(A(t=>Hd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ip(t,e="emptyOnly"){const r=t.pathFromRoot;let n=0;if("always"!==e)for(n=r.length-1;n>=1;){const t=r[n],e=r[n-1];if(t.routeConfig&&""===t.routeConfig.path)n--;else{if(e.component)break;n--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(n))}class Rp{constructor(t,e,r,n,i,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=n,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pp extends wp{constructor(t,e){super(e),this.url=t,Fp(this,e)}toString(){return Op(this._root)}}function Fp(t,e){e.value._routerState=t,e.children.forEach(e=>Fp(t,e))}function Op(t){const e=t.children.length>0?` { ${t.children.map(Op).join(", ")} } `:"";return`${t.value}${e}`}function Mp(t){if(t.snapshot){const e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,zd(e.queryParams,r.queryParams)||t.queryParams.next(r.queryParams),e.fragment!==r.fragment&&t.fragment.next(r.fragment),zd(e.params,r.params)||t.params.next(r.params),function(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!zd(t[r],e[r]))return!1;return!0}(e.url,r.url)||t.url.next(r.url),zd(e.data,r.data)||t.data.next(r.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Bp(t,e){var r,n;return zd(t.params,e.params)&&ip(r=t.url,n=e.url)&&r.every((t,e)=>zd(t.parameters,n[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Bp(t.parent,e.parent))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Np(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=e.value;const i=function(t,e,r){return e.children.map(e=>{for(const n of r.children)if(t.shouldReuseRoute(e.value,n.value.snapshot))return Np(t,e,n);return Np(t,e)})}(t,e,r);return new Cp(n,i)}{const r=t.retrieve(e.value);if(r){const t=r.route;return Dp(e,t),t}{const r=new Tp(new Tf((n=e.value).url),new Tf(n.params),new Tf(n.queryParams),new Tf(n.fragment),new Tf(n.data),n.outlet,n.component,n),i=e.children.map(e=>Np(t,e));return new Cp(r,i)}}var n;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */}function Dp(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)Dp(t.children[r],e.children[r])}function Lp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function jp(t){return"object"==typeof t&&null!=t&&t.outlets}function Up(t,e,r,n,i){let s={};return n&&Qd(n,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ep(r.root===t?e:Vp(r.root,t,e),s,i)}function Vp(t,e,r){const n={};return Qd(t.children,(t,i)=>{n[i]=t===e?r:Vp(t,e,r)}),new rp(t.segments,n)}class Hp{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Lp(r[0]))throw new Error("Root segment cannot have matrix parameters");const n=r.find(jp);if(n&&n!==Gd(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qp{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Kp(t,e,r){if(t||(t=new rp([],{})),0===t.segments.length&&t.hasChildren())return zp(t,e,r);const n=function(t,e,r){let n=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return s;const e=t.segments[i],o=r[n];if(jp(o))break;const a=`${o}`,c=n<r.length-1?r[n+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Qp(a,c,e))return s;n+=2}else{if(!Qp(a,{},e))return s;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const e=new rp(t.segments.slice(0,n.pathIndex),{});return e.children.primary=new rp(t.segments.slice(n.pathIndex),t.children),zp(e,0,i)}return n.match&&0===i.length?new rp(t.segments,{}):n.match&&!t.hasChildren()?Wp(t,e,r):n.match?zp(t,0,i):Wp(t,e,r)}function zp(t,e,r){if(0===r.length)return new rp(t.segments,{});{const n=function(t){return jp(t[0])?t[0].outlets:{[Ud]:t}}(r),i={};return Qd(n,(r,n)=>{"string"==typeof r&&(r=[r]),null!==r&&(i[n]=Kp(t.children[n],e,r))}),Qd(t.children,(t,e)=>{void 0===n[e]&&(i[e]=t)}),new rp(t.segments,i)}}function Wp(t,e,r){const n=t.segments.slice(0,e);let i=0;for(;i<r.length;){const s=r[i];if(jp(s)){const t=$p(s.outlets);return new rp(n,t)}if(0===i&&Lp(r[0])){n.push(new np(t.segments[e].path,r[0])),i++;continue}const o=jp(s)?s.outlets.primary:`${s}`,a=i<r.length-1?r[i+1]:null;o&&a&&Lp(a)?(n.push(new np(o,Gp(a))),i+=2):(n.push(new np(o,{})),i++)}return new rp(n,{})}function $p(t){const e={};return Qd(t,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Wp(new rp([],{}),0,t))}),e}function Gp(t){const e={};return Qd(t,(t,r)=>e[r]=`${t}`),e}function Qp(t,e,r){return t==r.path&&zd(e,r.parameters)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Jp{constructor(t,e,r,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=n}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Mp(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const n=kp(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,n[e],r),delete n[e]}),Qd(n,(t,e)=>{this.deactivateRouteAndItsChildren(t,r)})}deactivateRoutes(t,e,r){const n=t.value,i=e?e.value:null;if(n===i)if(n.component){const i=r.getContext(n.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet);if(r&&r.outlet){const e=r.outlet.detach(),n=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:n})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),n=r&&t.value.component?r.children:e,i=kp(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],n);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}activateChildRoutes(t,e,r){const n=kp(e);t.children.forEach(t=>{this.activateRoutes(t,n[t.value.outlet],r),this.forwardEvent(new Ld(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Nd(t.value.snapshot))}activateRoutes(t,e,r){const n=t.value,i=e?e.value:null;if(Mp(n),n===i)if(n.component){const i=r.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,r);else if(n.component){const e=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const t=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Zp(t.route)}else{const r=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(n.snapshot),i=r?r.module.componentFactoryResolver:null;e.attachRef=null,e.route=n,e.resolver=i,e.outlet&&e.outlet.activateWith(n,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,r)}}function Zp(t){Mp(t.value),t.children.forEach(Zp)}class Yp{constructor(t,e){this.routes=t,this.module=e}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Xp(t){return"function"==typeof t}function tm(t){return t instanceof ep}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const em=Symbol("INITIAL_VALUE");function rm(){return Vf(t=>Of(t.map(t=>t.pipe(zf(1),Gf(em)))).pipe(Qf((t,e)=>{let r=!1;return e.reduce((t,n,i)=>{if(t!==em)return t;if(n===em&&(r=!0),!r){if(!1===n)return n;if(i===e.length-1||tm(n))return n}return t},t)},em),Yf(t=>t!==em),A(t=>tm(t)?t:!0===t),zf(1)))}let nm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=jt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Mo(0,"router-outlet")},directives:function(){return[Ym]},encapsulation:2}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function im(t,e=""){for(let r=0;r<t.length;r++){const n=t[r];sm(n,om(e,n))}}function sm(t,e){t.children&&im(t.children,e)}function om(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function am(t){const e=t.children&&t.children.map(am),r=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!r.component&&(e||r.loadChildren)&&r.outlet&&r.outlet!==Ud&&(r.component=nm),r}function cm(t){return t.outlet||Ud}function um(t,e){const r=t.filter(t=>cm(t)===e);return r.push(...t.filter(t=>cm(t)!==e)),r}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const lm={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function hm(t,e,r){var n;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||r.length>0)?Object.assign({},lm):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Kd)(r,t,e);if(!i)return Object.assign({},lm);const s={};Qd(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(n=i.posParams)&&void 0!==n?n:{}}}function fm(t,e,r,n,i="corrected"){if(r.length>0&&function(t,e,r){return r.some(r=>dm(t,e,r)&&cm(r)!==Ud)}(t,r,n)){const i=new rp(e,function(t,e,r,n){const i={};i.primary=n,n._sourceSegment=t,n._segmentIndexShift=e.length;for(const s of r)if(""===s.path&&cm(s)!==Ud){const r=new rp([],{});r._sourceSegment=t,r._segmentIndexShift=e.length,i[cm(s)]=r}return i}(t,e,n,new rp(r,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===r.length&&function(t,e,r){return r.some(r=>dm(t,e,r))}(t,r,n)){const s=new rp(t.segments,function(t,e,r,n,i,s){const o={};for(const a of n)if(dm(t,r,a)&&!i[cm(a)]){const r=new rp([],{});r._sourceSegment=t,r._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[cm(a)]=r}return Object.assign(Object.assign({},i),o)}(t,e,r,n,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:r}}const s=new rp(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:r}}function dm(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&""===r.path}function pm(t,e,r,n){return!!(cm(t)===n||n!==Ud&&dm(e,r,t))&&("**"===t.path||hm(e,t,r).matched)}function mm(t,e,r){return 0===e.length&&!t.children[r]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class gm{constructor(t){this.segmentGroup=t||null}}class ym{constructor(t){this.urlTree=t}}function vm(t){return new v(e=>e.error(new gm(t)))}function bm(t){return new v(e=>e.error(new ym(t)))}function _m(t){return new v(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class wm{constructor(t,e,r,n,i){this.configLoader=e,this.urlSerializer=r,this.urlTree=n,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Rc)}apply(){const t=fm(this.urlTree.root,[],[],this.config).segmentGroup,e=new rp(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ud).pipe(A(t=>this.createUrlTree(Sm(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ed(t=>{if(t instanceof ym)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof gm)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ud).pipe(A(e=>this.createUrlTree(Sm(e),t.queryParams,t.fragment))).pipe(ed(t=>{if(t instanceof gm)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const n=t.segments.length>0?new rp([],{[Ud]:t}):t;return new ep(n,e,r)}expandSegmentGroup(t,e,r,n){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(A(t=>new rp([],t))):this.expandSegment(t,r,e,r.segments,n,!0)}expandChildren(t,e,r){const n=[];for(const i of Object.keys(r.children))"primary"===i?n.unshift(i):n.push(i);return N(n).pipe(id(n=>{const i=r.children[n],s=um(e,n);return this.expandSegmentGroup(t,s,i,n).pipe(A(t=>({segment:t,outlet:n})))}),Qf((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const r=arguments.length>=2;return n=>n.pipe(t?Yf((e,r)=>t(e,r,n)):y,sd(1),r?fd(e):cd(()=>new Nf))}())}expandSegment(t,e,r,n,i,s){return N(r).pipe(id(o=>this.expandSegmentAgainstRoute(t,e,r,o,n,i,s).pipe(ed(t=>{if(t instanceof gm)return xf(null);throw t}))),md(t=>!!t),ed((t,r)=>{if(t instanceof Nf||"EmptyError"===t.name){if(mm(e,n,i))return xf(new rp([],{}));throw new gm(e)}throw t}))}expandSegmentAgainstRoute(t,e,r,n,i,s,o){return pm(n,e,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,e,n,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,n,i,s):vm(e):vm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,n,i,s){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,n,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,n,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,n){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bm(i):this.lineralizeSegments(r,i).pipe(U(r=>{const i=new rp(r,{});return this.expandSegment(t,i,e,r,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,n,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=hm(e,n,i);if(!o)return vm(e);const l=this.applyRedirectCommands(a,n.redirectTo,u);return n.redirectTo.startsWith("/")?bm(l):this.lineralizeSegments(n,l).pipe(U(n=>this.expandSegment(t,e,r,n.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,r,n,i){if("**"===r.path)return r.loadChildren?this.configLoader.load(t.injector,r).pipe(A(t=>(r._loadedConfig=t,new rp(n,{})))):xf(new rp(n,{}));const{matched:s,consumedSegments:o,lastChild:a}=hm(e,r,n);if(!s)return vm(e);const c=n.slice(a);return this.getChildConfig(t,r,n).pipe(U(t=>{const n=t.module,s=t.routes,{segmentGroup:a,slicedSegments:u}=fm(e,o,c,s),l=new rp(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(n,s,l).pipe(A(t=>new rp(o,t)));if(0===s.length&&0===u.length)return xf(new rp(o,{}));const h=cm(r)===i;return this.expandSegment(n,l,s,u,h?Ud:i,!0).pipe(A(t=>new rp(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,r){return e.children?xf(new Yp(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?xf(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(U(r=>r?this.configLoader.load(t.injector,e).pipe(A(t=>(e._loadedConfig=t,t))):function(t){return new v(e=>e.error(qd(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):xf(new Yp([],t))}runCanLoadGuards(t,e,r){const n=e.canLoad;return n&&0!==n.length?xf(n.map(n=>{const i=t.get(n);let s;if(function(t){return t&&Xp(t.canLoad)}(i))s=i.canLoad(e,r);else{if(!Xp(i))throw new Error("Invalid CanLoad guard");s=i(e,r)}return Jd(s)})).pipe(rm(),yd(t=>{if(!tm(t))return;const e=qd(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),A(t=>!0===t)):xf(!0)}lineralizeSegments(t,e){let r=[],n=e.root;for(;;){if(r=r.concat(n.segments),0===n.numberOfChildren)return xf(r);if(n.numberOfChildren>1||!n.children.primary)return _m(t.redirectTo);n=n.children.primary}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,n){const i=this.createSegmentGroup(t,e.root,r,n);return new ep(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Qd(t,(t,n)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);r[n]=e[i]}else r[n]=t}),r}createSegmentGroup(t,e,r,n){const i=this.createSegments(t,e.segments,r,n);let s={};return Qd(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,r,n)}),new rp(i,s)}createSegments(t,e,r,n){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,n):this.findOrReturn(e,r))}findPosParam(t,e,r){const n=r[e.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return n}findOrReturn(t,e){let r=0;for(const n of e){if(n.path===t.path)return e.splice(r),n;r++}return t}}function Sm(t){const e={};for(const r of Object.keys(t.children)){const n=Sm(t.children[r]);(n.segments.length>0||n.hasChildren())&&(e[r]=n)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new rp(t.segments.concat(e.segments),e.children)}return t}(new rp(t.segments,e))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Em{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cm{constructor(t,e){this.component=t,this.route=e}}function km(t,e,r){const n=t._root;return xm(n,e?e._root:null,r,[n.value])}function Am(t,e,r){const n=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:r).get(t)}function xm(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=kp(e);return t.children.forEach(t=>{!function(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,r){if("function"==typeof r)return r(t,e);switch(r){case"pathParamsChange":return!ip(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ip(t.url,e.url)||!zd(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bp(t,e)||!zd(t.queryParams,e.queryParams);case"paramsChange":default:return!Bp(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Em(n)):(s.data=o.data,s._resolvedData=o._resolvedData),xm(t,e,s.component?a?a.children:null:r,n,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cm(a.outlet.component,o))}else o&&Tm(e,a,i),i.canActivateChecks.push(new Em(n)),xm(t,null,s.component?a?a.children:null:r,n,i)}(t,s[t.value.outlet],r,n.concat([t.value]),i),delete s[t.value.outlet]}),Qd(s,(t,e)=>Tm(t,r.getContext(e),i)),i}function Tm(t,e,r){const n=kp(t),i=t.value;Qd(n,(t,n)=>{Tm(t,i.component?e?e.children.getContext(n):null:e,r)}),r.canDeactivateChecks.push(new Cm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Im{}function Rm(t){return new v(e=>e.error(t))}class Pm{constructor(t,e,r,n,i,s){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=n,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=fm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ud);if(null===e)return null;const r=new Rp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ud,this.rootComponentType,null,this.urlTree.root,-1,{}),n=new Cp(r,e),i=new Pp(this.url,n);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,r=Ip(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const i of Object.keys(e.children)){const n=e.children[i],s=um(t,i),o=this.processSegmentGroup(s,n,i);if(null===o)return null;r.push(...o)}const n=function(t){const e=[];for(const r of t){if(!Fm(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...r.children):e.push(r)}return e}(r);return n.sort((t,e)=>t.value.outlet===Ud?-1:e.value.outlet===Ud?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,r,n){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,r,n);if(null!==t)return t}return mm(e,r,n)?[]:null}processSegmentAgainstRoute(t,e,r,n){if(t.redirectTo||!pm(t,e,r,n))return null;let i,s=[],o=[];if("**"===t.path){const n=r.length>0?Gd(r).parameters:{};i=new Rp(r,n,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bm(t),cm(t),t.component,t,Om(e),Mm(e)+r.length,Nm(t))}else{const n=hm(e,t,r);if(!n.matched)return null;s=n.consumedSegments,o=r.slice(n.lastChild),i=new Rp(s,n.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bm(t),cm(t),t.component,t,Om(e),Mm(e)+s.length,Nm(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=fm(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Cp(i,t)]}if(0===a.length&&0===u.length)return[new Cp(i,[])];const l=cm(t)===n,h=this.processSegment(a,c,u,l?Ud:n);return null===h?null:[new Cp(i,h)]}}function Fm(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Om(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Mm(t){let e=t,r=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,r+=e._segmentIndexShift?e._segmentIndexShift:0;return r-1}function Bm(t){return t.data||{}}function Nm(t){return t.resolve||{}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Dm(t){return Vf(e=>{const r=t(e);return r?N(r).pipe(A(()=>e)):xf(e)})}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Lm extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const jm=new Qr("ROUTES");class Um{constructor(t,e,r,n){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=n}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(A(r=>{this.onLoadEndListener&&this.onLoadEndListener(e);const n=r.create(t);return new Yp($d(n.injector.get(jm)).map(am),n)}))}loadModuleFactory(t){return"string"==typeof t?N(this.loader.load(t)):Jd(t()).pipe(U(t=>t instanceof Pc?xf(t):N(this.compiler.compileModuleAsync(t))))}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Vm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hm,this.attachRef=null}}class Hm{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Vm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class qm{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Km(t){throw t}function zm(t,e,r){return e.parse("/")}function Wm(t,e){return xf(null)}let $m=(()=>{class t{constructor(t,e,r,n,i,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=r,this.location=n,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=Km,this.malformedUriErrorHandler=zm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wm,afterPreactivation:Wm},this.urlHandlingStrategy=new qm,this.routeReuseStrategy=new Lm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(Rc),this.console=i.get(Bu);const c=i.get(Gu);this.isNgZoneEnabled=c instanceof Gu&&Gu.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new ep(new rp([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Um(s,o,t=>this.triggerEvent(new Od(t)),t=>this.triggerEvent(new Md(t))),this.routerState=xp(this.currentUrlTree,this.rootComponentType),this.transitions=new Tf({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Yf(t=>0!==t.id),A(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Vf(t=>{let r=!1,n=!1;return xf(t).pipe(yd(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vf(t=>{const r=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||r)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return xf(t).pipe(Vf(t=>{const r=this.transitions.getValue();return e.next(new Cd(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==this.transitions.getValue()?Lf:Promise.resolve(t)}),function(t,e,r,n){return Vf(i=>function(t,e,r,n,i){return new wm(t,e,r,n,i).apply()}(t,e,r,i.extractedUrl,n).pipe(A(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),yd(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,r,n,i){return U(s=>function(t,e,r,n,i="emptyOnly",s="legacy"){try{const o=new Pm(t,e,r,n,i,s).recognize();return null===o?Rm(new Im):xf(o)}catch(o){return Rm(o)}}(t,e,s.urlAfterRedirects,r(s.urlAfterRedirects),n,i).pipe(A(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),yd(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const r=new Td(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(r)}));if(r&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:r,extractedUrl:n,source:i,restoredState:s,extras:o}=t,a=new Cd(r,this.serializeUrl(n),i,s);e.next(a);const c=xp(n,this.rootComponentType).snapshot;return xf(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:n,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Lf}),Dm(t=>{const{targetSnapshot:e,id:r,extractedUrl:n,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:r,appliedUrlTree:n,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),yd(t=>{const e=new Id(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),A(t=>Object.assign(Object.assign({},t),{guards:km(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return U(r=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=r;return 0===o.length&&0===s.length?xf(Object.assign(Object.assign({},r),{guardsResult:!0})):function(t,e,r,n){return N(t).pipe(U(t=>function(t,e,r,n,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?xf(s.map(s=>{const o=Am(s,e,i);let a;if(function(t){return t&&Xp(t.canDeactivate)}(o))a=Jd(o.canDeactivate(t,e,r,n));else{if(!Xp(o))throw new Error("Invalid CanDeactivate guard");a=Jd(o(t,e,r,n))}return a.pipe(md())})).pipe(rm()):xf(!0)}(t.component,t.route,r,e,n)),md(t=>!0!==t,!0))}(o,n,i,t).pipe(U(r=>r&&"boolean"==typeof r?function(t,e,r,n){return N(e).pipe(id(e=>Df(function(t,e){return null!==t&&e&&e(new Bd(t)),xf(!0)}(e.route.parent,n),function(t,e){return null!==t&&e&&e(new Dd(t)),xf(!0)}(e.route,n),function(t,e,r){const n=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Uf(()=>xf(e.guards.map(i=>{const s=Am(i,e.node,r);let o;if(function(t){return t&&Xp(t.canActivateChild)}(s))o=Jd(s.canActivateChild(n,t));else{if(!Xp(s))throw new Error("Invalid CanActivateChild guard");o=Jd(s(n,t))}return o.pipe(md())})).pipe(rm())));return xf(i).pipe(rm())}(t,e.path,r),function(t,e,r){const n=e.routeConfig?e.routeConfig.canActivate:null;return n&&0!==n.length?xf(n.map(n=>Uf(()=>{const i=Am(n,e,r);let s;if(function(t){return t&&Xp(t.canActivate)}(i))s=Jd(i.canActivate(e,t));else{if(!Xp(i))throw new Error("Invalid CanActivate guard");s=Jd(i(e,t))}return s.pipe(md())}))).pipe(rm()):xf(!0)}(t,e.route,r))),md(t=>!0!==t,!0))}(n,s,t,e):xf(r)),A(t=>Object.assign(Object.assign({},r),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),yd(t=>{if(tm(t.guardsResult)){const e=qd(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Rd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Yf(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const r=new Ad(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(r),t.resolve(!1),!1}return!0}),Dm(t=>{if(t.guards.canActivateChecks.length)return xf(t).pipe(yd(t=>{const e=new Pd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Vf(t=>{let r=!1;return xf(t).pipe((n=this.paramsInheritanceStrategy,i=this.ngModule.injector,U(t=>{const{targetSnapshot:e,guards:{canActivateChecks:r}}=t;if(!r.length)return xf(t);let s=0;return N(r).pipe(id(t=>function(t,e,r,n){return function(t,e,r,n){const i=Object.keys(t);if(0===i.length)return xf({});const s={};return N(i).pipe(U(i=>function(t,e,r,n){const i=Am(t,e,n);return Jd(i.resolve?i.resolve(e,r):i(e,r))}(t[i],e,r,n).pipe(yd(t=>{s[i]=t}))),sd(1),U(()=>Object.keys(s).length===i.length?xf(s):Lf))}(t._resolve,t,e,n).pipe(A(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ip(t,r).resolve),null)))}(t.route,e,n,i)),yd(()=>s++),sd(1),U(e=>s===r.length?xf(t):Lf))})),yd({next:()=>r=!0,complete:()=>{if(!r){const r=new Ad(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(r),t.resolve(!1)}}}));var n,i}),yd(t=>{const e=new Fd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Dm(t=>{const{targetSnapshot:e,id:r,extractedUrl:n,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:r,appliedUrlTree:n,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),A(t=>{const e=function(t,e,r){const n=Np(t,e._root,r?r._root:void 0);return new Ap(n,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),yd(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),A(t=>(new Jp(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),yd({next(){r=!0},complete(){r=!0}}),_d(()=>{if(!r&&!n){this.resetUrlToCurrentUrlTree();const r=new Ad(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(r),t.resolve(!1)}this.currentNavigation=null}),ed(r=>{if(n=!0,(i=r)&&i.ngNavigationCancelingError){const n=tm(r.url);n||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ad(t.id,this.serializeUrl(t.extractedUrl),r.message);e.next(i),n?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(r.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const n=new xd(t.id,this.serializeUrl(t.extractedUrl),r);e.next(n);try{t.resolve(this.errorHandler(r))}catch(s){t.reject(s)}}var i;return Lf}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:r,urlTree:n}=e,i={replaceUrl:!0};if(r){const t=Object.assign({},r);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(n,t,r,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const r=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&r&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){im(t),this.config=t.map(am),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:r,queryParams:n,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=r||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=n||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,r,n,i){if(0===r.length)return Up(e.root,e.root,e,n,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Hp(!0,0,t);let e=0,r=!1;const n=t.reduce((t,n,i)=>{if("object"==typeof n&&null!=n){if(n.outlets){const e={};return Qd(n.outlets,(t,r)=>{e[r]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(n.segmentPath)return[...t,n.segmentPath]}return"string"!=typeof n?[...t,n]:0===i?(n.split("/").forEach((n,i)=>{0==i&&"."===n||(0==i&&""===n?r=!0:".."===n?e++:""!=n&&t.push(n))}),t):[...t,n]},[]);return new Hp(r,e,n)}(r);if(s.toRoot())return Up(e.root,new rp([],{}),e,n,i);const o=function(t,e,r){if(t.isAbsolute)return new qp(e.root,!0,0);if(-1===r.snapshot._lastPathIndex){const t=r.snapshot._urlSegment;return new qp(t,t===e.root,0)}const n=Lp(t.commands[0])?0:1;return function(t,e,r){let n=t,i=e,s=r;for(;s>i;){if(s-=i,n=n.parent,!n)throw new Error("Invalid number of '../'");i=n.segments.length}return new qp(n,!1,i-s)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+n,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?zp(o.segmentGroup,o.index,s.commands):Kp(o.segmentGroup,o.index,s.commands);return Up(o.segmentGroup,a,e,n,i)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const r=tm(t)?t:this.parseUrl(t),n=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const r=t[e];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(r){e=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return e}isActive(t,e){if(tm(t))return Zd(this.currentUrlTree,t,e);const r=this.parseUrl(t);return Zd(this.currentUrlTree,r,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return null!=n&&(e[r]=n),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new kd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,r,n,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:n,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,r,n){const i=this.urlSerializer.serialize(t);n=n||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},n),{navigationId:r})):this.location.go(i,"",Object.assign(Object.assign({},n),{navigationId:r}))}resetStateAndUrl(t,e,r){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(bn(Zr),bn(sp),bn(Hm),bn(Hl),bn(uo),bn(yl),bn(zu),bn(void 0))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Gm=(()=>{class t{constructor(t,e,r,n,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new E,null==r&&n.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Jm(this.skipLocationChange),replaceUrl:Jm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Jm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Io($m),Io(Tp),Wr("tabindex"),Io(Xa),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Vo("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ue]}),t})(),Qm=(()=>{class t{constructor(t,e,r){this.router=t,this.route=e,this.locationStrategy=r,this.commands=[],this.onChanges=new E,this.subscription=t.events.subscribe(t=>{t instanceof kd&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,r,n,i){if(0!==t||e||r||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Jm(this.skipLocationChange),replaceUrl:Jm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Jm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Io($m),Io(Tp),Io(Dl))},t.\u0275dir=zt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Vo("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(Aa("href",e.href,ri),ko("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ue]}),t})();function Jm(t){return""===t||!!t}let Zm=(()=>{class t{constructor(t,e,r,n,i,s){this.router=t,this.element=e,this.renderer=r,this.cdr=n,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof kd&&this.update()})}ngAfterContentInit(){xf(this.links.changes,this.linksWithHrefs.changes,xf(null)).pipe(q()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=N(e).pipe(q()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(Io($m),Io(Za),Io(Xa),Io(_c),Io(Gm,8),Io(Qm,8))},t.\u0275dir=zt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,r){if(1&t&&(bu(r,Gm,!0),bu(r,Qm,!0)),2&t){let t;mu(t=Su())&&(e.links=t),mu(t=Su())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ue]}),t})(),Ym=(()=>{class t{constructor(t,e,r,n,i){this.parentContexts=t,this.location=e,this.resolver=r,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new nu,this.deactivateEvents=new nu,this.name=n||Ud,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const r=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,i=new Xm(t,n,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Io(Hm),Io(Oc),Io($a),Wr("name"),Io(_c))},t.\u0275dir=zt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Xm{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Tp?this.route:t===Hm?this.childContexts:this.parent.get(t,e)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class tg{}class eg{preload(t,e){return xf(null)}}let rg=(()=>{class t{constructor(t,e,r,n,i){this.router=t,this.injector=n,this.preloadingStrategy=i,this.loader=new Um(e,r,e=>t.triggerEvent(new Od(e)),e=>t.triggerEvent(new Md(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yf(t=>t instanceof kd),id(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Rc);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const r=[];for(const n of e)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const t=n._loadedConfig;r.push(this.processRoutes(t.module,t.routes))}else n.loadChildren&&!n.canLoad?r.push(this.preloadConfig(t,n)):n.children&&r.push(this.processRoutes(t,n.children));return N(r).pipe(q(),A(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(U(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(bn($m),bn(yl),bn(zu),bn(uo),bn(tg))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),ng=(()=>{class t{constructor(t,e,r={}){this.router=t,this.viewportScroller=e,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jd&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new jd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(bn($m),bn(Wh),bn(void 0))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const ig=new Qr("ROUTER_CONFIGURATION"),sg=new Qr("ROUTER_FORROOT_GUARD"),og=[Hl,{provide:sp,useClass:op},{provide:$m,useFactory:function(t,e,r,n,i,s,o,a={},c,u){const l=new $m(null,t,e,r,n,i,s,$d(o));if(c&&(l.urlHandlingStrategy=c),u&&(l.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing){const t=Al();l.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l},deps:[sp,Hm,Hl,uo,yl,zu,jm,ig,[class{},new cn],[class{},new cn]]},Hm,{provide:Tp,useFactory:function(t){return t.routerState.root},deps:[$m]},{provide:yl,useClass:_l},rg,eg,class{preload(t,e){return e().pipe(ed(()=>xf(null)))}},{provide:ig,useValue:{enableTracing:!1}}];function ag(){return new ll("Router",$m)}let cg=(()=>{class t{constructor(t,e){}static forRoot(e,r){return{ngModule:t,providers:[og,fg(e),{provide:sg,useFactory:hg,deps:[[$m,new cn,new ln]]},{provide:ig,useValue:r||{}},{provide:Dl,useFactory:lg,deps:[Tl,[new an(jl),new cn],ig]},{provide:ng,useFactory:ug,deps:[$m,Wh,ig]},{provide:tg,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:eg},{provide:ll,multi:!0,useFactory:ag},[dg,{provide:xu,multi:!0,useFactory:pg,deps:[dg]},{provide:gg,useFactory:mg,deps:[dg]},{provide:Mu,multi:!0,useExisting:gg}]]}}static forChild(e){return{ngModule:t,providers:[fg(e)]}}}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(bn(sg,8),bn($m,8))}}),t})();function ug(t,e,r){return r.scrollOffset&&e.setOffset(r.scrollOffset),new ng(t,e,r)}function lg(t,e,r={}){return r.useHash?new Vl(t,e):new Ul(t,e)}function hg(t){return"guarded"}function fg(t){return[{provide:Jr,multi:!0,useValue:t},{provide:jm,multi:!0,useValue:t}]}let dg=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new E}appInitializer(){return this.injector.get(Rl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),r=this.injector.get($m),n=this.injector.get(ig);return"disabled"===n.initialNavigation?(r.setUpLocationChangeListener(),t(!0)):"enabled"===n.initialNavigation||"enabledBlocking"===n.initialNavigation?(r.hooks.afterPreactivation=()=>this.initNavigation?xf(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),r.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ig),r=this.injector.get(rg),n=this.injector.get(ng),i=this.injector.get($m),s=this.injector.get(ml);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),r.setUpPreloading(),n.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(bn(uo))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function pg(t){return t.appInitializer.bind(t)}function mg(t){return t.bootstrapListener.bind(t)}const gg=new Qr("Router Initializer");function yg(t,e){return new v(e?r=>e.schedule(vg,0,{error:t,subscriber:r}):e=>e.error(t))}function vg({error:t,subscriber:e}){e.error(t)}class bg{static saveToSession(t,e){sessionStorage.setItem(t,JSON.stringify(e))}static loadFromSession(t){return JSON.parse(sessionStorage.getItem(t))}static saveToLocalStorage(t,e){localStorage.setItem(t,JSON.stringify(e))}static loadFromLocalStorage(t){return JSON.parse(localStorage.getItem(t))}}
/**
 * @license Angular v11.0.9
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class _g{}class wg{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Sg{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const r=t.slice(0,e),n=r.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(r,n),this.headers.has(n)?this.headers.get(n).push(i):this.headers.set(n,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const n=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(n,r),this.maybeSetNormalizedName(e,n))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Sg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Sg;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Sg?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const n=("a"===t.op?this.headers.get(e):void 0)||[];n.push(...r),this.headers.set(e,n);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Eg{encodeKey(t){return Cg(t)}encodeValue(t){return Cg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Cg(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class kg{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Eg,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const r=new Map;return t.length>0&&t.split("&").forEach(t=>{const n=t.indexOf("="),[i,s]=-1==n?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,n)),e.decodeValue(t.slice(n+1))],o=r.get(i)||[];o.push(s),r.set(i,o)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new kg({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const r=e.indexOf(t.value);-1!==r&&e.splice(r,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ag(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function xg(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Tg(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ig{constructor(t,e,r,n){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==r?r:null,i=n):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Sg),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const r=e.indexOf("?");this.urlWithParams=e+(-1===r?"?":r<e.length-1?"&":"")+t}}else this.params=new kg,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ag(this.body)||xg(this.body)||Tg(this.body)||"string"==typeof this.body?this.body:this.body instanceof kg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tg(this.body)?null:xg(this.body)?this.body.type||null:Ag(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,n=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,r)=>e.set(r,t.setHeaders[r]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,r)=>e.set(r,t.setParams[r]),c)),new Ig(e,r,i,{params:c,headers:a,reportProgress:o,responseType:n,withCredentials:s})}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Rg=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Pg{constructor(t,e=200,r="OK"){this.headers=t.headers||new Sg,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Fg extends Pg{constructor(t={}){super(t),this.type=Rg.ResponseHeader}clone(t={}){return new Fg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Og extends Pg{constructor(t={}){super(t),this.type=Rg.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Og({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Mg extends Pg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Bg(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ng=(()=>{class t{constructor(t){this.handler=t}request(t,e,r={}){let n;if(t instanceof Ig)n=t;else{let i,s;i=r.headers instanceof Sg?r.headers:new Sg(r.headers),r.params&&(s=r.params instanceof kg?r.params:new kg({fromObject:r.params})),n=new Ig(t,e,void 0!==r.body?r.body:null,{headers:i,params:s,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const i=xf(n).pipe(id(t=>this.handler.handle(t)));if(t instanceof Ig||"events"===r.observe)return i;const s=i.pipe(Yf(t=>t instanceof Og));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return s.pipe(A(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(A(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(A(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(A(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new kg).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,r={}){return this.request("PATCH",t,Bg(r,e))}post(t,e,r={}){return this.request("POST",t,Bg(r,e))}put(t,e,r={}){return this.request("PUT",t,Bg(r,e))}}return t.\u0275fac=function(e){return new(e||t)(bn(_g))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Dg{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Lg=new Qr("HTTP_INTERCEPTORS");let jg=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Ug=/^\)\]\}',?\n/;class Vg{}let Hg=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),qg=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new v(e=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((t,e)=>r.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&r.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();r.responseType="json"!==e?e:"text"}const n=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===r.status?204:r.status,n=r.statusText||"OK",s=new Sg(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return i=new Fg({headers:s,status:e,statusText:n,url:o}),i},o=()=>{let{headers:n,status:i,statusText:o,url:a}=s(),c=null;204!==i&&(c=void 0===r.response?r.responseText:r.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(Ug,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new Og({body:c,headers:n,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Mg({error:c,headers:n,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:n}=s(),i=new Mg({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:n||void 0});e.error(i)};let c=!1;const u=n=>{c||(e.next(s()),c=!0);let i={type:Rg.DownloadProgress,loaded:n.loaded};n.lengthComputable&&(i.total=n.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),e.next(i)},l=t=>{let r={type:Rg.UploadProgress,loaded:t.loaded};t.lengthComputable&&(r.total=t.total),e.next(r)};return r.addEventListener("load",o),r.addEventListener("error",a),t.reportProgress&&(r.addEventListener("progress",u),null!==n&&r.upload&&r.upload.addEventListener("progress",l)),r.send(n),e.next({type:Rg.Sent}),()=>{r.removeEventListener("error",a),r.removeEventListener("load",o),t.reportProgress&&(r.removeEventListener("progress",u),null!==n&&r.upload&&r.upload.removeEventListener("progress",l)),r.readyState!==r.DONE&&r.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(bn(Vg))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Kg=new Qr("XSRF_COOKIE_NAME"),zg=new Qr("XSRF_HEADER_NAME");class Wg{}let $g=(()=>{class t{constructor(t,e,r){this.doc=t,this.platform=e,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ch(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(bn(xl),bn(Ou),bn(Kg))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Gg=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return e.handle(t);const n=this.tokenService.getToken();return null===n||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,n)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(bn(Wg),bn(zg))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Qg=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Lg,[]);this.chain=t.reduceRight((t,e)=>new Dg(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(bn(wg),bn(uo))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Jg=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Gg,useClass:jg}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Kg,useValue:e.cookieName}:[],e.headerName?{provide:zg,useValue:e.headerName}:[]]}}}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[Gg,{provide:Lg,useExisting:Gg,multi:!0},{provide:Wg,useClass:$g},{provide:Kg,useValue:"XSRF-TOKEN"},{provide:zg,useValue:"X-XSRF-TOKEN"}]}),t})(),Zg=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[Ng,{provide:_g,useClass:Qg},qg,{provide:wg,useExisting:qg},Hg,{provide:Vg,useExisting:Hg}],imports:[[Jg.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),Yg=(()=>{class t{constructor(t){this.http=t}fetchUser(t){return this.http.get(t,{headers:{Accept:"application/activity+json"}})}registerApp(e){const r=t.STORAGE_PREFIX_APP+btoa(e);return r in localStorage?(console.log("App is already in local storage, loading."),xf(bg.loadFromLocalStorage(r))):(console.log("App is not in local storage, retrieving..."),this.http.post(e,{client_name:"inbox",redirect_uris:t.CALLBACK_URI,scopes:"read write follow"},{headers:{"Content-Type":"application/json"}}).pipe(A(t=>(console.log("Registered app, saving to local storage: ",t),bg.saveToLocalStorage(r,t),t))))}logUserIn(e,r){const n=e.endpoints.oauthAuthorizationEndpoint+"?response_type=code&client_id="+r.client_id+"&redirect_uri="+encodeURIComponent(t.CALLBACK_URI)+"&state="+encodeURIComponent(e.id);location.assign(n)}getOAuthToken(e,r,n){const i=t.STORAGE_PREFIX_APP+btoa(n.oauthRegistrationEndpoint),s=bg.loadFromLocalStorage(i);return this.http.post(n.oauthTokenEndpoint,{grant_type:"authorization_code",code:e,client_id:s.client_id,client_secret:s.client_secret,redirect_uri:t.CALLBACK_URI,scope:"read write follow"},{headers:{"Content-Type":"application/json"}})}getWithToken(e){const r=bg.loadFromSession(t.STORAGE_TOKEN_KEY);return r?(console.log("Getting ",e," with token ",r),this.http.get(e,{headers:{Accept:"application/activity+json",Authorization:"Bearer "+r}})):(console.error("no token"),yg("no token"))}saveToken(e){bg.saveToSession(t.STORAGE_TOKEN_KEY,e)}}return t.STORAGE_KEY_USERS="pleroma_users",t.STORAGE_TOKEN_KEY="token",t.STORAGE_PREFIX_APP="inbox_app_data_",t.CALLBACK_URI=location.origin+"/pleroma",t.\u0275fac=function(e){return new(e||t)(bn(Ng))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Xg(t){return null!=t&&"false"!=`${t}`}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ty(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t)?Number(t):e}function ey(t){return Array.isArray(t)?t:[t]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ry(t){return null==t?"":"string"==typeof t?t:`${t}px`}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ny(t){return t instanceof Za?t.nativeElement:t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class iy extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class sy extends iy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(t,e,r=0){return setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,n=!1;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let oy=(()=>{class t{constructor(e,r=t.now){this.SchedulerAction=e,this.now=r}schedule(t,e=0,r){return new this.SchedulerAction(this,t).schedule(r,e)}}return t.now=()=>Date.now(),t})();class ay extends oy{constructor(t,e=oy.now){super(t,()=>ay.delegate&&ay.delegate!==this?ay.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,r){return ay.delegate&&ay.delegate!==this?ay.delegate.schedule(t,e,r):super.schedule(t,e,r)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const cy=new ay(sy);function uy(t,e=cy){return r=>r.lift(new ly(t,e))}class ly{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new hy(t,this.dueTime,this.scheduler))}}class hy extends p{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(fy,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function fy(t){t.debouncedNext()}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let dy,py=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:function(){return new t},token:t,providedIn:"root"}),t})(),my=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=ny(t);return new v(t=>{const r=this._observeElement(e).subscribe(t);return()=>{r.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new E,r=this._mutationObserverFactory.create(t=>e.next(t));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:r}=this._observedElements.get(t);e&&e.disconnect(),r.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(bn(py))},t.\u0275prov=ct({factory:function(){return new t(bn(py))},token:t,providedIn:"root"}),t})(),gy=(()=>{class t{constructor(t,e,r){this._contentObserver=t,this._elementRef=e,this._ngZone=r,this.event=new nu,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Xg(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ty(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(uy(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Io(my),Io(Za),Io(Gu))},t.\u0275dir=zt({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),yy=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[py]}),t})();try{dy="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(kF){dy=!1}let vy,by=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!dy)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(bn(Ou))},t.\u0275prov=ct({factory:function(){return new t(bn(Ou))},token:t,providedIn:"root"}),t})(),_y=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})();const wy=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Sy(){if(vy)return vy;if("object"!=typeof document||!document)return vy=new Set(wy),vy;let t=document.createElement("input");return vy=new Set(wy.filter(e=>(t.setAttribute("type",e),t.type===e))),vy}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let Ey,Cy,ky,Ay;function xy(t){return function(){if(null==Ey&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ey=!0}))}finally{Ey=Ey||!1}return Ey}()?t:!!t.capture}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ty(){if(null==ky){if("object"!=typeof document||!document)return ky=!1,ky;if("scrollBehavior"in document.documentElement.style)ky=!0;else{const t=Element.prototype.scrollTo;ky=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return ky}function Iy(){if("object"!=typeof document||!document)return 0;if(null==Cy){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const r=document.createElement("div"),n=r.style;n.width="2px",n.height="1px",t.appendChild(r),document.body.appendChild(t),Cy=0,0===t.scrollLeft&&(t.scrollLeft=1,Cy=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return Cy}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ry(t){if(function(){if(null==Ay){const t="undefined"!=typeof document?document.head:null;Ay=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ay}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Py(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Fy{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new E,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new E,this.change=new E,t instanceof su&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(yd(t=>this._pressedLetters.push(t)),uy(t),Yf(()=>this._pressedLetters.length>0),A(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let r=1;r<e.length+1;r++){const n=(this._activeItemIndex+r)%e.length,i=e[n];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(n);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Py(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t),n=e[r];this._activeItem=null==n?null:n,this._activeItemIndex=r}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const n=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[n]))return void this.setActiveItem(n)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof su?this._items.toArray():this._items}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Oy extends Fy{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class My extends Fy{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let By=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(kF){return null}}((r=t).ownerDocument&&r.ownerDocument.defaultView||window);var r;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */if(e){if(-1===Dy(e))return!1;if(!this.isVisible(e))return!1}let n=t.nodeName.toLowerCase(),i=Dy(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==n&&"object"!==n&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),r="input"===e&&t.type;return"text"===r||"password"===r||"select"===e||"textarea"===e}(t))&&("audio"===n?!!t.hasAttribute("controls")&&-1!==i:"video"===n?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Ny(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(bn(by))},t.\u0275prov=ct({factory:function(){return new t(bn(by))},token:t,providedIn:"root"}),t})();function Ny(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Dy(t){if(!Ny(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Ly{constructor(t,e,r,n,i=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<e.length;r++)e[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]):e[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=0;r<e.length;r++){let t=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=e.length-1;r>=0;r--){let t=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(zf(1)).subscribe(t)}}let jy=(()=>{class t{constructor(t,e,r){this._checker=t,this._ngZone=e,this._document=r}create(t,e=!1){return new Ly(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(bn(By),bn(Gu),bn(xl))},t.\u0275prov=ct({factory:function(){return new t(bn(By),bn(Gu),bn(xl))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Uy=new Qr("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Vy=new Qr("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Hy=(()=>{class t{constructor(t,e,r,n){this._ngZone=e,this._defaultOptions=n,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...e){const r=this._defaultOptions;let n,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[n,i]=e,this.clear(),clearTimeout(this._previousTimeout),n||(n=r&&r.politeness?r.politeness:"polite"),null==i&&r&&(i=r.duration),this._liveElement.setAttribute("aria-live",n),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return t.\u0275fac=function(e){return new(e||t)(bn(Uy,8),bn(Gu),bn(xl),bn(Vy,8))},t.\u0275prov=ct({factory:function(){return new t(bn(Uy,8),bn(Gu),bn(xl),bn(Vy,8))},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function qy(t){return 0===t.buttons}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Ky=new Qr("cdk-focus-monitor-default-options"),zy=xy({passive:!0,capture:!0});let Wy=(()=>{class t{constructor(t,e,r,n){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=qy(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=$y(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=$y(t),r="focus"===t.type?this._onFocus:this._onBlur;for(let n=e;n;n=n.parentElement)r.call(this,t,n)},this._document=r,this._detectionMode=(null==n?void 0:n.detectionMode)||0}monitor(t,e=!1){const r=ny(t);if(!this._platform.isBrowser||1!==r.nodeType)return xf(null);const n=Ry(r)||this._getDocument(),i=this._elementInfo.get(r);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new E,rootNode:n};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=ny(t),r=this._elementInfo.get(e);r&&(r.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(r))}focusVia(t,e,r){const n=ny(t);n===this._getDocument().activeElement?this._getClosestElementsInfo(n).forEach(([t,r])=>this._originChanged(t,e,r)):(this._setOriginForCurrentEventQueue(e),"function"==typeof n.focus&&n.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,r){r?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=$y(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const r=this._elementInfo.get(e);r&&(r.checkChildren||e===$y(t))&&this._originChanged(e,this._getFocusOrigin(t),r)}_onBlur(t,e){const r=this._elementInfo.get(e);!r||r.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(r.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,r=this._rootNodeFocusListenerCount.get(e)||0;r||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,zy),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,zy)}),this._rootNodeFocusListenerCount.set(e,r+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,zy),t.addEventListener("mousedown",this._documentMousedownListener,zy),t.addEventListener("touchstart",this._documentTouchstartListener,zy),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zy),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zy),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,zy),t.removeEventListener("mousedown",this._documentMousedownListener,zy),t.removeEventListener("touchstart",this._documentTouchstartListener,zy),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,r){this._setClasses(t,e),this._emitOrigin(r.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((r,n)=>{(n===t||r.checkChildren&&n.contains(t))&&e.push([n,r])}),e}}return t.\u0275fac=function(e){return new(e||t)(bn(Gu),bn(by),bn(xl,8),bn(Ky,8))},t.\u0275prov=ct({factory:function(){return new t(bn(Gu),bn(by),bn(xl,8),bn(Ky,8))},token:t,providedIn:"root"}),t})();function $y(t){return t.composedPath?t.composedPath()[0]:t.target}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Gy="cdk-high-contrast-black-on-white",Qy="cdk-high-contrast-white-on-black",Jy="cdk-high-contrast-active";let Zy=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,r=e&&e.getComputedStyle?e.getComputedStyle(t):null,n=(r&&r.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),n){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Jy),t.remove(Gy),t.remove(Qy);const e=this.getHighContrastMode();1===e?(t.add(Jy),t.add(Gy)):2===e&&(t.add(Jy),t.add(Qy))}}}return t.\u0275fac=function(e){return new(e||t)(bn(by),bn(xl))},t.\u0275prov=ct({factory:function(){return new t(bn(by),bn(xl))},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Yy=new Qr("cdk-dir-doc",{providedIn:"root",factory:function(){return _n(xl)}});let Xy=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new nu,t){const e=t.documentElement?t.documentElement.dir:null,r=(t.body?t.body.dir:null)||e;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(bn(Yy,8))},t.\u0275prov=ct({factory:function(){return new t(bn(Yy,8))},token:t,providedIn:"root"}),t})(),tv=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const ev=new rc("11.0.4");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license Angular v11.0.9
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */
class rv{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const nv="*";function iv(t,e){return{type:7,name:t,definitions:e,options:{}}}function sv(t,e=null){return{type:4,styles:e,timings:t}}function ov(t,e=null){return{type:2,steps:t,options:e}}function av(t){return{type:6,styles:t,offset:null}}function cv(t,e,r){return{type:0,name:t,styles:e,options:r}}function uv(t,e,r=null){return{type:1,expr:t,animation:e,options:r}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function lv(t){Promise.resolve(null).then(t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class hv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class fv{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,n=0;const i=this.players.length;0==i?lv(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++r==i&&this._onDestroy()}),t.onStart(()=>{++n==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const r=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(r)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function dv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function pv(t){switch(t.length){case 0:return new hv;case 1:return t[0];default:return new fv(t)}}function mv(t,e,r,n,i={},s={}){const o=[],a=[];let c=-1,u=null;if(n.forEach(t=>{const r=t.offset,n=r==c,l=n&&u||{};Object.keys(t).forEach(r=>{let n=r,a=t[r];if("offset"!==r)switch(n=e.normalizePropertyName(n,o),a){case"!":a=i[r];break;case nv:a=s[r];break;default:a=e.normalizeStyleValue(r,n,a,o)}l[n]=a}),n||a.push(l),u=l,c=r}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function gv(t,e,r,n){switch(e){case"start":t.onStart(()=>n(r&&yv(r,"start",t)));break;case"done":t.onDone(()=>n(r&&yv(r,"done",t)));break;case"destroy":t.onDestroy(()=>n(r&&yv(r,"destroy",t)))}}function yv(t,e,r){const n=r.totalTime,i=vv(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==n?t.totalTime:n,!!r.disabled),s=t._data;return null!=s&&(i._data=s),i}function vv(t,e,r,n,i="",s=0,o){return{element:t,triggerName:e,fromState:r,toState:n,phaseName:i,totalTime:s,disabled:!!o}}function bv(t,e,r){let n;return t instanceof Map?(n=t.get(e),n||t.set(e,n=r)):(n=t[e],n||(n=t[e]=r)),n}function _v(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let wv=(t,e)=>!1,Sv=(t,e)=>!1,Ev=(t,e,r)=>[];const Cv=dv();(Cv||"undefined"!=typeof Element)&&(wv=(t,e)=>t.contains(e),Sv=(()=>{if(Cv||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):Sv}})(),Ev=(t,e,r)=>{let n=[];if(r){const r=t.querySelectorAll(e);for(let t=0;t<r.length;t++)n.push(r[t])}else{const r=t.querySelector(e);r&&n.push(r)}return n});let kv=null,Av=!1;function xv(t){kv||(kv=("undefined"!=typeof document?document.body:null)||{},Av=!!kv.style&&"WebkitAppearance"in kv.style);let e=!0;return kv.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in kv.style,!e&&Av)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in kv.style),e}const Tv=Sv,Iv=wv,Rv=Ev;function Pv(t){const e={};return Object.keys(t).forEach(r=>{const n=r.replace(/([a-z])([A-Z])/g,"$1-$2");e[n]=t[r]}),e}let Fv=(()=>{class t{validateStyleProperty(t){return xv(t)}matchesElement(t,e){return Tv(t,e)}containsElement(t,e){return Iv(t,e)}query(t,e,r){return Rv(t,e,r)}computeStyle(t,e,r){return r||""}animate(t,e,r,n,i,s=[],o){return new hv(r,n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Ov=(()=>{class t{}return t.NOOP=new Fv,t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Mv="ng-enter",Bv="ng-leave",Nv="ng-trigger",Dv=".ng-trigger",Lv="ng-animating",jv=".ng-animating";function Uv(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Vv(parseFloat(e[1]),e[2])}function Vv(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Hv(t,e,r){return t.hasOwnProperty("duration")?t:function(t,e,r){let n,i=0,s="";if("string"==typeof t){const r=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===r)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};n=Vv(parseFloat(r[1]),r[2]);const o=r[3];null!=o&&(i=Vv(parseFloat(o),r[4]));const a=r[5];a&&(s=a)}else n=t;if(!r){let r=!1,s=e.length;n<0&&(e.push("Duration values below 0 are not allowed for this animation step."),r=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),r=!0),r&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:n,delay:i,easing:s}}(t,e,r)}function qv(t,e={}){return Object.keys(t).forEach(r=>{e[r]=t[r]}),e}function Kv(t,e,r={}){if(e)for(let n in t)r[n]=t[n];else qv(t,r);return r}function zv(t,e,r){return r?e+":"+r+";":""}function Wv(t){let e="";for(let r=0;r<t.style.length;r++){const n=t.style.item(r);e+=zv(0,n,t.style.getPropertyValue(n))}for(const r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=zv(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function $v(t,e,r){t.style&&(Object.keys(e).forEach(n=>{const i=eb(n);r&&!r.hasOwnProperty(n)&&(r[n]=t.style[i]),t.style[i]=e[n]}),dv()&&Wv(t))}function Gv(t,e){t.style&&(Object.keys(e).forEach(e=>{const r=eb(e);t.style[r]=""}),dv()&&Wv(t))}function Qv(t){return Array.isArray(t)?1==t.length?t[0]:ov(t):t}const Jv=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zv(t){let e=[];if("string"==typeof t){let r;for(;r=Jv.exec(t);)e.push(r[1]);Jv.lastIndex=0}return e}function Yv(t,e,r){const n=t.toString(),i=n.replace(Jv,(t,n)=>{let i=e[n];return e.hasOwnProperty(n)||(r.push(`Please provide a value for the animation param ${n}`),i=""),i.toString()});return i==n?t:i}function Xv(t){const e=[];let r=t.next();for(;!r.done;)e.push(r.value),r=t.next();return e}const tb=/-+([a-z0-9])/g;function eb(t){return t.replace(tb,(...t)=>t[1].toUpperCase())}function rb(t,e){return 0===t||0===e}function nb(t,e,r){const n=Object.keys(r);if(n.length&&e.length){let s=e[0],o=[];if(n.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=r[t]}),o.length)for(var i=1;i<e.length;i++){let r=e[i];o.forEach(function(e){r[e]=sb(t,e)})}}return e}function ib(t,e,r){switch(e.type){case 7:return t.visitTrigger(e,r);case 0:return t.visitState(e,r);case 1:return t.visitTransition(e,r);case 2:return t.visitSequence(e,r);case 3:return t.visitGroup(e,r);case 4:return t.visitAnimate(e,r);case 5:return t.visitKeyframes(e,r);case 6:return t.visitStyle(e,r);case 8:return t.visitReference(e,r);case 9:return t.visitAnimateChild(e,r);case 10:return t.visitAnimateRef(e,r);case 11:return t.visitQuery(e,r);case 12:return t.visitStagger(e,r);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function sb(t,e){return window.getComputedStyle(t)[e]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const ob="*";function ab(t,e){const r=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,r){if(":"==t[0]){const n=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,r);if("function"==typeof n)return void e.push(n);t=n}const n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return r.push(`The provided transition expression "${t}" is not supported`),e;const i=n[1],s=n[2],o=n[3];e.push(lb(i,o)),"<"!=s[0]||i==ob&&o==ob||e.push(lb(o,i))}(t,r,e)):r.push(t),r}const cb=new Set(["true","1"]),ub=new Set(["false","0"]);function lb(t,e){const r=cb.has(t)||ub.has(t),n=cb.has(e)||ub.has(e);return(i,s)=>{let o=t==ob||t==i,a=e==ob||e==s;return!o&&r&&"boolean"==typeof i&&(o=i?cb.has(t):ub.has(t)),!a&&n&&"boolean"==typeof s&&(a=s?cb.has(e):ub.has(e)),o&&a}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const hb=new RegExp("s*:selfs*,?","g");function fb(t,e,r){return new db(t).build(e,r)}class db{constructor(t){this._driver=t}build(t,e){const r=new pb(e);return this._resetContextStyleTimingState(r),ib(this,Qv(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,n=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const r=t,n=r.name;n.toString().split(/\s*,\s*/).forEach(t=>{r.name=t,i.push(this.visitState(r,e))}),r.name=n}else if(1==t.type){const i=this.visitTransition(t,e);r+=i.queryCount,n+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:r,depCount:n,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(r.containsDynamicStyles){const i=new Set,s=n||{};if(r.styles.forEach(t=>{if(mb(t)){const e=t;Object.keys(e).forEach(t=>{Zv(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const r=Xv(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${r.join(", ")}`)}}return{type:0,name:t.name,style:r,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=ib(this,Qv(t.animation),e);return{type:1,matchers:ab(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:gb(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>ib(this,t,e)),options:gb(t.options)}}visitGroup(t,e){const r=e.currentTime;let n=0;const i=t.steps.map(t=>{e.currentTime=r;const i=ib(this,t,e);return n=Math.max(n,e.currentTime),i});return e.currentTime=n,{type:3,steps:i,options:gb(t.options)}}visitAnimate(t,e){const r=function(t,e){let r=null;if(t.hasOwnProperty("duration"))r=t;else if("number"==typeof t)return yb(Hv(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=yb(0,0,"");return t.dynamic=!0,t.strValue=n,t}return r=r||Hv(n,e),yb(r.duration,r.delay,r.easing)}(t.timings,e.errors);let n;e.currentAnimateTimings=r;let i=t.styles?t.styles:av({});if(5==i.type)n=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};r.easing&&(t.easing=r.easing),i=av(t)}e.currentTime+=r.duration+r.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,n=o}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==nv?r.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):r.push(t)}):r.push(t.styles);let n=!1,i=null;return r.forEach(t=>{if(mb(t)){const e=t,r=e.easing;if(r&&(i=r,delete e.easing),!n)for(let t in e)if(e[t].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:r,easing:i,offset:t.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let n=e.currentTime,i=e.currentTime;r&&i>0&&(i-=r.duration+r.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(r=>{if(!this._driver.validateStyleProperty(r))return void e.errors.push(`The provided animation property "${r}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[r];let a=!0;o&&(i!=n&&i>=o.startTime&&n<=o.endTime&&(e.errors.push(`The CSS property "${r}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${n}ms"`),a=!1),i=o.startTime),a&&(s[r]={startTime:i,endTime:n}),e.options&&function(t,e,r){const n=e.params||{},i=Zv(t);i.length&&i.forEach(t=>{n.hasOwnProperty(t)||r.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[r],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let n=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const r=this._makeStyleAst(t,e);let c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(mb(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(mb(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}return e}(r.styles),u=0;return null!=c&&(n++,u=r.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),r});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;n>0&&n<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(l=1/(u-1));const h=u-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return c.forEach((t,n)=>{const s=l>0?n==h?1:l*n:i[n],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,r.styles.push(t)}),r}visitReference(t,e){return{type:8,animation:ib(this,Qv(t.animation),e),options:gb(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:gb(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:gb(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(hb,"")),[t=t.replace(/@\*/g,Dv).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,jv),e]}(t.selector);e.currentQuerySelector=r.length?r+" "+i:i,bv(e.collectedStyles,e.currentQuerySelector,{});const o=ib(this,Qv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:i,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:gb(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Hv(t.timings,e.errors,!0);return{type:12,animation:ib(this,Qv(t.animation),e),timings:r,options:null}}}class pb{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function mb(t){return!Array.isArray(t)&&"object"==typeof t}function gb(t){var e;return t?(t=qv(t)).params&&(t.params=(e=t.params)?qv(e):null):t={},t}function yb(t,e,r){return{duration:t,delay:e,easing:r}}function vb(t,e,r,n,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:r,postStyleProps:n,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class bb{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const _b=new RegExp(":enter","g"),wb=new RegExp(":leave","g");function Sb(t,e,r,n,i,s={},o={},a,c,u=[]){return(new Eb).buildKeyframes(t,e,r,n,i,s,o,a,c,u)}class Eb{buildKeyframes(t,e,r,n,i,s,o,a,c,u=[]){c=c||new bb;const l=new kb(t,e,c,n,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),ib(this,r,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[vb(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.consume(e.element);if(r){const n=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,n,n.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let n=e.currentTimeline.currentTime;const i=null!=r.duration?Uv(r.duration):null,s=null!=r.delay?Uv(r.delay):null;return 0!==i&&t.forEach(t=>{const r=e.appendInstructionToTimeline(t,i,s);n=Math.max(n,r.duration+r.delay)}),n}visitReference(t,e){e.updateOptions(t.options,!0),ib(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let n=e;const i=t.options;if(i&&(i.params||i.delay)&&(n=e.createSubContext(i),n.transformIntoNewTimeline(),null!=i.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Cb);const t=Uv(i.delay);n.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>ib(this,t,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>r&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let n=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Uv(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),ib(this,s,o),n=Math.max(n,o.currentTimeline.currentTime),r.push(o.currentTimeline)}),r.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Hv(e.params?Yv(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),n.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(r.duration),this.visitStyle(i,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,n=e.currentAnimateTimings;!n&&r.getCurrentStyleProperties().length&&r.forwardFrame();const i=n&&n.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(i):r.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,n=e.currentTimeline.duration,i=r.duration,s=e.createSubContext().currentTimeline;s.easing=r.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(n+i),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,n=t.options||{},i=n.delay?Uv(n.delay):0;i&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cb);let s=r;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((r,n)=>{e.currentQueryIndex=n;const o=e.createSubContext(t.options,r);i&&o.delayNextStep(i),r===e.element&&(a=o.currentTimeline),ib(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,n=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=r.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;ib(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=n.currentTime-u+(n.startTime-r.currentTimeline.startTime)}}const Cb={};class kb{constructor(t,e,r,n,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=n,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ab(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let n=this.options;null!=r.duration&&(n.duration=Uv(r.duration)),null!=r.delay&&(n.delay=Uv(r.delay));const i=r.params;if(i){let t=n.params;t||(t=this.options.params={}),Object.keys(i).forEach(r=>{e&&t.hasOwnProperty(r)||(t[r]=Yv(i[r],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(t=>{r[t]=e[t]})}}return t}createSubContext(t=null,e,r){const n=e||this.element,i=new kb(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,r||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Cb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const n={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},i=new xb(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(i),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,n,i,s){let o=[];if(n&&o.push(this.element),t.length>0){t=(t=t.replace(_b,"."+this._enterClassName)).replace(wb,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=r);0!==r&&(e=r<0?e.slice(e.length+r,e.length):e.slice(0,r)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Ab{constructor(t,e,r,n){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ab(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||nv,this._currentKeyframe[t]=nv}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,n){e&&(this._previousKeyframe.easing=e);const i=n&&n.params||{},s=function(t,e){const r={};let n;return t.forEach(t=>{"*"===t?(n=n||Object.keys(e),n.forEach(t=>{r[t]=nv})):Kv(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Yv(s[t],i,r);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:nv),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],n=t._styleSummary[e];(!r||n.time>r.time)&&this._updateStyle(e,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((i,s)=>{const o=Kv(i,!0);Object.keys(o).forEach(r=>{const n=o[r];"!"==n?t.add(r):n==nv&&e.add(r)}),r||(o.offset=s/this.duration),n.push(o)});const i=t.size?Xv(t.values()):[],s=e.size?Xv(e.values()):[];if(r){const t=n[0],e=qv(t);t.offset=0,e.offset=1,n=[t,e]}return vb(this.element,n,i,s,this.duration,this.startTime,this.easing,!1)}}class xb extends Ab{constructor(t,e,r,n,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=r,this.preStyleProps=n,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=r+e,o=e/s,a=Kv(t[0],!1);a.offset=0,i.push(a);const c=Kv(t[0],!1);c.offset=Tb(o),i.push(c);const u=t.length-1;for(let n=1;n<=u;n++){let o=Kv(t[n],!1);o.offset=Tb((e+o.offset*r)/s),i.push(o)}r=s,e=0,n="",t=i}return vb(this.element,t,this.preStyleProps,this.postStyleProps,r,e,n,!0)}}function Tb(t,e=3){const r=Math.pow(10,e-1);return Math.round(t*r)/r}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Ib{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Rb extends Ib{normalizePropertyName(t,e){return eb(t)}normalizeStyleValue(t,e,r,n){let i="";const s=r.toString().trim();if(Pb[e]&&0!==r&&"0"!==r)if("number"==typeof r)i="px";else{const e=r.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&n.push(`Please provide a CSS unit value for ${t}:${r}`)}return s+i}}const Pb=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Fb(t,e,r,n,i,s,o,a,c,u,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:r,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:f}}const Ob={};class Mb{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,n){return function(t,e,r,n,i){return t.some(t=>t(e,r,n,i))}(this.ast.matchers,t,e,r,n)}buildStyles(t,e,r){const n=this._stateStyles["*"],i=this._stateStyles[t],s=n?n.buildStyles(e,r):{};return i?i.buildStyles(e,r):s}build(t,e,r,n,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||Ob,f=this.buildStyles(r,o&&o.params||Ob,l),d=a&&a.params||Ob,p=this.buildStyles(n,d,l),m=new Set,g=new Map,y=new Map,v="void"===n,b={params:Object.assign(Object.assign({},h),d)},_=u?[]:Sb(t,e,this.ast.animation,i,s,f,p,b,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Fb(e,this._triggerName,r,n,v,f,p,[],[],g,y,w,l);_.forEach(t=>{const r=t.element,n=bv(g,r,{});t.preStyleProps.forEach(t=>n[t]=!0);const i=bv(y,r,{});t.postStyleProps.forEach(t=>i[t]=!0),r!==e&&m.add(r)});const S=Xv(m.values());return Fb(e,this._triggerName,r,n,v,f,p,_,S,g,y,w)}}class Bb{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const r={},n=qv(this.defaultParams);return Object.keys(t).forEach(e=>{const r=t[e];null!=r&&(n[e]=r)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Yv(s,n,e)),r[t]=s})}}),r}}class Nb{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Bb(t.style,t.options&&t.options.params||{})}),Db(this.states,"true","1"),Db(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Mb(t,e,this.states))}),this.fallbackTransition=new Mb(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,n){return this.transitionFactories.find(i=>i.match(t,e,r,n))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function Db(t,e,r){t.hasOwnProperty(e)?t.hasOwnProperty(r)||(t[r]=t[e]):t.hasOwnProperty(r)&&(t[e]=t[r])}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Lb=new bb;class jb{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],n=fb(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[t]=n}_buildPlayer(t,e,r){const n=t.element,i=mv(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(n,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const n=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Sb(this._driver,e,i,Mv,Bv,{},{},r,Lb,n),s.forEach(t=>{const e=bv(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),s=[]),n.length)throw new Error(`Unable to create the animation due to the following errors: ${n.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(r=>{t[r]=this._driver.computeStyle(e,r,nv)})});const a=pv(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,r,n){const i=vv(e,"","","");return gv(this._getPlayer(t),r,i,n),()=>{}}command(t,e,r,n){if("register"==r)return void this.register(t,n[0]);if("create"==r)return void this.create(t,e,n[0]||{});const i=this._getPlayer(t);switch(r){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t)}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Ub="ng-animate-queued",Vb="ng-animate-disabled",Hb=".ng-animate-disabled",qb=[],Kb={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zb={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Wb{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=null!=(n=r?t.value:t)?n:null,r){const e=qv(t);delete e.value,this.options=e}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(r=>{null==t[r]&&(t[r]=e[r])})}}}const $b="void",Gb=new Wb($b);class Qb{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,r_(e,this._hostClassName)}listen(t,e,r,n){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=r)&&"done"!=i)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);var i;const s=bv(this._elementListeners,t,[]),o={name:e,phase:r,callback:n};s.push(o);const a=bv(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(r_(t,Nv),r_(t,"ng-trigger-"+e),a[e]=Gb),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,r,n=!0){const i=this._getTrigger(e),s=new Zb(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(r_(t,Nv),r_(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new Wb(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=Gb),c.value!==$b&&a.value===c.value){if(!function(t,e){const r=Object.keys(t),n=Object.keys(e);if(r.length!=n.length)return!1;for(let i=0;i<r.length;i++){const n=r[i];if(!e.hasOwnProperty(n)||t[n]!==e[n])return!1}return!0}(a.params,c.params)){const e=[],r=i.matchStyles(a.value,a.params,e),n=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Gv(t,r),$v(t,n)})}return}const u=bv(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!n)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(r_(t,Ub),s.onStart(()=>{n_(t,Ub)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const r=this._engine.playersByElement.get(t);if(r){let t=r.indexOf(s);t>=0&&r.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Dv,!0);r.forEach(t=>{if(t.__ng_removed)return;const r=this._engine.fetchNamespacesByElement(t);r.size?r.forEach(r=>r.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,r,n){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const r=this.trigger(t,e,$b,n);r&&s.push(r)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),r&&pv(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const r=new Set;e.forEach(e=>{const n=e.name;if(r.has(n))return;r.add(n);const i=this._triggers[n].fallbackTransition,s=this._engine.statesByElement.get(t)[n]||Gb,o=new Wb($b),a=new Zb(this.id,n,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(r.totalAnimations){const e=r.players.length?r.playersByQueriedElement.get(t):[];if(e&&e.length)n=!0;else{let e=t;for(;e=e.parentNode;)if(r.statesByElement.get(e)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)r.markElementAsRemoved(this.id,t,!1,e);else{const n=t.__ng_removed;n&&n!==Kb||(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){r_(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const n=r.player;if(n.destroyed)return;const i=r.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==r.triggerName){const n=vv(i,r.triggerName,r.fromState.value,r.toState.value);n._data=t,gv(r.player,e.phase,n,e.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(r)}),this._queue=[],e.sort((t,e)=>{const r=t.transition.ast.depCount,n=e.transition.ast.depCount;return 0==r||0==n?r-n:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Jb{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const r=new Qb(t,e,this);return e.parentNode?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList.length-1;if(r>=0){let n=!1;for(let i=r;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),n=!0;break}n||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let n=this._namespaceLookup[t];n&&n.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(r);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const t=Object.keys(r);for(let n=0;n<t.length;n++){const i=r[t[n]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,r,n){if(Yb(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,r,n),!0}return!1}insertNode(t,e,r,n){if(!Yb(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const n=this._fetchNamespace(t);n&&n.insertNode(e,r)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),r_(t,Vb)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),n_(t,Vb))}removeNode(t,e,r,n){if(Yb(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n),r){const r=this.namespacesByHostElement.get(e);r&&r.id!==t&&r.removeNode(e,n)}}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,r,n){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:n,hasAnimation:r,removedBeforeQueried:!1}}listen(t,e,r,n,i){return Yb(e)?this._fetchNamespace(t).listen(e,r,n,i):()=>{}}_buildInstruction(t,e,r,n,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,n,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Dv,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,jv,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return pv(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Kb,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Hb)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Hb,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)r_(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let t=0;t<r.length;t++)r[t]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?pv(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const r=new bb,n=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let r=0;r<e.length;r++)u.add(e[r])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=e_(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const r=Mv+p++;d.set(e,r),t.forEach(t=>r_(t,r))});const m=[],g=new Set,y=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const t=this.collectedLeaveElements[R],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=e_(h,Array.from(g));b.forEach((t,e)=>{const r=Bv+p++;v.set(e,r),t.forEach(t=>r_(t,r))}),t.push(()=>{f.forEach((t,e)=>{const r=d.get(e);t.forEach(t=>n_(t,r))}),b.forEach((t,e)=>{const r=v.get(e);t.forEach(t=>n_(t,r))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,r,f,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>Gv(i,p.fromStyles)),e.onDestroy(()=>$v(i,p.toStyles)),void n.push(e);if(t.isFallbackTransition)return e.onStart(()=>Gv(i,p.fromStyles)),e.onDestroy(()=>$v(i,p.toStyles)),void n.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),r.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>bv(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const r=Object.keys(t);if(r.length){let t=a.get(e);t||a.set(e,t=new Set),r.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const r=Object.keys(t);let n=c.get(e);n||c.set(e,n=new Set),r.forEach(t=>n.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;r.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),n.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{bv(S,e,[]).push(t),t.destroy()})});const C=m.filter(t=>o_(t,a,c)),k=new Map;t_(k,this.driver,y,c,nv).forEach(t=>{o_(t,a,c)&&C.push(t)});const A=new Map;f.forEach((t,e)=>{t_(A,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=k.get(t),r=A.get(t);k.set(t,Object.assign(Object.assign({},e),r))});const x=[],T=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(r.has(e)){if(u.has(e))return s.onDestroy(()=>$v(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void n.push(s);let t=I;if(E.size>1){let r=e;const n=[];for(;r=r.parentNode;){const e=E.get(r);if(e){t=e;break}n.push(r)}n.forEach(e=>E.set(e,t))}const r=this._buildAnimation(s.namespaceId,o,S,i,A,k);if(s.setRealPlayer(r),t===I)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=pv(e)),n.push(s)}}else Gv(e,o.fromStyles),s.onDestroy(()=>$v(e,o.toStyles)),T.push(s),u.has(e)&&n.push(s)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const r=pv(e);t.setRealPlayer(r)}}),n.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let R=0;R<m.length;R++){const t=m[R],e=t.__ng_removed;if(n_(t,Bv),e&&e.hasAnimation)continue;let r=[];if(o.size){let e=o.get(t);e&&e.length&&r.push(...e);let n=this.driver.query(t,jv,!0);for(let t=0;t<n.length;t++){let e=o.get(n[t]);e&&e.length&&r.push(...e)}}const n=r.filter(t=>!t.destroyed);n.length?i_(this,t,n):this.processLeaveNode(t)}return m.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let r=!1;const n=e.__ng_removed;return n&&n.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,n,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==$b;e.forEach(e=>{e.queued||(t||e.triggerName==n)&&s.push(e)})}}return(r||n)&&(s=s.filter(t=>!(r&&r!=t.namespaceId||n&&n!=t.triggerName))),s}_beforeAnimationBuild(t,e,r){const n=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==n,c=bv(r,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}Gv(n,e.fromStyles)}_buildAnimation(t,e,r,n,i,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new hv(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return s_(t,e),e}((r.get(h)||qb).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=mv(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&n&&l.add(h),d){const e=new Zb(t,o,h);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{bv(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,r){let n;if(t instanceof Map){if(n=t.get(e),n){if(n.length){const t=n.indexOf(r);n.splice(t,1)}0==n.length&&t.delete(e)}}else if(n=t[e],n){if(n.length){const t=n.indexOf(r);n.splice(t,1)}0==n.length&&delete t[e]}return n}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>r_(t,Lv));const f=pv(h);return f.onDestroy(()=>{u.forEach(t=>n_(t,Lv)),$v(a,e.toStyles)}),l.forEach(t=>{bv(n,t,[]).push(f)}),f}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new hv(t.duration,t.delay)}}class Zb{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new hv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>gv(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){bv(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Yb(t){return t&&1===t.nodeType}function Xb(t,e){const r=t.style.display;return t.style.display=null!=e?e:"none",r}function t_(t,e,r,n,i){const s=[];r.forEach(t=>s.push(Xb(t)));const o=[];n.forEach((r,n)=>{const s={};r.forEach(t=>{const r=s[t]=e.computeStyle(n,t,i);r&&0!=r.length||(n.__ng_removed=zb,o.push(n))}),t.set(n,s)});let a=0;return r.forEach(t=>Xb(t,s[a++])),o}function e_(t,e){const r=new Map;if(t.forEach(t=>r.set(t,[])),0==e.length)return r;const n=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=r.has(o)?o:n.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&r.get(e).push(t)}),r}function r_(t,e){if(t.classList)t.classList.add(e);else{let r=t.$$classes;r||(r=t.$$classes={}),r[e]=!0}}function n_(t,e){if(t.classList)t.classList.remove(e);else{let r=t.$$classes;r&&delete r[e]}}function i_(t,e,r){pv(r).onDone(()=>t.processLeaveNode(e))}function s_(t,e){for(let r=0;r<t.length;r++){const n=t[r];n instanceof fv?s_(n.players,e):e.push(n)}}function o_(t,e,r){const n=r.get(t);if(!n)return!1;let i=e.get(t);return i?n.forEach(t=>i.add(t)):e.set(t,n),r.delete(t),!0}class a_{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Jb(t,e,r),this._timelineEngine=new jb(t,e,r),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,r,n,i){const s=t+"-"+n;let o=this._triggerCache[s];if(!o){const t=[],e=fb(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Nb(t,e)}(n,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,n,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,n){this._transitionEngine.insertNode(t,e,r,n)}onRemove(t,e,r,n){this._transitionEngine.removeNode(t,e,n||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,n){if("@"==r.charAt(0)){const[t,i]=_v(r);this._timelineEngine.command(t,e,i,n)}else this._transitionEngine.trigger(t,e,r,n)}listen(t,e,r,n,i){if("@"==r.charAt(0)){const[t,n]=_v(r);return this._timelineEngine.listen(t,e,n,i)}return this._transitionEngine.listen(t,e,r,n,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function c_(t,e){let r=null,n=null;return Array.isArray(e)&&e.length?(r=l_(e[0]),e.length>1&&(n=l_(e[e.length-1]))):e&&(r=l_(e)),r||n?new u_(t,r,n):null}let u_=(()=>{class t{constructor(e,r,n){this._element=e,this._startStyles=r,this._endStyles=n,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&$v(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($v(this._element,this._initialStyles),this._endStyles&&($v(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Gv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gv(this._element,this._endStyles),this._endStyles=null),$v(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function l_(t){let e=null;const r=Object.keys(t);for(let n=0;n<r.length;n++){const i=r[n];h_(i)&&(e=e||{},e[i]=t[i])}return e}function h_(t){return"display"===t||"position"===t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const f_="animation",d_="animationend";class p_{constructor(t,e,r,n,i,s,o){this._element=t,this._name=e,this._duration=r,this._delay=n,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const r=__(t,"").trim();r.length&&(function(t,e){let r=0;for(let n=0;n<t.length;n++)","===t.charAt(n)&&r++}(r),e=`${r}, ${e}`),b_(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),v_(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){m_(this._element,this._name,"paused")}resume(){m_(this._element,this._name,"running")}setPosition(t){const e=g_(this._element,this._name);this._position=t*this._duration,b_(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),v_(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const r=__(t,"").split(","),n=y_(r,e);n>=0&&(r.splice(n,1),b_(t,"",r.join(",")))}(this._element,this._name))}}function m_(t,e,r){b_(t,"PlayState",r,g_(t,e))}function g_(t,e){const r=__(t,"");return r.indexOf(",")>0?y_(r.split(","),e):y_([r],e)}function y_(t,e){for(let r=0;r<t.length;r++)if(t[r].indexOf(e)>=0)return r;return-1}function v_(t,e,r){r?t.removeEventListener(d_,e):t.addEventListener(d_,e)}function b_(t,e,r,n){const i=f_+e;if(null!=n){const e=t.style[i];if(e.length){const t=e.split(",");t[n]=r,r=t.join(",")}}t.style[i]=r}function __(t,e){return t.style[f_+e]||""}class w_{constructor(t,e,r,n,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=r,this._duration=n,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=n+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new p_(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(t[r]=e?this._finalStyles[r]:sb(this.element,r))})}this.currentSnapshot=t}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class S_ extends hv{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Pv(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class E_{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return xv(t)}matchesElement(t,e){return Tv(t,e)}containsElement(t,e){return Iv(t,e)}query(t,e,r){return Rv(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,r){r=r.map(t=>Pv(t));let n=`@keyframes ${e} {\n`,i="";r.forEach(t=>{i=" ";const e=parseFloat(t.offset);n+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const r=t[e];switch(e){case"offset":return;case"easing":return void(r&&(n+=`${i}animation-timing-function: ${r};\n`));default:return void(n+=`${i}${e}: ${r};\n`)}}),n+=`${i}}\n`}),n+="}\n";const s=document.createElement("style");return s.textContent=n,s}animate(t,e,r,n,i,s=[],o){const a=s.filter(t=>t instanceof w_),c={};rb(r,n)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(r=>{"offset"!=r&&"easing"!=r&&(e[r]=t[r])})}),e}(e=nb(t,e,c));if(0==r)return new S_(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=c_(t,e),d=new w_(t,e,l,r,n,i,u,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class C_{constructor(t,e,r,n){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:sb(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class k_{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(A_().toString()),this._cssKeyframesDriver=new E_}validateStyleProperty(t){return xv(t)}matchesElement(t,e){return Tv(t,e)}containsElement(t,e){return Iv(t,e)}query(t,e,r){return Rv(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,r,n,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,r,n,i,s);const a={duration:r,delay:n,fill:0==n?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof C_);rb(r,n)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=c_(t,e=nb(t,e=e.map(t=>Kv(t,!1)),c));return new C_(t,e,a,l)}}function A_(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license Angular v11.0.9
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let x_=(()=>{class t extends rv{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Et.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ov(t):t;return R_(this._renderer,null,e,"register",[r]),new T_(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(bn(Ya),bn(xl))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class T_ extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new I_(this._id,t,e||{},this._renderer)}}class I_{constructor(t,e,r,n){this.id=t,this.element=e,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return R_(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function R_(t,e,r,n,i){return t.setProperty(e,`@@${r}:${n}`,i)}const P_="@",F_="@.disabled";let O_=(()=>{class t{constructor(t,e,r){this.delegate=t,this.engine=e,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(r);return t||(t=new M_("",r,this.engine),this._rendererCache.set(r,t)),t}const n=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(n,i,t,e.name,e)};return e.data.animation.forEach(s),new B_(this,i,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,r){t>=0&&t<this._microtaskId?this._zone.run(()=>e(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,r]=t;e(r)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(bn(Ya),bn(a_),bn(Gu))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class M_{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,n=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,n){this.delegate.setAttribute(t,e,r,n)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,n){this.delegate.setStyle(t,e,r,n)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){e.charAt(0)==P_&&e==F_?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class B_ extends M_{constructor(t,e,r,n){super(e,r,n),this.factory=t,this.namespaceId=e}setProperty(t,e,r){e.charAt(0)==P_?"."==e.charAt(1)&&e==F_?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if(e.charAt(0)==P_){const n=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=P_&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,n,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,r,t)})}return this.delegate.listen(t,e,r)}}let N_=(()=>{class t extends a_{constructor(t,e,r){super(t.body,e,r)}}return t.\u0275fac=function(e){return new(e||t)(bn(xl),bn(Ov),bn(Ib))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const D_=new Qr("AnimationModuleType"),L_=[{provide:Ov,useFactory:function(){return"function"==typeof A_()?new k_:new E_}},{provide:D_,useValue:"BrowserAnimations"},{provide:rv,useClass:x_},{provide:Ib,useFactory:function(){return new Rb}},{provide:a_,useClass:N_},{provide:Ya,useFactory:function(t,e,r){return new O_(t,e,r)},deps:[hf,a_,Gu]}];let j_=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:L_,imports:[Af]}),t})();function U_(t,e){if(1&t&&Mo(0,"mat-pseudo-checkbox",3),2&t){const t=Wo();Ro("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const V_=["*"],H_=new rc("11.0.4"),q_=new Qr("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let K_,z_=(()=>{class t{constructor(t,e,r){this._hasDoneGlobalChecks=!1,this._document=r,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return cl()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&H_.full!==ev.full&&console.warn("The Angular Material version ("+H_.full+") does not match the Angular CDK version ("+ev.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(bn(Zy),bn(q_,8),bn(xl))},imports:[[tv],tv]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function W_(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Xg(t)}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function $_(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function G_(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Xg(t)}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Q_(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?ty(t):this.defaultTabIndex}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function J_(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new E}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */try{K_="undefined"!=typeof Intl}catch(kF){K_=!1}let Z_=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Y_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function X_(t,e,r){const n=t.nativeElement.classList;r?n.add(e):n.remove(e)}let tw=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[z_],z_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class ew{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const rw={enterDuration:450,exitDuration:400},nw=xy({passive:!0}),iw=["mousedown","touchstart"],sw=["mouseup","mouseleave","touchend","touchcancel"];class ow{constructor(t,e,r,n){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=ny(r))}fadeInRipple(t,e,r={}){const n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},rw),r.animation);r.centered&&(t=n.left+n.width/2,e=n.top+n.height/2);const s=r.radius||function(t,e,r){const n=Math.max(Math.abs(t-r.left),Math.abs(t-r.right)),i=Math.max(Math.abs(e-r.top),Math.abs(e-r.bottom));return Math.sqrt(n*n+i*i)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t,e,n),o=t-n.left,a=e-n.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-s+"px",u.style.top=a-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new ew(this,u,r);return l.state=0,this._activeRipples.add(l),r.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,r.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,n=Object.assign(Object.assign({},rw),t.config.animation);r.style.transitionDuration=`${n.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.parentNode.removeChild(r)},n.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=ny(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(iw))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(sw),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=qy(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||r||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,nw)})})}_removeTriggerEvents(){this._triggerElement&&(iw.forEach(t=>{this._triggerElement.removeEventListener(t,this,nw)}),this._pointerUpEventsRegistered&&sw.forEach(t=>{this._triggerElement.removeEventListener(t,this,nw)}))}}const aw=new Qr("mat-ripple-global-options");let cw=(()=>{class t{constructor(t,e,r,n,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=n||{},this._rippleRenderer=new ow(this,e,t,r)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(Gu),Io(by),Io(aw,8),Io(D_,8))},t.\u0275dir=zt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&ua("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),uw=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[z_,_y],z_]}),t})(),lw=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(Io(D_,8))},t.\u0275cmp=jt({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&ua("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),hw=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[z_]]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class fw{}const dw=W_(fw);let pw=0,mw=(()=>{class t extends dw{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+pw++}}return t.\u0275fac=function(e){return gw(e||t)},t.\u0275dir=zt({type:t,inputs:{label:"label"},features:[ho]}),t})();const gw=zr(mw),yw=new Qr("MatOptgroup");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let vw=0;class bw{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const _w=new Qr("MAT_OPTION_PARENT_COMPONENT");let ww=(()=>{class t{constructor(t,e,r,n){this._element=t,this._changeDetectorRef=e,this._parent=r,this.group=n,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+vw++,this.onSelectionChange=new nu,this._stateChanges=new E}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Xg(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||Py(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new bw(this,t))}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(_c),Io(void 0),Io(mw))},t.\u0275dir=zt({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),Sw=(()=>{class t extends ww{constructor(t,e,r,n){super(t,e,r,n)}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(_c),Io(_w,8),Io(yw,8))},t.\u0275cmp=jt({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&Vo("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(Aa("id",e.id),ko("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),ua("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[ho],ngContentSelectors:V_,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(Go(),xo(0,U_,1,2,"mat-pseudo-checkbox",0),Fo(1,"span",1),Qo(2),Oo(),Mo(3,"div",2)),2&t&&(Ro("ngIf",e.multiple),Ji(3),Ro("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[Ih,cw,lw],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})(),Ew=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[uw,zh,z_,hw]]}),t})();function Cw(t,e,r,i){return n(r)&&(i=r,r=void 0),i?Cw(t,e,r).pipe(A(t=>c(t)?i(...t):i(t))):new v(n=>{kw(t,e,function(t){n.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},n,r)})}function kw(t,e,r,n,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const n=t;t.addEventListener(e,r,i),s=()=>n.removeEventListener(e,r,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const n=t;t.on(e,r),s=()=>n.off(e,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const n=t;t.addListener(e,r),s=()=>n.removeListener(e,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)kw(t[s],e,r,n,i)}n.add(s)}function Aw(t){return e=>e.lift(new xw(t))}class xw{constructor(t){this.notifier=t}call(t,e){const r=new Tw(t),n=j(this.notifier,new D(r));return n&&!r.seenValue?(r.add(n),e.subscribe(r)):r}}class Tw extends L{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Iw=["underline"],Rw=["connectionContainer"],Pw=["inputContainer"],Fw=["label"];function Ow(t,e){1&t&&(Bo(0),Fo(1,"div",14),Mo(2,"div",15),Mo(3,"div",16),Mo(4,"div",17),Oo(),Fo(5,"div",18),Mo(6,"div",15),Mo(7,"div",16),Mo(8,"div",17),Oo(),No())}function Mw(t,e){1&t&&(Fo(0,"div",19),Qo(1,1),Oo())}function Bw(t,e){if(1&t&&(Bo(0),Qo(1,2),Fo(2,"span"),Sa(3),Oo(),No()),2&t){const t=Wo(2);Ji(3),Ea(t._control.placeholder)}}function Nw(t,e){1&t&&Qo(0,3,["*ngSwitchCase","true"])}function Dw(t,e){1&t&&(Fo(0,"span",23),Sa(1," *"),Oo())}function Lw(t,e){if(1&t){const t=Lo();Fo(0,"label",20,21),Vo("cdkObserveContent",function(){return Me(t),Wo().updateOutlineGap()}),xo(2,Bw,4,1,"ng-container",12),xo(3,Nw,1,0,"ng-content",12),xo(4,Dw,2,0,"span",22),Oo()}if(2&t){const t=Wo();ua("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Ro("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),ko("for",t._control.id)("aria-owns",t._control.id),Ji(2),Ro("ngSwitchCase",!1),Ji(1),Ro("ngSwitchCase",!0),Ji(1),Ro("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function jw(t,e){1&t&&(Fo(0,"div",24),Qo(1,4),Oo())}function Uw(t,e){if(1&t&&(Fo(0,"div",25,26),Mo(2,"span",27),Oo()),2&t){const t=Wo();Ji(2),ua("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Vw(t,e){1&t&&(Fo(0,"div"),Qo(1,5),Oo()),2&t&&Ro("@transitionMessages",Wo()._subscriptAnimationState)}function Hw(t,e){if(1&t&&(Fo(0,"div",31),Sa(1),Oo()),2&t){const t=Wo(2);Ro("id",t._hintLabelId),Ji(1),Ea(t.hintLabel)}}function qw(t,e){if(1&t&&(Fo(0,"div",28),xo(1,Hw,2,2,"div",29),Qo(2,6),Mo(3,"div",30),Qo(4,7),Oo()),2&t){const t=Wo();Ro("@transitionMessages",t._subscriptAnimationState),Ji(1),Ro("ngIf",t.hintLabel)}}const Kw=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],zw=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ww=0;const $w=new Qr("MatError");let Gw=(()=>{class t{constructor(){this.id="mat-error-"+Ww++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&ko("id",e.id)},inputs:{id:"id"},features:[Ka([{provide:$w,useExisting:t}])]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Qw={transitionMessages:iv("transitionMessages",[cv("enter",av({opacity:1,transform:"translateY(0%)"})),uv("void => enter",[av({opacity:0,transform:"translateY(-100%)"}),sv("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Jw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t}),t})(),Zw=0;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Yw=new Qr("MatHint");let Xw=(()=>{class t{constructor(){this.align="start",this.id="mat-hint-"+Zw++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(ko("id",e.id)("align",null),ua("mat-form-field-hint-end","end"===e.align))},inputs:{align:"align",id:"id"},features:[Ka([{provide:Yw,useExisting:t}])]}),t})(),tS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t,selectors:[["mat-label"]]}),t})(),eS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t,selectors:[["mat-placeholder"]]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const rS=new Qr("MatPrefix");let nS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t,selectors:[["","matPrefix",""]],features:[Ka([{provide:rS,useExisting:t}])]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const iS=new Qr("MatSuffix");let sS=0;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class oS{constructor(t){this._elementRef=t}}const aS=$_(oS,"primary"),cS=new Qr("MAT_FORM_FIELD_DEFAULT_OPTIONS"),uS=new Qr("MatFormField");let lS=(()=>{class t extends aS{constructor(t,e,r,n,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new E,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+sS++,this._labelId="mat-form-field-label-"+sS++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Xg(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Gf(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Aw(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Aw(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),z(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Gf(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Gf(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Aw(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Cw(this._label.nativeElement,"transitionend").pipe(zf(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,r=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,r=0;const n=this._connectionContainerRef.nativeElement,i=n.querySelectorAll(".mat-form-field-outline-start"),s=n.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=n.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let t=0;t<o.length;t++)c+=o[t].offsetWidth;e=Math.abs(a-s)-5,r=c>0?.75*c+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(_c),Io(Za),Io(Xy,8),Io(cS,8),Io(by),Io(Gu),Io(D_,8))},t.\u0275cmp=jt({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,r){if(1&t&&(bu(r,Jw,!0),_u(r,Jw,!0),bu(r,tS,!0),_u(r,tS,!0),bu(r,eS,!0),bu(r,$w,!0),bu(r,Yw,!0),bu(r,rS,!0),bu(r,iS,!0)),2&t){let t;mu(t=Su())&&(e._controlNonStatic=t.first),mu(t=Su())&&(e._controlStatic=t.first),mu(t=Su())&&(e._labelChildNonStatic=t.first),mu(t=Su())&&(e._labelChildStatic=t.first),mu(t=Su())&&(e._placeholderChild=t.first),mu(t=Su())&&(e._errorChildren=t),mu(t=Su())&&(e._hintChildren=t),mu(t=Su())&&(e._prefixChildren=t),mu(t=Su())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(yu(Iw,!0),gu(Rw,!0),yu(Pw,!0),yu(Fw,!0)),2&t){let t;mu(t=Su())&&(e.underlineRef=t.first),mu(t=Su())&&(e._connectionContainerRef=t.first),mu(t=Su())&&(e._inputContainerRef=t.first),mu(t=Su())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&ua("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ka([{provide:uS,useExisting:t}]),ho],ngContentSelectors:zw,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(Go(Kw),Fo(0,"div",0),Fo(1,"div",1,2),Vo("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),xo(3,Ow,9,0,"ng-container",3),xo(4,Mw,2,0,"div",4),Fo(5,"div",5,6),Qo(7),Fo(8,"span",7),xo(9,Lw,5,16,"label",8),Oo(),Oo(),xo(10,jw,2,0,"div",9),Oo(),xo(11,Uw,3,4,"div",10),Fo(12,"div",11),xo(13,Vw,2,1,"div",12),xo(14,qw,5,2,"div",13),Oo(),Oo()),2&t&&(Ji(3),Ro("ngIf","outline"==e.appearance),Ji(1),Ro("ngIf",e._prefixChildren.length),Ji(5),Ro("ngIf",e._hasFloatingLabel()),Ji(1),Ro("ngIf",e._suffixChildren.length),Ji(1),Ro("ngIf","outline"!=e.appearance),Ji(1),Ro("ngSwitch",e._getDisplayedMessages()),Ji(1),Ro("ngSwitchCase","error"),Ji(1),Ro("ngSwitchCase","hint"))},directives:[Ih,Oh,Mh,gy],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Qw.transitionMessages]},changeDetection:0}),t})(),hS=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[zh,z_,yy],z_]}),t})();class fS{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new dS(t,this.durationSelector))}}class dS extends L{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let r;try{const{durationSelector:e}=this;r=e(t)}catch(e){return this.destination.error(e)}const n=j(r,new D(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:t,hasValue:e,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function pS(t){return!c(t)&&t-parseFloat(t)+1>=0}function mS(t){const{index:e,period:r,subscriber:n}=t;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,this.schedule(t,r)}}function gS(t,e=cy){return r=()=>function(t=0,e,r){let n=-1;return pS(e)?n=Number(e)<1?1:Number(e):k(e)&&(r=e),k(r)||(r=cy),new v(e=>{const i=pS(t)?t:+t-r.now();return r.schedule(mS,i,{index:0,period:n,subscriber:e})})}(t,e),function(t){return t.lift(new fS(r))};var r}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const yS=xy({passive:!0});let vS=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Lf;const e=ny(t),r=this._monitoredElements.get(e);if(r)return r.subject;const n=new E,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>n.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>n.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,yS),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:n,unlisten:()=>{e.removeEventListener("animationstart",s,yS)}}),n}stopMonitoring(t){const e=ny(t),r=this._monitoredElements.get(e);r&&(r.unlisten(),r.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(bn(by),bn(Gu))},t.\u0275prov=ct({factory:function(){return new t(bn(by),bn(Gu))},token:t,providedIn:"root"}),t})(),bS=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[_y]]}),t})();function _S(...t){if(1===t.length){const e=t[0];if(c(e))return wS(e,null);if(u(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return wS(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return wS(t=1===t.length&&c(t[0])?t[0]:t,null).pipe(A(t=>e(...t)))}return wS(t,null)}function wS(t,e){return new v(r=>{const n=t.length;if(0===n)return void r.complete();const i=new Array(n);let s=0,o=0;for(let a=0;a<n;a++){const c=N(t[a]);let u=!1;r.add(c.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>r.error(t),complete:()=>{s++,s!==n&&u||(o===n&&r.next(e?e.reduce((t,e,r)=>(t[e]=i[r],t),{}):i),r.complete())}}))}})}
/**
 * @license Angular v11.0.9
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const SS=new Qr("NgValueAccessor"),ES={provide:SS,useExisting:st(()=>CS),multi:!0};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let CS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Io(Xa),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Vo("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[Ka([ES])]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const kS={provide:SS,useExisting:st(()=>xS),multi:!0},AS=new Qr("CompositionEventMode");let xS=(()=>{class t{constructor(t,e,r){this._renderer=t,this._elementRef=e,this._compositionMode=r,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Al()?Al().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Io(Xa),Io(Za),Io(AS,8))},t.\u0275dir=zt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Vo("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[Ka([kS])]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function TS(t){return null==t||0===t.length}function IS(t){return null!=t&&"number"==typeof t.length}const RS=new Qr("NgValidators"),PS=new Qr("NgAsyncValidators"),FS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class OS{static min(t){return e=>{if(TS(e.value)||TS(t))return null;const r=parseFloat(e.value);return!isNaN(r)&&r<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(TS(e.value)||TS(t))return null;const r=parseFloat(e.value);return!isNaN(r)&&r>t?{max:{max:t,actual:e.value}}:null}}static required(t){return TS(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return TS(t.value)||FS.test(t.value)?null:{email:!0}}static minLength(t){return e=>TS(e.value)||!IS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>IS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return OS.nullValidator;let e,r;return"string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),e=new RegExp(r)):(r=t.toString(),e=t),t=>{if(TS(t.value))return null;const n=t.value;return e.test(n)?null:{pattern:{requiredPattern:r,actualValue:n}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(MS);return 0==e.length?null:function(t){return NS(DS(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(MS);return 0==e.length?null:function(t){return _S(DS(t,e).map(BS)).pipe(A(NS))}}}function MS(t){return null!=t}function BS(t){const e=jo(t)?N(t):t;return Uo(e),e}function NS(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function DS(t,e){return e.map(e=>e(t))}function LS(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function jS(t){return null!=t?OS.compose(LS(t)):null}function US(t){return null!=t?OS.composeAsync(LS(t)):null}function VS(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function HS(t){return t._rawValidators}function qS(t){return t._rawAsyncValidators}let KS=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=jS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=US(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t}),t})(),zS=(()=>{class t extends KS{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return WS(e||t)},t.\u0275dir=zt({type:t,features:[ho]}),t})();const WS=zr(zS);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class $S extends KS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let GS=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,r;return null!==(r=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==r&&r}get ngClassTouched(){var t,e,r;return null!==(r=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==r&&r}get ngClassPristine(){var t,e,r;return null!==(r=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==r&&r}get ngClassDirty(){var t,e,r;return null!==(r=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==r&&r}get ngClassValid(){var t,e,r;return null!==(r=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==r&&r}get ngClassInvalid(){var t,e,r;return null!==(r=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==r&&r}get ngClassPending(){var t,e,r;return null!==(r=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==r&&r}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Io($S,2))},t.\u0275dir=zt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&ua("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ho]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const QS={provide:SS,useExisting:st(()=>JS),multi:!0};let JS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Io(Xa),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Vo("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[Ka([QS])]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const ZS={provide:SS,useExisting:st(()=>XS),multi:!0};let YS=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),XS=(()=>{class t{constructor(t,e,r,n){this._renderer=t,this._elementRef=e,this._registry=r,this._injector=n,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get($S),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(Io(Xa),Io(Za),Io(YS),Io(uo))},t.\u0275dir=zt({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Vo("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ka([ZS])]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const tE={provide:SS,useExisting:st(()=>eE),multi:!0};let eE=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Io(Xa),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Vo("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[Ka([tE])]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const rE={provide:SS,useExisting:st(()=>nE),multi:!0};let nE=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const r=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",r)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Io(Xa),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Vo("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ka([rE])]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const iE={provide:SS,useExisting:st(()=>sE),multi:!0};let sE=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const r=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(r.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const r=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const n=t.item(e),i=this._getOptionValue(n.value);r.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const n=t.item(e);if(n.selected){const t=this._getOptionValue(n.value);r.push(t)}}}this.value=r,t(r)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Io(Xa),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Vo("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ka([iE])]}),t})();function oE(t,e){cE(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&lE(t,e)})}(t,e),function(t,e){const r=(t,r)=>{e.valueAccessor.writeValue(t),r&&e.viewToModelUpdate(t)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&lE(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const r=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}(t,e)}function aE(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cE(t,e,r){const n=HS(t);null!==e.validator?t.setValidators(VS(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=qS(t);if(null!==e.asyncValidator?t.setAsyncValidators(VS(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),r){const r=()=>t.updateValueAndValidity();aE(e._rawValidators,r),aE(e._rawAsyncValidators,r)}}function uE(t,e,r){if(null!==t){if(null!==e.validator){const r=HS(t);Array.isArray(r)&&r.length>0&&t.setValidators(r.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const r=qS(t);Array.isArray(r)&&r.length>0&&t.setAsyncValidators(r.filter(t=>t!==e.asyncValidator))}}if(r){const t=()=>{};aE(e._rawValidators,t),aE(e._rawAsyncValidators,t)}}function lE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hE(t,e){cE(t,e,!1)}function fE(t,e){if(!t.hasOwnProperty("model"))return!1;const r=t.model;return!!r.isFirstChange()||!Object.is(e,r.currentValue)}const dE=[CS,eE,JS,nE,sE,XS];function pE(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function mE(t,e){if(!e)return null;let r,n,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===xS?r=t:(e=t,dE.some(t=>e.constructor===t)?n=t:i=t)}),i||n||r||null}function gE(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const yE="VALID",vE="INVALID",bE="PENDING",_E="DISABLED";function wE(t){return(kE(t)?t.validators:t)||null}function SE(t){return Array.isArray(t)?jS(t):t||null}function EE(t,e){return(kE(e)?e.asyncValidators:t)||null}function CE(t){return Array.isArray(t)?US(t):t||null}function kE(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class AE{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=SE(this._rawValidators),this._composedAsyncValidatorFn=CE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===yE}get invalid(){return this.status===vE}get pending(){return this.status==bE}get disabled(){return this.status===_E}get enabled(){return this.status!==_E}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=SE(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=CE(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=bE,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_E,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=yE,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==yE&&this.status!==bE||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_E:yE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=bE,this._hasOwnPendingAsyncValidator=!0;const e=BS(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,r){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let n=t;return e.forEach(t=>{n=n instanceof TE?n.controls.hasOwnProperty(t)?n.controls[t]:null:n instanceof IE&&n.at(t)||null}),n}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new nu,this.statusChanges=new nu}_calculateStatus(){return this._allControlsDisabled()?_E:this.errors?vE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bE)?bE:this._anyControlsHaveStatus(vE)?vE:yE}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){kE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class xE extends AE{constructor(t=null,e,r){super(wE(e),EE(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!r})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){gE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){gE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class TE extends AE{constructor(t,e,r){super(wE(e),EE(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!r})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((r,n)=>{r.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof xE?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((t,n)=>{r=e(r,t,n)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class IE extends AE{constructor(t,e,r){super(wE(e),EE(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!r})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,r)=>{this.at(r)&&this.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((r,n)=>{r.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof xE?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const RE={provide:zS,useExisting:st(()=>FE)},PE=(()=>Promise.resolve(null))();let FE=(()=>{class t extends zS{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new nu,this.form=new TE({},jS(t),US(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){PE.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),oE(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){PE.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),gE(this._directives,t)})}addFormGroup(t){PE.then(()=>{const e=this._findContainer(t.path),r=new TE({});hE(r,t),e.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){PE.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){PE.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,pE(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(Io(RS,10),Io(PS,10))},t.\u0275dir=zt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Vo("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ka([RE]),ho]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const OE={provide:$S,useExisting:st(()=>BE)},ME=(()=>Promise.resolve(null))();let BE=(()=>{class t extends $S{constructor(t,e,r,n){super(),this.control=new xE,this._registered=!1,this.update=new nu,this._parent=t,this._setValidators(e),this._setAsyncValidators(r),this.valueAccessor=mE(0,n)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),fE(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){oE(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ME.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,r=""===e||e&&"false"!==e;ME.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Io(zS,9),Io(RS,10),Io(PS,10),Io(SS,10))},t.\u0275dir=zt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ka([OE]),ho,ue]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const NE=new Qr("NgModelWithFormControlWarning"),DE={provide:$S,useExisting:st(()=>LE)};let LE=(()=>{class t extends $S{constructor(t,e,r,n){super(),this._ngModelWarningConfig=n,this.update=new nu,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=mE(0,r)}set isDisabled(t){}ngOnChanges(t){this._isControlChanged(t)&&(oE(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),fE(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(Io(RS,10),Io(PS,10),Io(SS,10),Io(NE,8))},t.\u0275dir=zt({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ka([DE]),ho,ue]}),t._ngModelWarningSentOnce=!1,t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const jE={provide:zS,useExisting:st(()=>UE)};let UE=(()=>{class t extends zS{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new nu,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return oE(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){gE(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);hE(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);hE(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,pE(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const r=()=>{};e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r),uE(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&oE(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cE(this.form,this,!1),this._oldForm&&uE(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(Io(RS,10),Io(PS,10))},t.\u0275dir=zt({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Vo("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ka([jE]),ho,ue]}),t})(),VE=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})(),HE=(()=>{class t{group(t,e=null){const r=this._reduceControls(t);let n,i=null,s=null;return null!=e&&(
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,n=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new TE(r,{asyncValidators:s,updateOn:n,validators:i})}control(t,e,r){return new xE(t,e,r)}array(t,e,r){const n=t.map(t=>this._createControl(t));return new IE(n,e,r)}_reduceControls(t){const e={};return Object.keys(t).forEach(r=>{e[r]=this._createControl(t[r])}),e}_createControl(t){return t instanceof xE||t instanceof TE||t instanceof IE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),qE=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[YS],imports:[VE]}),t})(),KE=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:NE,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[HE,YS],imports:[VE]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const zE=new Qr("MAT_INPUT_VALUE_ACCESSOR"),WE=["button","checkbox","file","hidden","image","radio","range","reset","submit"];
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let $E=0;class GE{constructor(t,e,r,n){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=r,this.ngControl=n}}const QE=J_(GE);let JE=(()=>{class t extends QE{constructor(t,e,r,n,i,s,o,a,c,u){super(s,n,i,r),this._elementRef=t,this._platform=e,this.ngControl=r,this._autofillMonitor=a,this._formField=u,this._uid="mat-input-"+$E++,this.focused=!1,this.stateChanges=new E,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Sy().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=o||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Xg(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Xg(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Sy().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Xg(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const r=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=r,r?t.setAttribute("placeholder",r):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){WE.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(by),Io($S,10),Io(FE,8),Io(UE,8),Io(Z_),Io(zE,10),Io(vS),Io(Gu),Io(uS,8))},t.\u0275dir=zt({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&Vo("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(Aa("disabled",e.disabled)("required",e.required),ko("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),ua("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[Ka([{provide:Jw,useExisting:t}]),ho,ue]}),t})(),ZE=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[Z_],imports:[[bS,hS,z_],bS,hS]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const YE=["mat-button",""],XE=["*"],tC=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",eC=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class rC{constructor(t){this._elementRef=t}}const nC=$_(W_(G_(rC)));let iC=(()=>{class t extends nC{constructor(t,e,r){super(t),this._focusMonitor=e,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const n of eC)this._hasHostAttributes(n)&&this._getHostElement().classList.add(n);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(Wy),Io(D_,8))},t.\u0275cmp=jt({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&yu(cw,!0),2&t){let t;mu(t=Su())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(ko("disabled",e.disabled||null),ua("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ho],attrs:YE,ngContentSelectors:XE,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Go(),Fo(0,"span",0),Qo(1),Oo(),Mo(2,"span",1),Mo(3,"span",2)),2&t&&(Ji(2),ua("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Ro("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[cw],styles:[tC],encapsulation:2,changeDetection:0}),t})(),sC=(()=>{class t extends iC{constructor(t,e,r){super(e,t,r)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(Io(Wy),Io(Za),Io(D_,8))},t.\u0275cmp=jt({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,e){1&t&&Vo("click",function(t){return e._haltDisabledEvents(t)}),2&t&&(ko("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),ua("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[ho],attrs:YE,ngContentSelectors:XE,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Go(),Fo(0,"span",0),Qo(1),Oo(),Mo(2,"span",1),Mo(3,"span",2)),2&t&&(Ji(2),ua("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Ro("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[cw],styles:[tC],encapsulation:2,changeDetection:0}),t})(),oC=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[uw,z_],z_]}),t})();function aC(t,e){if(1&t){const t=Lo();Fo(0,"div"),Fo(1,"h2"),Sa(2,"Connect pleroma account"),Oo(),Fo(3,"p"),Sa(4,"Here you can connect this application to your "),Fo(5,"a",3),Sa(6,"Pleroma"),Oo(),Sa(7," account."),Mo(8,"br"),Sa(9," Insert your the Pleroma instance and your ID (like 'https://pleroma.instance/users/<yourNick>') and submit."),Mo(10,"br"),Sa(11," Please note that you'll be "),Fo(12,"strong"),Sa(13,"automatically redirected"),Oo(),Sa(14," to the Pleroma site to login and authorize this application. "),Oo(),Fo(15,"mat-form-field"),Fo(16,"mat-label"),Sa(17,"Insert your Pleroma ID"),Oo(),Fo(18,"input",4),Vo("ngModelChange",function(e){return Me(t),Wo().idInput=e}),Oo(),Oo(),Mo(19,"br"),Fo(20,"button",5),Vo("click",function(){return Me(t),Wo().submit()}),Sa(21,"Connect"),Oo(),Oo()}if(2&t){const t=Wo();Ji(18),Ro("ngModel",t.idInput)("disabled",t.submitted)}}function cC(t,e){if(1&t&&(Fo(0,"li"),Fo(1,"cite"),Sa(2),Oo(),Fo(3,"blockquote"),Sa(4),Oo(),Oo()),2&t){const t=e.$implicit;Ji(2),Ca("",t.actor,":"),Ji(2),Ea(t.object.content)}}function uC(t,e){if(1&t&&(Fo(0,"ul"),xo(1,cC,5,2,"li",7),Oo()),2&t){const t=Wo(2);Ji(1),Ro("ngForOf",t.statuses)}}function lC(t,e){if(1&t&&(Fo(0,"h2"),Fo(1,"a",3),Sa(2,"Pleroma"),Oo(),Sa(3," statuses"),Oo(),xo(4,uC,2,1,"ul",6)),2&t){const t=Wo();Ji(4),Ro("ngIf",t.logged)}}let hC=(()=>{class t{constructor(t,e,r,n){this.pleromaService=t,this.route=e,this.location=r,this.router=n,this.idInput="https://greenish.red/users/nokton",this.submitted=!1,this.logged=!1,this.destroyed$=new E}ngOnInit(){this.initPage()}submit(){this.submitted=!0,console.log("Fetching ",this.idInput),this.pleromaService.fetchUser(this.idInput).subscribe(t=>{bg.saveToLocalStorage(Yg.STORAGE_KEY_USERS,[this.idInput]),console.log("Fetched user: ",t),this.pleromaService.registerApp(t.endpoints.oauthRegistrationEndpoint).subscribe(e=>{console.log("Registered app: ",e),this.pleromaService.logUserIn(t,e)})})}connectPleroma(t,e){this.pleromaService.fetchUser(e).subscribe(r=>{console.log("Fetched user: ",r),this.pleromaService.getOAuthToken(t,e,r.endpoints).subscribe(t=>{console.log("Retrieved token info: ",t),this.pleromaService.saveToken(t.access_token),bg.saveToSession("userInbox",r.inbox),this.router.navigate([],{queryParams:{code:null,state:null},queryParamsHandling:"merge"})})})}loadInbox(){const t=bg.loadFromSession("userInbox");t?this.pleromaService.getWithToken(t).subscribe(t=>{this.logged=!0,this.pleromaService.getWithToken(t.first).subscribe(t=>{this.statuses=t.orderedItems},t=>(this.submitted=!1,this.logged=!1,xf(t)))},t=>(console.error("Error getting inbox: ",t),this.submitted=!1,this.logged=!1,xf(t))):(this.submitted=!1,this.logged=!1)}initPage(){this.route.queryParamMap.subscribe(t=>{this.code=t.get("code"),this.apid=t.get("state"),this.code&&this.apid?(this.submitted=!0,this.connectPleroma(this.code,this.apid)):this.loadInbox()})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}return t.\u0275fac=function(e){return new(e||t)(Io(Yg),Io(Tp),Io(Hl),Io($m))},t.\u0275cmp=jt({type:t,selectors:[["app-pleroma"]],decls:6,vars:2,consts:[[1,"content-spacer"],[4,"ngIf","ngIfElse"],["elseBlock",""],["href","https://pleroma.social/","target","_blank"],["matInput","","placeholder","Format: 'https://greenish.red/users/nokton'",3,"ngModel","disabled","ngModelChange"],["mat-raised-button","","color","primary","type","submit",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(Fo(0,"div",0),Fo(1,"h1"),Sa(2,"Pleroma"),Oo(),xo(3,aC,22,2,"div",1),xo(4,lC,5,1,"ng-template",null,2,Au),Oo()),2&t){const t=To(5);Ji(3),Ro("ngIf",!e.logged)("ngIfElse",t)}},directives:[Ih,lS,tS,JE,xS,GS,BE,iC,xh],styles:["mat-form-field[_ngcontent-%COMP%]{width:400px}"]}),t})();function fC(t,e,r,n){return new(r||(r=Promise))(function(i,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,a)}c((n=n.apply(t,e||[])).next())})}function dC(t){return"string"==typeof t?t:t.value}var pC=r(50309);const mC=pC.dataset,{quad:gC,literal:yC,namedNode:vC,blankNode:bC}=pC,_C={quad:gC,literal:yC,namedNode:vC,blankNode:bC};var wC=r(10125);function SC(t){var e,r,n;const i=null!==(r=null===(e=t.headers.get("Content-Type"))||void 0===e?void 0:e.split(";"))&&void 0!==r?r:[],s=i.length>0&&["text/turtle","application/ld+json"].includes(i[0]),o={sourceIri:t.url,isRawData:!s,contentType:null!==(n=t.headers.get("Content-Type"))&&void 0!==n?n:void 0,linkedResources:{}},a=t.headers.get("Link");if(a){const t=wC.parse(a),e=t.get("rel","acl");1===e.length&&(o.aclUrl=new URL(e[0].uri,o.sourceIri).href),o.linkedResources=t.refs.reduce((t,e)=>{var r,n;return null!==(r=t[n=e.rel])&&void 0!==r||(t[n]=[]),t[e.rel].push(new URL(e.uri,o.sourceIri).href),t},o.linkedResources)}const c=t.headers.get("WAC-Allow");return c&&(o.permissions=function(t){function e(t){const e=t.split(" ");return e.includes("write")?{read:e.includes("read"),append:!0,write:!0,control:e.includes("control")}:{read:e.includes("read"),append:e.includes("append"),write:!1,control:e.includes("control")}}function r(t,e){const r=t.split(",").map(t=>t.split("=")).filter(t=>2===t.length&&t[0].trim()===e);if(1!==r.length)return"";const n=r[0][1].trim();return'"'!==n.charAt(0)||'"'!==n.charAt(n.length-1)?"":n.substring(1,n.length-1)}return{user:e(r(t,"user")),public:e(r(t,"public"))}}(c)),o}function EC(t){return!t.ok}class CC extends Error{}const kC=async(t,e)=>{if("object"==typeof window&&"function"!=typeof require)return await window.fetch(t,e);if("function"!=typeof require)return(0,(await r.e(333).then(r.t.bind(r,46333,19))).default)(t,e);let n;return n=require("cross-fetch"),await n(t,e)},AC={fetch:kC};class xC extends CC{constructor(t,e){super(t),this.response=e}get statusCode(){return this.response.status}get statusText(){return this.response.statusText}}const TC="http://www.w3.org/2001/XMLSchema#string",IC="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString";function RC(t){return FC(t)&&"NamedNode"===t.termType}function PC(t){return FC(t)&&"Literal"===t.termType}function FC(t){return null!==t&&"object"==typeof t&&"string"==typeof t.termType&&"string"==typeof t.value&&"function"==typeof t.equals}function OC(t){return FC(t)&&"BlankNode"===t.termType&&"string"==typeof t.internal_name}function MC(t){const e=dC(t);if("function"!=typeof URL)return!0;try{new URL(e)}catch(kF){return!1}return!0}function BC(t){if(!MC(t))throw new NC(t);return RC(t)?t:_C.namedNode(t)}class NC extends CC{constructor(t){const e=RC(t)?t.value:t;super(`Expected a valid URL, but received: [${e}].`),this.receivedValue=e}}function DC(t,e,r={}){if(!OC(e)&&!MC(e))throw new UC(e);const n=OC(e)?e:BC(e),i=r.scope?BC(r.scope):null,s=t.match(n,null,null,i);return 0===s.size?null:OC(n)?Object.assign(s,{internal_localSubject:n}):Object.assign(s,{internal_url:n.value})}class LC extends CC{constructor(t){super(`Expected a Thing, but received: [${t}].`),this.receivedValue=t}}class jC extends CC{constructor(t){const e=RC(t)?t.value:t;super(`Expected a valid URL to identify a property, but received: [${e}].`),this.receivedProperty=e}}class UC extends CC{constructor(t){const e=RC(t)?t.value:t;super(`Expected a valid URL to identify a Thing, but received: [${e}].`),this.receivedValue=e}}function VC(t){if(!function(t){return function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.size&&"function"==typeof t.add&&"function"==typeof t.delete&&"function"==typeof t.has&&"function"==typeof t.match&&Array.from(t).length===t.size}(t)&&("string"==typeof(null===(r=(e=t).internal_localSubject)||void 0===r?void 0:r.internal_name)&&void 0===e.internal_url||"string"==typeof t.internal_url);var e,r}(t))throw new LC(t)}function HC(t,e){VC(t);const r=WC(t,GC(e));return null===r?null:r.object.value}function qC(t,e){return VC(t),$C(t,GC(e)).map(t=>t.object.value)}const KC=qC;function zC(t,e){VC(t);const r=JC(t,e,"http://www.w3.org/2001/XMLSchema#dateTime");return null===r?null:function(t){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)/.test(t))return null;const[e,r]=t.split("T"),[n,i]="-"===e.charAt(0)?[-1,e.substring(1)]:[1,e],[s,o,a]=i.split("-"),c=Number.parseInt(s,10)*n,u=Number.parseInt(o,10)-1,l=Number.parseInt(a,10),[h,f]=function(t){if(t.endsWith("Z"))return[t.substring(0,t.length-1),"Z"];const e=t.split("+"),r=t.split("-");return e.length>r.length?[e[0],"+"+e[1]]:[r[0],"-"+r[1]]}(r),[d,p]=function(t){if("Z"===t)return[0,0];const e="+"===t.charAt(0)?1:-1,[r,n]=t.substring(1).split(":");return[Number.parseInt(r,10)*e,Number.parseInt(n,10)*e]}(f),[m,g,y]=h.split(":"),v=Number.parseInt(m,10)+d,b=Number.parseInt(g,10)+p,[_,w]=y.split("."),S=Number.parseInt(_,10),E=w?Number.parseInt(w,10):0,C=new Date(Date.UTC(c,u,l,v,b,S,E));return c>=0&&c<100&&C.setUTCFullYear(C.getUTCFullYear()-1900),C}(r)}function WC(t,e){for(const r of t)if(e(r))return r;return null}function $C(t,e){const r=[];for(const n of t)e(n)&&r.push(n);return r}function GC(t){if(!MC(t))throw new jC(t);const e=BC(t);return function(t){return e.equals(t.predicate)&&RC(t.object)}}function QC(t,e){if(!MC(t))throw new jC(t);const r=BC(t);return function(t){return r.equals(t.predicate)&&PC(t.object)&&t.object.datatype.value===e}}function JC(t,e,r){const n=WC(t,QC(e,r));return null===n?null:n.object.value}async function ZC(t,e=AC){t=dC(t);const n=Object.assign(Object.assign({},AC),e),i=await n.fetch(t,{headers:{Accept:"text/turtle"}});if(EC(i))throw new xC(`Fetching the Resource at [${t}] failed: [${i.status}] [${i.statusText}].`,i);const s=await i.text(),o=await async function(t,e){const n=new((await async function(){const t=await r.e(864).then(r.bind(r,86864));return void 0!==t.default?t.default:t}()).Parser)({format:"text/turtle",baseIRI:e});return new Promise((e,r)=>{const i=[];n.parse(t,(t,n,s)=>{if(t)return r(t);n?i.push(n):e(i)})})}(s,t),a=mC();o.forEach(t=>a.add(t));const c=SC(i);return Object.assign(a,{internal_resourceInfo:c})}var YC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function XC(t){var e={exports:{}};return t(e,e.exports),e.exports}var tk=XC(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(t){this.termType="BlankNode",this.value=t}equals(t){return!!t&&"BlankNode"===t.termType&&t.value===this.value}}}),ek=XC(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(t){return!!t&&"DefaultGraph"===t.termType}}e.DefaultGraph=r,r.INSTANCE=new r}),rk=XC(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(t){this.termType="NamedNode",this.value=t}equals(t){return!!t&&"NamedNode"===t.termType&&t.value===this.value}}}),nk=XC(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;class r{constructor(t,e){this.termType="Literal",this.value=t,"string"==typeof e?(this.language=e,this.datatype=r.RDF_LANGUAGE_STRING):e?(this.language="",this.datatype=e):(this.language="",this.datatype=r.XSD_STRING)}equals(t){return!!t&&"Literal"===t.termType&&t.value===this.value&&t.language===this.language&&t.datatype.equals(this.datatype)}}e.Literal=r,r.RDF_LANGUAGE_STRING=new rk.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),r.XSD_STRING=new rk.NamedNode("http://www.w3.org/2001/XMLSchema#string")}),ik=XC(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(t,e,r,n){this.termType="Quad",this.value="",this.subject=t,this.predicate=e,this.object=r,this.graph=n}equals(t){return!!t&&("Quad"===t.termType||!t.termType)&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}}}),sk=XC(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(t){this.termType="Variable",this.value=t}equals(t){return!!t&&"Variable"===t.termType&&t.value===this.value}}}),ok=XC(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;let r=0;e.DataFactory=class{constructor(t){this.blankNodeCounter=0,this.blankNodePrefix=(t=t||{}).blankNodePrefix||`df_${r++}_`}namedNode(t){return new rk.NamedNode(t)}blankNode(t){return new tk.BlankNode(t||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(t,e){return new nk.Literal(t,e)}variable(t){return new sk.Variable(t)}defaultGraph(){return ek.DefaultGraph.INSTANCE}quad(t,e,r,n){return new ik.Quad(t,e,r,n||this.defaultGraph())}fromTerm(t){switch(t.termType){case"NamedNode":return this.namedNode(t.value);case"BlankNode":return this.blankNode(t.value);case"Literal":return t.language?this.literal(t.value,t.language):t.datatype.equals(nk.Literal.XSD_STRING)?this.literal(t.value):this.literal(t.value,this.fromTerm(t.datatype));case"Variable":return this.variable(t.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(t.subject),this.fromTerm(t.predicate),this.fromTerm(t.object),this.fromTerm(t.graph))}}fromQuad(t){return this.fromTerm(t)}resetBlankNodeCounter(){this.blankNodeCounter=0}}}),ak=XC(function(t,e){var r=YC&&YC.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),n=YC&&YC.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(tk,e),n(ok,e),n(ek,e),n(nk,e),n(rk,e),n(ik,e),n(sk,e)}),ck=new ak.DataFactory;function uk(t){return ck.namedNode("http://schema.org/"+t)}uk("familyName"),uk("additionalName"),uk("license"),uk("newTerm"),uk("name"),uk("text");var lk=new ak.DataFactory;function hk(t){return lk.namedNode("http://www.w3.org/2006/vcard/ns#"+t)}var fk={PREFIX:"vcard",NAMESPACE:"http://www.w3.org/2006/vcard/ns#",PREFIX_AND_NAMESPACE:{vcard:"http://www.w3.org/2006/vcard/ns#"},NS:hk,Acquaintance:hk("Acquaintance"),RelatedType:hk("RelatedType"),Agent:hk("Agent"),BBS:hk("BBS"),TelephoneType:hk("TelephoneType"),Car:hk("Car"),Cell:hk("Cell"),Child:hk("Child"),Colleague:hk("Colleague"),Contact:hk("Contact"),Coresident:hk("Coresident"),Coworker:hk("Coworker"),Crush:hk("Crush"),Date:hk("Date"),Dom:hk("Dom"),Type:hk("Type"),Emergency:hk("Emergency"),Fax:hk("Fax"),Female:hk("Female"),Gender:hk("Gender"),Friend:hk("Friend"),Home:hk("Home"),ISDN:hk("ISDN"),Internet:hk("Internet"),Intl:hk("Intl"),Kin:hk("Kin"),Label:hk("Label"),Male:hk("Male"),Me:hk("Me"),Met:hk("Met"),Modem:hk("Modem"),Msg:hk("Msg"),Muse:hk("Muse"),Neighbor:hk("Neighbor"),None:hk("None"),Other:hk("Other"),PCS:hk("PCS"),Pager:hk("Pager"),Parcel:hk("Parcel"),Parent:hk("Parent"),Postal:hk("Postal"),Pref:hk("Pref"),Sibling:hk("Sibling"),Spouse:hk("Spouse"),Sweetheart:hk("Sweetheart"),Tel:hk("Tel"),Text:hk("Text"),TextPhone:hk("TextPhone"),Unknown:hk("Unknown"),Video:hk("Video"),Voice:hk("Voice"),Work:hk("Work"),X400:hk("X400"),Address:hk("Address"),Email:hk("Email"),Group:hk("Group"),Kind:hk("Kind"),Individual:hk("Individual"),Location:hk("Location"),Organization:hk("Organization"),Name:hk("Name"),VCard:hk("VCard"),adr:hk("adr"),hasAddress:hk("hasAddress"),agent:hk("agent"),anniversary:hk("anniversary"),bday:hk("bday"),category:hk("category"),class:hk("class"),email:hk("email"),hasEmail:hk("hasEmail"),extended_address:hk("extended-address"),geo:hk("geo"),hasGeo:hk("hasGeo"),hasAdditionalName:hk("hasAdditionalName"),hasCalendarBusy:hk("hasCalendarBusy"),hasCalendarLink:hk("hasCalendarLink"),hasCalendarRequest:hk("hasCalendarRequest"),hasCategory:hk("hasCategory"),hasCountryName:hk("hasCountryName"),hasFN:hk("hasFN"),hasFamilyName:hk("hasFamilyName"),hasGender:hk("hasGender"),hasGivenName:hk("hasGivenName"),hasHonorificPrefix:hk("hasHonorificPrefix"),hasHonorificSuffix:hk("hasHonorificSuffix"),hasInstantMessage:hk("hasInstantMessage"),hasLanguage:hk("hasLanguage"),hasLocality:hk("hasLocality"),hasNickname:hk("hasNickname"),nickname:hk("nickname"),hasNote:hk("hasNote"),hasOrganizationName:hk("hasOrganizationName"),hasOrganizationUnit:hk("hasOrganizationUnit"),hasPostalCode:hk("hasPostalCode"),hasRegion:hk("hasRegion"),hasRelated:hk("hasRelated"),hasRole:hk("hasRole"),hasSource:hk("hasSource"),hasStreetAddress:hk("hasStreetAddress"),hasTitle:hk("hasTitle"),hasUID:hk("hasUID"),hasValue:hk("hasValue"),label:hk("label"),language:hk("language"),latitude:hk("latitude"),longitude:hk("longitude"),mailer:hk("mailer"),note:hk("note"),org:hk("org"),organization_name:hk("organization-name"),organization_unit:hk("organization-unit"),post_office_box:hk("post-office-box"),prodid:hk("prodid"),rev:hk("rev"),role:hk("role"),sort_string:hk("sort-string"),title:hk("title"),tz:hk("tz"),value:hk("value"),country_name:hk("country-name"),locality:hk("locality"),postal_code:hk("postal-code"),region:hk("region"),street_address:hk("street-address"),hasMember:hk("hasMember"),additional_name:hk("additional-name"),family_name:hk("family-name"),given_name:hk("given-name"),honorific_prefix:hk("honorific-prefix"),honorific_suffix:hk("honorific-suffix"),fn:hk("fn"),hasKey:hk("hasKey"),key:hk("key"),hasLogo:hk("hasLogo"),logo:hk("logo"),hasName:hk("hasName"),n:hk("n"),hasPhoto:hk("hasPhoto"),photo:hk("photo"),hasSound:hk("hasSound"),sound:hk("sound"),hasTelephone:hk("hasTelephone"),tel:hk("tel"),hasURL:hk("hasURL"),url:hk("url")},dk=new ak.DataFactory;function pk(t){return dk.namedNode("http://www.w3.org/2006/vcard/ns#"+t)}pk("hasAddress"),pk("hasEmail"),pk("hasTelephone"),pk("fn"),pk("role"),pk("organization-name"),pk("street-address"),pk("locality"),pk("postal-code"),pk("region"),pk("country-name");var mk=new ak.DataFactory;function gk(t){return mk.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#"+t)}gk("HTML"),gk("langString"),gk("PlainLiteral"),gk("Property"),gk("Statement"),gk("Bag"),gk("Seq"),gk("Alt"),gk("List"),gk("XMLLiteral"),gk("JSON"),gk("CompoundLiteral"),gk("type"),gk("subject"),gk("predicate"),gk("object"),gk("value"),gk("nil"),gk("first"),gk("rest"),gk("language"),gk("direction"),(new ak.DataFactory).namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type");var yk=new ak.DataFactory;function vk(t){return yk.namedNode("http://www.w3.org/2000/01/rdf-schema#"+t)}vk("Resource"),vk("Class"),vk("Literal"),vk("Container"),vk("ContainerMembershipProperty"),vk("Datatype"),vk("isDefinedBy"),vk("label"),vk("comment"),vk("subClassOf"),vk("range"),vk("domain"),vk("subPropertyOf"),vk("seeAlso"),vk("member");var bk=new ak.DataFactory;function _k(t){return bk.namedNode("http://www.w3.org/2001/XMLSchema#"+t)}_k("changes"),_k("string"),_k("boolean"),_k("float"),_k("double"),_k("decimal"),_k("dateTime"),_k("duration"),_k("hexBinary"),_k("base64Binary"),_k("anyURI"),_k("ID"),_k("IDREF"),_k("ENTITY"),_k("NOTATION"),_k("normalizedString"),_k("token"),_k("language"),_k("IDREFS"),_k("ENTITIES"),_k("NMTOKEN"),_k("NMTOKENS"),_k("Name"),_k("QName"),_k("NCName"),_k("integer"),_k("nonNegativeInteger"),_k("positiveInteger"),_k("nonPositiveInteger"),_k("negativeInteger"),_k("byte"),_k("int"),_k("long"),_k("short"),_k("unsignedByte"),_k("unsignedInt"),_k("unsignedLong"),_k("unsignedShort"),_k("date"),_k("time"),_k("gYearMonth"),_k("gYear"),_k("gMonthDay"),_k("gDay"),_k("gMonth");var wk=new ak.DataFactory;function Sk(t){return wk.namedNode("http://www.w3.org/2002/07/owl#"+t)}Sk("Ontology"),Sk("AllDifferent"),Sk("AllDisjointClasses"),Sk("AllDisjointProperties"),Sk("Annotation"),Sk("AnnotationProperty"),Sk("AsymmetricProperty"),Sk("ObjectProperty"),Sk("Axiom"),Sk("Class"),Sk("DataRange"),Sk("DatatypeProperty"),Sk("DeprecatedClass"),Sk("DeprecatedProperty"),Sk("FunctionalProperty"),Sk("InverseFunctionalProperty"),Sk("IrreflexiveProperty"),Sk("NamedIndividual"),Sk("Thing"),Sk("NegativePropertyAssertion"),Sk("Nothing"),Sk("OntologyProperty"),Sk("ReflexiveProperty"),Sk("Restriction"),Sk("SymmetricProperty"),Sk("TransitiveProperty"),Sk("versionInfo"),Sk("allValuesFrom"),Sk("annotatedProperty"),Sk("annotatedSource"),Sk("annotatedTarget"),Sk("assertionProperty"),Sk("backwardCompatibleWith"),Sk("bottomDataProperty"),Sk("bottomObjectProperty"),Sk("cardinality"),Sk("complementOf"),Sk("datatypeComplementOf"),Sk("deprecated"),Sk("differentFrom"),Sk("disjointUnionOf"),Sk("disjointWith"),Sk("distinctMembers"),Sk("equivalentClass"),Sk("equivalentProperty"),Sk("hasKey"),Sk("hasSelf"),Sk("hasValue"),Sk("incompatibleWith"),Sk("intersectionOf"),Sk("inverseOf"),Sk("maxCardinality"),Sk("maxQualifiedCardinality"),Sk("members"),Sk("minCardinality"),Sk("minQualifiedCardinality"),Sk("onClass"),Sk("onDataRange"),Sk("onDatatype"),Sk("oneOf"),Sk("onProperties"),Sk("onProperty"),Sk("priorVersion"),Sk("propertyChainAxiom"),Sk("propertyDisjointWith"),Sk("qualifiedCardinality"),Sk("sameAs"),Sk("someValuesFrom"),Sk("sourceIndividual"),Sk("targetIndividual"),Sk("targetValue"),Sk("topDataProperty"),Sk("topObjectProperty"),Sk("unionOf"),Sk("withRestrictions");var Ek=new ak.DataFactory;function Ck(t){return Ek.namedNode("http://www.w3.org/ns/ldp#"+t)}var kk={PREFIX:"ldp",NAMESPACE:"http://www.w3.org/ns/ldp#",PREFIX_AND_NAMESPACE:{ldp:"http://www.w3.org/ns/ldp#"},NS:Ck,Resource:Ck("Resource"),RDFSource:Ck("RDFSource"),NonRDFSource:Ck("NonRDFSource"),Container:Ck("Container"),BasicContainer:Ck("BasicContainer"),DirectContainer:Ck("DirectContainer"),IndirectContainer:Ck("IndirectContainer"),Page:Ck("Page"),PageSortCriterion:Ck("PageSortCriterion"),hasMemberRelation:Ck("hasMemberRelation"),isMemberOfRelation:Ck("isMemberOfRelation"),membershipResource:Ck("membershipResource"),insertedContentRelation:Ck("insertedContentRelation"),member:Ck("member"),contains:Ck("contains"),constrainedBy:Ck("constrainedBy"),pageSortCriteria:Ck("pageSortCriteria"),pageSortPredicate:Ck("pageSortPredicate"),pageSortOrder:Ck("pageSortOrder"),pageSortCollation:Ck("pageSortCollation"),pageSequence:Ck("pageSequence"),inbox:Ck("inbox")},Ak=new ak.DataFactory;function xk(t){return Ak.namedNode("http://www.w3.org/2011/http#"+t)}xk("Connection"),xk("EntityHeader"),xk("MessageHeader"),xk("GeneralHeader"),xk("HeaderElement"),xk("HeaderName"),xk("Message"),xk("Method"),xk("Parameter"),xk("Request"),xk("RequestHeader"),xk("Response"),xk("ResponseHeader"),xk("StatusCode"),xk("absoluteURI"),xk("requestURI"),xk("absolutePath"),xk("authority"),xk("body"),xk("connectionAuthority"),xk("elementName"),xk("elementValue"),xk("fieldName"),xk("fieldValue"),xk("headerElements"),xk("hdrName"),xk("headers"),xk("httpVersion"),xk("mthd"),xk("methodName"),xk("paramName"),xk("params"),xk("paramValue"),xk("reasonPhrase"),xk("requests"),xk("resp"),xk("sc"),xk("statusCodeNumber"),xk("statusCodeValue");var Tk=new ak.DataFactory;function Ik(t){return Tk.namedNode("http://www.w3.org/2007/ont/httph#"+t)}Ik("content-type"),Ik("accept"),Ik("accept-language");var Rk=new ak.DataFactory;function Pk(t){return Rk.namedNode("http://purl.org/ontology/olo/core#"+t)}Pk("OrderedList"),Pk("Slot"),Pk("length"),Pk("next"),Pk("index"),Pk("ordered_list"),Pk("previous"),Pk("item"),Pk("slot");var Fk=new ak.DataFactory;function Ok(t){return Fk.namedNode("http://www.w3.org/2004/02/skos/core#"+t)}Ok("Concept"),Ok("ConceptScheme"),Ok("Collection"),Ok("OrderedCollection"),Ok("definition"),Ok("scopeNote"),Ok("example"),Ok("inScheme"),Ok("hasTopConcept"),Ok("topConceptOf"),Ok("prefLabel"),Ok("altLabel"),Ok("hiddenLabel"),Ok("notation"),Ok("note"),Ok("changeNote"),Ok("editorialNote"),Ok("historyNote"),Ok("semanticRelation"),Ok("broader"),Ok("broaderTransitive"),Ok("narrower"),Ok("narrowerTransitive"),Ok("related"),Ok("member"),Ok("memberList"),Ok("mappingRelation"),Ok("broadMatch"),Ok("narrowMatch"),Ok("relatedMatch"),Ok("exactMatch"),Ok("closeMatch");var Mk=new ak.DataFactory;function Bk(t){return Mk.namedNode("http://www.w3.org/ns/ui#"+t)}Bk("BooleanField"),Bk("NumericField"),Bk("ValueField"),Bk("Group"),Bk("Form"),Bk("Single"),Bk("Choice"),Bk("Classifier"),Bk("ColorField"),Bk("Comment"),Bk("DateField"),Bk("DateTimeField"),Bk("DecimalField"),Bk("EmailField"),Bk("Heading"),Bk("SingleLineTextField"),Bk("TextField"),Bk("Options"),Bk("IntegerField"),Bk("FloatField"),Bk("PhoneField"),Bk("Multiple"),Bk("MultiLineTextField"),Bk("TriStateField"),Bk("parts"),Bk("from"),Bk("label"),Bk("property"),Bk("for"),Bk("prompt"),Bk("use"),Bk("creationForm"),Bk("contents"),Bk("size"),Bk("style"),Bk("category"),Bk("dependingOn"),Bk("maxLength"),Bk("part"),Bk("annotationForm"),Bk("backgroundColor"),Bk("backgroundImage"),Bk("color"),Bk("initialProperties"),Bk("maxValue"),Bk("minValue"),Bk("seqeunce"),Bk("sortBy"),Bk("sortPriority"),Bk("tableProperties"),Bk("pattern"),Bk("value"),Bk("values"),Bk("minDateOffset"),Bk("maxDateOffset"),Bk("minDatetimeOffset"),Bk("maxDatetimeOffset"),Bk("name"),Bk("TimeField"),Bk("oldValue"),Bk("base"),Bk("parentProperty"),Bk("reference"),Bk("valid"),Bk("defaultError"),Bk("partsClone"),Bk("minLength"),Bk("validationError"),Bk("required"),Bk("requiredError");var Nk=new ak.DataFactory;function Dk(t){return Nk.namedNode("http://purl.org/vocab/vann/"+t)}Dk("preferredNamespacePrefix"),Dk("preferredNamespaceUri"),Dk("changes"),Dk("example"),Dk("termGroup"),Dk("usageNote");var Lk=new ak.DataFactory;function jk(t){return Lk.namedNode("http://purl.org/dc/terms/"+t)}var Uk={PREFIX:"dcterms",NAMESPACE:"http://purl.org/dc/terms/",PREFIX_AND_NAMESPACE:{dcterms:"http://purl.org/dc/terms/"},NS:jk,Agent:jk("Agent"),AgentClass:jk("AgentClass"),BibliographicResource:jk("BibliographicResource"),FileFormat:jk("FileFormat"),MediaType:jk("MediaType"),Frequency:jk("Frequency"),Jurisdiction:jk("Jurisdiction"),LocationPeriodOrJurisdiction:jk("LocationPeriodOrJurisdiction"),LicenseDocument:jk("LicenseDocument"),RightsStatement:jk("RightsStatement"),LinguisticSystem:jk("LinguisticSystem"),Location:jk("Location"),MediaTypeOrExtent:jk("MediaTypeOrExtent"),MethodOfAccrual:jk("MethodOfAccrual"),MethodOfInstruction:jk("MethodOfInstruction"),PeriodOfTime:jk("PeriodOfTime"),PhysicalMedium:jk("PhysicalMedium"),PhysicalResource:jk("PhysicalResource"),Policy:jk("Policy"),ProvenanceStatement:jk("ProvenanceStatement"),SizeOrDuration:jk("SizeOrDuration"),Standard:jk("Standard"),modified:jk("modified"),publisher:jk("publisher"),title:jk("title"),description:jk("description"),hasVersion:jk("hasVersion"),issued:jk("issued"),Box:jk("Box"),ISO3166:jk("ISO3166"),ISO639_2:jk("ISO639-2"),ISO639_3:jk("ISO639-3"),Period:jk("Period"),Point:jk("Point"),RFC1766:jk("RFC1766"),RFC3066:jk("RFC3066"),RFC4646:jk("RFC4646"),RFC5646:jk("RFC5646"),URI:jk("URI"),W3CDTF:jk("W3CDTF"),abstract:jk("abstract"),accessRights:jk("accessRights"),rights:jk("rights"),accrualMethod:jk("accrualMethod"),accrualPeriodicity:jk("accrualPeriodicity"),accrualPolicy:jk("accrualPolicy"),alternative:jk("alternative"),audience:jk("audience"),available:jk("available"),date:jk("date"),bibliographicCitation:jk("bibliographicCitation"),identifier:jk("identifier"),conformsTo:jk("conformsTo"),relation:jk("relation"),contributor:jk("contributor"),coverage:jk("coverage"),created:jk("created"),creator:jk("creator"),dateAccepted:jk("dateAccepted"),dateCopyrighted:jk("dateCopyrighted"),dateSubmitted:jk("dateSubmitted"),educationLevel:jk("educationLevel"),extent:jk("extent"),format:jk("format"),hasFormat:jk("hasFormat"),hasPart:jk("hasPart"),instructionalMethod:jk("instructionalMethod"),isFormatOf:jk("isFormatOf"),isPartOf:jk("isPartOf"),isReferencedBy:jk("isReferencedBy"),isReplacedBy:jk("isReplacedBy"),isRequiredBy:jk("isRequiredBy"),isVersionOf:jk("isVersionOf"),language:jk("language"),license:jk("license"),mediator:jk("mediator"),medium:jk("medium"),provenance:jk("provenance"),references:jk("references"),replaces:jk("replaces"),requires:jk("requires"),rightsHolder:jk("rightsHolder"),source:jk("source"),spatial:jk("spatial"),subject:jk("subject"),tableOfContents:jk("tableOfContents"),temporal:jk("temporal"),type:jk("type"),valid:jk("valid")},Vk=new ak.DataFactory;function Hk(t){return Vk.namedNode("https://www.w3.org/ns/activitystreams#"+t)}Hk("Activity"),Hk("Object"),Hk("Link"),Hk("Collection"),Hk("CollectionPage"),Hk("Image"),Hk("OrderedItems"),Hk("Relationship"),Hk("Question"),Hk("Profile"),Hk("Tombstone"),Hk("Place"),Hk("OrderedCollectionPage"),Hk("Accept"),Hk("Block"),Hk("Ignore"),Hk("IntransitiveActivity"),Hk("Add"),Hk("Announce"),Hk("Application"),Hk("Arrive"),Hk("Article"),Hk("Audio"),Hk("Document"),Hk("OrderedCollection"),Hk("Create"),Hk("Delete"),Hk("Dislike"),Hk("Event"),Hk("Flag"),Hk("Follow"),Hk("Group"),Hk("Invite"),Hk("Offer"),Hk("Join"),Hk("Leave"),Hk("Like"),Hk("View"),Hk("Listen"),Hk("Read"),Hk("Move"),Hk("Travel"),Hk("Mention"),Hk("Note"),Hk("Page"),Hk("Person"),Hk("Organization"),Hk("Reject"),Hk("Remove"),Hk("Service"),Hk("TentativeAccept"),Hk("TentativeReject"),Hk("Undo"),Hk("Update"),Hk("Video"),Hk("actor"),Hk("attributedTo"),Hk("attachment"),Hk("attachments"),Hk("author"),Hk("bcc"),Hk("bto"),Hk("cc"),Hk("context"),Hk("current"),Hk("first"),Hk("generator"),Hk("icon"),Hk("image"),Hk("inReplyTo"),Hk("items"),Hk("last"),Hk("location"),Hk("next"),Hk("object"),Hk("oneOf"),Hk("anyOf"),Hk("prev"),Hk("preview"),Hk("provider"),Hk("replies"),Hk("result"),Hk("audience"),Hk("partOf"),Hk("tag"),Hk("tags"),Hk("target"),Hk("origin"),Hk("instrument"),Hk("to"),Hk("url"),Hk("subject"),Hk("relationship"),Hk("describes"),Hk("formerType"),Hk("accuracy"),Hk("altitude"),Hk("content"),Hk("name"),Hk("downstreamDuplicates"),Hk("duration"),Hk("endTime"),Hk("height"),Hk("href"),Hk("hreflang"),Hk("id"),Hk("latitude"),Hk("longitude"),Hk("mediaType"),Hk("objectType"),Hk("published"),Hk("radius"),Hk("rating"),Hk("rel"),Hk("startIndex"),Hk("startTime"),Hk("summary"),Hk("totalItems"),Hk("units"),Hk("updated"),Hk("upstreamDuplicates"),Hk("verb"),Hk("width"),Hk("deleted");var qk=new ak.DataFactory;function Kk(t){return qk.namedNode("http://persistence.uni-leipzig.org/nlp2rdf/ontologies/rlog#"+t)}Kk("Level"),Kk("Entry"),Kk("StatusCode"),Kk("ALL"),Kk("priority"),Kk("DEBUG"),Kk("ERROR"),Kk("FATAL"),Kk("INFO"),Kk("OFF"),Kk("TRACE"),Kk("WARN"),Kk("className"),Kk("codeId"),Kk("date"),Kk("hasCode"),Kk("level"),Kk("message"),Kk("resource");var zk=new ak.DataFactory;function Wk(t){return zk.namedNode("http://xmlns.com/foaf/0.1/"+t)}var $k={PREFIX:"foaf",NAMESPACE:"http://xmlns.com/foaf/0.1/",PREFIX_AND_NAMESPACE:{foaf:"http://xmlns.com/foaf/0.1/"},NS:Wk,Agent:Wk("Agent"),Document:Wk("Document"),Organization:Wk("Organization"),Project:Wk("Project"),Group:Wk("Group"),Image:Wk("Image"),LabelProperty:Wk("LabelProperty"),OnlineAccount:Wk("OnlineAccount"),OnlineChatAccount:Wk("OnlineChatAccount"),OnlineEcommerceAccount:Wk("OnlineEcommerceAccount"),OnlineGamingAccount:Wk("OnlineGamingAccount"),Person:Wk("Person"),PersonalProfileDocument:Wk("PersonalProfileDocument"),account:Wk("account"),accountName:Wk("accountName"),accountServiceHomepage:Wk("accountServiceHomepage"),age:Wk("age"),aimChatID:Wk("aimChatID"),nick:Wk("nick"),based_near:Wk("based_near"),birthday:Wk("birthday"),currentProject:Wk("currentProject"),depiction:Wk("depiction"),depicts:Wk("depicts"),dnaChecksum:Wk("dnaChecksum"),familyName:Wk("familyName"),family_name:Wk("family_name"),firstName:Wk("firstName"),focus:Wk("focus"),fundedBy:Wk("fundedBy"),geekcode:Wk("geekcode"),gender:Wk("gender"),givenName:Wk("givenName"),givenname:Wk("givenname"),holdsAccount:Wk("holdsAccount"),homepage:Wk("homepage"),page:Wk("page"),isPrimaryTopicOf:Wk("isPrimaryTopicOf"),icqChatID:Wk("icqChatID"),img:Wk("img"),interest:Wk("interest"),primaryTopic:Wk("primaryTopic"),jabberID:Wk("jabberID"),knows:Wk("knows"),lastName:Wk("lastName"),logo:Wk("logo"),made:Wk("made"),maker:Wk("maker"),mbox:Wk("mbox"),mbox_sha1sum:Wk("mbox_sha1sum"),member:Wk("member"),membershipClass:Wk("membershipClass"),msnChatID:Wk("msnChatID"),myersBriggs:Wk("myersBriggs"),name:Wk("name"),openid:Wk("openid"),topic:Wk("topic"),pastProject:Wk("pastProject"),phone:Wk("phone"),plan:Wk("plan"),publications:Wk("publications"),schoolHomepage:Wk("schoolHomepage"),sha1:Wk("sha1"),skypeID:Wk("skypeID"),status:Wk("status"),surname:Wk("surname"),theme:Wk("theme"),thumbnail:Wk("thumbnail"),tipjar:Wk("tipjar"),title:Wk("title"),topic_interest:Wk("topic_interest"),weblog:Wk("weblog"),workInfoHomepage:Wk("workInfoHomepage"),workplaceHomepage:Wk("workplaceHomepage"),yahooChatID:Wk("yahooChatID")},Gk=new ak.DataFactory;function Qk(t){return Gk.namedNode("http://purl.org/linked-data/cube#"+t)}Qk("DataSet"),Qk("Attachable"),Qk("Observation"),Qk("ObservationGroup"),Qk("Slice"),Qk("ComponentProperty"),Qk("DimensionProperty"),Qk("CodedProperty"),Qk("MeasureProperty"),Qk("AttributeProperty"),Qk("DataStructureDefinition"),Qk("ComponentSet"),Qk("ComponentSpecification"),Qk("SliceKey"),Qk("HierarchicalCodeList"),Qk("dataSet"),Qk("observation"),Qk("observationGroup"),Qk("slice"),Qk("measureType"),Qk("structure"),Qk("component"),Qk("componentProperty"),Qk("order"),Qk("componentRequired"),Qk("componentAttachment"),Qk("dimension"),Qk("measure"),Qk("attribute"),Qk("measureDimension"),Qk("sliceStructure"),Qk("sliceKey"),Qk("concept"),Qk("codeList"),Qk("hierarchyRoot"),Qk("parentChildProperty");var Jk=new ak.DataFactory;function Zk(t){return Jk.namedNode("http://purl.org/linked-data/sdmx/2009/dimension#"+t)}Zk("age"),Zk("civilStatus"),Zk("currency"),Zk("educationLev"),Zk("freq"),Zk("occupation"),Zk("refArea"),Zk("refPeriod"),Zk("sex"),Zk("timePeriod");var Yk=new ak.DataFactory;function Xk(t){return Yk.namedNode("http://www.w3.org/ns/shex#"+t)}Xk("Annotation"),Xk("EachOf"),Xk("TripleExpression"),Xk("IriStem"),Xk("Stem"),Xk("IriStemRange"),Xk("StemRange"),Xk("Language"),Xk("LanguageStem"),Xk("LanguageStemRange"),Xk("LiteralStem"),Xk("LiteralStemRange"),Xk("NodeConstraint"),Xk("ShapeExpression"),Xk("NodeKind"),Xk("OneOf"),Xk("Schema"),Xk("SemAct"),Xk("Shape"),Xk("ShapeAnd"),Xk("ShapeExternal"),Xk("ShapeNot"),Xk("ShapeOr"),Xk("TripleConstraint"),Xk("Wildcard"),Xk("annotation"),Xk("closed"),Xk("code"),Xk("datatype"),Xk("exclusion"),Xk("expression"),Xk("expressions"),Xk("extra"),Xk("flags"),Xk("fractiondigits"),Xk("numericFacet"),Xk("inverse"),Xk("languageTag"),Xk("length"),Xk("stringFacet"),Xk("max"),Xk("maxexclusive"),Xk("maxinclusive"),Xk("maxlength"),Xk("min"),Xk("minexclusive"),Xk("mininclusive"),Xk("minlength"),Xk("name"),Xk("nodeKind"),Xk("xsFacet"),Xk("object"),Xk("pattern"),Xk("predicate"),Xk("semActs"),Xk("shapeExpr"),Xk("shapeExprs"),Xk("shapes"),Xk("start"),Xk("startActs"),Xk("stem"),Xk("totaldigits"),Xk("valueExpr"),Xk("values");var tA=new ak.DataFactory;function eA(t){return tA.namedNode("http://www.w3.org/ns/auth/acl#"+t)}eA("Access"),eA("Append"),eA("Write"),eA("AuthenticatedAgent"),eA("Authorization"),eA("Control"),eA("Origin"),eA("Read"),eA("accessControl"),eA("accessTo"),eA("accessToClass"),eA("agent"),eA("agentClass"),eA("agentGroup"),eA("default"),eA("defaultForNew"),eA("delegates"),eA("mode"),eA("origin"),eA("owner");var rA=new ak.DataFactory;function nA(t){return rA.namedNode("http://www.w3.org/ns/posix/stat#"+t)}nA("atime"),nA("blksize"),nA("blocks"),nA("ctime"),nA("dev"),nA("gid"),nA("ino"),nA("mode"),nA("mtime"),nA("nlink"),nA("rdev"),nA("size"),nA("uid");var iA=new ak.DataFactory;function sA(t){return iA.namedNode("https://www.w3.org/2002/12/cal/ical#"+t)}sA("Valarm"),sA("Value_CAL-ADDRESS"),sA("Value_DATE"),sA("Value_DATE-TIME"),sA("Value_DURATION"),sA("Value_PERIOD"),sA("Value_RECUR"),sA("Vevent"),sA("Vfreebusy"),sA("Vjournal"),sA("Vtimezone"),sA("Vtodo"),sA("attach"),sA("description"),sA("summary"),sA("duration"),sA("attendee"),sA("action"),sA("repeat"),sA("trigger"),sA("categories"),sA("class"),sA("comment"),sA("geo"),sA("location"),sA("priority"),sA("resources"),sA("status"),sA("dtend"),sA("dtstart"),sA("transp"),sA("contact"),sA("organizer"),sA("relatedTo"),sA("url"),sA("uid"),sA("exrule"),sA("rdate"),sA("rrule"),sA("created"),sA("dtstamp"),sA("lastModified"),sA("sequence"),sA("requestStatus"),sA("freebusy"),sA("tzid"),sA("tzname"),sA("tzoffsetfrom"),sA("tzoffsetto"),sA("tzurl"),sA("percentComplete"),sA("completed"),sA("due"),sA("X-"),sA("calscale"),sA("exdate"),sA("method"),sA("prodid"),sA("recurrenceId"),sA("version");var oA=new ak.DataFactory;function aA(t){return oA.namedNode("http://www.w3.org/ns/prov#"+t)}aA("Activity"),aA("Entity"),aA("ActivityInfluence"),aA("Influence"),aA("EntityInfluence"),aA("Agent"),aA("InstantaneousEvent"),aA("AgentInfluence"),aA("Association"),aA("Attribution"),aA("Bundle"),aA("Collection"),aA("Communication"),aA("Delegation"),aA("Derivation"),aA("EmptyCollection"),aA("End"),aA("Generation"),aA("Invalidation"),aA("Location"),aA("Organization"),aA("Person"),aA("Plan"),aA("PrimarySource"),aA("Quotation"),aA("Revision"),aA("Role"),aA("SoftwareAgent"),aA("Start"),aA("Usage"),aA("category"),aA("component"),aA("constraints"),aA("definition"),aA("dm"),aA("n"),aA("activity"),aA("hadActivity"),aA("editorsDefinition"),aA("agent"),aA("unqualifiedForm"),aA("wasAssociatedWith"),aA("wasAttributedTo"),aA("wasInformedBy"),aA("actedOnBehalfOf"),aA("wasDerivedFrom"),aA("wasEndedBy"),aA("entity"),aA("wasGeneratedBy"),aA("wasInfluencedBy"),aA("wasInvalidatedBy"),aA("atLocation"),aA("hadPrimarySource"),aA("wasQuotedFrom"),aA("wasRevisionOf"),aA("hadRole"),aA("wasStartedBy"),aA("used"),aA("qualifiedDelegation"),aA("inverse"),aA("qualifiedForm"),aA("influencer"),aA("editorialNote"),aA("alternateOf"),aA("specializationOf"),aA("aq"),aA("sharesDefinitionWith"),aA("atTime"),aA("endedAtTime"),aA("generatedAtTime"),aA("invalidatedAtTime"),aA("startedAtTime"),aA("generated"),aA("influenced"),aA("hadGeneration"),aA("hadMember"),aA("hadPlan"),aA("qualifiedPrimarySource"),aA("hadUsage"),aA("invalidated"),aA("order"),aA("qualifiedAssociation"),aA("qualifiedInfluence"),aA("qualifiedAttribution"),aA("qualifiedCommunication"),aA("qualifiedDerivation"),aA("qualifiedEnd"),aA("qualifiedGeneration"),aA("qualifiedInvalidation"),aA("qualifiedQuotation"),aA("qualifiedRevision"),aA("qualifiedStart"),aA("qualifiedUsage"),aA("todo"),aA("value");let cA=(()=>{class t{static discoverInboxUrlFromTarget(e){return fC(this,void 0,void 0,function*(){return t.retrieveInboxUrlFromWebId(e)})}static retrieveInboxUrlFromWebId(t){return fC(this,void 0,void 0,function*(){return HC(DC(yield ZC(t),t),kk.inbox)})}static retrieveInboxUrlsFromWebId(t){return fC(this,void 0,void 0,function*(){return qC(DC(yield ZC(t),t),kk.inbox)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class uA{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new lA(t,this.compare,this.keySelector))}}class lA extends p{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(n){return this.destination.error(n)}let r=!1;if(this.hasKey)try{const{compare:t}=this;r=t(this.key,e)}catch(n){return this.destination.error(n)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}class hA extends sy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(t,e,r):t.flush(this)}}class fA extends ay{}const dA=new fA(hA);let pA=(()=>{class t{constructor(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}}accept(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)}toObservable(){switch(this.kind){case"N":return xf(this.value);case"E":return yg(this.error);case"C":return jf()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class mA extends p{constructor(t,e,r=0){super(t),this.scheduler=e,this.delay=r}static dispatch(t){const{notification:e,destination:r}=t;e.observe(r),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(mA.dispatch,this.delay,new gA(t,this.destination)))}_next(t){this.scheduleMessage(pA.createNext(t))}_error(t){this.scheduleMessage(pA.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(pA.createComplete()),this.unsubscribe()}}class gA{constructor(t,e){this.notification=t,this.destination=e}}class yA extends E{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new vA(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,r=e?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,i=r.length;let s;if(this.closed)throw new _;if(this.isStopped||this.hasError?s=h.EMPTY:(this.observers.push(t),s=new w(this,t)),n&&t.add(t=new mA(t,n)),e)for(let o=0;o<i&&!t.closed;o++)t.next(r[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(r[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||dA).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length;let s=0;for(;s<i&&!(t-n[s].time<r);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&n.splice(0,s),n}}class vA{constructor(t,e){this.time=t,this.value=e}}function bA(t){return t&&"function"==typeof t.connect}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class _A{applyChanges(t,e,r,n,i){t.forEachOperation((t,n,s)=>{let o,a;if(null==t.previousIndex){const i=r(t,n,s);o=e.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==s?(e.remove(n),a=3):(o=e.get(n),e.move(o,s),a=2);i&&i({context:null==o?void 0:o.context,operation:a,record:t})})}detach(){}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class wA{constructor(t=!1,e,r=!0){this._multiple=t,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new E,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const SA=new Qr("_ViewRepeater");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let EA=(()=>{class t{constructor(t,e,r){this._ngZone=t,this._platform=e,this._scrolled=new E,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new v(e=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(gS(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):xf()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const r=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Yf(t=>!t||r.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((r,n)=>{this._scrollableContainsElement(n,t)&&e.push(n)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let r=e.nativeElement,n=t.getElementRef().nativeElement;do{if(r==n)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Cw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(bn(Gu),bn(by),bn(xl,8))},t.\u0275prov=ct({factory:function(){return new t(bn(Gu),bn(by),bn(xl,8))},token:t,providedIn:"root"}),t})(),CA=(()=>{class t{constructor(t,e,r,n){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=r,this.dir=n,this._destroyed=new E,this._elementScrolled=new v(t=>this.ngZone.runOutsideAngular(()=>Cw(this.elementRef.nativeElement,"scroll").pipe(Aw(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),r&&0!=Iy()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==Iy()?t.left=t.right:1==Iy()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;Ty()?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e="left",r="right",n=this.elementRef.nativeElement;if("top"==t)return n.scrollTop;if("bottom"==t)return n.scrollHeight-n.clientHeight-n.scrollTop;const i=this.dir&&"rtl"==this.dir.value;return"start"==t?t=i?r:e:"end"==t&&(t=i?e:r),i&&2==Iy()?t==e?n.scrollWidth-n.clientWidth-n.scrollLeft:n.scrollLeft:i&&1==Iy()?t==e?n.scrollLeft+n.scrollWidth-n.clientWidth:-n.scrollLeft:t==e?n.scrollLeft:n.scrollWidth-n.clientWidth-n.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(EA),Io(Gu),Io(Xy,8))},t.\u0275dir=zt({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),kA=(()=>{class t{constructor(t,e,r){this._platform=t,this._change=new E,this._changeListener=t=>{this._change.next(t)},this._document=r,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+e,height:r,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),r=t.documentElement,n=r.getBoundingClientRect();return{top:-n.top||t.body.scrollTop||e.scrollY||r.scrollTop||0,left:-n.left||t.body.scrollLeft||e.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(gS(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(bn(by),bn(Gu),bn(xl,8))},t.\u0275prov=ct({factory:function(){return new t(bn(by),bn(Gu),bn(xl,8))},token:t,providedIn:"root"}),t})(),AA=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})(),xA=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[tv,_y,AA],tv,AA]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class TA{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class IA extends TA{constructor(t,e,r,n){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=n}}class RA extends TA{constructor(t,e,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class PA extends TA{constructor(t){super(),this.element=t instanceof Za?t.nativeElement:t}}class FA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof IA?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof RA?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof PA?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class OA extends FA{constructor(t,e,r,n,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=n,this.attachDomPortal=t=>{const e=t.element,r=this._document.createComment("dom-portal");e.parentNode.insertBefore(r,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(e,r)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=e.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),r}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach(t=>this.outletElement.appendChild(t)),r.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(r);-1!==t&&e.remove(t)}),r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let MA=(()=>{class t extends FA{constructor(t,e,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new nu,this.attachDomPortal=t=>{const e=t.element,r=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(r,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(e,r)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),n=e.createComponent(r,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(n.hostView.rootNodes[0]),super.setDisposeFn(()=>n.destroy()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(Io($a),Io(Oc),Io(xl))},t.\u0275dir=zt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ho]}),t})(),BA=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const NA=Ty();class DA{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ry(-this._previousScrollPosition.left),t.style.top=ry(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,r=this._document.body.style,n=e.scrollBehavior||"",i=r.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),NA&&(e.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),NA&&(e.scrollBehavior=n,r.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class LA{constructor(t,e,r,n){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class jA{enable(){}disable(){}attach(){}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function UA(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function VA(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class HA{constructor(t,e,r,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=n,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:r}=this._viewportRuler.getViewportSize();UA(t,[{width:e,height:r,bottom:r,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let qA=(()=>{class t{constructor(t,e,r,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this.noop=()=>new jA,this.close=t=>new LA(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new DA(this._viewportRuler,this._document),this.reposition=t=>new HA(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=n}}return t.\u0275fac=function(e){return new(e||t)(bn(EA),bn(kA),bn(Gu),bn(xl))},t.\u0275prov=ct({factory:function(){return new t(bn(EA),bn(kA),bn(Gu),bn(xl))},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class KA{constructor(t){if(this.scrollStrategy=new jA,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class zA{constructor(t,e,r,n,i){this.offsetX=r,this.offsetY=n,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class WA{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let $A=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(bn(xl))},t.\u0275prov=ct({factory:function(){return new t(bn(xl))},token:t,providedIn:"root"}),t})(),GA=(()=>{class t extends $A{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let r=e.length-1;r>-1;r--)if(e[r]._keydownEvents.observers.length>0){e[r]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(bn(xl))},t.\u0275prov=ct({factory:function(){return new t(bn(xl))},token:t,providedIn:"root"}),t})(),QA=(()=>{class t extends $A{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,r=this._attachedOverlays.slice();for(let n=r.length-1;n>-1;n--){const i=r[n];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(bn(xl),bn(by))},t.\u0275prov=ct({factory:function(){return new t(bn(xl),bn(by))},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const JA=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let ZA=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||JA){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),JA?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(bn(xl),bn(by))},t.\u0275prov=ct({factory:function(){return new t(bn(xl),bn(by))},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class YA{constructor(t,e,r,n,i,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=r,this._config=n,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new E,this._attachments=new E,this._detachments=new E,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new E,this._outsidePointerEvents=new E,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(zf(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ry(this._config.width),t.height=ry(this._config.height),t.minWidth=ry(this._config.minWidth),t.minHeight=ry(this._config.minHeight),t.maxWidth=ry(this._config.maxWidth),t.maxHeight=ry(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(t,e,r){const n=t.classList;ey(e).forEach(t=>{t&&(r?n.add(t):n.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Aw(z(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const XA="cdk-overlay-connected-position-bounding-box",tx=/([A-Za-z%]+)$/;class ex{constructor(t,e,r,n,i){this._viewportRuler=e,this._document=r,this._platform=n,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new E,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(XA),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,n=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,r,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,r)?n.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(n.length){let t=null,e=-1;for(const r of n){const n=r.boundingBoxRect.width*r.boundingBoxRect.height*(r.position.weight||1);n>e&&(e=n,t=r)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rx(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(XA),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let r,n;if("center"==e.originX)r=t.left+t.width/2;else{const n=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;r="start"==e.originX?n:i}return n="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:r,y:n}}_getOverlayPoint(t,e,r){let n,i;return n="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+n,y:t.y+i}}_getOverlayFit(t,e,r,n){let{x:i,y:s}=t,o=this._getOffset(n,"x"),a=this._getOffset(n,"y");o&&(i+=o),a&&(s+=a);let c=0-s,u=s+e.height-r.height,l=this._subtractOverflows(e.width,0-i,i+e.width-r.width),h=this._subtractOverflows(e.height,c,u),f=l*h;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const n=r.bottom-e.y,i=r.right-e.x,s=nx(this._overlayRef.getConfig().minHeight),o=nx(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=n)&&a}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const n=this._viewportRect,i=Math.max(t.x+e.width-n.width,0),s=Math.max(t.y+e.height-n.height,0),o=Math.max(n.top-r.top-t.y,0),a=Math.max(n.left-r.left-t.x,0);let c=0,u=0;return c=e.width<=n.width?a||-i:t.x<this._viewportMargin?n.left-r.left-t.x:0,u=e.height<=n.height?o||-s:t.y<this._viewportMargin?n.top-r.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),r=new WA(t,e);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,n=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${r} ${n}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,n=this._isRtl();let i,s,o,a,c,u;if("top"===e.overlayY)s=t.y,i=r.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=r.height-t.y+2*this._viewportMargin,i=r.height-o+this._viewportMargin;else{const e=Math.min(r.bottom-t.y+r.top,t.y),n=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>n&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-n/2)}if("end"===e.overlayX&&!n||"start"===e.overlayX&&n)u=r.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!n||"end"===e.overlayX&&n)c=t.x,a=r.right-t.x;else{const e=Math.min(r.right-t.x+r.left,t.x),n=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>n&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-n/2)}return{top:s,left:c,bottom:o,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;n.height=ry(r.height),n.top=ry(r.top),n.bottom=ry(r.bottom),n.width=ry(r.width),n.left=ry(r.left),n.right=ry(r.right),n.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",n.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(n.maxHeight=ry(t)),i&&(n.maxWidth=ry(i))}this._lastBoundingBoxSize=r,rx(this._boundingBox.style,n)}_resetBoundingBoxStyles(){rx(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rx(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},n=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(n){const n=this._viewportRuler.getViewportScrollPosition();rx(r,this._getExactOverlayY(e,t,n)),rx(r,this._getExactOverlayX(e,t,n))}else r.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),r.transform=o.trim(),s.maxHeight&&(n?r.maxHeight=ry(s.maxHeight):i&&(r.maxHeight="")),s.maxWidth&&(n?r.maxWidth=ry(s.maxWidth):i&&(r.maxWidth="")),rx(this._pane.style,r)}_getExactOverlayY(t,e,r){let n={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,r));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?n.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":n.top=ry(i.y),n}_getExactOverlayX(t,e,r){let n,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),n=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===n?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=ry(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:VA(t,r),isOriginOutsideView:UA(t,r),isOverlayClipped:VA(e,r),isOverlayOutsideView:UA(e,r)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ey(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Za)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function rx(t,e){for(let r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function nx(t){if("number"!=typeof t&&null!=t){const[e,r]=t.split(tx);return r&&"px"!==r?null:parseFloat(e)}return t||null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class ix{constructor(t,e,r,n,i,s,o){this._preferredPositions=[],this._positionStrategy=new ex(r,n,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,r,n){const i=new zA(t,e,r,n);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const sx="cdk-global-overlay-wrapper";class ox{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(sx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:n,height:i,maxWidth:s,maxHeight:o}=r,a=!("100%"!==n&&"100vw"!==n||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(sx),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ax=(()=>{class t{constructor(t,e,r,n){this._viewportRuler=t,this._document=e,this._platform=r,this._overlayContainer=n}global(){return new ox}connectedTo(t,e,r){return new ix(e,r,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new ex(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(bn(kA),bn(xl),bn(by),bn(ZA))},t.\u0275prov=ct({factory:function(){return new t(bn(kA),bn(xl),bn(by),bn(ZA))},token:t,providedIn:"root"}),t})(),cx=0,ux=(()=>{class t{constructor(t,e,r,n,i,s,o,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=r,this._positionBuilder=n,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),r=this._createPaneElement(e),n=this._createPortalOutlet(r),i=new KA(t);return i.direction=i.direction||this._directionality.value,new YA(n,e,r,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+cx++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ml)),new OA(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(bn(qA),bn(ZA),bn($a),bn(ax),bn(GA),bn(uo),bn(Gu),bn(xl),bn(Xy),bn(Hl),bn(QA))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const lx={provide:new Qr("cdk-connected-overlay-scroll-strategy"),deps:[ux],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let hx=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[ux,lx],imports:[[tv,BA,xA],xA]}),t})();class fx{constructor(t){this.total=t}call(t,e){return e.subscribe(new dx(t,this.total))}}class dx extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const px=new Set;let mx,gx=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):yx}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!px.has(t))try{mx||(mx=document.createElement("style"),mx.setAttribute("type","text/css"),document.head.appendChild(mx)),mx.sheet&&(mx.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),px.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(bn(by))},t.\u0275prov=ct({factory:function(){return new t(bn(by))},token:t,providedIn:"root"}),t})();function yx(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let vx=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new E}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return bx(ey(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Of(bx(ey(t)).map(t=>this._registerQuery(t).observable));return e=Df(e.pipe(zf(1)),e.pipe(t=>t.lift(new fx(1)),uy(0))),e.pipe(A(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:r})=>{e.matches=e.matches||t,e.breakpoints[r]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),r={observable:new v(t=>{const r=e=>this._zone.run(()=>t.next(e));return e.addListener(r),()=>{e.removeListener(r)}}).pipe(Gf(e),A(({matches:e})=>({query:t,matches:e})),Aw(this._destroySubject)),mql:e};return this._queries.set(t,r),r}}return t.\u0275fac=function(e){return new(e||t)(bn(gx),bn(Gu))},t.\u0275prov=ct({factory:function(){return new t(bn(gx),bn(Gu))},token:t,providedIn:"root"}),t})();function bx(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function _x(t,e){if(1&t){const t=Lo();Fo(0,"div",1),Fo(1,"button",2),Vo("click",function(){return Me(t),Wo().action()}),Sa(2),Oo(),Oo()}if(2&t){const t=Wo();Ji(2),Ea(t.data.action)}}function wx(t,e){}const Sx=new Qr("MatSnackBarData");class Ex{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Cx=Math.pow(2,31)-1;class kx{constructor(t,e){this._overlayRef=e,this._afterDismissed=new E,this._afterOpened=new E,this._onAction=new E,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Cx))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Ax=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(Io(kx),Io(Sx))},t.\u0275cmp=jt({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(Fo(0,"span"),Sa(1),Oo(),xo(2,_x,3,1,"div",0)),2&t&&(Ji(1),Ea(e.data.message),Ji(1),Ro("ngIf",e.hasAction))},directives:[Ih,iC],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const xx={snackBarState:iv("state",[cv("void, hidden",av({transform:"scale(0.8)",opacity:0})),cv("visible",av({transform:"scale(1)",opacity:1})),uv("* => visible",sv("150ms cubic-bezier(0, 0, 0.2, 1)")),uv("* => void, * => hidden",sv("75ms cubic-bezier(0.4, 0.0, 1, 1)",av({opacity:0})))])};let Tx=(()=>{class t extends FA{constructor(t,e,r,n,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=r,this._platform=n,this.snackBarConfig=i,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new E,this._onExit=new E,this._onEnter=new E,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?"off":"polite":"assertive"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:r}=t;if(("void"===r&&"void"!==e||"hidden"===r)&&this._completeExit(),"visible"===r){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(zf(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==r||r.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(Io(Gu),Io(Za),Io(_c),Io(by),Io(Ex))},t.\u0275cmp=jt({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&gu(MA,!0),2&t){let t;mu(t=Su())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&Ho("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&xa("@state",e._animationState)},features:[ho],decls:3,vars:1,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(Fo(0,"div",0),xo(1,wx,0,0,"ng-template",1),Oo(),Mo(2,"div")),2&t&&(Ji(2),ko("aria-live",e._live))},directives:[MA],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[xx.snackBarState]}}),t})(),Ix=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[hx,BA,zh,oC,z_],z_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Rx=new Qr("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Ex}});let Px=(()=>{class t{constructor(t,e,r,n,i,s){this._overlay=t,this._live=e,this._injector=r,this._breakpointObserver=n,this._parentSnackBar=i,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Ax,this.snackBarContainerComponent=Tx,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",r){const n=Object.assign(Object.assign({},this._defaultConfig),r);return n.data={message:t,action:e},n.announcementMessage===t&&(n.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,n)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const r=uo.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Ex,useValue:e}]}),n=new IA(this.snackBarContainerComponent,e.viewContainerRef,r),i=t.attach(n);return i.instance.snackBarConfig=e,i.instance}_attach(t,e){const r=Object.assign(Object.assign(Object.assign({},new Ex),this._defaultConfig),e),n=this._createOverlay(r),i=this._attachSnackBarContainer(n,r),s=new kx(i,n);if(t instanceof Ac){const e=new RA(t,null,{$implicit:r.data,snackBarRef:s});s.instance=i.attachTemplatePortal(e)}else{const e=this._createInjector(r,s),n=new IA(t,void 0,e),o=i.attachComponentPortal(n);s.instance=o.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Aw(n.detachments())).subscribe(t=>{const e=n.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),r.announcementMessage&&i._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(s,r),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new KA;e.direction=t.direction;let r=this._overlay.position().global();const n="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!n||"end"===t.horizontalPosition&&n,s=!i&&"center"!==t.horizontalPosition;return i?r.left("0"):s?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),e.positionStrategy=r,this._overlay.create(e)}_createInjector(t,e){return uo.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:kx,useValue:e},{provide:Sx,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(bn(ux),bn(Hy),bn(uo),bn(vx),bn(t,12),bn(Rx))},t.\u0275prov=ct({factory:function(){return new t(bn(ux),bn(Hy),bn($s),bn(vx),bn(t,12),bn(Rx))},token:t,providedIn:Ix}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Fx=function(t){return["/incoming/",t]};let Ox=(()=>{class t{constructor(t,e){this.data=t,this.snackBarRef=e}close(){this.snackBarRef.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(Io(Sx),Io(kx))},t.\u0275cmp=jt({type:t,selectors:[["app-message-snackbar"]],decls:6,vars:4,consts:[[3,"routerLink"],["queryParamsHandling","preserve",1,"close",3,"routerLink","click"]],template:function(t,e){1&t&&(Sa(0,"New message in your inbox "),Fo(1,"a",0),Sa(2),Oo(),Sa(3,"!\n"),Fo(4,"a",1),Vo("click",function(){return e.close()}),Sa(5,"Dismiss"),Oo()),2&t&&(Ji(1),Ro("routerLink",Gc(2,Fx,e.data)),Ji(1),Ea(e.data))},directives:[Qm],styles:["a[_ngcontent-%COMP%]{color:#ffd740!important}.close[_ngcontent-%COMP%]{padding-left:3em}"]}),t})(),Mx=(()=>{class t{constructor(t){this._router=t}notify(t="New inbox notification",e="",r="inbox-notification"){const n="/favicon.ico";new Notification(t,{body:e,icon:n,tag:r,badge:n}).addEventListener("click",function(){alert(e)})}inboxNotification(t){const e="/favicon.ico";new Notification("New message in your inbox",{body:"You got new message in your inbox "+t,icon:e,tag:"inbox-notification",badge:e}).addEventListener("click",()=>{this._router.navigate(["/incoming/",t])})}}return t.\u0275fac=function(e){return new(e||t)(bn($m))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bx=(()=>{class t{constructor(t,e){this._snackBar=t,this._systemNotificationsService=e,this.onopenCallback=function(t,e,r){return function(){this.send("sub "+t),r&&e.open("Successfully added inbox to monitor: "+t,"Dismiss")}}}startMonitoring(){const t=this.getMonitoredInboxes();if(t)for(const e of t)this.connect(e)}getMonitoredInboxes(){return bg.loadFromLocalStorage(t.MONITORED_INBOXES_STORAGE_KEY)||[]}addInboxToMonitorByUrl(e){let r=this.getMonitoredInboxes();r.includes(e)||(r.push(e),bg.saveToLocalStorage(t.MONITORED_INBOXES_STORAGE_KEY,r),this.connect(e,!0))}addInboxToMonitor(t){this.addInboxToMonitorByUrl(t.url),t.isMonitored=!0}removeInboxFromMonitored(e){const r=this.getMonitoredInboxes().filter(t=>t!==e);bg.saveToLocalStorage(t.MONITORED_INBOXES_STORAGE_KEY,r),this._snackBar.open("Removed '"+e+"' from monitored inboxes.","Dismiss")}connect(e,r=!1){let n=new WebSocket(t.getWsUrlFromInboxUrl(e),t.WS_SOLID_PROTOCOL);n.onopen=this.onopenCallback(e,this._snackBar,r),n.onmessage=t=>{t.data&&"pub"===t.data.slice(0,3)&&(this._snackBar.openFromComponent(Ox,{data:e}),this._systemNotificationsService.inboxNotification(e))}}static getWsUrlFromInboxUrl(t){const e=new URL(t).hostname.split(".");return"wss://"+e.slice(0).slice(-(4===e.length?3:2)).join(".")+"/"}isInboxMonitored(t){return this.getMonitoredInboxes().includes(t)}}return t.MONITORED_INBOXES_STORAGE_KEY="MONITORED_INBOXES_STORAGE_KEY",t.WS_SOLID_PROTOCOL="solid.0.1.0-alpha",t.\u0275fac=function(e){return new(e||t)(bn(Px),bn(Mx))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Nx=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Xg(t)}get inset(){return this._inset}set inset(t){this._inset=Xg(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=jt({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(ko("aria-orientation",e.vertical?"vertical":"horizontal"),ua("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),Dx=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[z_],z_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Lx=["*"],jx='.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n',Ux=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Vx=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"];class Hx{}const qx=W_(G_(Hx));class Kx{}const zx=G_(Kx),Wx=new Qr("MatList"),$x=new Qr("MatNavList");let Gx=(()=>{class t extends qx{constructor(){super(...arguments),this._stateChanges=new E}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return Qx(e||t)},t.\u0275cmp=jt({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[Ka([{provide:$x,useExisting:t}]),ho,ue],ngContentSelectors:Lx,decls:1,vars:0,template:function(t,e){1&t&&(Go(),Qo(0))},styles:[jx],encapsulation:2,changeDetection:0}),t})();const Qx=zr(Gx);let Jx=(()=>{class t extends qx{constructor(t){super(),this._elementRef=t,this._stateChanges=new E,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(Io(Za))},t.\u0275cmp=jt({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[Ka([{provide:Wx,useExisting:t}]),ho,ue],ngContentSelectors:Lx,decls:1,vars:0,template:function(t,e){1&t&&(Go(),Qo(0))},styles:[jx],encapsulation:2,changeDetection:0}),t})(),Zx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),Yx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),Xx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-subheader"]}),t})(),tT=(()=>{class t extends zx{constructor(t,e,r,n){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new E,this._disabled=!1,this._isInteractiveList=!!(r||n&&"action-list"===n._getListType()),this._list=r||n;const i=this._getHostElement();"button"!==i.nodeName.toLowerCase()||i.hasAttribute("type")||i.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Aw(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=Xg(t)}ngAfterContentInit(){!function(t,e,r="mat"){t.changes.pipe(Gf(t)).subscribe(({length:t})=>{X_(e,`${r}-2-line`,!1),X_(e,`${r}-3-line`,!1),X_(e,`${r}-multi-line`,!1),2===t||3===t?X_(e,`${r}-${t}-line`,!0):t>3&&X_(e,`${r}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(_c),Io($x,8),Io(Wx,8))},t.\u0275cmp=jt({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,r){if(1&t&&(bu(r,Zx,!0),bu(r,Yx,!0),bu(r,Y_,!0)),2&t){let t;mu(t=Su())&&(e._avatar=t.first),mu(t=Su())&&(e._icon=t.first),mu(t=Su())&&(e._lines=t)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&ua("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[ho],ngContentSelectors:Vx,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(Go(Ux),Fo(0,"div",0),Mo(1,"div",1),Qo(2),Fo(3,"div",2),Qo(4,1),Oo(),Qo(5,2),Oo()),2&t&&(Ji(1),Ro("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[cw],encapsulation:2,changeDetection:0}),t})(),eT=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[tw,uw,z_,hw,zh],tw,z_,hw,Dx]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const rT=["*"];function nT(t){return Error(`Unable to find icon with the name "${t}"`)}function iT(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function sT(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class oT{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let aT=(()=>{class t{constructor(t,e,r,n){this._httpClient=t,this._sanitizer=e,this._errorHandler=n,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,e,r){return this.addSvgIconInNamespace("",t,e,r)}addSvgIconLiteral(t,e,r){return this.addSvgIconLiteralInNamespace("",t,e,r)}addSvgIconInNamespace(t,e,r,n){return this._addSvgIconConfig(t,e,new oT(r,null,n))}addSvgIconLiteralInNamespace(t,e,r,n){const i=this._sanitizer.sanitize(ei.HTML,r);if(!i)throw sT(r);return this._addSvgIconConfig(t,e,new oT("",i,n))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,r){return this._addSvgIconSetConfig(t,new oT(e,null,r))}addSvgIconSetLiteralInNamespace(t,e,r){const n=this._sanitizer.sanitize(ei.HTML,e);if(!n)throw sT(e);return this._addSvgIconSetConfig(t,new oT("",n,r))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(ei.RESOURCE_URL,t);if(!e)throw iT(t);const r=this._cachedIconsByUrl.get(e);return r?xf(cT(r)):this._loadSvgIconFromConfig(new oT(t,null)).pipe(yd(t=>this._cachedIconsByUrl.set(e,t)),A(t=>cT(t)))}getNamedSvgIcon(t,e=""){const r=uT(e,t),n=this._svgIconConfigs.get(r);if(n)return this._getSvgFromConfig(n);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):yg(nT(r))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?xf(cT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(A(t=>cT(t)))}_getSvgFromIconSetConfigs(t,e){const r=this._extractIconWithNameFromAnySet(t,e);return r?xf(r):_S(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(ed(e=>{const r=this._sanitizer.sanitize(ei.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${r} failed: ${e.message}`)),xf(null)})))).pipe(A(()=>{const r=this._extractIconWithNameFromAnySet(t,e);if(!r)throw nT(t);return r}))}_extractIconWithNameFromAnySet(t,e){for(let r=e.length-1;r>=0;r--){const n=e[r];if(n.svgText&&n.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(n),r=this._extractSvgIconFromSet(e,t,n.options);if(r)return r}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(yd(e=>t.svgText=e),A(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?xf(null):this._fetchIcon(t).pipe(yd(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,r){const n=t.querySelector(`[id="${e}"]`);if(!n)return null;const i=n.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,r);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),r);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,r)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const r=e.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),r=t.attributes;for(let n=0;n<r.length;n++){const{name:t,value:i}=r[n];"id"!==t&&e.setAttribute(t,i)}for(let n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[n].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:r,options:n}=t,i=null!==(e=null==n?void 0:n.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const s=this._sanitizer.sanitize(ei.RESOURCE_URL,r);if(!s)throw iT(r);const o=this._inProgressUrlFetches.get(s);if(o)return o;const a=this._httpClient.get(s,{responseType:"text",withCredentials:i}).pipe(_d(()=>this._inProgressUrlFetches.delete(s)),X());return this._inProgressUrlFetches.set(s,a),a}_addSvgIconConfig(t,e,r){return this._svgIconConfigs.set(uT(t,e),r),this}_addSvgIconSetConfig(t,e){const r=this._iconSetConfigs.get(t);return r?r.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}}return t.\u0275fac=function(e){return new(e||t)(bn(Ng,8),bn(wf),bn(xl,8),bn(oi))},t.\u0275prov=ct({factory:function(){return new t(bn(Ng,8),bn(wf),bn(xl,8),bn(oi))},token:t,providedIn:"root"}),t})();function cT(t){return t.cloneNode(!0)}function uT(t,e){return t+":"+e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class lT{constructor(t){this._elementRef=t}}const hT=$_(lT),fT=new Qr("mat-icon-location",{providedIn:"root",factory:function(){const t=_n(xl),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),dT=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],pT=dT.map(t=>`[${t}]`).join(", "),mT=/^url\(['"]?#(.*?)['"]?\)$/;let gT=(()=>{class t extends hT{constructor(t,e,r,n,i){super(t),this._iconRegistry=e,this._location=n,this._errorHandler=i,this._inline=!1,this._currentIconFetch=h.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Xg(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const r=t.childNodes[e];1===r.nodeType&&"svg"!==r.nodeName.toLowerCase()||t.removeChild(r)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,r)=>{e.forEach(e=>{r.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(pT),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let n=0;n<e.length;n++)dT.forEach(t=>{const i=e[n],s=i.getAttribute(t),o=s?s.match(mT):null;if(o){let e=r.get(i);e||(e=[],r.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,r]=this._splitIconName(t);e&&(this._svgNamespace=e),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,e).pipe(zf(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${r}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(aT),Wr("aria-hidden"),Io(fT),Io(oi))},t.\u0275cmp=jt({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(ko("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),ua("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ho],ngContentSelectors:rT,decls:1,vars:0,template:function(t,e){1&t&&(Go(),Qo(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),yT=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[z_],z_]}),t})();function vT(t,e){1&t&&(Fo(0,"strong"),Sa(1,"You have denied the notifications. Enable them in your browser settings. "),Oo())}function bT(t,e){1&t&&(Fo(0,"strong"),Sa(1,"You have enabled the notifications."),Oo())}function _T(t,e){1&t&&(Fo(0,"strong"),Sa(1,"You have not enabled the notifications yet."),Oo())}function wT(t,e){1&t&&(Fo(0,"p"),Sa(1,"Your system "),Fo(2,"strong"),Sa(3,"does"),Oo(),Sa(4," support system notifications. Enable them by clicking on the button:"),Oo())}function ST(t,e){1&t&&Sa(0,"Unfortunately, your system does not support system notifications.")}function ET(t,e){if(1&t){const t=Lo();Fo(0,"button",10),Vo("click",function(){return Me(t),Wo().testNotification()}),Sa(1," Test system notification "),Oo()}if(2&t){const t=Wo();Ro("disabled",!t.notificationsSystemSupports||"denied"===t.notificationPermission||"default"===t.notificationPermission)}}function CT(t,e){if(1&t){const t=Lo();Fo(0,"mat-list-item"),Sa(1),Fo(2,"button",14),Vo("click",function(){Me(t);const r=e.$implicit;return Wo(2).stopMonitoring(r)}),Fo(3,"mat-icon"),Sa(4,"delete"),Oo(),Oo(),Oo()}if(2&t){const t=e.$implicit;Ji(1),Ca(" ",t," ")}}function kT(t,e){if(1&t&&(Fo(0,"mat-list"),xo(1,CT,5,1,"mat-list-item",13),Oo()),2&t){const t=Wo();Ji(1),Ro("ngForOf",t.monitoredInboxes)}}function AT(t,e){1&t&&Sa(0,"(no monitored inboxes)")}let xT=(()=>{class t{constructor(t,e,r){this._monitorInboxesService=t,this._snackBar=e,this._systemNotificationsService=r,this.inboxUrl="",this.targetUrl=""}ngOnInit(){this.monitoredInboxes=this._monitorInboxesService.getMonitoredInboxes(),this.setEnableButtonState()}startMonitoringClick(){this._startMonitoringInbox(this.inboxUrl),this.inboxUrl=""}discoverAndStartMonitoring(){cA.discoverInboxUrlFromTarget(this.targetUrl).then(t=>{this._startMonitoringInbox(t),this.targetUrl=""},t=>{this._snackBar.open("Couldn't find inbox on the entered target.","Dismiss")})}_startMonitoringInbox(t){this._monitorInboxesService.addInboxToMonitorByUrl(t),this.monitoredInboxes=this._monitorInboxesService.getMonitoredInboxes()}stopMonitoring(t){this._monitorInboxesService.removeInboxFromMonitored(t),this.monitoredInboxes=this._monitorInboxesService.getMonitoredInboxes()}setEnableButtonState(){this.notificationsSystemSupports="Notification"in window,this.notificationPermission=Notification.permission}enableSystemNotification(){Notification.requestPermission().then(t=>{this._snackBar.open("Notifications: "+t,"Dismiss"),this.setEnableButtonState()})}testNotification(){this._systemNotificationsService.notify(void 0,"test notification"),this._snackBar.openFromComponent(Ox,{data:"https://inbox1.inrupt.net/inbox/"})}}return t.\u0275fac=function(e){return new(e||t)(Io(Bx),Io(Px),Io(Mx))},t.\u0275cmp=jt({type:t,selectors:[["app-monitor-inboxes"]],decls:40,vars:12,consts:[[1,"content-spacer"],["appearance","fill"],["matInput","","type","url","placeholder","Format: 'https://tonda.solid.community/profile/card#me'",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit",3,"click"],["matInput","","type","url","placeholder","Format: 'https://tonda.solidcommunity.net/inbox/'",3,"ngModel","ngModelChange"],["mat-raised-button","","type","submit",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf","ngIfElse"],["elseBlock",""],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-raised-button","","color","accent",3,"disabled","click",4,"ngIf"],["elseBlockMonitor",""],[4,"ngFor","ngForOf"],["mat-icon-button","","color","warn","aria-label","Stop monitoring",3,"click"]],template:function(t,e){if(1&t&&(Fo(0,"div",0),Fo(1,"h1"),Sa(2,"Notifications"),Oo(),Fo(3,"p"),Sa(4," Here you can setup system notifications. When you add inbox for monitoring, you will get a system notification when you receive a message to that inbox. "),Oo(),Fo(5,"div"),Fo(6,"mat-form-field",1),Fo(7,"mat-label"),Sa(8,"Add target url to discover inbox and start monitoring it"),Oo(),Fo(9,"input",2),Vo("ngModelChange",function(t){return e.targetUrl=t}),Oo(),Oo(),Fo(10,"button",3),Vo("click",function(){return e.discoverAndStartMonitoring()}),Sa(11,"Discover inbox and monitor it "),Oo(),Oo(),Fo(12,"div"),Fo(13,"mat-form-field",1),Fo(14,"mat-label"),Sa(15,"Add directly inbox url to monitor"),Oo(),Fo(16,"input",4),Vo("ngModelChange",function(t){return e.inboxUrl=t}),Oo(),Oo(),Fo(17,"button",5),Vo("click",function(){return e.startMonitoringClick()}),Sa(18,"Start monitoring inbox "),Oo(),Oo(),Fo(19,"div"),Fo(20,"h2"),Sa(21,"System notifications"),Oo(),Fo(22,"p"),Sa(23,"Here, you can enable system notifications and receive them for incoming messages to the monitored inboxes."),Oo(),Fo(24,"p",6),xo(25,vT,2,0,"strong",7),xo(26,bT,2,0,"strong",7),Sa(27," Disable them in your browser settings. "),xo(28,_T,2,0,"strong",7),Oo(),xo(29,wT,5,0,"p",8),xo(30,ST,1,0,"ng-template",null,9,Au),Fo(32,"button",10),Vo("click",function(){return e.enableSystemNotification()}),Sa(33," Enable system notification "),Oo(),xo(34,ET,2,1,"button",11),Oo(),Fo(35,"h2"),Sa(36,"Monitored inboxes:"),Oo(),xo(37,kT,2,1,"mat-list",8),xo(38,AT,1,0,"ng-template",null,12,Au),Oo()),2&t){const t=To(31),r=To(39);Ji(9),Ro("ngModel",e.targetUrl),Ji(7),Ro("ngModel",e.inboxUrl),Ji(8),Ro("ngSwitch",e.notificationPermission),Ji(1),Ro("ngSwitchCase","denied"),Ji(1),Ro("ngSwitchCase","granted"),Ji(2),Ro("ngSwitchCase","default"),Ji(1),Ro("ngIf",e.notificationsSystemSupports)("ngIfElse",t),Ji(3),Ro("disabled",!e.notificationsSystemSupports||"denied"===e.notificationPermission||"granted"===e.notificationPermission),Ji(2),Ro("ngIf","granted"===e.notificationPermission),Ji(3),Ro("ngIf",(null==e.monitoredInboxes?null:e.monitoredInboxes.length)>0)("ngIfElse",r)}},directives:[lS,tS,JE,xS,GS,BE,iC,Oh,Mh,Ih,Jx,xh,tT,gT],styles:["div[_ngcontent-%COMP%]{margin:1em 0 2em}mat-form-field[_ngcontent-%COMP%]{width:30em;margin-right:1em}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:2em}"]}),t})();var TT=r(23897);const IT={fetch:kC};async function RT(t,e=IT){const r=Object.assign(Object.assign({},IT),e),n=dC(t),i=await r.fetch(n,r.init);if(EC(i))throw new xC(`Fetching the File failed: [${i.status}] [${i.statusText}].`,i);const s=SC(i),o=await i.blob();return Object.assign(o,{internal_resourceInfo:s})}class PT{}class FT{static sortMessagesByDateDesc(t){return t.sort((t,e)=>e.created.getTime()-t.created.getTime())}static getInboxNameFromUrl(t){return new URL(t).pathname.replace(/^\//,"").replace(/\/$/,"")}static getProfilePicture(t){return fC(this,void 0,void 0,function*(){return HC(DC(yield ZC(t),t),fk.hasPhoto)})}static getProfileName(t){return fC(this,void 0,void 0,function*(){const e=DC(yield ZC(t),t);return n=$k.name,VC(r=e),JC(r,n,TC);var r,n})}static prepareContacts(t){return fC(this,void 0,void 0,function*(){let e=[];for(const r of t){const t=yield cA.retrieveInboxUrlsFromWebId(r),n={webId:r,name:yield FT.getProfileName(r)};for(const r of t)e.push({url:r,name:r,contact:n})}return e})}}let OT=(()=>{class t{constructor(t,e){this._snackBar=t,this._monitorService=e,this.session=new TT.Session,this.inboxes$=this._getObservableInboxes$()}login(t){this.session.info.isLoggedIn||this.session.login({oidcIssuer:t,redirectUrl:window.location.href})}logout(){this.session.logout().then(()=>{this._snackBar.open("Logged out!","Dismiss")})}isLoggedIn(){return this.session.info.isLoggedIn}getSessionWebId(){return this.session.info.webId}loadMessagesOfInbox(t){return new Promise((e,r)=>fC(this,void 0,void 0,function*(){try{const r=yield ZC(t.url,{fetch:this.session.fetch}),n=function(t){const e=DC(t,function(t){return"object"==typeof t&&"object"==typeof t.internal_resourceInfo}(r=t)?r.internal_resourceInfo.sourceIri:null);var r;return null!==e?KC(e,"http://www.w3.org/ns/ldp#contains"):[]}(r);let i=[],s=[];for(const e of n){const n=zC(DC(r,e),Uk.modified),o=yield RT(e,{fetch:this.session.fetch});s.push(o.text().then(r=>{i.push({url:e,inbox:t,content:r,type:o.type,created:n})}))}Promise.all(s).then(()=>e(FT.sortMessagesByDateDesc(i)))}catch(n){r(n)}}))}getProfileContactInboxes(){return fC(this,void 0,void 0,function*(){const t=this.getSessionWebId(),e=qC(DC(yield ZC(t,{fetch:this.session.fetch}),t),$k.knows);return yield FT.prepareContacts(e)})}getLoggedInUserName(){const t=this.getSessionWebId();return FT.getProfileName(t)}loadMessage(t,e){return new Promise((r,n)=>fC(this,void 0,void 0,function*(){try{const n=zC(DC(yield ZC(t.url,{fetch:this.session.fetch}),e),Uk.modified),i=yield RT(e,{fetch:this.session.fetch});i.text().then(s=>{r({url:e,inbox:t,content:s,type:i.type,created:n})})}catch(i){n(i)}}))}_prepareInboxes(t){return fC(this,void 0,void 0,function*(){let e=[];for(const r of t){let t=yield this.prepareInbox(r);e.push(t)}return e})}prepareInbox(t){return fC(this,void 0,void 0,function*(){let e=new PT;return e.url=t,e.name=yield this.getInboxName(t),e.style=class{static shorthash(t,e=0){let r=3735928559^e;for(let n,i=0;i<t.length;i++)n=t.charCodeAt(i),r=Math.imul(r^n,2654435761);return r=Math.imul(r^r>>>16,2246822507),(r>>>0).toString()}static getStyle(t){let e=this.shorthash(t);return"background-color: rgb("+e.slice(0,2)+", "+e.slice(2,4)+", "+e.slice(6,8)+"); text-shadow: 1px 1px 2px white; mix-blend-mode: difference;"}}.getStyle(t),e.isMonitored=this._monitorService.isInboxMonitored(t),e})}getInboxName(t){return this._findInboxName(t).then(t=>t,e=>FT.getInboxNameFromUrl(t))}_findInboxName(t){return new Promise((e,r)=>fC(this,void 0,void 0,function*(){try{yield ZC(t,{fetch:this.session.fetch}).then(n=>{const i=DC(n,t),s=function(t,e,r){VC(t);const n=WC(t,function(t,e){if(!MC(t))throw new jC(t);const r=BC(t);return function(t){return r.equals(t.predicate)&&PC(t.object)&&t.object.datatype.value===IC&&t.object.language.toLowerCase()==="en".toLowerCase()}}(e));return null===n?null:n.object.value}(i,Uk.title);if(s)return void e(s);const o=function(t,e){VC(t);const r=$C(t,function(t){if(!MC(t))throw new jC(t);const e=BC(t);return function(t){return e.equals(t.predicate)&&PC(t.object)}}(e)),n=new Map;return r.map(t=>{if(t.object.datatype.value===IC){const e=t.object.language,r=n.get(e);n.set(e,r?[...r,t.object.value]:[t.object.value])}}),n}(i,Uk.title);if(o&&o[0])return void e(o[0]);const a=(u=Uk.title,VC(c=i),function(t,e,r){return $C(t,QC(e,"http://www.w3.org/2001/XMLSchema#string")).map(t=>t.object.value)}(c,u));var c,u;a&&a[0]?e(a[0]):r()})}catch(n){console.log("Error when finding inbox name: ",n),r()}}))}_getObservableInboxes$(){return new v(t=>{cA.retrieveInboxUrlsFromWebId(this.getSessionWebId()).then(e=>{this._prepareInboxes(e).then(e=>{t.next(e),t.complete()})})}).pipe(function(t,e,r){let n;return n={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:r,scheduler:n}){let i,s,o=0,a=!1,c=!1;return function(u){let l;o++,!i||a?(a=!1,i=new yA(t,e,n),l=i.subscribe(this),s=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!c&&r&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(n))}())}}return t.\u0275fac=function(e){return new(e||t)(bn(Px),bn(Bx))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),MT=(()=>{class t{constructor(t,e){this._inruptService=t,this._router=e}canActivate(t,e){return!!this._inruptService.isLoggedIn()||this._router.parseUrl("/login")}}return t.\u0275fac=function(e){return new(e||t)(bn(OT),bn($m))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function BT(t,e){if(1&t&&(cr(),Mo(0,"circle",3)),2&t){const t=Wo();ca("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ko("r",t._getCircleRadius())}}function NT(t,e){if(1&t&&(cr(),Mo(0,"circle",3)),2&t){const t=Wo();ca("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ko("r",t._getCircleRadius())}}function DT(t,e){if(1&t&&(cr(),Mo(0,"circle",3)),2&t){const t=Wo();ca("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ko("r",t._getCircleRadius())}}function LT(t,e){if(1&t&&(cr(),Mo(0,"circle",3)),2&t){const t=Wo();ca("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ko("r",t._getCircleRadius())}}const jT=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n";class UT{constructor(t){this._elementRef=t}}const VT=$_(UT,"primary"),HT=new Qr("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let qT=(()=>{class t extends VT{constructor(e,r,n,i,s){super(e),this._elementRef=e,this._document=n,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=t._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(n.head)||o.set(n.head,new Set([100])),this._fallbackAnimation=r.EDGE||r.TRIDENT,this._noopAnimations="NoopAnimations"===i&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=ty(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=ty(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,ty(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=Ry(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,r=this._diameter,n=t._diameters;let i=n.get(e);if(!i||!i.has(r)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),t.textContent=this._getAnimationText(),e.appendChild(t),i||(i=new Set,n.set(e,i)),i.add(r)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(by),Io(xl,8),Io(D_,8),Io(HT))},t.\u0275cmp=jt({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(ko("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),ca("width",e.diameter,"px")("height",e.diameter,"px"),ua("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[ho],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(cr(),Fo(0,"svg",0),xo(1,BT,1,9,"circle",1),xo(2,NT,1,7,"circle",2),Oo()),2&t&&(ca("width",e.diameter,"px")("height",e.diameter,"px"),Ro("ngSwitch","indeterminate"===e.mode),ko("viewBox",e._getViewBox()),Ji(1),Ro("ngSwitchCase",!0),Ji(1),Ro("ngSwitchCase",!1))},directives:[Oh,Mh],styles:[jT],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),KT=(()=>{class t extends qT{constructor(t,e,r,n,i){super(t,e,r,n,i),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(by),Io(xl,8),Io(D_,8),Io(HT))},t.\u0275cmp=jt({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(ca("width",e.diameter,"px")("height",e.diameter,"px"),ua("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[ho],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(cr(),Fo(0,"svg",0),xo(1,DT,1,9,"circle",1),xo(2,LT,1,7,"circle",2),Oo()),2&t&&(ca("width",e.diameter,"px")("height",e.diameter,"px"),Ro("ngSwitch","indeterminate"===e.mode),ko("viewBox",e._getViewBox()),Ji(1),Ro("ngSwitchCase",!0),Ji(1),Ro("ngSwitchCase",!1))},directives:[Oh,Mh],styles:[jT],encapsulation:2,changeDetection:0}),t})(),zT=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[z_,zh],z_]}),t})();class WT{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new $T(t,this.delay,this.scheduler))}}class $T extends p{constructor(t,e,r){super(t),this.delay=e,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,r=e.queue,n=t.scheduler,i=t.destination;for(;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){const e=Math.max(0,r[0].time-n.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule($T.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,r=new GT(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(pA.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(pA.createComplete()),this.unsubscribe()}}class GT{constructor(t,e){this.time=t,this.notification=e}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const QT=["panel"];function JT(t,e){if(1&t&&(Fo(0,"div",0,1),Qo(2),Oo()),2&t){const t=e.id,r=Wo();Ro("id",r.id)("ngClass",r._classList),ko("aria-label",r.ariaLabel||null)("aria-labelledby",r._getPanelAriaLabelledby(t))}}const ZT=["*"];let YT=0;class XT{constructor(t,e){this.source=t,this.option=e}}class tI{}const eI=G_(tI),rI=new Qr("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let nI=(()=>{class t extends eI{constructor(t,e,r){super(),this._changeDetectorRef=t,this._elementRef=e,this._activeOptionChanges=h.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new nu,this.opened=new nu,this.closed=new nu,this.optionActivated=new nu,this._classList={},this.id="mat-autocomplete-"+YT++,this._autoActiveFirstOption=!!r.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=Xg(t)}set classList(t){this._classList=t&&t.length?function(t,e=/\s+/){const r=[];if(null!=t){const n=Array.isArray(t)?t:`${t}`.split(e);for(const t of n){const e=`${t}`.trim();e&&r.push(e)}}return r}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t).reduce((t,e)=>(t[e]=!0,t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new Oy(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new XT(this,t);this.optionSelected.emit(e)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?t+" "+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}return t.\u0275fac=function(e){return new(e||t)(Io(_c),Io(Za),Io(rI))},t.\u0275dir=zt({type:t,viewQuery:function(t,e){if(1&t&&(gu(Ac,!0),yu(QT,!0)),2&t){let t;mu(t=Su())&&(e.template=t.first),mu(t=Su())&&(e.panel=t.first)}},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[ho]}),t})(),iI=(()=>{class t extends nI{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return t.\u0275fac=function(e){return sI(e||t)},t.\u0275cmp=jt({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,r){if(1&t&&(bu(r,yw,!0),bu(r,Sw,!0)),2&t){let t;mu(t=Su())&&(e.optionGroups=t),mu(t=Su())&&(e.options=t)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[Ka([{provide:_w,useExisting:t}]),ho],ngContentSelectors:ZT,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(Go(),xo(0,JT,3,4,"ng-template"))},directives:[kh],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})();const sI=zr(iI),oI=new Qr("mat-autocomplete-scroll-strategy"),aI={provide:oI,deps:[ux],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},cI={provide:SS,useExisting:st(()=>lI),multi:!0};let uI=(()=>{class t{constructor(t,e,r,n,i,s,o,a,c,u,l){this._element=t,this._overlay=e,this._viewContainerRef=r,this._zone=n,this._changeDetectorRef=i,this._dir=o,this._formField=a,this._document=c,this._viewportRuler=u,this._defaults=l,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=h.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new E,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Uf(()=>this.autocomplete&&this.autocomplete.options?z(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.pipe(zf(1),Vf(()=>this.optionSelections))),this._scrollStrategy=s}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=Xg(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return z(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Yf(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Yf(()=>this._overlayAttached)):xf()).pipe(A(t=>t instanceof bw?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return z(Cw(this._document,"click"),Cw(this._document,"auxclick"),Cw(this._document,"touchend")).pipe(Yf(t=>{const e=this._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,r=this._formField?this._formField._elementRef.nativeElement:null,n=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!r||!r.contains(e))&&(!n||!n.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(27!==e||Py(t)||t.preventDefault(),this.activeOption&&13===e&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const r=this.autocomplete._keyManager.activeItem,n=38===e||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):n&&this._canOpen()&&this.openPanel(),(n||this.autocomplete._keyManager.activeItem!==r)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(t){let e=t.target,r=e.value;"number"===e.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r&&(this._previousValue=r,this._onChange(r),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return z(this._zone.onStable.pipe(zf(1)),this.autocomplete.options.changes.pipe(yd(()=>this._positionStrategy.reapplyLastPosition()),function(t,e=cy){var r;const n=(r=t)instanceof Date&&!isNaN(+r)?+t-e.now():Math.abs(t);return t=>t.lift(new WT(n,e))}(0))).pipe(Vf(()=>{const t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),zf(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,r=null!=e?e:"";this._formField?this._formField._control.value=r:this._element.nativeElement.value=r,this._previousValue=r}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!==t&&e.selected&&e.deselect()})}_attachOverlay(){var t;null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!Ry(this._element.nativeElement));let e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new RA(this.autocomplete.template,this._viewContainerRef,{id:null===(t=this._formField)||void 0===t?void 0:t._labelId}),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,e.keydownEvents().subscribe(t=>{(27===t.keyCode&&!Py(t)||38===t.keyCode&&Py(t,"altKey"))&&(this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&e&&e.updateSize({width:this._getPanelWidth()})})),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const r=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&r!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var t;return new KA({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(t=this._defaults)||void 0===t?void 0:t.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,n=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let i;i="above"===this.position?n:"below"===this.position?e:[...e,...n],t.withPositions(i)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_scrollToOption(t){const e=this.autocomplete,r=function(t,e,r){if(r.length){let n=e.toArray(),i=r.toArray(),s=0;for(let e=0;e<t+1;e++)n[e].group&&n[e].group===i[s]&&s++;return s}return 0}(t,e.options,e.optionGroups);if(0===t&&1===r)e._setScrollTop(0);else{const r=e.options.toArray()[t];if(r){const t=r._getHostElement(),a=(n=t.offsetTop,i=t.offsetHeight,s=e._getScrollTop(),o=e.panel.nativeElement.offsetHeight,n<s?n:n+i>s+o?Math.max(0,n-o+i):s);e._setScrollTop(a)}}var n,i,s,o}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(ux),Io(Oc),Io(Gu),Io(_c),Io(oI),Io(Xy,8),Io(uS,9),Io(xl,8),Io(kA),Io(rI,8))},t.\u0275dir=zt({type:t,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[ue]}),t})(),lI=(()=>{class t extends uI{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return t.\u0275fac=function(e){return hI(e||t)},t.\u0275dir=zt({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&Vo("focusin",function(){return e._handleFocus()})("blur",function(){return e._onTouched()})("input",function(t){return e._handleInput(t)})("keydown",function(t){return e._handleKeydown(t)}),2&t&&ko("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[Ka([cI]),ho]}),t})();const hI=zr(lI);let fI=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[aI],imports:[[hx,Ew,z_,zh],AA,Ew,z_]}),t})();function dI(t,e){1&t&&Mo(0,"mat-spinner")}function pI(t,e){if(1&t&&(Fo(0,"mat-option",10),Sa(1),Oo()),2&t){const t=e.$implicit;Ro("value",t),Ji(1),Ca(" ",t," ")}}function mI(t,e){if(1&t){const t=Lo();Fo(0,"div"),Fo(1,"p"),Sa(2,"Welcome to inbox! Start by logging in to your pod."),Oo(),Fo(3,"mat-form-field",4),Fo(4,"mat-label"),Sa(5,"Select ID provider (OIDC issuer)"),Oo(),Mo(6,"input",5),Fo(7,"mat-autocomplete",6,7),xo(9,pI,2,2,"mat-option",8),Yc(10,"async"),Oo(),Oo(),Mo(11,"br"),Fo(12,"button",9),Vo("click",function(){return Me(t),Wo().login()}),Sa(13,"Login "),Oo(),Oo()}if(2&t){const t=To(8),e=Wo();Ji(6),Ro("formControl",e.myControl)("matAutocomplete",t),Ji(3),Ro("ngForOf",Xc(10,4,e.filteredOptions)),Ji(3),Ro("disabled",!e.myControl.value)}}function gI(t,e){1&t&&(Fo(0,"div",11),Fo(1,"p"),Sa(2," Inbox is an application built for a diploma thesis to showcase work with "),Fo(3,"a",12),Sa(4," Linked Data Notifications"),Oo(),Sa(5," and "),Fo(6,"a",13),Sa(7,"ActivityPub"),Oo(),Sa(8," protocols, using "),Fo(9,"a",14),Sa(10,"Solid pod"),Oo(),Sa(11," as data provider. You can read more at the "),Fo(12,"a",15),Sa(13,"about"),Oo(),Sa(14," page. "),Oo(),Oo())}let yI=(()=>{class t{constructor(t,e){this._inruptService=t,this._router=e,this.spinner=!1,this.myControl=new xE,this.options=["https://inrupt.net/","https://solidcommunity.net/","https://broker.pod.inrupt.com/"]}ngOnInit(){this._initAutocomplete(),this.handleRedirectAfterLogin()}login(){this.spinner=!0,this._inruptService.login(this.myControl.value)}handleRedirectAfterLogin(){this.spinner=!0,this._inruptService.session.handleIncomingRedirect(window.location.href).then(t=>{t.isLoggedIn?this._router.navigate(["/incoming"]):this.spinner=!1})}_initAutocomplete(){this.filteredOptions=this.myControl.valueChanges.pipe(Gf(""),A(t=>this._filter(t)))}_filter(t){const e=t.toLowerCase();return this.options.filter(t=>t.toLowerCase().includes(e))}}return t.\u0275fac=function(e){return new(e||t)(Io(OT),Io($m))},t.\u0275cmp=jt({type:t,selectors:[["app-login"]],decls:7,vars:3,consts:[[1,"content-spacer"],[1,"login"],[4,"ngIf"],["class","info",4,"ngIf"],["appearance","fill"],["type","text","placeholder","Pick one or input yours","aria-label","OIDC issuer","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","id","btnLogin",3,"disabled","click"],[3,"value"],[1,"info"],["href","https://www.w3.org/TR/ldn/","title","Linked Data Notifications specification","target","_blank"],["href","https://www.w3.org/TR/activitypub/","title","ActivityPub specification","target","_blank"],["href","https://solidproject.org/","title","Official Solid website","target","_blank"],["routerLink","/about"]],template:function(t,e){1&t&&(Fo(0,"div",0),Fo(1,"div",1),Fo(2,"h1"),Sa(3,"Inbox"),Oo(),xo(4,dI,1,0,"mat-spinner",2),xo(5,mI,14,6,"div",2),Oo(),xo(6,gI,15,0,"div",3),Oo()),2&t&&(Ji(4),Ro("ngIf",e.spinner),Ji(1),Ro("ngIf",!e.spinner),Ji(1),Ro("ngIf",!e.spinner))},directives:[Ih,KT,lS,tS,JE,xS,lI,GS,LE,iI,xh,iC,Sw,Qm],pipes:[Uh],styles:["mat-form-field[_ngcontent-%COMP%]{width:30em}.content-spacer[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:left}.login[_ngcontent-%COMP%]{margin:0 4em 0 0}.info[_ngcontent-%COMP%]{font-size:1.5em;font-weight:lighter;margin:2em 0 0;line-height:1.5em;width:20em}"]}),t})();function vI(t){return e=>e.lift(new bI(t))}class bI{constructor(t){this.value=t}call(t,e){return e.subscribe(new _I(t,this.value))}}class _I extends p{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const wI=["*"];function SI(t,e){if(1&t){const t=Lo();Fo(0,"div",2),Vo("click",function(){return Me(t),Wo()._onBackdropClicked()}),Oo()}2&t&&ua("mat-drawer-shown",Wo()._isShowingBackdrop())}function EI(t,e){1&t&&(Fo(0,"mat-drawer-content"),Qo(1,2),Oo())}const CI=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],kI=["mat-drawer","mat-drawer-content","*"];function AI(t,e){if(1&t){const t=Lo();Fo(0,"div",2),Vo("click",function(){return Me(t),Wo()._onBackdropClicked()}),Oo()}2&t&&ua("mat-drawer-shown",Wo()._isShowingBackdrop())}function xI(t,e){1&t&&(Fo(0,"mat-sidenav-content",3),Qo(1,2),Oo())}const TI=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],II=["mat-sidenav","mat-sidenav-content","*"],RI=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",PI={transformDrawer:iv("transform",[cv("open, open-instant",av({transform:"none",visibility:"visible"})),cv("void",av({"box-shadow":"none",visibility:"hidden"})),uv("void => open-instant",sv("0ms")),uv("void <=> open, open-instant => void",sv("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},FI=new Qr("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),OI=new Qr("MAT_DRAWER_CONTAINER");let MI=(()=>{class t extends CA{constructor(t,e,r,n,i){super(r,n,i),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(Io(_c),Io(st(()=>NI)),Io(Za),Io(EA),Io(Gu))},t.\u0275cmp=jt({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&ca("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[ho],ngContentSelectors:wI,decls:1,vars:0,template:function(t,e){1&t&&(Go(),Qo(0))},encapsulation:2,changeDetection:0}),t})(),BI=(()=>{class t{constructor(t,e,r,n,i,s,o){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=r,this._platform=n,this._ngZone=i,this._doc=s,this._container=o,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new E,this._animationEnd=new E,this._animationState="void",this.openedChange=new nu(!0),this._openedStream=this.openedChange.pipe(Yf(t=>t),A(()=>{})),this.openedStart=this._animationStarted.pipe(Yf(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),vI(void 0)),this._closedStream=this.openedChange.pipe(Yf(t=>!t),A(()=>{})),this.closedStart=this._animationStarted.pipe(Yf(t=>t.fromState!==t.toState&&"void"===t.toState),vI(void 0)),this._destroyed=new E,this.onPositionChanged=new nu,this._modeChanged=new E,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Cw(this._elementRef.nativeElement,"keydown").pipe(Yf(t=>27===t.keyCode&&!this.disableClose&&!Py(t)),Aw(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(function(t,e){return e=>e.lift(new uA(t,undefined))}((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:r}=t;(0===r.indexOf("open")&&"void"===e||"void"===r&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Xg(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=Xg(t)}get opened(){return this._opened}set opened(t){this.toggle(Xg(t))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var t;const e=null===(t=this._doc)||void 0===t?void 0:t.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(t=!this.opened,e){return this._setOpen(t,!t&&this._isFocusWithinDrawer(),e)}_setOpen(t,e,r="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=r):(this._animationState="void",e&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(zf(1)).subscribe(e=>t(e?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(jy),Io(Wy),Io(by),Io(Gu),Io(xl,8),Io(OI,8))},t.\u0275cmp=jt({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&Ho("@transform.start",function(t){return e._animationStartListener(t)})("@transform.done",function(t){return e._animationDoneListener(t)}),2&t&&(ko("align",null),xa("@transform",e._animationState),ua("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:wI,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(Go(),Fo(0,"div",0),Qo(1),Oo())},encapsulation:2,data:{animation:[PI.transformDrawer]},changeDetection:0}),t})(),NI=(()=>{class t{constructor(t,e,r,n,i,s=!1,o){this._dir=t,this._element=e,this._ngZone=r,this._changeDetectorRef=n,this._animationMode=o,this._drawers=new su,this.backdropClick=new nu,this._destroyed=new E,this._doCheckSubject=new E,this._contentMargins={left:null,right:null},this._contentMarginChanges=new E,t&&t.change.pipe(Aw(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(Aw(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Xg(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Xg(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Gf(this._allDrawers),Aw(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Gf(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(uy(10),Aw(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,e-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();e+=r,t-=r}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Yf(t=>t.fromState!==t.toState),Aw(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Aw(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Aw(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(zf(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Aw(z(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?e.add(r):e.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return t.\u0275fac=function(e){return new(e||t)(Io(Xy,8),Io(Za),Io(Gu),Io(_c),Io(kA),Io(FI),Io(D_,8))},t.\u0275cmp=jt({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,r){if(1&t&&(bu(r,MI,!0),bu(r,BI,!0)),2&t){let t;mu(t=Su())&&(e._content=t.first),mu(t=Su())&&(e._allDrawers=t)}},viewQuery:function(t,e){if(1&t&&yu(MI,!0),2&t){let t;mu(t=Su())&&(e._userContent=t.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&ua("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ka([{provide:OI,useExisting:t}])],ngContentSelectors:kI,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(Go(CI),xo(0,SI,1,2,"div",0),Qo(1),Qo(2,1),xo(3,EI,2,0,"mat-drawer-content",1)),2&t&&(Ro("ngIf",e.hasBackdrop),Ji(3),Ro("ngIf",!e._content))},directives:[Ih,MI],styles:[RI],encapsulation:2,changeDetection:0}),t})(),DI=(()=>{class t extends MI{constructor(t,e,r,n,i){super(t,e,r,n,i)}}return t.\u0275fac=function(e){return new(e||t)(Io(_c),Io(st(()=>UI)),Io(Za),Io(EA),Io(Gu))},t.\u0275cmp=jt({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,e){2&t&&ca("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[ho],ngContentSelectors:wI,decls:1,vars:0,template:function(t,e){1&t&&(Go(),Qo(0))},encapsulation:2,changeDetection:0}),t})(),LI=(()=>{class t extends BI{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Xg(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=ty(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=ty(t)}}return t.\u0275fac=function(e){return jI(e||t)},t.\u0275cmp=jt({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,e){2&t&&(ko("align",null),ca("top",e.fixedInViewport?e.fixedTopGap:null,"px")("bottom",e.fixedInViewport?e.fixedBottomGap:null,"px"),ua("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened)("mat-sidenav-fixed",e.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[ho],ngContentSelectors:wI,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(Go(),Fo(0,"div",0),Qo(1),Oo())},encapsulation:2,data:{animation:[PI.transformDrawer]},changeDetection:0}),t})();const jI=zr(LI);let UI=(()=>{class t extends NI{}return t.\u0275fac=function(e){return VI(e||t)},t.\u0275cmp=jt({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(t,e,r){if(1&t&&(bu(r,DI,!0),bu(r,LI,!0)),2&t){let t;mu(t=Su())&&(e._content=t.first),mu(t=Su())&&(e._allDrawers=t)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,e){2&t&&ua("mat-drawer-container-explicit-backdrop",e._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ka([{provide:OI,useExisting:t}]),ho],ngContentSelectors:II,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,e){1&t&&(Go(TI),xo(0,AI,1,2,"div",0),Qo(1),Qo(2,1),xo(3,xI,2,0,"mat-sidenav-content",1)),2&t&&(Ro("ngIf",e.hasBackdrop),Ji(3),Ro("ngIf",!e._content))},directives:[Ih,DI,CA],styles:[RI],encapsulation:2,changeDetection:0}),t})();const VI=zr(UI);let HI=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[zh,z_,_y,AA],AA,z_]}),t})();const qI=function(t){return["/incoming/",t]};function KI(t,e){if(1&t&&(Fo(0,"a",5),Sa(1),Oo()),2&t){const t=e.$implicit;Ro("routerLink",Gc(2,qI,t.url)),Ji(1),Ca(" ",t.name," ")}}const zI=function(){return{exact:!0}};let WI=(()=>{class t{constructor(t){this._inruptService=t}ngOnInit(){this.readInboxes()}readInboxes(){this._inruptService.inboxes$.subscribe(t=>{this.inboxes=t})}}return t.\u0275fac=function(e){return new(e||t)(Io(OT))},t.\u0275cmp=jt({type:t,selectors:[["app-incoming"]],decls:10,vars:3,consts:[["autosize",""],["opened","","disableClose","","mode","side"],["mat-subheader",""],["mat-list-item","","routerLink","/incoming","routerLinkActive","active",3,"routerLinkActiveOptions"],["mat-list-item","","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","","routerLinkActive","active",3,"routerLink"]],template:function(t,e){1&t&&(Fo(0,"mat-sidenav-container",0),Fo(1,"mat-sidenav",1),Fo(2,"mat-nav-list"),Fo(3,"div",2),Sa(4,"Select inbox:"),Oo(),Fo(5,"a",3),Sa(6," Messages from all inboxes "),Oo(),xo(7,KI,2,4,"a",4),Oo(),Oo(),Fo(8,"mat-sidenav-content"),Mo(9,"router-outlet"),Oo(),Oo()),2&t&&(Ji(5),Ro("routerLinkActiveOptions",function(t,e,r){const n=He()+2,i=Fe();return i[n]===Qi?So(i,n,e()):function(t,e){return t[e]}(i,n)}(0,zI)),Ji(2),Ro("ngForOf",e.inboxes))},directives:[UI,LI,Gx,Xx,tT,Qm,Zm,xh,DI,Ym],styles:["mat-sidenav-container[_ngcontent-%COMP%]{min-height:100%}mat-sidenav-content[_ngcontent-%COMP%]{padding:2em}mat-sidenav[_ngcontent-%COMP%]{padding:2em 0;min-width:20em}.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}"]}),t})(),$I=(()=>{class t{constructor(t){this.http=t}send(t,e){return _S(t.map(t=>this.http.post(t.url,e,{responseType:"text"})))}isInboxIri(t){return this.http.options(t,{observe:"response"}).pipe(A(t=>{var e;return!!(null===(e=t.headers.get("link"))||void 0===e?void 0:e.includes('<http://www.w3.org/ns/ldp#Container>; rel="type"'))}))}}return t.\u0275fac=function(e){return new(e||t)(bn(Ng))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const GI=["*"],QI=new Qr("MatChipRemove"),JI=new Qr("MatChipAvatar"),ZI=new Qr("MatChipTrailingIcon");class YI{constructor(t){this._elementRef=t}}const XI=Q_($_(G_(YI),"primary"),-1);let tR=(()=>{class t extends XI{constructor(t,e,r,n,i,s,o,a){super(t),this._elementRef=t,this._ngZone=e,this._changeDetectorRef=i,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new E,this._onBlur=new E,this.selectionChange=new nu,this.destroyed=new nu,this.removed=new nu,this._addHostClassName(),this._chipRippleTarget=s.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new ow(this,e,this._chipRippleTarget,r),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=n||{},this._animationsDisabled="NoopAnimations"===o,this.tabIndex=null!=a&&parseInt(a)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=Xg(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=Xg(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=Xg(t)}get removable(){return this._removable}set removable(t){this._removable=Xg(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t="mat-basic-chip",e=this._elementRef.nativeElement;e.hasAttribute(t)||e.tagName.toLowerCase()===t?e.classList.add(t):e.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.pipe(zf(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(Gu),Io(by),Io(aw,8),Io(_c),Io(xl),Io(D_,8),Wr("tabindex"))},t.\u0275dir=zt({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,r){if(1&t&&(bu(r,JI,!0),bu(r,ZI,!0),bu(r,QI,!0)),2&t){let t;mu(t=Su())&&(e.avatar=t.first),mu(t=Su())&&(e.trailingIcon=t.first),mu(t=Su())&&(e.removeIcon=t.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&Vo("click",function(t){return e._handleClick(t)})("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e.focus()})("blur",function(){return e._blur()}),2&t&&(ko("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),ua("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[ho]}),t})(),eR=(()=>{class t{constructor(t,e){this._parentChip=t,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}_handleClick(t){const e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(Io(tR),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,e){1&t&&Vo("click",function(t){return e._handleClick(t)})},features:[Ka([{provide:QI,useExisting:t}])]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const rR=new Qr("mat-chips-default-options");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class nR{constructor(t,e,r,n){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=r,this.ngControl=n}}const iR=J_(nR);let sR=0;class oR{constructor(t,e){this.source=t,this.value=e}}let aR=(()=>{class t extends iR{constructor(t,e,r,n,i,s,o){super(s,n,i,o),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this.ngControl=o,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new E,this._uid="mat-chip-list-"+sR++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new nu,this.valueChange=new nu,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=Xg(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=Xg(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Xg(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=Xg(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return z(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return z(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return z(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return z(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new My(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Aw(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(Aw(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Gf(null),Aw(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new wA(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",t.id)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;8===t.keyCode&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const r=this._selectValue(t,e);r&&e&&this._keyManager.setActiveItem(r)}}_selectValue(t,e=!0){const r=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return r&&(e?r.selectViaInteraction():r.select(),this._selectionModel.select(r)),r}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new oR(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItem(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,r=this.chips.toArray().indexOf(t.chip);this._isValidIndex(r)&&e._hasFocus&&(this._lastDestroyedChipIndex=r)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(_c),Io(Xy,8),Io(FE,8),Io(UE,8),Io(Z_),Io($S,10))},t.\u0275cmp=jt({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,r){if(1&t&&bu(r,tR,!0),2&t){let t;mu(t=Su())&&(e.chips=t)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&Vo("focus",function(){return e.focus()})("blur",function(){return e._blur()})("keydown",function(t){return e._keydown(t)}),2&t&&(Aa("id",e._uid),ko("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),ua("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[Ka([{provide:Jw,useExisting:t}]),ho],ngContentSelectors:GI,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(Go(),Fo(0,"div",0),Qo(1),Oo())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t})(),cR=0,uR=(()=>{class t{constructor(t,e){this._elementRef=t,this._defaultOptions=e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new nu,this.placeholder="",this.id="mat-chip-list-input-"+cR++,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=Xg(t)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(t){this._disabled=Xg(t)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(t){t&&9===t.keyCode&&!Py(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(t){!this._inputElement.value&&t&&this._chipList._keydown(t),t&&!this._isSeparatorKey(t)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(t){this._inputElement.focus(t)}_isSeparatorKey(t){return!Py(t)&&new Set(this.separatorKeyCodes).has(t.keyCode)}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(rR))},t.\u0275dir=zt({type:t,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(t,e){1&t&&Vo("keydown",function(t){return e._keydown(t)})("blur",function(){return e._blur()})("focus",function(){return e._focus()})("input",function(){return e._onInput()}),2&t&&(Aa("id",e.id),ko("disabled",e.disabled||null)("placeholder",e.placeholder||null)("aria-invalid",e._chipList&&e._chipList.ngControl?e._chipList.ngControl.invalid:null)("aria-required",e._chipList&&e._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[ue]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const lR={separatorKeyCodes:[13]};let hR=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[Z_,{provide:rR,useValue:lR}],imports:[[z_]]}),t})();const fR=["recipientInput"],dR=["auto"];function pR(t,e){if(1&t){const t=Lo();Fo(0,"mat-chip",13),Vo("removed",function(){Me(t);const r=e.$implicit;return Wo().remove(r)}),Sa(1),Fo(2,"mat-icon",14),Sa(3,"cancel"),Oo(),Oo()}if(2&t){const t=e.$implicit;Ji(1),ka(" ",t.contact.name,": ",t.url," ")}}function mR(t,e){1&t&&Mo(0,"mat-spinner",15),2&t&&Ro("diameter",20)}function gR(t,e){if(1&t&&(Fo(0,"mat-error"),Fo(1,"strong"),Sa(2),Oo(),Oo()),2&t){const t=e.$implicit;Ji(2),Ea(t)}}function yR(t,e){if(1&t&&(Fo(0,"mat-hint",16),Sa(1),Oo()),2&t){const t=e.$implicit;Ji(1),Ea(t)}}function vR(t,e){if(1&t&&(Fo(0,"mat-option",17),Sa(1),Oo()),2&t){const t=e.$implicit;Ro("value",t),Ji(1),ka(" ",t.contact.name,": ",t.url," ")}}let bR=(()=>{class t{constructor(t,e){this._inruptService=t,this._sendService=e,this.separatorKeysCodes=[13,188],this.formControl=new xE("",[OS.required]),this.recipients=[],this.allContacts=[],this.errors=[],this.spinner=!1,this.hints=[],this.inputValue=""}ngOnInit(){this.loadContacts().then(()=>{this.monitorFormInput()}),this._processReplyMessage()}monitorFormInput(){this.filteredContacts=this.formControl.valueChanges.pipe(Gf(null),A(t=>t&&"string"==typeof t?this._filter(t):this.allContacts.slice()))}add(t){this._addRecipient(t.value,t.input)}remove(t){this._resetErrors(),this.hints=[];const e=this.recipients.indexOf(t);e>=0&&(this.allContacts.push(t),this.recipients.splice(e,1),this.monitorFormInput())}selected(t){this._resetErrors();const e=t.option.value;this.recipients.push(e);const r=this.recipients.indexOf(e);this.allContacts.splice(r,1),this.monitorFormInput(),this.recipientInput.nativeElement.value="",this.formControl.setValue(null)}_filter(t){const e=t.toLowerCase().replace(":","");return this.allContacts.filter(t=>0===t.url.toLowerCase().indexOf(e)||0===t.contact.name.toLocaleLowerCase().indexOf(e))}loadContacts(){return this._inruptService.getProfileContactInboxes().then(t=>{this.allContacts=t})}_setErrors(t){this.errors.push(t)}_resetErrors(){this.errors=[]}_processReplyMessage(){const t=this._sendService.replyTo;t&&(this.formControl.setValue(t),this.inputValue=t,this._addRecipient(t))}_addRecipient(t,e){this._resetErrors(),(t||"").trim()?(this.spinner=!0,this.formControl.disable(),this._processSubmittedInput(t).finally(()=>{this.spinner=!1,this.formControl.enable()}).then(()=>{e&&(e.value=""),this.formControl.setValue(null)},t=>{this._setErrors("Couldn't find inbox / profile!")})):this._setErrors("You've inputted only whitespaces!")}_processSubmittedInput(t){return new Promise((e,r)=>fC(this,void 0,void 0,function*(){let n,i,s=[],o="Unknown";s.push(this._sendService.isInboxIri(t).toPromise().then(t=>n=t).catch(t=>{})),s.push(cA.retrieveInboxUrlsFromWebId(t).then(t=>i=t).catch(t=>{})),s.push(FT.getProfileName(t).then(t=>o=t).catch(t=>{})),Promise.all(s).then(()=>{if(n)return this.recipients.push({url:t,name:t,contact:{webId:t,name:"Unknown"}}),void e();if((null==i?void 0:i.length)>0){for(const e of i)this.recipients.push({url:e,name:e,contact:{webId:t,name:o}});return i.length>1&&this.hints.push("Discovered multiple inboxes at supplied webId. Choose which you want to keep."),void e()}r()}).catch(t=>{console.error(t),r()})}))}}return t.\u0275fac=function(e){return new(e||t)(Io(OT),Io($I))},t.\u0275cmp=jt({type:t,selectors:[["app-recipients-picker"]],viewQuery:function(t,e){if(1&t&&(yu(fR,!0),yu(dR,!0)),2&t){let t;mu(t=Su())&&(e.recipientInput=t.first),mu(t=Su())&&(e.matAutocomplete=t.first)}},decls:20,vars:14,consts:[["href","http://xmlns.com/foaf/spec/#term_knows","title","foaf:knows property specification","target","_blank"],["appearance","fill",1,"chip-list"],["aria-label","Recipients selection"],["chipList",""],["selectable","true","removable","true",3,"removed",4,"ngFor","ngForOf"],["matPrefix","",3,"diameter",4,"ngIf"],["matInput","","placeholder","Type in recipient and hit ENTER...",3,"value","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["recipientInput",""],[4,"ngFor","ngForOf"],["align","start",4,"ngFor","ngForOf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["selectable","true","removable","true",3,"removed"],["matChipRemove",""],["matPrefix","",3,"diameter"],["align","start"],[3,"value"]],template:function(t,e){if(1&t&&(Fo(0,"p"),Sa(1," Search your contacts from your profile ("),Fo(2,"a",0),Sa(3,"foaf:knows"),Oo(),Sa(4,"), input profile webId for discovery or input known inbox IRI directly:\n"),Oo(),Fo(5,"mat-form-field",1),Fo(6,"mat-label"),Sa(7,"Select recipients"),Oo(),Fo(8,"mat-chip-list",2,3),xo(10,pR,4,2,"mat-chip",4),xo(11,mR,1,1,"mat-spinner",5),Fo(12,"input",6,7),Vo("matChipInputTokenEnd",function(t){return e.add(t)}),Oo(),xo(14,gR,3,1,"mat-error",8),Oo(),xo(15,yR,2,1,"mat-hint",9),Fo(16,"mat-autocomplete",10,11),Vo("optionSelected",function(t){return e.selected(t)}),xo(18,vR,2,3,"mat-option",12),Yc(19,"async"),Oo(),Oo()),2&t){const t=To(9),r=To(17);Ji(5),ua("mat-form-field-invalid",(null==e.errors?null:e.errors.length)>0),Ji(5),Ro("ngForOf",e.recipients),Ji(1),Ro("ngIf",e.spinner),Ji(1),Ro("value",e.inputValue)("formControl",e.formControl)("matAutocomplete",r)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),Ji(2),Ro("ngForOf",e.errors),Ji(1),Ro("ngForOf",e.hints),Ji(3),Ro("ngForOf",Xc(19,12,e.filteredContacts))}},directives:[lS,tS,aR,xh,Ih,JE,xS,lI,uR,GS,LE,iI,tR,gT,eR,KT,nS,Gw,Xw,Sw],pipes:[Uh],styles:[".chip-list[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5em}mat-hint[_ngcontent-%COMP%]{font-size:1.3em}"]}),t})(),_R=(()=>{class t{constructor(t,e){this._snackBar=t,this._sendService=e,this.messageContent="",this.messageError=null}ngOnInit(){}send(){return fC(this,void 0,void 0,function*(){let t=this.picker.recipients;this.messageContent=this.messageContent.trim(),this.messageError=null,t&&0===t.length?this.picker.errors.push("No recipients!"):this.messageContent?this._sendService.send(t,this.messageContent).subscribe(t=>{this._snackBar.open("Message sent!","Dismiss"),this.messageContent="",this.picker.recipients=[],this.picker.errors=[]},t=>{this._snackBar.open("Error sending message. "+t.toString(),"Dismiss")}):this.messageError="Message cannot be empty!"})}}return t.\u0275fac=function(e){return new(e||t)(Io(Px),Io($I))},t.\u0275cmp=jt({type:t,selectors:[["app-send"]],viewQuery:function(t,e){if(1&t&&yu(bR,!0),2&t){let t;mu(t=Su())&&(e.picker=t.first)}},decls:12,vars:2,consts:[[1,"content-spacer"],["appearance","fill"],["matInput","","placeholder","Hello, you have to try this awesome app!...",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit",3,"click"]],template:function(t,e){1&t&&(Fo(0,"div",0),Fo(1,"h1"),Sa(2,"Send message"),Oo(),Mo(3,"app-recipients-picker"),Fo(4,"mat-form-field",1),Fo(5,"mat-label"),Sa(6,"Message content"),Oo(),Fo(7,"textarea",2),Vo("ngModelChange",function(t){return e.messageContent=t}),Oo(),Oo(),Fo(8,"mat-error"),Sa(9),Oo(),Fo(10,"button",3),Vo("click",function(){return e.send()}),Sa(11,"Send"),Oo(),Oo()),2&t&&(Ji(7),Ro("ngModel",e.messageContent),Ji(2),Ea(e.messageError))},directives:[bR,lS,tS,JE,xS,GS,BE,Gw,iC],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{height:30vh}"]}),t})(),wR=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=jt({type:t,selectors:[["app-about"]],decls:28,vars:0,consts:[[1,"content-spacer"],["href","https://angular.io/","title","Official Angular website","target","_blank"],["href","https://solidcommunity.net/","target","_blank","title","Solid Community server"],["href","https://inrupt.net/","target","_blank"],["href","https://www.w3.org/TR/ldn/","title","Linked Data Notifications specification","target","_blank"],["href","https://www.w3.org/TR/activitypub/","title","ActivityPub specification","target","_blank"],["href","https://fit.cvut.cz/","title","Official FIT CTU website","target","_blank"],["href","https://github.com/WhyINeedToFillUsername/inbox","title","Application sources - GitHub repository","target","_blank"]],template:function(t,e){1&t&&(Fo(0,"div",0),Fo(1,"h1"),Sa(2,"About inbox"),Oo(),Fo(3,"p"),Sa(4," Inbox is an in-browser application built using "),Fo(5,"a",1),Sa(6,"Angular framework"),Oo(),Sa(7,". It uses "),Fo(8,"a",2),Sa(9,"Solid server"),Oo(),Sa(10," (and its "),Fo(11,"a",3),Sa(12,"Inrupt"),Oo(),Sa(13," version) for data. The application's purpose is to show use of Solid technology in a user-friendly messaging application. It uses "),Fo(14,"a",4),Sa(15," Linked Data Notifications"),Oo(),Sa(16," and "),Fo(17,"a",5),Sa(18,"ActivityPub"),Oo(),Sa(19," protocols for message exchange. "),Oo(),Fo(20,"p"),Sa(21," Application was built as a diploma thesis for "),Fo(22,"a",6),Sa(23,"FIT CTU"),Oo(),Sa(24,". Sources are available at "),Fo(25,"a",7),Sa(26,"GitHub"),Oo(),Sa(27,". "),Oo(),Oo())},styles:[""]}),t})();const SR=[[["caption"]],[["colgroup"],["col"]]],ER=["caption","colgroup, col"];
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function CR(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Xg(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const kR=new Qr("CDK_TABLE");let AR=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Io(Ac))},t.\u0275dir=zt({type:t,selectors:[["","cdkCellDef",""]]}),t})(),xR=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Io(Ac))},t.\u0275dir=zt({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),TR=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Io(Ac))},t.\u0275dir=zt({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class IR{}const RR=CR(IR);let PR=(()=>{class t extends RR{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=Xg(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(Io(kR,8))},t.\u0275dir=zt({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,r){if(1&t&&(bu(r,AR,!0),bu(r,xR,!0),bu(r,TR,!0)),2&t){let t;mu(t=Su())&&(e.cell=t.first),mu(t=Su())&&(e.headerCell=t.first),mu(t=Su())&&(e.footerCell=t.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Ka([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),ho]}),t})();class FR{constructor(t,e){const r=e.nativeElement.classList;for(const n of t._columnCssClassName)r.add(n)}}let OR=(()=>{class t extends FR{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(Io(PR),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[ho]}),t})(),MR=(()=>{class t extends FR{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(Io(PR),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[ho]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class BR{constructor(){this.tasks=[],this.endTasks=[]}}const NR=new Qr("_COALESCED_STYLE_SCHEDULER");let DR=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new E}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new BR,this._getScheduleObservable().pipe(Aw(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new BR;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?N(Promise.resolve(void 0)):this._ngZone.onStable.pipe(zf(1))}}return t.\u0275fac=function(e){return new(e||t)(bn(Gu))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),LR=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof VR?t.headerCell.template:this instanceof KR?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(Io(Ac),Io(pc))},t.\u0275dir=zt({type:t,features:[ue]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class jR extends LR{}const UR=CR(jR);let VR=(()=>{class t extends UR{constructor(t,e,r){super(t,e),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(Io(Ac),Io(pc),Io(kR,8))},t.\u0275dir=zt({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[ho,ue]}),t})();class HR extends LR{}const qR=CR(HR);let KR=(()=>{class t extends qR{constructor(t,e,r){super(t,e),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(Io(Ac),Io(pc),Io(kR,8))},t.\u0275dir=zt({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[ho,ue]}),t})(),zR=(()=>{class t extends LR{constructor(t,e,r){super(t,e),this._table=r}}return t.\u0275fac=function(e){return new(e||t)(Io(Ac),Io(pc),Io(kR,8))},t.\u0275dir=zt({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[ho]}),t})(),WR=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(Io(Oc))},t.\u0275dir=zt({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),$R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=jt({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Do(0,0)},directives:[WR],encapsulation:2}),t})(),GR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=jt({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Do(0,0)},directives:[WR],encapsulation:2}),t})(),QR=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(Io(Ac))},t.\u0275dir=zt({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const JR=["top","bottom","left","right"];class ZR{constructor(t,e,r,n,i=!0,s=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=r,this._coalescedStyleScheduler=n,this._isBrowser=i,this._needsPositionStickyOnElement=s,this._cachedCellWidths=[]}clearStickyPositioning(t,e){const r=[];for(const n of t)if(n.nodeType===n.ELEMENT_NODE){r.push(n);for(let t=0;t<n.children.length;t++)r.push(n.children[t])}this._scheduleStyleChanges(()=>{for(const t of r)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,r,n=!0){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!r.some(t=>t))return;const i=t[0],s=i.children.length,o=this._getCellWidths(i,n),a=this._getStickyStartColumnPositions(o,e),c=this._getStickyEndColumnPositions(o,r);this._scheduleStyleChanges(()=>{const n="rtl"===this.direction,i=n?"right":"left",o=n?"left":"right";for(const u of t)for(let t=0;t<s;t++){const n=u.children[t];e[t]&&this._addStickyStyle(n,i,a[t]),r[t]&&this._addStickyStyle(n,o,c[t])}})}stickRows(t,e,r){if(!this._isBrowser)return;const n="bottom"===r?t.slice().reverse():t,i="bottom"===r?e.slice().reverse():e,s=[],o=[];for(let a=0,c=0;a<n.length;a++){if(s[a]=c,!i[a])continue;const t=n[a];o[a]=this._isNativeHtmlTable?Array.from(t.children):[t],a!==n.length-1&&(c+=t.getBoundingClientRect().height)}this._scheduleStyleChanges(()=>{for(let t=0;t<n.length;t++){if(!i[t])continue;const e=s[t];for(const n of o[t])this._addStickyStyle(n,r,e)}})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const r=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(t=>!t)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="";JR.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,r){t.classList.add(this._stickCellCss),t.style[e]=`${r}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let r=0;for(const n of JR)t.style[n]&&(r+=e[n]);return r?`${r}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],n=t.children;for(let i=0;i<n.length;i++)r.push(n[i].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(t,e){const r=[];let n=0;for(let i=0;i<t.length;i++)e[i]&&(r[i]=n,n+=t[i]);return r}_getStickyEndColumnPositions(t,e){const r=[];let n=0;for(let i=t.length;i>0;i--)e[i]&&(r[i]=n,n+=t[i]);return r}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let YR=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Io(Oc),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["","rowOutlet",""]]}),t})(),XR=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Io(Oc),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),tP=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Io(Oc),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),eP=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Io(Oc),Io(Za))},t.\u0275dir=zt({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),rP=(()=>{class t{constructor(t,e,r,n,i,s,o,a,c,u){this._differs=t,this._changeDetectorRef=e,this._elementRef=r,this._dir=i,this._platform=o,this._viewRepeater=a,this._coalescedStyleScheduler=c,this._viewportRuler=u,this._onDestroy=new E,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new Tf({start:0,end:Number.MAX_VALUE}),n||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Xg(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Xg(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e),this._viewportRuler&&this._viewportRuler.change().pipe(Aw(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),bA(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,e,(t,e,r)=>this._getEmbeddedViewArgs(t.item,r),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation((t,r,n)=>{if(null==t.previousIndex){const e=t.item;this._renderRow(this._rowOutlet,e.rowDef,n,{$implicit:e.data})}else if(null==n)e.remove(r);else{const t=e.get(r);e.move(t,n)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const r=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,r,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const r=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...e,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const r=[];for(let n=0;n<e.length;n++)this._renderRows[n].rowDef===t&&r.push(e[n]);this._addStickyColumnStyles(r,t)}),r.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let n=this._data[r];const i=this._getRenderRowsForData(n,r,e.get(n));this._cachedRenderRowsMap.has(n)||this._cachedRenderRowsMap.set(n,new WeakMap);for(let e=0;e<i.length;e++){let r=i[e];const n=this._cachedRenderRowsMap.get(r.data);n.has(r.rowDef)?n.get(r.rowDef).push(r):n.set(r.rowDef,[r]),t.push(r)}}return t}_getRenderRowsForData(t,e,r){return this._getRowDefs(t,e).map(n=>{const i=r&&r.has(n)?r.get(n):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:n,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),nP(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=nP(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=nP(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=nP(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const n=this._footerRowDefs.reduce(t,!1);return n&&this._forceRenderFooterRows(),e||r||n}_switchDataSource(t){this._data=[],bA(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;var e;bA(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof v||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=xf(this.dataSource)),this._renderChangeSubscription=t.pipe(Aw(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const r=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),n=r.map(t=>t.sticky),i=r.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,n,i,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const e=[];for(let r=0;r<t.viewContainer.length;r++){const n=t.viewContainer.get(r);e.push(n.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(r=>!r.when||r.when(e,t));else{let n=this._rowDefs.find(r=>r.when&&r.when(e,t))||this._defaultRowDef;n&&r.push(n)}return r}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,r,n={}){const i=t.viewContainer.createEmbeddedView(e.template,n,r);return this._renderCellTemplateForItem(e,n),i}_renderCellTemplateForItem(t,e){for(let r of this._getCellTemplates(t))WR.mostRecentCellOutlet&&WR.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,r=t.length;e<r;e++){const n=t.get(e).context;n.count=r,n.first=0===e,n.last=e===r-1,n.even=e%2==0,n.odd=!n.even,this.multiTemplateDataRows?(n.dataIndex=this._renderRows[e].dataIndex,n.renderIndex=e):n.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const r=this._columnDefsByName.get(e);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of e){const e=this._document.createElement(r.tag);e.setAttribute("role","rowgroup");for(const t of r.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ZR(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement),(this._dir?this._dir.change:xf()).pipe(Aw(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){const r=this._noDataRowOutlet.viewContainer;e?r.createEmbeddedView(t.templateRef):r.clear(),this._isShowingNoDataRow=e}}}}return t.\u0275fac=function(e){return new(e||t)(Io(pc),Io(_c),Io(Za),Wr("role"),Io(Xy,8),Io(xl),Io(by),Io(SA,8),Io(NR,8),Io(kA,8))},t.\u0275cmp=jt({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,r){if(1&t&&(bu(r,QR,!0),bu(r,PR,!0),bu(r,zR,!0),bu(r,VR,!0),bu(r,KR,!0)),2&t){let t;mu(t=Su())&&(e._noDataRow=t.first),mu(t=Su())&&(e._contentColumnDefs=t),mu(t=Su())&&(e._contentRowDefs=t),mu(t=Su())&&(e._contentHeaderRowDefs=t),mu(t=Su())&&(e._contentFooterRowDefs=t)}},viewQuery:function(t,e){if(1&t&&(gu(YR,!0),gu(XR,!0),gu(tP,!0),gu(eP,!0)),2&t){let t;mu(t=Su())&&(e._rowOutlet=t.first),mu(t=Su())&&(e._headerRowOutlet=t.first),mu(t=Su())&&(e._footerRowOutlet=t.first),mu(t=Su())&&(e._noDataRowOutlet=t.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,e){2&t&&ua("cdk-table-fixed-layout",e.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[Ka([{provide:kR,useExisting:t},{provide:SA,useClass:_A},{provide:NR,useClass:DR}])],ngContentSelectors:ER,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(Go(SR),Qo(0),Qo(1,1),Do(2,0),Do(3,1),Do(4,2),Do(5,3))},directives:[XR,YR,eP,tP],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function nP(t,e){return t.concat(Array.from(e))}let iP=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[xA]]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const sP=[[["caption"]],[["colgroup"],["col"]]],oP=["caption","colgroup, col"];let aP=(()=>{class t extends rP{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(e){return cP(e||t)},t.\u0275cmp=jt({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,e){2&t&&ua("mat-table-fixed-layout",e.fixedLayout)},exportAs:["matTable"],features:[Ka([{provide:SA,useClass:_A},{provide:rP,useExisting:t},{provide:kR,useExisting:t},{provide:NR,useClass:DR}]),ho],ngContentSelectors:oP,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(Go(sP),Qo(0),Qo(1,1),Do(2,0),Do(3,1),Do(4,2),Do(5,3))},directives:[XR,YR,eP,tP],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),t})();const cP=zr(aP);let uP=(()=>{class t extends AR{}return t.\u0275fac=function(e){return lP(e||t)},t.\u0275dir=zt({type:t,selectors:[["","matCellDef",""]],features:[Ka([{provide:AR,useExisting:t}]),ho]}),t})();const lP=zr(uP);let hP=(()=>{class t extends xR{}return t.\u0275fac=function(e){return fP(e||t)},t.\u0275dir=zt({type:t,selectors:[["","matHeaderCellDef",""]],features:[Ka([{provide:xR,useExisting:t}]),ho]}),t})();const fP=zr(hP);let dP=(()=>{class t extends PR{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return pP(e||t)},t.\u0275dir=zt({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Ka([{provide:PR,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),ho]}),t})();const pP=zr(dP);let mP=(()=>{class t extends OR{}return t.\u0275fac=function(e){return gP(e||t)},t.\u0275dir=zt({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[ho]}),t})();const gP=zr(mP);let yP=(()=>{class t extends MR{}return t.\u0275fac=function(e){return vP(e||t)},t.\u0275dir=zt({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[ho]}),t})();const vP=zr(yP);let bP=(()=>{class t extends VR{}return t.\u0275fac=function(e){return _P(e||t)},t.\u0275dir=zt({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Ka([{provide:VR,useExisting:t}]),ho]}),t})();const _P=zr(bP);let wP=(()=>{class t extends zR{}return t.\u0275fac=function(e){return SP(e||t)},t.\u0275dir=zt({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Ka([{provide:zR,useExisting:t}]),ho]}),t})();const SP=zr(wP);let EP=(()=>{class t extends $R{}return t.\u0275fac=function(e){return CP(e||t)},t.\u0275cmp=jt({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[Ka([{provide:$R,useExisting:t}]),ho],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Do(0,0)},directives:[WR],encapsulation:2}),t})();const CP=zr(EP);let kP=(()=>{class t extends GR{}return t.\u0275fac=function(e){return AP(e||t)},t.\u0275cmp=jt({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[Ka([{provide:GR,useExisting:t}]),ho],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Do(0,0)},directives:[WR],encapsulation:2}),t})();const AP=zr(kP);let xP=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[iP,z_],z_]}),t})();function TP(t,e){if(1&t){const t=Lo();Fo(0,"h2"),Sa(1,"messages from all your inboxes "),Fo(2,"button",2),Vo("click",function(){return Me(t),Wo().readInboxes()}),Sa(3," Reload "),Fo(4,"mat-icon"),Sa(5,"refresh"),Oo(),Oo(),Oo()}if(2&t){const t=Wo();Ji(2),ua("spinner",t.workingInbox),Ro("disabled",t.workingInbox)}}function IP(t,e){1&t&&Sa(0,"enable notifications")}function RP(t,e){1&t&&Sa(0,"notifications enabled")}function PP(t,e){if(1&t){const t=Lo();Fo(0,"h2"),Sa(1,'messages from inbox "'),Fo(2,"a",3),Sa(3),Oo(),Sa(4,'" '),Fo(5,"button",2),Vo("click",function(){Me(t);const e=Wo();return e.readInbox(e.inbox)}),Sa(6," Reload "),Fo(7,"mat-icon"),Sa(8,"refresh"),Oo(),Oo(),Fo(9,"button",2),Vo("click",function(){Me(t);const e=Wo();return e.monitor(e.inbox)}),xo(10,IP,1,0,"ng-template",4),xo(11,RP,1,0,"ng-template",4),Oo(),Oo()}if(2&t){const t=Wo();Ji(2),Jo("href",t.inbox.url,ri),Ji(1),Ea(t.inbox.name),Ji(2),ua("spinner",t.workingInbox),Ro("disabled",t.workingInbox),Ji(4),Ro("disabled",t.inbox.isMonitored),Ji(1),Ro("ngIf",!t.inbox.isMonitored),Ji(1),Ro("ngIf",t.inbox.isMonitored)}}function FP(t,e){1&t&&(Fo(0,"p"),Sa(1,"(no messages available)"),Oo())}function OP(t,e){1&t&&(Fo(0,"th",14),Sa(1,"Date"),Oo())}function MP(t,e){if(1&t&&(Fo(0,"td",15),Sa(1),Yc(2,"date"),Oo()),2&t){const t=e.$implicit;Ji(1),Ca(" ",tu(2,1,t.created,"yyyy-MM-dd, HH:mm")," ")}}function BP(t,e){1&t&&(Fo(0,"th",14),Sa(1,"Inbox"),Oo())}const NP=function(t){return["/incoming/",t]};function DP(t,e){if(1&t&&(Fo(0,"td",15),Fo(1,"a",16),Sa(2),Oo(),Oo()),2&t){const t=e.$implicit;Ji(1),la(t.inbox.style),Ro("routerLink",Gc(4,NP,t.inbox.url)),Ji(1),Ca(" ",t.inbox.name," ")}}function LP(t,e){1&t&&(Fo(0,"th",14),Sa(1,"URL"),Oo())}function jP(t,e){if(1&t&&(Fo(0,"td",15),Sa(1),Oo()),2&t){const t=e.$implicit;Ji(1),Ea(t.url)}}function UP(t,e){1&t&&(Fo(0,"th",14),Sa(1,"Message Type"),Oo())}function VP(t,e){if(1&t&&(Fo(0,"td",15),Sa(1),Oo()),2&t){const t=e.$implicit;Ji(1),Ea(t.type)}}function HP(t,e){1&t&&Mo(0,"tr",17)}const qP=function(t,e){return["/incoming/",t,e]};function KP(t,e){if(1&t&&Mo(0,"tr",18),2&t){const t=e.$implicit;Ro("routerLink",(1,r=qP,n=t.inbox.url,i=t.url,Zc(Fe(),He(),1,r,n,i,undefined)))}var r,n,i}function zP(t,e){if(1&t&&(Fo(0,"table",5),Bo(1,6),xo(2,OP,2,0,"th",7),xo(3,MP,3,4,"td",8),No(),Bo(4,9),xo(5,BP,2,0,"th",7),xo(6,DP,3,6,"td",8),No(),Bo(7,10),xo(8,LP,2,0,"th",7),xo(9,jP,2,1,"td",8),No(),Bo(10,11),xo(11,UP,2,0,"th",7),xo(12,VP,2,1,"td",8),No(),xo(13,HP,1,0,"tr",12),xo(14,KP,1,4,"tr",13),Oo()),2&t){const t=Wo();Ro("dataSource",t.messages),Ji(13),Ro("matHeaderRowDef",t.columnsToDisplay),Ji(1),Ro("matRowDefColumns",t.columnsToDisplay)}}let WP=(()=>{class t{constructor(t,e,r){this._inruptService=t,this.route=e,this._monitorInboxesService=r,this.workingInbox=!1}ngOnInit(){this.sub=this.route.params.subscribe(t=>{const e=t.inboxUrl;e?(this.columnsToDisplay=["created","url","type"],this._readInbox(e)):(this.columnsToDisplay=["created","inbox","url","type"],this.readInboxes())})}readInbox(t){this._readInbox(t.url)}_readInbox(t){return fC(this,void 0,void 0,function*(){this.workingInbox=!0,this.messages=[],this.inbox=yield this._inruptService.prepareInbox(t),this._inruptService.loadMessagesOfInbox(this.inbox).then(t=>{this.inbox.messages=t,this.messages=this.messages.concat(t),this.workingInbox=!1})})}readInboxes(){this.workingInbox=!0,this.messages=[],this._inruptService.inboxes$.subscribe(t=>{this.inboxes=t;let e=[];for(const r of this.inboxes)e.push(this._inruptService.loadMessagesOfInbox(r).then(t=>{r.messages=t,this.messages=this.messages.concat(t)}));Promise.all(e).then(()=>{this.workingInbox=!1})})}monitor(t){this._monitorInboxesService.addInboxToMonitor(t)}ngOnDestroy(){this.sub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Io(OT),Io(Tp),Io(Bx))},t.\u0275cmp=jt({type:t,selectors:[["app-message-list"]],decls:4,vars:4,consts:[[4,"ngIf"],["mat-table","","multiTemplateDataRows","",3,"dataSource",4,"ngIf"],["mat-stroked-button","",3,"disabled","click"],["target","_blank",3,"href"],[3,"ngIf"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],["matColumnDef","created"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","inbox"],["matColumnDef","url"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","element-row",3,"routerLink",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","",3,"routerLink"],["mat-header-row",""],["mat-row","",1,"element-row",3,"routerLink"]],template:function(t,e){1&t&&(xo(0,TP,6,3,"h2",0),xo(1,PP,12,8,"h2",0),xo(2,FP,2,0,"p",0),xo(3,zP,15,3,"table",1)),2&t&&(Ro("ngIf",!e.inbox),Ji(1),Ro("ngIf",e.inbox),Ji(1),Ro("ngIf",!(e.messages&&0!==(null==e.messages?null:e.messages.length)||e.workingInbox)),Ji(1),Ro("ngIf",(null==e.messages?null:e.messages.length)>0))},directives:[Ih,iC,gT,aP,dP,hP,uP,bP,wP,mP,yP,sC,Qm,EP,kP,Gm],pipes:[Vh],styles:["h2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:2em}","table[_ngcontent-%COMP%]{width:100%}tr.element-row[_ngcontent-%COMP%]:hover{cursor:pointer;background:#f5f5f5}tr.element-row[_ngcontent-%COMP%]:active{background:#efefef}",'@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;animation:spinner .8s linear infinite}']}),t})();function $P(t,e){1&t&&Sa(0),2&t&&Ea(Wo().jsonFields.name)}function GP(t,e){if(1&t&&Sa(0),2&t){const t=Wo();Ea(null==t.message?null:t.message.url)}}function QP(t,e){1&t&&Mo(0,"mat-spinner")}function JP(t,e){if(1&t&&(Fo(0,"strong"),Sa(1),Oo()),2&t){const t=Wo(2);Ji(1),Ca("From: ",t.jsonFields.actor,"")}}function ZP(t,e){if(1&t){const t=Lo();Fo(0,"span"),Fo(1,"button",13),Vo("click",function(){Me(t);const e=Wo(2);return e.reply(e.jsonFields.actor)}),Fo(2,"mat-icon"),Sa(3,"reply"),Oo(),Oo(),Oo()}}function YP(t,e){if(1&t&&(Fo(0,"pre"),Sa(1),Oo()),2&t){const t=Wo(2);Ji(1),Ea(null==t.message?null:t.message.content)}}function XP(t,e){if(1&t&&(Fo(0,"pre"),Sa(1),Oo(),Mo(2,"br"),Mo(3,"mat-divider"),Mo(4,"br"),Fo(5,"h2"),Sa(6,"Message details:"),Oo()),2&t){const t=Wo(2);Ji(1),Ea(t.jsonFields.object.content)}}function tF(t,e){1&t&&Mo(0,"mat-divider",20),2&t&&Ro("inset",!0)}function eF(t,e){if(1&t&&(Fo(0,"mat-list-item",16),Fo(1,"span",17),Sa(2),Oo(),Fo(3,"span",18),Sa(4),Yc(5,"json"),Oo(),xo(6,tF,1,1,"mat-divider",19),Oo()),2&t){const t=e.$implicit,r=e.last;Ji(2),Ca("",t.key,":"),Ji(2),Ea(Xc(5,3,t.value)),Ji(2),Ro("ngIf",!r)}}function rF(t,e){if(1&t&&(Fo(0,"mat-list",14),xo(1,eF,7,5,"mat-list-item",15),Yc(2,"keyvalue"),Oo()),2&t){const t=Wo(2);Ji(1),Ro("ngForOf",Xc(2,1,t.jsonFields))}}const nF=function(t){return["/incoming/",t]};function iF(t,e){if(1&t&&(Fo(0,"div",6),Fo(1,"div",7),xo(2,JP,2,1,"strong",4),Fo(3,"span"),Fo(4,"a",8),Sa(5),Oo(),Oo(),Fo(6,"span"),Sa(7),Oo(),Fo(8,"span",9),Sa(9),Yc(10,"date"),Oo(),xo(11,ZP,4,0,"span",4),Oo(),Fo(12,"div",10),xo(13,YP,2,1,"pre",4),xo(14,XP,7,1,"ng-template",11),xo(15,rF,3,3,"mat-list",12),Oo(),Oo()),2&t){const t=Wo();Ji(2),Ro("ngIf",null==t.jsonFields?null:t.jsonFields.actor),Ji(2),la(null==t.inbox?null:t.inbox.style),Ro("routerLink",Gc(14,nF,null==t.inbox?null:t.inbox.url)),Ji(1),Ea(null==t.inbox?null:t.inbox.name),Ji(2),Ca("Type: ",null==t.message?null:t.message.type,""),Ji(2),Ca("Received: ",tu(10,11,null==t.message?null:t.message.created,"yyyy-MM-dd, HH:mm"),""),Ji(2),Ro("ngIf",null==t.jsonFields?null:t.jsonFields.actor),Ji(2),Ro("ngIf",!t.jsonFields),Ji(1),Ro("ngIf",null==t.jsonFields||null==t.jsonFields.object?null:t.jsonFields.object.content),Ji(1),Ro("ngIf",t.jsonFields)}}const sF=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:yI},{path:"incoming",component:WI,canActivate:[MT],children:[{path:"",component:WP,pathMatch:"full"},{path:":inboxUrl",component:WP},{path:":inboxUrl/:messageId",component:(()=>{class t{constructor(t,e,r,n,i,s){this._location=t,this.route=e,this._router=r,this._inruptService=n,this._snackBar=i,this._sendService=s,this.spinner=!1}ngOnInit(){this.spinner=!0,this.sub=this.route.params.subscribe(t=>{const e=t.messageId;this._inruptService.prepareInbox(t.inboxUrl).then(t=>{this.inbox=t,this.loadMessage(this.inbox,e)})})}loadMessage(t,e){this.spinner=!0,this._inruptService.loadMessage(t,e).then(t=>this._parseMessage(t)).catch(t=>{this._snackBar.open("Error loading message.","Dismiss")}).finally(()=>{this.spinner=!1})}goBack(){this._location.back()}_parseMessage(e){if(this.message=e,t.shouldParseJson(e.type))try{this.jsonFields=JSON.parse(e.content)}catch(r){}}ngOnDestroy(){this.sub.unsubscribe()}static shouldParseJson(t){return['application/ld+json; profile="https://www.w3.org/ns/activitystreams"',"application/activity+json","application/json","application/ld+json"].includes(t)}reply(t){this._sendService.replyTo=t,this._router.navigate(["/send"])}}return t.\u0275fac=function(e){return new(e||t)(Io(Hl),Io(Tp),Io($m),Io(OT),Io(Px),Io($I))},t.\u0275cmp=jt({type:t,selectors:[["app-message-detail"]],decls:11,vars:5,consts:[["mat-icon-button","","aria-label","Go back",3,"click"],["target","_blank","title","Message URL",3,"href"],[3,"ngIf","ngIfElse"],["elseBlock",""],[4,"ngIf"],["class","message",4,"ngIf"],[1,"message"],[1,"header"],["mat-raised-button","",3,"routerLink"],[1,"date"],[1,"content"],[3,"ngIf"],["role","list",4,"ngIf"],["mat-icon-button","","aria-label","Reply",1,"back",3,"click"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],["role","listitem"],[1,"key"],[1,"value"],[3,"inset",4,"ngIf"],[3,"inset"]],template:function(t,e){if(1&t&&(Fo(0,"h2"),Fo(1,"button",0),Vo("click",function(){return e.goBack()}),Fo(2,"mat-icon"),Sa(3,"arrow_back"),Oo(),Oo(),Sa(4," message detail: "),Fo(5,"a",1),xo(6,$P,1,1,"ng-template",2),xo(7,GP,1,1,"ng-template",null,3,Au),Oo(),Oo(),xo(9,QP,1,0,"mat-spinner",4),xo(10,iF,16,16,"div",5)),2&t){const t=To(8);Ji(5),Jo("href",null==e.message?null:e.message.url,ri),Ji(1),Ro("ngIf",null==e.jsonFields?null:e.jsonFields.name)("ngIfElse",t),Ji(3),Ro("ngIf",e.spinner),Ji(1),Ro("ngIf",!e.spinner)}},directives:[iC,gT,Ih,KT,sC,Qm,Nx,Jx,xh,tT],pipes:[Vh,qh,Hh],styles:[".message[_ngcontent-%COMP%]{border:1px solid #d6d6d6}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-content:center;align-items:center;background-color:#efefef;border-bottom:1px solid #d6d6d6;padding:.5em 2em;height:3em}.content[_ngcontent-%COMP%]{padding:2em;background-color:#fff;margin:0}.key[_ngcontent-%COMP%]{width:5em;text-align:right;margin-right:1em}button[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.04)}"]}),t})()}]},{path:"send",component:_R,canActivate:[MT]},{path:"about",component:wR},{path:"pleroma",component:hC},{path:"monitor",component:xT}];let oF=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[cg.forRoot(sF)],cg]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const aF=["*",[["mat-toolbar-row"]]],cF=["*","mat-toolbar-row"];class uF{constructor(t){this._elementRef=t}}const lF=$_(uF);let hF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=zt({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),fF=(()=>{class t extends lF{constructor(t,e,r){super(t),this._platform=e,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(Io(Za),Io(by),Io(xl))},t.\u0275cmp=jt({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,r){if(1&t&&bu(r,hF,!0),2&t){let t;mu(t=Su())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&ua("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[ho],ngContentSelectors:cF,decls:2,vars:0,template:function(t,e){1&t&&(Go(aF),Qo(0),Qo(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),dF=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[z_],z_]}),t})();function pF(t,e){1&t&&(Fo(0,"a",9),Sa(1,"Login"),Oo())}function mF(t,e){1&t&&(Fo(0,"a",10),Sa(1,"Incoming"),Oo())}function gF(t,e){1&t&&(Fo(0,"a",11),Sa(1,"Send message"),Oo())}function yF(t,e){if(1&t){const t=Lo();Fo(0,"div",12),Mo(1,"img",13),Fo(2,"a",14),Sa(3),Oo(),Fo(4,"button",15),Vo("click",function(){return Me(t),Wo().logout()}),Sa(5,"Logout"),Oo(),Oo()}if(2&t){const t=Wo();Ji(1),Jo("src",t.photoSrc,ri),Ji(1),Jo("href",t.webId,ri),Ji(1),Ea(t.username)}}let vF=(()=>{class t{constructor(t){this._inruptService=t,this.photoSrc="assets/images/avatar.png"}ngOnInit(){this.userLoggedIn=this._inruptService.isLoggedIn(),this.onLogin()}onLogin(){this._inruptService.session.addListener("login",()=>{this.userLoggedIn=!0,this.webId=this._inruptService.session.info.webId,this._inruptService.getLoggedInUserName().then(t=>{this.username=t}),FT.getProfilePicture(this.webId).then(t=>{t&&(this.photoSrc=t)})})}logout(){this._inruptService.logout(),window.location.reload()}}return t.\u0275fac=function(e){return new(e||t)(Io(OT))},t.\u0275cmp=jt({type:t,selectors:[["app-navbar"]],decls:15,vars:4,consts:[["id","home","mat-button","","href",""],["mat-button","","routerLink","/login","routerLinkActive","active",4,"ngIf"],["mat-button","","routerLink","/incoming","routerLinkActive","active",4,"ngIf"],["mat-button","","routerLink","/send","routerLinkActive","active",4,"ngIf"],["mat-button","","routerLink","/monitor","routerLinkActive","active"],["mat-button","","routerLink","/pleroma","routerLinkActive","active"],["mat-button","","routerLink","/about","routerLinkActive","active"],[1,"spacer"],["class","userInfo",4,"ngIf"],["mat-button","","routerLink","/login","routerLinkActive","active"],["mat-button","","routerLink","/incoming","routerLinkActive","active"],["mat-button","","routerLink","/send","routerLinkActive","active"],[1,"userInfo"],["alt","Profile picture",1,"rounded",3,"src"],["title","Go to profile","target","_blank",3,"href"],["mat-stroked-button","",3,"click"]],template:function(t,e){1&t&&(Fo(0,"mat-toolbar"),Fo(1,"a",0),Sa(2,"inbox"),Oo(),Fo(3,"nav"),xo(4,pF,2,0,"a",1),xo(5,mF,2,0,"a",2),xo(6,gF,2,0,"a",3),Fo(7,"a",4),Sa(8,"Notifications"),Oo(),Fo(9,"a",5),Sa(10,"Pleroma"),Oo(),Fo(11,"a",6),Sa(12,"About"),Oo(),Oo(),Mo(13,"span",7),xo(14,yF,6,3,"div",8),Oo()),2&t&&(Ji(4),Ro("ngIf",!e.userLoggedIn),Ji(1),Ro("ngIf",e.userLoggedIn),Ji(1),Ro("ngIf",e.userLoggedIn),Ji(8),Ro("ngIf",e.userLoggedIn))},directives:[fF,sC,Ih,Qm,Zm,iC],styles:["#home[_ngcontent-%COMP%]{font-size:1.2em}nav[_ngcontent-%COMP%]{margin-left:10px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.active[_ngcontent-%COMP%]{background-color:#d6d6d6}.userInfo[_ngcontent-%COMP%]{font-size:.7em}.userInfo[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:1em}img.rounded[_ngcontent-%COMP%]{margin-right:1em;object-fit:cover;border-radius:50%;height:3em;width:3em;vertical-align:bottom}"]}),t})(),bF=(()=>{class t{constructor(t){this._monitorInboxesService=t,this.title="inbox",t.startMonitoring()}}return t.\u0275fac=function(e){return new(e||t)(Io(Bx))},t.\u0275cmp=jt({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[["id","mainContainer"]],template:function(t,e){1&t&&(Mo(0,"app-navbar"),Fo(1,"div",0),Mo(2,"router-outlet"),Oo())},directives:[vF,Ym],styles:["#mainContainer[_ngcontent-%COMP%]{height:calc(100% - 64px)}"]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const _F={provide:new Qr("mat-menu-scroll-strategy"),deps:[ux],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let wF=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[_F],imports:[z_]}),t})(),SF=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[_F],imports:[[zh,z_,uw,hx,wF],AA,z_,wF]}),t})(),EF=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[uw,z_],z_]}),t})(),CF=(()=>{class t{}return t.\u0275mod=qt({type:t,bootstrap:[bF]}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[{provide:Rx,useValue:{duration:1e4}}],imports:[[Af,oF,j_,hS,ZE,oC,qE,yT,dF,SF,Ix,xP,eT,zT,EF,HI,hR,fI,KE,Zg]]}),t})();(function(){if(al)throw new Error("Cannot enable prod mode after platform setup.");ol=!1}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */)(),Cf().bootstrapModule(CF).catch(t=>console.error(t))},92582:function(t,e,r){"use strict";r.r(e),r.d(e,{CordovaIFrameNavigator:function(){return i.CordovaIFrameNavigator},CordovaPopupNavigator:function(){return i.CordovaPopupNavigator},InMemoryWebStorage:function(){return i.InMemoryWebStorage},Log:function(){return i.Log},OidcClient:function(){return i.OidcClient},SessionMonitor:function(){return i.SessionMonitor},User:function(){return i.User},UserManager:function(){return i.UserManager},Version:function(){return i.Version},WebStorageStateStore:function(){return i.WebStorageStateStore},clearOidcPersistentStorage:function(){return I},createDpopHeader:function(){return w},decodeJwt:function(){return v},generateJwkForDpop:function(){return E},generateJwkRsa:function(){return C},getBearerToken:function(){return A},getDpopToken:function(){return x},privateJwkToPublicJwk:function(){return b},registerClient:function(){return g},removeOidcQueryParam:function(){return T},signJwt:function(){return y}});var n,i=r(69805),s=r(24350),o=r(84637),a=r.n(o),c=new Uint8Array(16);function u(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(c)}for(var l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,h=function(t){return"string"==typeof t&&l.test(t)},f=[],d=0;d<256;++d)f.push((d+256).toString(16).substr(1));var p=function(t,e,r){var n=(t=t||{}).random||(t.rng||u)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(f[t[e+0]]+f[t[e+1]]+f[t[e+2]]+f[t[e+3]]+"-"+f[t[e+4]]+f[t[e+5]]+"-"+f[t[e+6]]+f[t[e+7]]+"-"+f[t[e+8]]+f[t[e+9]]+"-"+f[t[e+10]]+f[t[e+11]]+f[t[e+12]]+f[t[e+13]]+f[t[e+14]]+f[t[e+15]]).toLowerCase();if(!h(r))throw TypeError("Stringified UUID is invalid");return r}(n)},m=r(49200);async function g(t,e){var r;const n={client_name:t.clientName,application_type:"web",redirect_uris:[null===(r=t.redirectUrl)||void 0===r?void 0:r.toString()],subject_type:"pairwise",token_endpoint_auth_method:"client_secret_basic",code_challenge_method:"S256"};if(!e.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");const i={"Content-Type":"application/json"};t.registrationAccessToken&&(i.Authorization=`Bearer ${t.registrationAccessToken}`);const s=await fetch(e.registrationEndpoint.toString(),{method:"POST",headers:i,body:JSON.stringify(n)});if(s.ok){const e=await s.json();return function(t,e){if(void 0===t.client_id)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(t)}`);if(e.redirectUrl&&(void 0===t.redirect_uris||t.redirect_uris[0]!==e.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(t.redirect_uris)} don't match the provided ${JSON.stringify([e.redirectUrl.toString()])}`)}(e,t),{clientId:e.client_id,clientSecret:e.client_secret}}throw 400===s.status&&function(t,e){var r,n,i,s;if("invalid_redirect_uri"===t.error)throw new Error(`Dynamic client registration failed: the provided redirect uri [${null===(r=e.redirectUrl)||void 0===r?void 0:r.toString()}] is invalid - ${null!==(n=t.error_description)&&void 0!==n?n:""}`);if("invalid_client_metadata"===t.error)throw new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(e)} is invalid - ${null!==(i=t.error_description)&&void 0!==i?i:""}`);throw new Error(`Dynamic client registration failed: ${t.error} - ${null!==(s=t.error_description)&&void 0!==s?s:""}`)}(await s.json(),t),new Error(`Dynamic client registration failed: the server returned ${s.status} ${s.statusText} - ${await s.text()}`)}async function y(t,e,r){const n=(await s.JWK.asKey(e)).toPEM(!0);return a().sign(t,n,r)}async function v(t,e,r){if(e){const n=(await s.JWK.asKey(e)).toPEM(!1);return a().verify(t,n,r)}return a().decode(t)}async function b(t){return await s.JWK.asKey(t,"public")}function _(t){const e=new URL(t);return e.hash="",e.username="",e.password="",e.toString()}async function w(t,e,r){return y({htu:_(t),htm:e.toUpperCase(),jti:p()},r,{header:{jwk:await b(r),typ:"dpop+jwt"},algorithm:"ES256"})}async function S(t,e,r){return(await s.JWK.createKey(t,e,r)).toJSON(!0)}async function E(){return S("EC","P-256",{alg:"ES256"})}async function C(){return S("RSA")}async function k(t){const e=await v(t);if((void 0===(r=e).sub||"string"!=typeof r.sub||void 0===r.iss||"string"!=typeof r.iss||r.webid)&&"string"!=typeof r.webid)throw new Error(`Invalid ID token: ${JSON.stringify(e)} is missing 'sub' or 'iss' claims`);var r;if(e.webid)return e.webid;try{new URL(e.sub)}catch(n){throw new Error(`Cannot extract WebID from ID token: the ID token returned by [${e.iss}] has no 'webid' claim, nor an IRI-like 'sub' claim: [${e.sub}]. Attempting to construct a URL from the 'sub' claim threw: ${n}`)}return e.sub}async function A(t){let e;try{e=await new i.OidcClient({response_mode:"query",loadUserInfo:!1}).processSigninResponse(t)}catch(n){throw new Error(`Problem handling Auth Code Grant (Flow) redirect - URL [${t}]: ${n}`)}const r=await k(e.id_token);return{accessToken:e.access_token,idToken:e.id_token,webId:r,refreshToken:e.refresh_token}}async function x(t,e,r){return async function(t,e,r,n){!function(t,e){if(e.grantType&&(!t.grantTypesSupported||!t.grantTypesSupported.includes(e.grantType)))throw new Error(`The issuer [${t.issuer}] does not support the [${e.grantType}] grant`);if(!t.tokenEndpoint)throw new Error(`This issuer [${t.issuer}] does not have a token endpoint`)}(t,r);const i={"content-type":"application/x-www-form-urlencoded"};let s;s=await E(),i.DPoP=await w(t.tokenEndpoint,"POST",s),e.clientSecret&&(i.Authorization=`Basic ${btoa(`${e.clientId}:${e.clientSecret}`)}`);const o={method:"POST",headers:i,body:(0,m.default)({grant_type:r.grantType,redirect_uri:r.redirectUri,code:r.code,code_verifier:r.codeVerifier,client_id:e.clientId})},a=function(t,e){if(void 0===(r=t).access_token||"string"!=typeof r.access_token)throw new Error(`Invalid token endpoint response (missing the field 'access_token'): ${JSON.stringify(t)}`);var r;if(!function(t){return void 0!==t.id_token&&"string"==typeof t.id_token}(t))throw new Error(`Invalid token endpoint response (missing the field 'id_token'): ${JSON.stringify(t)}.`);if(!function(t){return void 0!==t.token_type&&"string"==typeof t.token_type}(t))throw new Error(`Invalid token endpoint response (missing the field 'token_type'): ${JSON.stringify(t)}`);return t}(await(await fetch(t.tokenEndpoint,o)).json()),c=await k(a.id_token);return{accessToken:a.access_token,idToken:a.id_token,refreshToken:(u=a,void 0!==u.refresh_token&&"string"==typeof u.refresh_token?a.refresh_token:void 0),webId:c,dpopJwk:s};var u}(t,e,r)}function T(t){const e=new URL(t);return e.searchParams.delete("code"),e.searchParams.delete("state"),e.toString()}async function I(){const t=new i.OidcClient({response_mode:"query"});await t.clearStaleState(new i.WebStorageStateStore({}));const e=window.localStorage,r=[];for(let n=0;n<=e.length;n+=1){const t=e.key(n);t&&(t.match(/^oidc\..+$/)||t.match(/^solidClientAuthenticationUser:.+$/))&&r.push(t)}r.forEach(t=>e.removeItem(t))}},50397:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithCookies=void 0,r(88103);const o=r(14451),a=r(92582);e.fetchWithCookies=(t,e)=>window.fetch(t,{...e,credentials:"include"});let c=class{constructor(t,r,n,i){this.loginHandler=t,this.redirectHandler=r,this.logoutHandler=n,this.sessionInfoManager=i,this.login=async(t,e)=>{var r,n,i;await this.sessionInfoManager.clear(t);const s=a.removeOidcQueryParam(null!==(r=e.redirectUrl)&&void 0!==r?r:window.location.href);await this.loginHandler.handle({sessionId:t,oidcIssuer:e.oidcIssuer,redirectUrl:s,clientId:e.clientId,clientSecret:e.clientSecret,clientName:null!==(n=e.clientName)&&void 0!==n?n:e.clientId,popUp:e.popUp||!1,handleRedirect:e.handleRedirect,tokenType:null!==(i=e.tokenType)&&void 0!==i?i:"DPoP"})},this.fetch=e.fetchWithCookies,this.logout=async t=>{await this.logoutHandler.handle(t),this.fetch=(t,e)=>window.fetch(t,e)},this.getSessionInfo=async t=>this.sessionInfoManager.get(t),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.handleIncomingRedirect=async t=>{const e=await this.redirectHandler.handle(t);this.fetch=e.fetch;const r=new URL(t);return r.searchParams.delete("state"),r.searchParams.delete("code"),r.searchParams.delete("id_token"),r.searchParams.delete("access_token"),window.history.replaceState(null,"",r.toString()),{isLoggedIn:e.isLoggedIn,webId:e.webId,sessionId:e.sessionId}}}};c=n([o.injectable(),s(0,o.inject("loginHandler")),s(1,o.inject("redirectHandler")),s(2,o.inject("logoutHandler")),s(3,o.inject("sessionInfoManager")),i("design:paramtypes",[Object,Object,Object,Object])],c),e.default=c},53449:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Session=void 0;const n=r(23480),i=r(84437),s=r(64437);e.Session=class extends n.EventEmitter{constructor(t={},e){super(),this.tokenRequestInProgress=!1,this.login=async t=>{await this.clientAuthentication.login(this.info.sessionId,{...t})},this.fetch=async(t,e)=>this.clientAuthentication.fetch(t,e),this.logout=async()=>{await this.clientAuthentication.logout(this.info.sessionId),this.info.isLoggedIn=!1,this.emit("logout")},this.handleIncomingRedirect=async t=>{if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const e=window.localStorage.getItem("tmp-resource-server-session-info");if("string"==typeof e){const t=JSON.parse(e);if(function(t){var e;const r=Object.keys(null!==(e=t.sessions)&&void 0!==e?e:{});return"string"==typeof t.webId&&r.length>0&&"number"==typeof t.sessions[r[0]].expiration}(t)){const e=Object.keys(t.sessions),r=new URL(t.webId).hostname,n=e.find(t=>new URL(t).hostname===r);if(t.sessions[null!=n?n:e[0]].expiration-Date.now()>3e5)return this.info.isLoggedIn=!0,this.info.webId=t.webId,this.info}}this.tokenRequestInProgress=!0;const r=await this.clientAuthentication.handleIncomingRedirect(t);return r&&(this.info.isLoggedIn=r.isLoggedIn,this.info.webId=r.webId,this.info.sessionId=r.sessionId,r.isLoggedIn&&this.emit("login")),this.tokenRequestInProgress=!1,r},this.clientAuthentication=t.clientAuthentication?t.clientAuthentication:s.getClientAuthenticationWithDependencies(t.secureStorage&&t.insecureStorage?{secureStorage:t.secureStorage,insecureStorage:t.insecureStorage}:{}),this.info=t.sessionInfo?{sessionId:t.sessionInfo.sessionId,isLoggedIn:!1,webId:t.sessionInfo.webId}:{sessionId:null!=e?e:i.v4(),isLoggedIn:!1}}onLogin(t){this.on("login",t)}onLogout(t){this.on("logout",t)}}},61519:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0}),e.SessionManager=void 0;const s=r(23480),o=r(14451),a=r(53449),c=r(64437);let u=class extends s.EventEmitter{constructor(t={}){super(),this.sessionRecords={},this.isInitialized=!1,this.handledIncomingRedirect=!1,this.clientAuthn=c.getClientAuthenticationWithDependencies({secureStorage:t.secureStorage,insecureStorage:t.insecureStorage})}async init(){this.isInitialized||(await this.handleIncomingRedirect(window.location.href),this.isInitialized=!0)}addNewSessionRecord(t){const e=()=>{this.emit("sessionLogout",t)};return t.onLogout(e),this.sessionRecords[t.info.sessionId]={session:t,logoutCallback:e},t}getSessionFromCurrentSessionInfo(t){const e=this.sessionRecords[t.sessionId];return e?(e.session.info.webId=t.webId,e.session.info.isLoggedIn=t.isLoggedIn,e.session):this.addNewSessionRecord(new a.Session({clientAuthentication:this.clientAuthn,sessionInfo:t}))}async getSessions(){return await this.init(),(await this.clientAuthn.getAllSessionInfo()).map(t=>this.getSessionFromCurrentSessionInfo(t))}async getSession(t){let e;if(await this.init(),t){const r=await this.clientAuthn.getSessionInfo(t);e=r?this.getSessionFromCurrentSessionInfo(r):this.addNewSessionRecord(new a.Session({clientAuthentication:this.clientAuthn},t))}else e=this.addNewSessionRecord(new a.Session({clientAuthentication:this.clientAuthn}));return e}async hasSession(t){return await this.init(),void 0!==await this.clientAuthn.getSessionInfo(t)}onSessionLogin(t){this.on("sessionLogin",t)}onSessionLogout(t){this.on("sessionLogout",t)}detachSession(t){const e=this.sessionRecords[t];e&&(e.session.removeListener("onLogout",e.logoutCallback),delete this.sessionRecords[t])}async handleIncomingRedirect(t){const e=await this.clientAuthn.handleIncomingRedirect(t);if(e){const t=this.getSessionFromCurrentSessionInfo(e);return this.emit("sessionLogin",t),t.emit("login"),t}}};u=n([o.injectable(),i("design:paramtypes",[Object])],u),e.SessionManager=u},62601:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildDpopFetch=e.buildBearerFetch=void 0;const n=r(92582);async function i(t,e,r,i){var s;return{...i,headers:{...null==i?void 0:i.headers,Authorization:`DPoP ${e}`,DPoP:await n.createDpopHeader(t,null!==(s=null==i?void 0:i.method)&&void 0!==s?s:"get",r)},credentials:"include"}}e.buildBearerFetch=function(t,e){return(e,r)=>fetch(e,{...r,credentials:"include",headers:{...null==r?void 0:r.headers,Authorization:`Bearer ${t}`}})},e.buildDpopFetch=async function(t,e,r){return async(e,n)=>{const s=await fetch(e,await i(e.toString(),t,r,n)),o=!s.ok&&![401,403].includes(s.status);return s.ok||o||s.url===e?s:fetch(s.url,await i(s.url,t,r,n))}}},19945:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onLogout=e.onLogin=e.handleIncomingRedirect=e.logout=e.login=e.fetch=e.getDefaultSession=void 0;const n=r(53449);let i;function s(){return void 0===i&&(i=new n.Session),i}e.getDefaultSession=s,e.fetch=(...t)=>s().fetch(...t),e.login=(...t)=>s().login(...t),e.logout=(...t)=>s().logout(...t),e.handleIncomingRedirect=(...t)=>s().handleIncomingRedirect(...t),e.onLogin=(...t)=>s().onLogin(...t),e.onLogout=(...t)=>s().onLogout(...t)},64437:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getClientAuthenticationWithDependencies=void 0,r(88103);const i=r(14451),s=r(68307),o=n(r(97895)),a=n(r(50397)),c=n(r(18424)),u=n(r(43800)),l=n(r(43830)),h=n(r(88571)),f=n(r(5699)),d=n(r(39313)),p=n(r(80944)),m=n(r(15217)),g=n(r(74933)),y=n(r(55701)),v=r(71178),b=r(14010),_=n(r(80962)),w=r(22788),S=r(61364),E=n(r(42639)),C=n(r(16966)),k=n(r(66408)),A=n(r(4684)),x=n(r(84147)),T=n(r(46233)),I=n(r(60352)),R=n(r(30220)),P=n(r(11750)),F=r(61519),O=n(r(5735)),M=i.container;M.register("storageUtility",{useClass:o.default}),M.register("sessionInfoManager",{useClass:w.SessionInfoManager}),M.register("sessionManager",{useClass:F.SessionManager}),M.register("loginHandler",{useClass:O.default}),M.register("loginHandlers",{useClass:x.default}),M.register("loginHandlers",{useClass:c.default}),M.register("postPopUpLoginHandler",{useClass:T.default}),M.register("postPopUpLoginHandlers",{useClass:c.default}),M.register("oidcHandler",{useClass:u.default}),M.register("oidcHandlers",{useClass:g.default}),M.register("oidcHandlers",{useClass:l.default}),M.register("oidcHandlers",{useClass:h.default}),M.register("oidcHandlers",{useClass:m.default}),M.register("oidcHandlers",{useClass:f.default}),M.register("oidcHandlers",{useClass:d.default}),M.register("oidcHandlers",{useClass:p.default}),M.register("redirector",{useClass:A.default}),M.register("clientRegistrar",{useClass:I.default}),M.register("tokenRequester",{useClass:P.default}),M.register("redirectHandler",{useClass:E.default}),M.register("redirectHandlers",{useClass:S.AuthCodeRedirectHandler}),M.register("redirectHandlers",{useClass:v.ImplicitRedirectHandler}),M.register("tokenSaver",{useClass:k.default}),M.register("redirectHandlers",{useClass:b.FallbackRedirectHandler}),M.register("issuerConfigFetcher",{useClass:y.default}),M.register("tokenRefresher",{useClass:R.default}),M.register("logoutHandler",{useClass:_.default}),e.getClientAuthenticationWithDependencies=function(t){const e=t.secureStorage||new s.InMemoryStorage,r=t.insecureStorage||new C.default,n=M.createChildContainer();return n.register("secureStorage",{useValue:e}),n.register("insecureStorage",{useValue:r}),n.resolve(a.default)}},23897:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorage=e.ConfigurationError=e.NotImplementedError=e.getClientAuthenticationWithDependencies=e.SessionManager=e.Session=void 0;var s=r(53449);Object.defineProperty(e,"Session",{enumerable:!0,get:function(){return s.Session}});var o=r(61519);Object.defineProperty(e,"SessionManager",{enumerable:!0,get:function(){return o.SessionManager}});var a=r(64437);Object.defineProperty(e,"getClientAuthenticationWithDependencies",{enumerable:!0,get:function(){return a.getClientAuthenticationWithDependencies}}),i(r(19945),e);var c=r(68307);Object.defineProperty(e,"NotImplementedError",{enumerable:!0,get:function(){return c.NotImplementedError}}),Object.defineProperty(e,"ConfigurationError",{enumerable:!0,get:function(){return c.ConfigurationError}}),Object.defineProperty(e,"InMemoryStorage",{enumerable:!0,get:function(){return c.InMemoryStorage}})},5735:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451),a=r(68307);let c=class extends a.AggregateHandler{constructor(t){super(t)}};c=n([o.injectable(),s(0,o.injectAll("loginHandlers")),i("design:paramtypes",[Array])],c),e.default=c},43800:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451),a=r(68307);let c=class extends a.AggregateHandler{constructor(t){super(t)}};c=n([o.injectable(),s(0,o.injectAll("oidcHandlers")),i("design:paramtypes",[Array])],c),e.default=c},60352:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451),a=r(92582);let c=class{constructor(t){this.storageUtility=t}async getClient(t,e){var r;const[n,i]=await Promise.all([this.storageUtility.getForUser(t.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientSecret",{secure:!1})]);if(n)return{clientId:n,clientSecret:i};const s={...t};s.registrationAccessToken=null!==(r=s.registrationAccessToken)&&void 0!==r?r:await this.storageUtility.getForUser(t.sessionId,"registrationAccessToken");try{const t=await a.registerClient(s,e),r={clientId:t.clientId};return t.clientSecret&&(r.clientSecret=t.clientSecret),await this.storageUtility.setForUser(s.sessionId,r,{secure:!1}),t}catch(o){throw new Error(`Client registration failed: [${o.toString()}]`)}}};c=n([o.injectable(),s(0,o.inject("storageUtility")),i("design:paramtypes",[Object])],c),e.default=c},55701:function(t,e,r){"use strict";var n,i=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.WELL_KNOWN_OPENID_CONFIG=void 0;const a=r(68307),c=r(14451),u=r(95564);e.WELL_KNOWN_OPENID_CONFIG=".well-known/openid-configuration";const l={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};let h=n=class{constructor(t){this.storageUtility=t}static getLocalStorageKey(t){return`issuerConfig:${t}`}async fetchConfig(t){let r;const i=u.appendToUrlPathname(t,e.WELL_KNOWN_OPENID_CONFIG),s=await window.fetch(i);try{r=function(t){const e={};return Object.keys(t).forEach(r=>{l[r]&&(e[l[r].toKey]=t[r])}),e}(await s.json())}catch(o){throw new a.ConfigurationError(`[${t.toString()}] has an invalid configuration: ${o.message}`)}return await this.storageUtility.set(n.getLocalStorageKey(t),JSON.stringify(r)),r}};h=n=i([c.injectable(),o(0,c.inject("storageUtility")),s("design:paramtypes",[Object])],h),e.default=h},18424:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451),a=r(68307);function c(t){return"string"==typeof t.oidcIssuer}function u(t){return"string"==typeof t.redirectUrl}let l=class{constructor(t,e,r,n){this.storageUtility=t,this.oidcHandler=e,this.issuerConfigFetcher=r,this.clientRegistrar=n}async canHandle(t){return c(t)&&u(t)}async handle(t){if(!c(t))throw new a.ConfigurationError(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(t)}`);if(!u(t))throw new a.ConfigurationError(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(t)}`);const e=await this.issuerConfigFetcher.fetchConfig(t.oidcIssuer);let r;if(t.clientId)r={clientId:t.clientId,clientSecret:t.clientSecret,clientName:t.clientName};else{const n=await this.storageUtility.getForUser("clientApplicationRegistrationInfo","clientId");n?r={clientId:n,clientSecret:await this.storageUtility.getForUser("clientApplicationRegistrationInfo","clientSecret"),clientName:t.clientName}:(r=await this.clientRegistrar.getClient({sessionId:t.sessionId,clientName:t.clientName,redirectUrl:t.redirectUrl},e),await this.storageUtility.setForUser("clientApplicationRegistrationInfo",{clientId:r.clientId,clientSecret:r.clientSecret}))}const n={issuer:t.oidcIssuer,dpop:"dpop"===t.tokenType.toLowerCase(),redirectUrl:t.redirectUrl,issuerConfiguration:e,client:r,sessionId:t.sessionId,handleRedirect:t.handleRedirect};return this.oidcHandler.handle(n)}};l=n([o.injectable(),s(0,o.inject("storageUtility")),s(1,o.inject("oidcHandler")),s(2,o.inject("issuerConfigFetcher")),s(3,o.inject("clientRegistrar")),i("design:paramtypes",[Object,Object,Object,Object])],l),e.default=l},4684:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(e,"__esModule",{value:!0});const i=r(14451);let s=class{redirect(t,e){e&&e.handleRedirect?e.handleRedirect(t):e&&e.redirectByReplacingState?window.history.replaceState({},"",t):window.location.href=t}};s=n([i.injectable()],s),e.default=s},11750:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=r(14451),c=o(r(49200)),u=r(92582);let l=class{constructor(t,e,r){this.storageUtility=t,this.issuerConfigFetcher=e,this.clientRegistrar=r}async request(t,e){const[r]=await Promise.all([this.storageUtility.getForUser(t,"issuer",{errorIfNull:!0})]),n=await this.issuerConfigFetcher.fetchConfig(r),i=await this.clientRegistrar.getClient({sessionId:t},n);if(e.grant_type&&(!n.grantTypesSupported||!n.grantTypesSupported.includes(e.grant_type)))throw new Error(`The issuer [${r}] does not support the [${e.grant_type}] grant`);if(!n.tokenEndpoint)throw new Error(`This issuer [${r}] does not have a token endpoint`);const s=await u.generateJwkForDpop(),o={method:"POST",headers:{DPoP:await u.createDpopHeader(n.tokenEndpoint,"POST",s),"content-type":"application/x-www-form-urlencoded"},body:c.default({...e,client_id:i.clientId})};var a;i.clientSecret&&(o.headers.Authorization=`Basic ${a=`${i.clientId}:${i.clientSecret}`,Buffer.from(a.toString(),"binary").toString("base64")}`);const l=await(await window.fetch(n.tokenEndpoint,o)).json();if(!(l&&l.access_token&&l.id_token&&"string"==typeof l.access_token&&"string"==typeof l.id_token)||l.refresh_token&&"string"!=typeof l.refresh_token)throw new Error("IDP token route returned an invalid response.");const h=await u.decodeJwt(l.access_token);if(!h||!h.sub)throw new Error("The Authorization Server returned a bad token (i.e. when decoded we did not find the required 'sub' claim).");await this.storageUtility.setForUser(t,{accessToken:l.access_token,idToken:l.id_token,refreshToken:l.refresh_token,webId:h.sub,isLoggedIn:"true"},{secure:!0})}};l=n([a.injectable(),s(0,a.inject("storageUtility")),s(1,a.inject("issuerConfigFetcher")),s(2,a.inject("clientRegistrar")),i("design:paramtypes",[Object,Object,Object])],l),e.default=l},43830:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(68307);e.default=class{async canHandle(t){return!1}async handle(t){throw new n.NotImplementedError("AuthorizationCodeOidcHandler handle")}}},88571:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451),a=r(92582);let c=class{constructor(t,e){this.storageUtility=t,this.redirector=e}async canHandle(t){return!!(t.issuerConfiguration.grantTypesSupported&&t.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1)}async handle(t){var e,r,n;const i={authority:null===(e=t.issuer)||void 0===e?void 0:e.toString(),client_id:t.client.clientId,client_secret:t.client.clientSecret,redirect_uri:null===(r=t.redirectUrl)||void 0===r?void 0:r.toString(),post_logout_redirect_uri:null===(n=t.redirectUrl)||void 0===n?void 0:n.toString(),response_type:"code",scope:"openid webid offline_access",filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0},s=new a.OidcClient(i),{redirector:o}=this,c=this.storageUtility;await s.createSigninRequest().then(e=>Promise.all([c.setForUser(e.state._id,{sessionId:t.sessionId}),c.setForUser(t.sessionId,{codeVerifier:e.state._code_verifier,issuer:t.issuer.toString(),redirectUri:t.redirectUrl.toString(),dpop:t.dpop?"true":"false"})]).then(()=>{o.redirect(e.url.toString(),{handleRedirect:t.handleRedirect})}).catch(t=>{console.error(t)}))}};c=n([o.injectable(),s(0,o.inject("storageUtility")),s(1,o.inject("redirector")),i("design:paramtypes",[Object,Object])],c),e.default=c},5699:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(68307);e.default=class{async canHandle(t){return!1}async handle(t){throw new n.NotImplementedError("ClientCredentialsOidcHandler handle")}}},15217:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451),a=r(92582);let c=class{constructor(t,e,r){this.sessionInfoManager=t,this.redirector=e,this.storageUtility=r}async canHandle(t){return!!(t.issuerConfiguration.grantTypesSupported&&t.issuerConfiguration.grantTypesSupported.indexOf("implicit")>-1)}async handle(t){const e={client_id:t.client.clientId,response_type:"id_token token",redirect_uri:t.redirectUrl,scope:"openid webid offline_access",state:t.sessionId},[r]=await Promise.all([a.generateJwkForDpop(),this.storageUtility.setForUser(t.sessionId,{isLoggedIn:"false",sessionId:t.sessionId},{secure:!0})]);if(t.dpop&&(e.dpop=await a.createDpopHeader(t.issuer,"GET",r)),!(await this.sessionInfoManager.get(t.sessionId)))throw new Error("There was a problem creating a session.");const n=new URL(t.issuerConfiguration.authorizationEndpoint);for(const i of Object.keys(e))n.searchParams.set(i,e[i]);this.redirector.redirect(n.toString(),{handleRedirect:t.handleRedirect})}};c=n([o.injectable(),s(0,o.inject("sessionInfoManager")),s(1,o.inject("redirector")),s(2,o.inject("storageUtility")),i("design:paramtypes",[Object,Object,Object])],c),e.default=c},39313:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(68307);e.default=class{async canHandle(t){return!1}async handle(t){throw new n.NotImplementedError("PrimaryDeviceOidcHandler handle")}}},74933:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(68307);e.default=class{async canHandle(t){return!1}async handle(t){throw new n.NotImplementedError("RefreshTokenOidcHandler handle")}}},80944:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(68307);e.default=class{async canHandle(t){return!1}async handle(t){throw new n.NotImplementedError("SecondaryDeviceOidcHandler handle")}}},42639:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451),a=r(68307);let c=class extends a.AggregateHandler{constructor(t){super(t)}};c=n([o.injectable(),s(0,o.injectAll("redirectHandlers")),i("design:paramtypes",[Array])],c),e.default=c},61364:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.AuthCodeRedirectHandler=e.DEFAULT_LIFESPAN=e.exchangeDpopToken=void 0;const o=r(14451),a=r(92582),c=r(62601);async function u(t,e,r,n,i,s,o){const c=await r.fetchConfig(e),u=await n.getClient({sessionId:t},c);return a.getDpopToken(c,u,{grantType:"authorization_code",code:i,codeVerifier:s,redirectUri:o})}e.exchangeDpopToken=u,e.DEFAULT_LIFESPAN=18e5;let l=class{constructor(t,e,r,n){this.storageUtility=t,this.sessionInfoManager=e,this.issuerConfigFetcher=r,this.clientRegistrar=n}async canHandle(t){try{const e=new URL(t);return null!==e.searchParams.get("code")&&null!==e.searchParams.get("state")}catch(e){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${e.toString()}`)}}async handle(t){if(!(await this.canHandle(t)))throw new Error(`AuthCodeRedirectHandler cannot handle [${t}]: it is missing one of [code, state].`);const r=new URL(t),n=r.searchParams.get("state"),i=await this.storageUtility.getForUser(n,"sessionId",{errorIfNull:!0});let s,o;if("true"===await this.storageUtility.getForUser(i,"dpop")){const t=await this.storageUtility.getForUser(i,"issuer",{errorIfNull:!0}),e=await this.storageUtility.getForUser(i,"codeVerifier",{errorIfNull:!0}),n=await this.storageUtility.getForUser(i,"redirectUri",{errorIfNull:!0});s=await u(i,t,this.issuerConfigFetcher,this.clientRegistrar,r.searchParams.get("code"),e,n),o=await c.buildDpopFetch(s.accessToken,s.refreshToken,s.dpopJwk)}else s=await a.getBearerToken(r.toString()),o=c.buildBearerFetch(s.accessToken,s.refreshToken);await this.storageUtility.setForUser(i,{idToken:s.idToken,refreshToken:"<Refresh token that *is* coming back in the redirect URL is not yet being parsed and provided by oidc-client-js in it's response object>",webId:s.webId,isLoggedIn:"true"},{secure:!0}),await async function(t,r,n){const i=new URL(t).origin;await r(t),200!==(await r(`${i}/session`)).status?await n.clearResourceServerSessionInfo(i):await n.storeResourceServerSessionInfo(t,i,Date.now()+e.DEFAULT_LIFESPAN)}(s.webId,o,this.storageUtility);const l=await this.sessionInfoManager.get(i);if(!l)throw new Error(`Could not retrieve session: [${i}].`);return Object.assign(l,{fetch:o})}};l=n([o.injectable(),s(0,o.inject("storageUtility")),s(1,o.inject("sessionInfoManager")),s(2,o.inject("issuerConfigFetcher")),s(3,o.inject("clientRegistrar")),i("design:paramtypes",[Object,Object,Object,Object])],l),e.AuthCodeRedirectHandler=l},14010:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(e,"__esModule",{value:!0}),e.FallbackRedirectHandler=void 0;const i=r(14451),s=r(22788);let o=class{async canHandle(t){try{return new URL(t),!0}catch(e){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${e.toString()}`)}}async handle(t){return s.getUnauthenticatedSession()}};o=n([i.injectable()],o),e.FallbackRedirectHandler=o},71178:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImplicitRedirectHandler=void 0;const o=r(14451),a=r(62601);let c=class{constructor(t,e){this.tokenSaver=t,this.sessionInfoManager=e}async canHandle(t){try{const e=new URL(t);return null!==e.searchParams.get("id_token")&&null!==e.searchParams.get("access_token")&&null!==e.searchParams.get("state")}catch(e){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${e.toString()}`)}}async handle(t){if(!(await this.canHandle(t)))throw new Error(`ImplicitRedirectHandler cannot handle [${t}]: it is missing one or more of [id_token, access_token, state].`);const e=new URL(t);await this.tokenSaver.saveSession(e.searchParams.get("state"),e.searchParams.get("id_token"),e.searchParams.get("access_token"));const r=e.searchParams.get("state"),n=await this.sessionInfoManager.get(r);return Object.assign(n,{fetch:a.buildBearerFetch(e.searchParams.get("access_token"),void 0)})}};c=n([o.injectable(),s(0,o.inject("tokenSaver")),s(1,o.inject("sessionInfoManager")),i("design:paramtypes",[Object,Object])],c),e.ImplicitRedirectHandler=c},66408:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451),a=r(92582);let c=class{constructor(t){this.storageUtility=t}async saveSession(t,e,r,n){const i=await a.decodeJwt(r),s=await this.storageUtility.getForUser(t,"sessionId",{errorIfNull:!0});await this.storageUtility.setForUser(s,{webId:i.sub,idToken:e,refreshToken:n,isLoggedIn:"true"},{secure:!0})}};c=n([o.injectable(),s(0,o.inject("storageUtility")),i("design:paramtypes",[Object])],c),e.default=c},30220:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451);let a=class{constructor(t,e){this.storageUtility=t,this.tokenRequester=e}async refresh(t){const e=await this.storageUtility.getForUser(t,"refreshToken",{errorIfNull:!0,secure:!0});await this.tokenRequester.request(t,{grant_type:"refresh_token",refresh_token:e})}};a=n([o.injectable(),s(0,o.inject("storageUtility")),s(1,o.inject("tokenRequester")),i("design:paramtypes",[Object,Object])],a),e.default=a},46233:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451),a=r(68307);let c=class extends a.AggregateHandler{constructor(t){super(t)}};c=n([o.injectable(),s(0,o.injectAll("postPopUpLoginHandlers")),i("design:paramtypes",[Array])],c),e.default=c},84147:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451);let a=class{constructor(t,e){this.loginHandler=t,this.sessionCreator=e}async canHandle(t){return!(!t.popUp||!t.redirectUrl)}async handle(t){throw new Error("Popup login is not implemented yet")}};a=n([o.injectable(),s(0,o.inject("postPopUpLoginHandler")),s(1,o.inject("sessionInfoManager")),i("design:paramtypes",[Object,Object])],a),e.default=a},80962:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451);let a=class{constructor(t){this.sessionInfoManager=t}async canHandle(){return!0}async handle(t){await this.sessionInfoManager.clear(t)}};a=n([o.injectable(),s(0,o.inject("sessionInfoManager")),i("design:paramtypes",[Object])],a),e.default=a},22788:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SessionInfoManager=e.clear=e.getUnauthenticatedSession=void 0;const o=r(14451),a=r(84437),c=r(92582),u=r(50397);async function l(t,e){const r=await e.getForUser(t,"webId",{secure:!0});if(void 0!==r){const t=new URL(r).origin;await e.clearResourceServerSessionInfo(t)}await Promise.all([e.deleteAllUserData(t,{secure:!1}),e.deleteAllUserData(t,{secure:!0}),e.delete("clientKey",{secure:!1})]),await c.clearOidcPersistentStorage()}e.getUnauthenticatedSession=function(){return{isLoggedIn:!1,sessionId:a.v4(),fetch:u.fetchWithCookies}},e.clear=l;let h=class{constructor(t){this.storageUtility=t}update(t,e){throw new Error("Not Implemented")}async get(t){const e=await this.storageUtility.getForUser(t,"webId",{secure:!0}),r=await this.storageUtility.getForUser(t,"isLoggedIn",{secure:!0});if(void 0!==r)return{sessionId:t,webId:e,isLoggedIn:"true"===r}}async getAll(){throw new Error("Not implemented")}async clear(t){return l(t,this.storageUtility)}};h=n([o.injectable(),s(0,o.inject("storageUtility")),i("design:paramtypes",[Object])],h),e.SessionInfoManager=h},16966:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{get storage(){return window.localStorage}async get(t){return this.storage.getItem(t)||void 0}async set(t,e){this.storage.setItem(t,e)}async delete(t){this.storage.removeItem(t)}}},97895:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(14451),a=r(68307);let c=class extends a.StorageUtility{constructor(t,e){super(t,e)}};c=n([o.injectable(),s(0,o.inject("secureStorage")),s(1,o.inject("insecureStorage")),i("design:paramtypes",[Object,Object])],c),e.default=c},95564:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.appendToUrlPathname=void 0,e.appendToUrlPathname=function(t,e){const r=new URL(t),n=r.pathname;return r.pathname=`${n}${n.endsWith("/")?"":"/"}${e.startsWith("/")?e.substring(1):e}`,r.toString()}},84437:function(t,e,r){"use strict";var n;r.r(e),r.d(e,{NIL:function(){return R},parse:function(){return g},stringify:function(){return f},v1:function(){return m},v3:function(){return k},v4:function(){return A},v5:function(){return I},validate:function(){return a},version:function(){return P}});var i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}for(var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(t){return"string"==typeof t&&o.test(t)},c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var l,h,f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r},d=0,p=0,m=function(t,e,r){var n=e&&r||0,i=e||new Array(16),o=(t=t||{}).node||l,a=void 0!==t.clockseq?t.clockseq:h;if(null==o||null==a){var c=t.random||(t.rng||s)();null==o&&(o=l=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=h=16383&(c[6]<<8|c[7]))}var u=void 0!==t.msecs?t.msecs:Date.now(),m=void 0!==t.nsecs?t.nsecs:p+1,g=u-d+(m-p)/1e4;if(g<0&&void 0===t.clockseq&&(a=a+1&16383),(g<0||u>d)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=u,p=m,h=a;var y=(1e4*(268435455&(u+=122192928e5))+m)%4294967296;i[n++]=y>>>24&255,i[n++]=y>>>16&255,i[n++]=y>>>8&255,i[n++]=255&y;var v=u/4294967296*1e4&268435455;i[n++]=v>>>8&255,i[n++]=255&v,i[n++]=v>>>24&15|16,i[n++]=v>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var b=0;b<6;++b)i[n+b]=o[b];return e||f(i)},g=function(t){if(!a(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};function y(t,e,r){function n(t,n,i,s){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),"string"==typeof n&&(n=g(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+t.length);if(o.set(n),o.set(t,n.length),(o=r(o))[6]=15&o[6]|e,o[8]=63&o[8]|128,i){s=s||0;for(var a=0;a<16;++a)i[s+a]=o[a];return i}return f(o)}try{n.name=t}catch(i){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function v(t){return 14+(t+64>>>9<<4)+1}function b(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function _(t,e,r,n,i,s){return b((o=b(b(e,t),b(n,s)))<<(a=i)|o>>>32-a,r);var o,a}function w(t,e,r,n,i,s,o){return _(e&r|~e&n,t,e,i,s,o)}function S(t,e,r,n,i,s,o){return _(e&n|r&~n,t,e,i,s,o)}function E(t,e,r,n,i,s,o){return _(e^r^n,t,e,i,s,o)}function C(t,e,r,n,i,s,o){return _(r^(e|~n),t,e,i,s,o)}var k=y("v3",48,function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return function(t){for(var e=[],r=32*t.length,n="0123456789abcdef",i=0;i<r;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(15&s),16);e.push(o)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[v(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=r,c=n,u=i,l=s;r=w(r,n,i,s,t[o],7,-680876936),s=w(s,r,n,i,t[o+1],12,-389564586),i=w(i,s,r,n,t[o+2],17,606105819),n=w(n,i,s,r,t[o+3],22,-1044525330),r=w(r,n,i,s,t[o+4],7,-176418897),s=w(s,r,n,i,t[o+5],12,1200080426),i=w(i,s,r,n,t[o+6],17,-1473231341),n=w(n,i,s,r,t[o+7],22,-45705983),r=w(r,n,i,s,t[o+8],7,1770035416),s=w(s,r,n,i,t[o+9],12,-1958414417),i=w(i,s,r,n,t[o+10],17,-42063),n=w(n,i,s,r,t[o+11],22,-1990404162),r=w(r,n,i,s,t[o+12],7,1804603682),s=w(s,r,n,i,t[o+13],12,-40341101),i=w(i,s,r,n,t[o+14],17,-1502002290),r=S(r,n=w(n,i,s,r,t[o+15],22,1236535329),i,s,t[o+1],5,-165796510),s=S(s,r,n,i,t[o+6],9,-1069501632),i=S(i,s,r,n,t[o+11],14,643717713),n=S(n,i,s,r,t[o],20,-373897302),r=S(r,n,i,s,t[o+5],5,-701558691),s=S(s,r,n,i,t[o+10],9,38016083),i=S(i,s,r,n,t[o+15],14,-660478335),n=S(n,i,s,r,t[o+4],20,-405537848),r=S(r,n,i,s,t[o+9],5,568446438),s=S(s,r,n,i,t[o+14],9,-1019803690),i=S(i,s,r,n,t[o+3],14,-187363961),n=S(n,i,s,r,t[o+8],20,1163531501),r=S(r,n,i,s,t[o+13],5,-1444681467),s=S(s,r,n,i,t[o+2],9,-51403784),i=S(i,s,r,n,t[o+7],14,1735328473),r=E(r,n=S(n,i,s,r,t[o+12],20,-1926607734),i,s,t[o+5],4,-378558),s=E(s,r,n,i,t[o+8],11,-2022574463),i=E(i,s,r,n,t[o+11],16,1839030562),n=E(n,i,s,r,t[o+14],23,-35309556),r=E(r,n,i,s,t[o+1],4,-1530992060),s=E(s,r,n,i,t[o+4],11,1272893353),i=E(i,s,r,n,t[o+7],16,-155497632),n=E(n,i,s,r,t[o+10],23,-1094730640),r=E(r,n,i,s,t[o+13],4,681279174),s=E(s,r,n,i,t[o],11,-358537222),i=E(i,s,r,n,t[o+3],16,-722521979),n=E(n,i,s,r,t[o+6],23,76029189),r=E(r,n,i,s,t[o+9],4,-640364487),s=E(s,r,n,i,t[o+12],11,-421815835),i=E(i,s,r,n,t[o+15],16,530742520),r=C(r,n=E(n,i,s,r,t[o+2],23,-995338651),i,s,t[o],6,-198630844),s=C(s,r,n,i,t[o+7],10,1126891415),i=C(i,s,r,n,t[o+14],15,-1416354905),n=C(n,i,s,r,t[o+5],21,-57434055),r=C(r,n,i,s,t[o+12],6,1700485571),s=C(s,r,n,i,t[o+3],10,-1894986606),i=C(i,s,r,n,t[o+10],15,-1051523),n=C(n,i,s,r,t[o+1],21,-2054922799),r=C(r,n,i,s,t[o+8],6,1873313359),s=C(s,r,n,i,t[o+15],10,-30611744),i=C(i,s,r,n,t[o+6],15,-1560198380),n=C(n,i,s,r,t[o+13],21,1309151649),r=C(r,n,i,s,t[o+4],6,-145523070),s=C(s,r,n,i,t[o+11],10,-1120210379),i=C(i,s,r,n,t[o+2],15,718787259),n=C(n,i,s,r,t[o+9],21,-343485551),r=b(r,a),n=b(n,c),i=b(i,u),s=b(s,l)}return[r,n,i,s]}(function(t){if(0===t.length)return[];for(var e=8*t.length,r=new Uint32Array(v(e)),n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}(t),8*t.length))}),A=function(t,e,r){var n=(t=t||{}).random||(t.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return f(n)};function x(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function T(t,e){return t<<e|t>>>32-e}var I=y("v5",80,function(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=Math.ceil((t.length/4+2)/16),o=new Array(s),a=0;a<s;++a){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[64*a+4*u]<<24|t[64*a+4*u+1]<<16|t[64*a+4*u+2]<<8|t[64*a+4*u+3];o[a]=c}o[s-1][14]=8*(t.length-1)/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=8*(t.length-1)&4294967295;for(var l=0;l<s;++l){for(var h=new Uint32Array(80),f=0;f<16;++f)h[f]=o[l][f];for(var d=16;d<80;++d)h[d]=T(h[d-3]^h[d-8]^h[d-14]^h[d-16],1);for(var p=r[0],m=r[1],g=r[2],y=r[3],v=r[4],b=0;b<80;++b){var _=Math.floor(b/20),w=T(p,5)+x(_,m,g,y)+v+e[_]+h[b]>>>0;v=y,y=g,g=T(m,30)>>>0,m=p,p=w}r[0]=r[0]+p>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+v>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}),R="00000000-0000-0000-0000-000000000000",P=function(t){if(!a(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},77305:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r extends Error{constructor(t){super(t)}}e.default=r},58444:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r extends Error{constructor(t,e,n=!0){super("string"==typeof t?r.substituteParams(t,e):r.appendErrorIri(r.lookupErrorIri(t,e),t,n))}httpResponse(t,e=!0){return this.message=r.appendHttpResponseDetails(this.message,t,e),this.httpErrorResponse=t,this}hasHttpResponse(){return void 0!==this.httpErrorResponse}getHttpResponse(){return this.httpErrorResponse}getHttpStatusCode(){if(!this.hasHttpResponse())throw new r("This InruptError was not provided with a HTTP response - so we can't get its HTTP Status Code!");return this.httpErrorResponse.status}getHttpStatusText(){if(!this.hasHttpResponse())throw new r("This InruptError was not provided with a HTTP response - so we can't get its HTTP Status Text!");return this.httpErrorResponse.statusText}static determineIfVocabTerm(t){return void 0!==t.strict}static lookupErrorIri(t,e){if(r.determineIfVocabTerm(t)){const r=void 0===e?t.message:t.messageParams(...e);return void 0===r?`Looked up error message IRI [${t.value}], but found no message value.`:r}return`Error message looked up at: [${t.value}]${void 0===e?"":`, with params [${e.toString()}]`}`}static appendHttpResponseDetails(t,e,r){return r&&void 0!==e?`${t} HTTP details: status code [${e.status}], status text [${e.statusText}].`:t}static appendErrorIri(t,e,r){return r?`${t} Error IRI: [${e.value}].`:t}static substituteParams(t,e){let r=t;if(void 0!==e){const n=t.split("{{").length-1;if(n!==e.length)throw new Error(`Setting parameters on message [${t}], but it requires [${n}] params and we received [${e.length}].`);for(let t=0;t<e.length;t+=1)r=r.replace(`{{${t}}}`,e[t])}return r}}e.default=r},44372:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r extends Error{constructor(t){super(`[${t}] is not implemented`)}}e.default=r},68307:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StorageUtilitySafeGetResponse=e.StorageUtilityGetResponse=e.StorageUtilityMock=e.mockStorageUtility=e.NotImplementedError=e.ConfigurationError=e.InMemoryStorage=e.getSessionIdFromOauthState=e.saveSessionInfoToStorage=e.loadOidcContextFromStorage=e.StorageUtility=e.validateSchema=e.issuerConfigSchema=e.AggregateHandler=void 0;var i=r(97292);Object.defineProperty(e,"AggregateHandler",{enumerable:!0,get:function(){return n(i).default}});var s=r(6726);Object.defineProperty(e,"issuerConfigSchema",{enumerable:!0,get:function(){return s.issuerConfigSchema}});var o=r(93828);Object.defineProperty(e,"validateSchema",{enumerable:!0,get:function(){return n(o).default}});var a=r(52375);Object.defineProperty(e,"StorageUtility",{enumerable:!0,get:function(){return n(a).default}}),Object.defineProperty(e,"loadOidcContextFromStorage",{enumerable:!0,get:function(){return a.loadOidcContextFromStorage}}),Object.defineProperty(e,"saveSessionInfoToStorage",{enumerable:!0,get:function(){return a.saveSessionInfoToStorage}}),Object.defineProperty(e,"getSessionIdFromOauthState",{enumerable:!0,get:function(){return a.getSessionIdFromOauthState}});var c=r(2524);Object.defineProperty(e,"InMemoryStorage",{enumerable:!0,get:function(){return n(c).default}});var u=r(77305);Object.defineProperty(e,"ConfigurationError",{enumerable:!0,get:function(){return n(u).default}});var l=r(44372);Object.defineProperty(e,"NotImplementedError",{enumerable:!0,get:function(){return n(l).default}});var h=r(60502);Object.defineProperty(e,"mockStorageUtility",{enumerable:!0,get:function(){return h.mockStorageUtility}}),Object.defineProperty(e,"StorageUtilityMock",{enumerable:!0,get:function(){return h.StorageUtilityMock}}),Object.defineProperty(e,"StorageUtilityGetResponse",{enumerable:!0,get:function(){return h.StorageUtilityGetResponse}}),Object.defineProperty(e,"StorageUtilitySafeGetResponse",{enumerable:!0,get:function(){return h.StorageUtilitySafeGetResponse}})},6726:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.issuerConfigSchema=void 0,e.issuerConfigSchema={type:"object",properties:{issuer:{type:"string",format:"uri"},authorization_endpoint:{type:"string",format:"uri"},token_endpoint:{type:"string",format:"uri"},userinfo_endpoint:{type:"string",format:"uri"},jwks_uri:{type:"string",format:"uri"},registration_endpoint:{type:"string",format:"uri"},scopes_supported:{type:"array",items:{type:"string"}},response_types_supported:{type:"array",items:{type:"string",joinedStringOf:["code","id_token","token","none"]}},response_modes_supported:{type:"array",items:{type:"string",enum:["query","fragment"]},default:["query","fragment"]},grant_types_supported:{type:"array",items:{type:"string",enum:["authorization_code","implicit","client_credentials","device_code","refresh_token"]},default:["authorization_code","implicit"]},acr_values_supported:{type:"array",items:{type:"string"}},subject_types_supported:{type:"array",items:{type:"string",enum:["pairwise","public"]}},id_token_signing_alg_values_supported:{type:"array",items:{type:"string"}},id_token_encryption_alg_values_supported:{type:"array",items:{type:"string"}},id_token_encryption_enc_values_supported:{type:"array",items:{type:"string"}},userinfo_signing_alg_values_supported:{type:"array",items:{type:"string"}},userinfo_encryption_alg_values_supported:{type:"array",items:{type:"string"}},userinfo_encryption_enc_values_supported:{type:"array",items:{type:"string"}},request_object_signing_alg_values_supported:{type:"array",items:{type:"string"}},request_object_encryption_alg_values_supported:{type:"array",items:{type:"string"}},request_object_encryption_enc_values_supported:{type:"array",items:{type:"string"}},token_endpoint_auth_methods_supported:{type:"array",items:{type:"string"}},token_endpoint_auth_signing_alg_values_supported:{type:"array",items:{type:"string"}},display_values_supported:{type:"array",items:{type:"string"}},claim_types_supported:{type:"array",items:{type:"string"}},claims_supported:{type:"array",items:{type:"string"}},service_documentation:{type:"array",items:{type:"string"}},claims_locales_supported:{type:"array",items:{type:"string"}},ui_locales_supported:{type:"array",items:{type:"string"}},claims_parameter_supported:{type:"boolean"},request_parameter_supported:{type:"boolean"},request_uri_parameter_supported:{type:"boolean"},require_request_uri_registration:{type:"boolean"},op_policy_uri:{type:"string",format:"uri"},op_tos_uri:{type:"string",format:"uri"}},additionalProperties:!0}},2524:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.map={}}async get(t){return this.map[t]||void 0}async set(t,e){this.map[t]=e}async delete(t){delete this.map[t]}}},52375:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.saveSessionInfoToStorage=e.loadOidcContextFromStorage=e.getSessionIdFromOauthState=void 0;const i=n(r(93828)),s=n(r(58444));e.getSessionIdFromOauthState=async function(t,e){return t.getForUser(e,"sessionId")},e.loadOidcContextFromStorage=async function(t,e,r){try{const[n,i,s,o]=await Promise.all([e.getForUser(t,"issuer",{errorIfNull:!0}),e.getForUser(t,"codeVerifier"),e.getForUser(t,"redirectUri"),e.getForUser(t,"dpop",{errorIfNull:!0})]);return{codeVerifier:i,redirectUri:s,issuerConfig:await r.fetchConfig(n),dpop:"true"===o}}catch(n){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${t}]: ${n.toString()}`)}},e.saveSessionInfoToStorage=async function(t,e,r,n,i,s,o){void 0!==s&&await t.setForUser(e,{refreshToken:s},{secure:o}),void 0!==r&&await t.setForUser(e,{idToken:r},{secure:o}),void 0!==n&&await t.setForUser(e,{webId:n},{secure:o}),void 0!==i&&await t.setForUser(e,{isLoggedIn:i},{secure:o})},e.default=class{constructor(t,e){this.secureStorage=t,this.insecureStorage=e,this.RESOURCE_SERVER_SESSION_INFORMATION_KEY="tmp-resource-server-session-info"}getKey(t){return`solidClientAuthenticationUser:${t}`}async getUserData(t,e){const r=await(e?this.secureStorage:this.insecureStorage).get(this.getKey(t));if(void 0===r)return{};try{return JSON.parse(r)}catch(n){throw new s.default(`Data for user [${t}] in [${e?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(t,e,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(t),JSON.stringify(e))}async get(t,e){const r=await((null==e?void 0:e.secure)?this.secureStorage:this.insecureStorage).get(t);if(void 0===r&&(null==e?void 0:e.errorIfNull))throw new s.default(`[${t}] is not stored`);return r}async set(t,e,r){return((null==r?void 0:r.secure)?this.secureStorage:this.insecureStorage).set(t,e)}async delete(t,e){return((null==e?void 0:e.secure)?this.secureStorage:this.insecureStorage).delete(t)}async getForUser(t,e,r){const n=await this.getUserData(t,null==r?void 0:r.secure);let i;if(n&&n[e]||(i=void 0),i=n[e],void 0===i&&(null==r?void 0:r.errorIfNull))throw new s.default(`Field [${e}] for user [${t}] is not stored`);return i||void 0}async setForUser(t,e,r){let n;try{n=await this.getUserData(t,null==r?void 0:r.secure)}catch(i){n={}}await this.setUserData(t,{...n,...e},null==r?void 0:r.secure)}async deleteForUser(t,e,r){const n=await this.getUserData(t,null==r?void 0:r.secure);delete n[e],await this.setUserData(t,n,null==r?void 0:r.secure)}async deleteAllUserData(t,e){await((null==e?void 0:e.secure)?this.secureStorage:this.insecureStorage).delete(this.getKey(t))}async storeResourceServerSessionInfo(t,e,r){var n;const i=JSON.parse(null!==(n=await this.insecureStorage.get(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY))&&void 0!==n?n:"{}");i.webId!==t&&(i.sessions={}),i.webId=t,i.sessions[e]={expiration:r},await this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,JSON.stringify(i))}async clearResourceServerSessionInfo(t){var e;const r=JSON.parse(null!==(e=await this.insecureStorage.get(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY))&&void 0!==e?e:"{}");void 0!==r.sessions&&(delete r.sessions[t],0===Object.keys(r.sessions).length?await this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,"{}"):await this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,JSON.stringify(r)))}async safeGet(t,e={}){const r=e.userId?await this.getForUser(e.userId,t,{secure:e.secure}):await this.get(t,{secure:e.secure});if(r)try{const t=JSON.parse(r);return e.schema?i.default(e.schema,t):t}catch(n){let r;throw r=e.userId?await this.getForUser(e.userId,t,{secure:e.secure}):await this.get(t,{secure:e.secure}),new s.default(`Object ${JSON.stringify(r)} does not match expected schema: ${JSON.stringify(e.schema)}: ${n.toString()}. \n Please clear your local storage.`)}}}},60502:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mockStorageUtility=e.mockStorage=e.StorageUtilityMock=e.StorageUtilitySafeGetResponse=e.StorageUtilityGetResponse=void 0;const n=r(68307);e.StorageUtilityGetResponse="getResponse",e.StorageUtilitySafeGetResponse={someKey:"someValue"},e.StorageUtilityMock={get:async(t,r)=>e.StorageUtilityGetResponse,set:async(t,e)=>{},delete:async t=>{},getForUser:async(t,r,n)=>e.StorageUtilityGetResponse,setForUser:async(t,e,r)=>{},deleteForUser:async(t,e,r)=>{},deleteAllUserData:async(t,e)=>{},safeGet:async(t,r)=>e.StorageUtilitySafeGetResponse,storeResourceServerSessionInfo:async(t,e,r)=>{},clearResourceServerSessionInfo:async t=>{}},e.mockStorage=t=>{const e=t;return{get:async t=>{if(void 0!==e[t])return"string"==typeof e[t]?e[t]:JSON.stringify(e[t])},set:async(t,r)=>{e[t]=r},delete:async t=>{delete e[t]}}},e.mockStorageUtility=(t,r=!1)=>r?new n.StorageUtility(e.mockStorage(t),e.mockStorage({})):new n.StorageUtility(e.mockStorage({}),e.mockStorage(t))},97292:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(58444));e.default=class{constructor(t){this.handleables=t}async getProperHandler(t){const e=await Promise.all(this.handleables.map(e=>e.canHandle(...t)));for(let r=0;r<e.length;r+=1)if(e[r])return this.handleables[r];return null}async canHandle(...t){return null!==await this.getProperHandler(t)}async handle(...t){const e=await this.getProperHandler(t);if(e)return e.handle(...t);throw new i.default(`[${this.constructor.name}] cannot find a suitable handler for: ${t.map(t=>{try{return JSON.stringify(t)}catch(e){return t.toString()}}).join(", ")}`)}}},93828:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.traverseObject=e.compileJoinedStringOf=e.compileTypeof=void 0;const i=n(r(9894)),s=n(r(4193)),o=n(r(58444));function a(t){return e=>typeof e===t}function c(t){return e=>!e.split(" ").some(e=>-1===t.indexOf(e))}function u(t,e,r,n){"object"===e.type?Object.keys(t).forEach(r=>{e.properties&&e.properties[r]&&u(t[r],e.properties[r],t,r)}):"array"===e.type?t.forEach((r,n)=>{e.items&&u(r,e.items,t,n)}):e.shouldConvertToUrl&&r&&n&&(r[n]=t)}e.compileTypeof=a,e.compileJoinedStringOf=c,e.traverseObject=u,e.default=function(t,e){const r=s.default(e),n=new i.default;if(n.addKeyword("typeof",{compile:a}),n.addKeyword("joinedStringOf",{compile:c}),!n.validate(t,r)){let e=`${t.title?t.title:"schema"} is invalid`;throw n.errors&&(e+=":",e+=n.errors.map(t=>`\n${t.dataPath} ${t.message}`).toString()),new o.default(e)}return u(r,t),r}},13149:function(t,e,r){var n=r(67202);t.exports=n},96537:function(t){function e(t){this.value=t||"b"+ ++e.nextId}e.prototype.equals=function(t){return!!t&&t.termType===this.termType&&t.value===this.value},e.prototype.termType="BlankNode",e.nextId=0,t.exports=e},67202:function(t,e,r){var n=r(96537),i=r(35278),s=r(57726),o=r(97075),a=r(43861),c=r(56573);function u(){}u.namedNode=function(t){return new o(t)},u.blankNode=function(t){return new n(t)},u.literal=function(t,e){return"string"==typeof e?-1===e.indexOf(":")?new s(t,e):new s(t,null,u.namedNode(e)):new s(t,null,e)},u.defaultGraph=function(){return u.defaultGraphInstance},u.variable=function(t){return new c(t)},u.triple=function(t,e,r){return u.quad(t,e,r)},u.quad=function(t,e,r,n){return new a(t,e,r,n||u.defaultGraphInstance)},u.defaultGraphInstance=new i,t.exports=u},35278:function(t){function e(){this.value=""}e.prototype.equals=function(t){return!!t&&t.termType===this.termType},e.prototype.termType="DefaultGraph",t.exports=e},57726:function(t,e,r){var n=r(97075);function i(t,e,r){this.value=t,this.datatype=i.stringDatatype,this.language="",e?(this.language=e,this.datatype=i.langStringDatatype):r&&(this.datatype=r)}i.prototype.equals=function(t){return!!t&&t.termType===this.termType&&t.value===this.value&&t.language===this.language&&t.datatype.equals(this.datatype)},i.prototype.termType="Literal",i.langStringDatatype=new n("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.stringDatatype=new n("http://www.w3.org/2001/XMLSchema#string"),t.exports=i},97075:function(t){function e(t){this.value=t}e.prototype.equals=function(t){return!!t&&t.termType===this.termType&&t.value===this.value},e.prototype.termType="NamedNode",t.exports=e},43861:function(t,e,r){var n=r(35278);function i(t,e,r,i){this.subject=t,this.predicate=e,this.object=r,this.graph=i||new n}i.prototype.equals=function(t){return!!t&&("Quad"===t.termType||!t.termType)&&t.subject.equals(this.subject)&&t.predicate.equals(this.predicate)&&t.object.equals(this.object)&&t.graph.equals(this.graph)},i.prototype.termType="Quad",i.prototype.value="",t.exports=i},56573:function(t){function e(t){this.value=t}e.prototype.equals=function(t){return!!t&&t.termType===this.termType&&t.value===this.value},e.prototype.termType="Variable",t.exports=e},4522:function(t,e,r){const n=r(77219);class i{constructor(t){if(this.quads=new Set,t)for(const e of t)this.quads.add(e)}get size(){return this.quads.size}add(t){return this.has(t)||this.quads.add(t),this}delete(t){for(const e of this)if(n(t,e.subject,e.predicate,e.object,e.graph))return this.quads.delete(e),this;return this}has(t){for(const e of this)if(n(e,t.subject,t.predicate,t.object,t.graph))return!0;return!1}match(t,e,r,i){const s=new Set;for(const o of this)n(o,t,e,r,i)&&s.add(o);return new this.constructor(s)}[Symbol.iterator](){return this.quads[Symbol.iterator]()}}t.exports=i},50309:function(t,e,r){const n=r(13149),i=r(4522);t.exports=Object.assign({dataset:function(t){return new i(t)}},n)},77219:function(t){t.exports=function(t,e,r,n,i){return!(e&&!t.subject.equals(e)||r&&!t.predicate.equals(r)||n&&!t.object.equals(n)||i&&!t.graph.equals(i))}},9894:function(t,e,r){"use strict";var n=r(72768),i=r(85094),s=r(3085),o=r(59025),a=r(3998),c=r(11221),u=r(48810),l=r(10983),h=r(28552);t.exports=y,y.prototype.validate=function(t,e){var r;if("string"==typeof t){if(!(r=this.getSchema(t)))throw new Error('no schema with key or ref "'+t+'"')}else{var n=this._addSchema(t);r=n.validate||this._compile(n)}var i=r(e);return!0!==r.$async&&(this.errors=r.errors),i},y.prototype.compile=function(t,e){var r=this._addSchema(t,void 0,e);return r.validate||this._compile(r)},y.prototype.addSchema=function(t,e,r,n){if(Array.isArray(t)){for(var s=0;s<t.length;s++)this.addSchema(t[s],void 0,r,n);return this}var o=this._getId(t);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return E(this,e=i.normalizeId(e||o)),this._schemas[e]=this._addSchema(t,r,n,!0),this},y.prototype.addMetaSchema=function(t,e,r){return this.addSchema(t,e,r,!0),this},y.prototype.validateSchema=function(t,e){var r=t.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(t){var e=t._opts.meta;return t._opts.defaultMeta="object"==typeof e?t._getId(e)||e:t.getSchema(p)?p:void 0,t._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,t);if(!n&&e){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return n},y.prototype.getSchema=function(t){var e=v(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return function(t,e){var r=i.schema.call(t,{schema:{}},e);if(r){var s=r.schema,a=r.root,c=r.baseId,u=n.call(t,s,a,void 0,c);return t._fragments[e]=new o({ref:e,fragment:!0,schema:s,root:a,baseId:c,validate:u}),u}}(this,t)}},y.prototype.removeSchema=function(t){if(t instanceof RegExp)return b(this,this._schemas,t),b(this,this._refs,t),this;switch(typeof t){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var e=v(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var r=this._opts.serialize,n=r?r(t):t;this._cache.del(n);var s=this._getId(t);s&&(s=i.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this},y.prototype.addFormat=function(t,e){return"string"==typeof e&&(e=new RegExp(e)),this._formats[t]=e,this},y.prototype.errorsText=function(t,e){if(!(t=t||this.errors))return"No errors";for(var r=void 0===(e=e||{}).separator?", ":e.separator,n=void 0===e.dataVar?"data":e.dataVar,i="",s=0;s<t.length;s++){var o=t[s];o&&(i+=n+o.dataPath+" "+o.message+r)}return i.slice(0,-r.length)},y.prototype._addSchema=function(t,e,r,n){if("object"!=typeof t&&"boolean"!=typeof t)throw new Error("schema should be object or boolean");var s=this._opts.serialize,a=s?s(t):t,c=this._cache.get(a);if(c)return c;n=n||!1!==this._opts.addUsedSchema;var u=i.normalizeId(this._getId(t));u&&n&&E(this,u);var l,h=!1!==this._opts.validateSchema&&!e;h&&!(l=u&&u==i.normalizeId(t.$schema))&&this.validateSchema(t,!0);var f=i.ids.call(this,t),d=new o({id:u,schema:t,localRefs:f,cacheKey:a,meta:r});return"#"!=u[0]&&n&&(this._refs[u]=d),this._cache.put(a,d),h&&l&&this.validateSchema(t,!0),d},y.prototype._compile=function(t,e){if(t.compiling)return t.validate=s,s.schema=t.schema,s.errors=null,s.root=e||s,!0===t.schema.$async&&(s.$async=!0),s;var r,i;t.compiling=!0,t.meta&&(r=this._opts,this._opts=this._metaOpts);try{i=n.call(this,t.schema,e,t.localRefs)}catch(o){throw delete t.validate,o}finally{t.compiling=!1,t.meta&&(this._opts=r)}return t.validate=i,t.refs=i.refs,t.refVal=i.refVal,t.root=i.root,i;function s(){var e=t.validate,r=e.apply(this,arguments);return s.errors=e.errors,r}},y.prototype.compileAsync=r(32805);var f=r(6123);y.prototype.addKeyword=f.add,y.prototype.getKeyword=f.get,y.prototype.removeKeyword=f.remove,y.prototype.validateKeyword=f.validate;var d=r(71981);y.ValidationError=d.Validation,y.MissingRefError=d.MissingRef,y.$dataMetaSchema=l;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],g=["/properties"];function y(t){if(!(this instanceof y))return new y(t);t=this._opts=h.copy(t)||{},function(t){var e=t._opts.logger;if(!1===e)t.logger={log:C,warn:C,error:C};else{if(void 0===e&&(e=console),!("object"==typeof e&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=c(t.format),this._cache=t.cache||new s,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=function(t){switch(t.schemaId){case"auto":return S;case"id":return _;default:return w}}(t),t.loopRequired=t.loopRequired||1/0,"property"==t.errorDataPath&&(t._errorDataPathProperty=!0),void 0===t.serialize&&(t.serialize=a),this._metaOpts=function(t){for(var e=h.copy(t._opts),r=0;r<m.length;r++)delete e[m[r]];return e}(this),t.formats&&function(t){for(var e in t._opts.formats)t.addFormat(e,t._opts.formats[e])}(this),t.keywords&&function(t){for(var e in t._opts.keywords)t.addKeyword(e,t._opts.keywords[e])}(this),function(t){var e;if(t._opts.$data&&(e=r(66835),t.addMetaSchema(e,e.$id,!0)),!1!==t._opts.meta){var n=r(40038);t._opts.$data&&(n=l(n,g)),t.addMetaSchema(n,p,!0),t._refs["http://json-schema.org/schema"]=p}}(this),"object"==typeof t.meta&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var r in e)t.addSchema(e[r],r)}(this)}function v(t,e){return e=i.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function b(t,e,r){for(var n in e){var i=e[n];i.meta||r&&!r.test(n)||(t._cache.del(i.cacheKey),delete e[n])}}function _(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function w(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function S(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function E(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function C(){}},3085:function(t){"use strict";var e=t.exports=function(){this._cache={}};e.prototype.put=function(t,e){this._cache[t]=e},e.prototype.get=function(t){return this._cache[t]},e.prototype.del=function(t){delete this._cache[t]},e.prototype.clear=function(){this._cache={}}},32805:function(t,e,r){"use strict";var n=r(71981).MissingRef;t.exports=function t(e,r,i){var s=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(i=r,r=void 0);var o=a(e).then(function(){var t=s._addSchema(e,void 0,r);return t.validate||c(t)});return i&&o.then(function(t){i(null,t)},i),o;function a(e){var r=e.$schema;return r&&!s.getSchema(r)?t.call(s,{$ref:r},!0):Promise.resolve()}function c(t){try{return s._compile(t)}catch(e){if(e instanceof n)return function(e){var n=e.missingSchema;if(u(n))throw new Error("Schema "+n+" is loaded but "+e.missingRef+" cannot be resolved");var i=s._loadingSchemas[n];return i||(i=s._loadingSchemas[n]=s._opts.loadSchema(n)).then(o,o),i.then(function(t){if(!u(n))return a(t).then(function(){u(n)||s.addSchema(t,n,void 0,r)})}).then(function(){return c(t)});function o(){delete s._loadingSchemas[n]}function u(t){return s._refs[t]||s._schemas[t]}}(e);throw e}}}},71981:function(t,e,r){"use strict";var n=r(85094);function i(t,e,r){this.message=r||i.message(t,e),this.missingRef=n.url(t,e),this.missingSchema=n.normalizeId(n.fullPath(this.missingRef))}function s(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}t.exports={Validation:s(function(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}),MissingRef:s(i)},i.message=function(t,e){return"can't resolve reference "+e+" from id "+t}},11221:function(t,e,r){"use strict";var n=r(28552),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,a=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,c=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,l=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,h=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,f=/^(?:\/(?:[^~/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(t){return n.copy(m[t="full"==t?"full":"fast"])}function g(t){var e=t.match(i);if(!e)return!1;var r,n=+e[2],o=+e[3];return n>=1&&n<=12&&o>=1&&o<=(2!=n||(r=+e[1])%4!=0||r%100==0&&r%400!=0?s[n]:29)}function y(t,e){var r=t.match(o);if(!r)return!1;var n=r[1],i=r[2],s=r[3];return(n<=23&&i<=59&&s<=59||23==n&&59==i&&60==s)&&(!e||r[5])}t.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":u,url:l,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:h,"json-pointer":f,"json-pointer-uri-fragment":d,"relative-json-pointer":p},m.full={date:g,time:y,"date-time":function(t){var e=t.split(v);return 2==e.length&&g(e[0])&&y(e[1],!0)},uri:function(t){return b.test(t)&&c.test(t)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":u,url:l,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:h,"json-pointer":f,"json-pointer-uri-fragment":d,"relative-json-pointer":p};var v=/t|\s/i,b=/\/|:/,_=/[^\\]\\Z/;function w(t){if(_.test(t))return!1;try{return new RegExp(t),!0}catch(e){return!1}}},72768:function(t,e,r){"use strict";var n=r(85094),i=r(28552),s=r(71981),o=r(3998),a=r(78265),c=i.ucs2length,u=r(53551),l=s.Validation;function h(t,e,r){var n=d.call(this,t,e,r);return n>=0?{index:n,compiling:!0}:(this._compilations[n=this._compilations.length]={schema:t,root:e,baseId:r},{index:n,compiling:!1})}function f(t,e,r){var n=d.call(this,t,e,r);n>=0&&this._compilations.splice(n,1)}function d(t,e,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==t&&i.root==e&&i.baseId==r)return n}return-1}function p(t,e){return"var pattern"+t+" = new RegExp("+i.toQuotedString(e[t])+");"}function m(t){return"var default"+t+" = defaults["+t+"];"}function g(t,e){return void 0===e[t]?"":"var refVal"+t+" = refVal["+t+"];"}function y(t){return"var customRule"+t+" = customRules["+t+"];"}function v(t,e){if(!t.length)return"";for(var r="",n=0;n<t.length;n++)r+=e(n,t);return r}t.exports=function t(e,r,d,b){var _=this,w=this._opts,S=[void 0],E={},C=[],k={},A=[],x={},T=[],I=h.call(this,e,r=r||{schema:e,refVal:S,refs:E},b),R=this._compilations[I.index];if(I.compiling)return R.callValidate=function t(){var e=R.validate,r=e.apply(this,arguments);return t.errors=e.errors,r};var P=this._formats,F=this.RULES;try{var O=B(e,r,d,b);R.validate=O;var M=R.callValidate;return M&&(M.schema=O.schema,M.errors=null,M.refs=O.refs,M.refVal=O.refVal,M.root=O.root,M.$async=O.$async,w.sourceCode&&(M.source=O.source)),O}finally{f.call(this,e,r,b)}function B(e,o,h,f){var d=!o||o&&o.schema==e;if(o.schema!=r.schema)return t.call(_,e,o,h,f);var b,k=!0===e.$async,x=a({isTop:!0,schema:e,isRoot:d,baseId:f,root:o,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:s.MissingRef,RULES:F,validate:a,util:i,resolve:n,resolveRef:N,usePattern:j,useDefault:U,useCustomRule:V,opts:w,formats:P,logger:_.logger,self:_});x=v(S,g)+v(C,p)+v(A,m)+v(T,y)+x,w.processCode&&(x=w.processCode(x,e));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",x)(_,F,P,r,S,A,T,u,c,l),S[0]=b}catch(I){throw _.logger.error("Error compiling schema, function code:",x),I}return b.schema=e,b.errors=null,b.refs=E,b.refVal=S,b.root=d?b:o,k&&(b.$async=!0),!0===w.sourceCode&&(b.source={code:x,patterns:C,defaults:A}),b}function N(e,i,s){i=n.url(e,i);var o,a,c=E[i];if(void 0!==c)return L(o=S[c],a="refVal["+c+"]");if(!s&&r.refs){var u=r.refs[i];if(void 0!==u)return L(o=r.refVal[u],a=D(i,o))}a=D(i);var l=n.call(_,B,r,i);if(void 0===l){var h=d&&d[i];h&&(l=n.inlineRef(h,w.inlineRefs)?h:t.call(_,h,r,d,e))}if(void 0!==l)return function(t,e){S[E[t]]=e}(i,l),L(l,a);!function(t){delete E[t]}(i)}function D(t,e){var r=S.length;return S[r]=e,E[t]=r,"refVal"+r}function L(t,e){return"object"==typeof t||"boolean"==typeof t?{code:e,schema:t,inline:!0}:{code:e,$async:t&&!!t.$async}}function j(t){var e=k[t];return void 0===e&&(e=k[t]=C.length,C[e]=t),"pattern"+e}function U(t){switch(typeof t){case"boolean":case"number":return""+t;case"string":return i.toQuotedString(t);case"object":if(null===t)return"null";var e=o(t),r=x[e];return void 0===r&&(r=x[e]=A.length,A[r]=t),"default"+r}}function V(t,e,r,n){if(!1!==_._opts.validateSchema){var i=t.definition.dependencies;if(i&&!i.every(function(t){return Object.prototype.hasOwnProperty.call(r,t)}))throw new Error("parent schema must have all required keywords: "+i.join(","));var s=t.definition.validateSchema;if(s&&!s(e)){var o="keyword schema is invalid: "+_.errorsText(s.errors);if("log"!=_._opts.validateSchema)throw new Error(o);_.logger.error(o)}}var a,c=t.definition.compile,u=t.definition.inline,l=t.definition.macro;if(c)a=c.call(_,e,r,n);else if(l)a=l.call(_,e,r,n),!1!==w.validateSchema&&_.validateSchema(a,!0);else if(u)a=u.call(_,n,t.keyword,e,r);else if(!(a=t.definition.validate))return;if(void 0===a)throw new Error('custom keyword "'+t.keyword+'"failed to compile');var h=T.length;return T[h]=a,{code:"customRule"+h,validate:a}}}},85094:function(t,e,r){"use strict";var n=r(25222),i=r(53551),s=r(28552),o=r(59025),a=r(15608);function c(t,e,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return c.call(this,t,e,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof o)return p(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,s,a,l=u.call(this,e,r);return l&&(i=l.schema,e=l.root,a=l.baseId),i instanceof o?s=i.validate||t.call(this,i.schema,e,void 0,a):void 0!==i&&(s=p(i,this._opts.inlineRefs)?i:t.call(this,i,e,void 0,a)),s}function u(t,e){var r=n.parse(e),i=v(r),s=y(this._getId(t.schema));if(0===Object.keys(t.schema).length||i!==s){var a=_(i),c=this._refs[a];if("string"==typeof c)return l.call(this,t,c,r);if(c instanceof o)c.validate||this._compile(c),t=c;else{if(!((c=this._schemas[a])instanceof o))return;if(c.validate||this._compile(c),a==_(e))return{schema:c,root:t,baseId:s};t=c}if(!t.schema)return;s=y(this._getId(t.schema))}return f.call(this,r,s,t.schema,t)}function l(t,e,r){var n=u.call(this,t,e);if(n){var i=n.schema,s=n.baseId;t=n.root;var o=this._getId(i);return o&&(s=w(s,o)),f.call(this,r,s,i,t)}}t.exports=c,c.normalizeId=_,c.fullPath=y,c.url=w,c.ids=function(t){var e=_(this._getId(t)),r={"":e},o={"":y(e,!1)},c={},u=this;return a(t,{allKeys:!0},function(t,e,a,l,h,f,d){if(""!==e){var p=u._getId(t),m=r[l],g=o[l]+"/"+h;if(void 0!==d&&(g+="/"+("number"==typeof d?d:s.escapeFragment(d))),"string"==typeof p){p=m=_(m?n.resolve(m,p):p);var y=u._refs[p];if("string"==typeof y&&(y=u._refs[y]),y&&y.schema){if(!i(t,y.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=_(g))if("#"==p[0]){if(c[p]&&!i(t,c[p]))throw new Error('id "'+p+'" resolves to more than one schema');c[p]=t}else u._refs[p]=g}r[e]=m,o[e]=g}}),c},c.inlineRef=p,c.schema=u;var h=s.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function f(t,e,r,n){if(t.fragment=t.fragment||"","/"==t.fragment.slice(0,1)){for(var i=t.fragment.split("/"),o=1;o<i.length;o++){var a=i[o];if(a){if(void 0===(r=r[a=s.unescapeFragment(a)]))break;var c;if(!h[a]&&((c=this._getId(r))&&(e=w(e,c)),r.$ref)){var l=w(e,r.$ref),f=u.call(this,n,l);f&&(r=f.schema,n=f.root,e=f.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:e}:void 0}}var d=s.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(t,e){return!1!==e&&(void 0===e||!0===e?m(t):e?g(t)<=e:void 0)}function m(t){var e;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(e=t[r])&&!m(e))return!1}else for(var n in t){if("$ref"==n)return!1;if("object"==typeof(e=t[n])&&!m(e))return!1}return!0}function g(t){var e,r=0;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(e=t[n])&&(r+=g(e)),r==1/0)return 1/0}else for(var i in t){if("$ref"==i)return 1/0;if(d[i])r++;else if("object"==typeof(e=t[i])&&(r+=g(e)+1),r==1/0)return 1/0}return r}function y(t,e){return!1!==e&&(t=_(t)),v(n.parse(t))}function v(t){return n.serialize(t).split("#")[0]+"#"}var b=/#\/?$/;function _(t){return t?t.replace(b,""):""}function w(t,e){return e=_(e),n.resolve(t,e)}},48810:function(t,e,r){"use strict";var n=r(38974),i=r(28552).toHash;t.exports=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],e=["type","$comment"];return t.all=i(e),t.types=i(["number","integer","string","array","object","boolean","null"]),t.forEach(function(r){r.rules=r.rules.map(function(r){var i;if("object"==typeof r){var s=Object.keys(r)[0];i=r[s],r=s,i.forEach(function(r){e.push(r),t.all[r]=!0})}return e.push(r),t.all[r]={keyword:r,code:n[r],implements:i}}),t.all.$comment={keyword:"$comment",code:n.$comment},r.type&&(t.types[r.type]=r)}),t.keywords=i(e.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),t.custom={},t}},59025:function(t,e,r){"use strict";var n=r(28552);t.exports=function(t){n.copy(t,this)}},63795:function(t){"use strict";t.exports=function(t){for(var e,r=0,n=t.length,i=0;i<n;)r++,(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<n&&56320==(64512&(e=t.charCodeAt(i)))&&i++;return r}},28552:function(t,e,r){"use strict";function n(t,e,r,n){var i=n?" !== ":" === ",s=n?" || ":" && ",o=n?"!":"",a=n?"":"!";switch(t){case"null":return e+i+"null";case"array":return o+"Array.isArray("+e+")";case"object":return"("+o+e+s+"typeof "+e+i+'"object"'+s+a+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+i+'"number"'+s+a+"("+e+" % 1)"+s+e+i+e+(r?s+o+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+i+'"'+t+'"'+(r?s+o+"isFinite("+e+")":"")+")";default:return"typeof "+e+i+'"'+t+'"'}}t.exports={copy:function(t,e){for(var r in e=e||{},t)e[r]=t[r];return e},checkDataType:n,checkDataTypes:function(t,e,r){switch(t.length){case 1:return n(t[0],e,r,!0);default:var i="",o=s(t);for(var a in o.array&&o.object&&(i=o.null?"(":"(!"+e+" || ",i+="typeof "+e+' !== "object")',delete o.null,delete o.array,delete o.object),o.number&&delete o.integer,o)i+=(i?" && ":"")+n(a,e,r,!0);return i}},coerceToTypes:function(t,e){if(Array.isArray(e)){for(var r=[],n=0;n<e.length;n++){var s=e[n];(i[s]||"array"===t&&"array"===s)&&(r[r.length]=s)}if(r.length)return r}else{if(i[e])return[e];if("array"===t&&"array"===e)return["array"]}},toHash:s,getProperty:c,escapeQuotes:u,equal:r(53551),ucs2length:r(63795),varOccurences:function(t,e){var r=t.match(new RegExp(e+="[^0-9]","g"));return r?r.length:0},varReplace:function(t,e,r){return e+="([^0-9])",r=r.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),r+"$1")},schemaHasRules:function(t,e){if("boolean"==typeof t)return!t;for(var r in t)if(e[r])return!0},schemaHasRulesExcept:function(t,e,r){if("boolean"==typeof t)return!t&&"not"!=r;for(var n in t)if(n!=r&&e[n])return!0},schemaUnknownRules:function(t,e){if("boolean"!=typeof t)for(var r in t)if(!e[r])return r},toQuotedString:l,getPathExpr:function(t,e,r,n){return d(t,r?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'")},getPath:function(t,e,r){return d(t,l(r?"/"+p(e):c(e)))},getData:function(t,e,r){var n,i,s,o;if(""===t)return"rootData";if("/"==t[0]){if(!h.test(t))throw new Error("Invalid JSON-pointer: "+t);i=t,s="rootData"}else{if(!(o=t.match(f)))throw new Error("Invalid JSON-pointer: "+t);if(n=+o[1],"#"==(i=o[2])){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return r[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(s="data"+(e-n||""),!i)return s}for(var a=s,u=i.split("/"),l=0;l<u.length;l++){var d=u[l];d&&(a+=" && "+(s+=c(m(d))))}return a},unescapeFragment:function(t){return m(decodeURIComponent(t))},unescapeJsonPointer:m,escapeFragment:function(t){return encodeURIComponent(p(t))},escapeJsonPointer:p};var i=s(["string","number","integer","boolean","null"]);function s(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return e}var o=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function c(t){return"number"==typeof t?"["+t+"]":o.test(t)?"."+t:"['"+u(t)+"']"}function u(t){return t.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function l(t){return"'"+u(t)+"'"}var h=/^\/(?:[^~]|~0|~1)*$/,f=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function d(t,e){return'""'==t?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function p(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function m(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}},10983:function(t){"use strict";var e=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];t.exports=function(t,r){for(var n=0;n<r.length;n++){t=JSON.parse(JSON.stringify(t));var i,s=r[n].split("/"),o=t;for(i=1;i<s.length;i++)o=o[s[i]];for(i=0;i<e.length;i++){var a=e[i],c=o[a];c&&(o[a]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t}},78655:function(t,e,r){"use strict";var n=r(40038);t.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:n.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:n.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},92468:function(t){"use strict";t.exports=function(t,e,r){var n,i=" ",s=t.level,o=t.dataLevel,a=t.schema[e],c=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(o||""),f=t.opts.$data&&a&&a.$data;f?(i+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",n="schema"+s):n=a;var d="maximum"==e,p=d?"exclusiveMaximum":"exclusiveMinimum",m=t.schema[p],g=t.opts.$data&&m&&m.$data,y=d?"<":">",v=d?">":"<",b=void 0;if(!f&&"number"!=typeof a&&void 0!==a)throw new Error(e+" must be number");if(!g&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(p+" must be number or boolean");if(g){var _,w=t.util.getData(m.$data,o,t.dataPathArr),S="exclusive"+s,E="exclType"+s,C="exclIsNumber"+s,k="' + "+(x="op"+s)+" + '";i+=" var schemaExcl"+s+" = "+w+"; ",b=p,(_=_||[]).push(i+=" var "+S+"; var "+E+" = typeof "+(w="schemaExcl"+s)+"; if ("+E+" != 'boolean' && "+E+" != 'undefined' && "+E+" != 'number') { "),i="",!1!==t.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),t.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var A=i;i=_.pop(),i+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+E+" == 'number' ? ( ("+S+" = "+n+" === undefined || "+w+" "+y+"= "+n+") ? "+h+" "+v+"= "+w+" : "+h+" "+v+" "+n+" ) : ( ("+S+" = "+w+" === true) ? "+h+" "+v+"= "+n+" : "+h+" "+v+" "+n+" ) || "+h+" !== "+h+") { var op"+s+" = "+S+" ? '"+y+"' : '"+y+"='; ",void 0===a&&(b=p,u=t.errSchemaPath+"/"+p,n=w,f=g)}else if(k=y,(C="number"==typeof m)&&f){var x="'"+k+"'";i+=" if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" ( "+n+" === undefined || "+m+" "+y+"= "+n+" ? "+h+" "+v+"= "+m+" : "+h+" "+v+" "+n+" ) || "+h+" !== "+h+") { "}else C&&void 0===a?(S=!0,b=p,u=t.errSchemaPath+"/"+p,n=m,v+="="):(C&&(n=Math[d?"min":"max"](m,a)),m===(!C||n)?(S=!0,b=p,u=t.errSchemaPath+"/"+p,v+="="):(S=!1,k+="=")),x="'"+k+"'",i+=" if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+h+" "+v+" "+n+" || "+h+" !== "+h+") { ";return b=b||e,(_=_||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { comparison: "+x+", limit: "+n+", exclusive: "+S+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be "+k+" ",i+=f?"' + "+n:n+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",A=i,i=_.pop(),i+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i}},21e3:function(t){"use strict";t.exports=function(t,e,r){var n,i=" ",s=t.level,o=t.dataLevel,a=t.schema[e],c=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(o||""),f=t.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",n="schema"+s):n=a,!f&&"number"!=typeof a)throw new Error(e+" must be number");i+="if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || ");var d=e,p=p||[];p.push(i+=" "+h+".length "+("maxItems"==e?">":"<")+" "+n+") { "),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==e?"more":"fewer",i+=" than ",i+=f?"' + "+n+" + '":""+a,i+=" items' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),i+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},75630:function(t){"use strict";t.exports=function(t,e,r){var n,i=" ",s=t.level,o=t.dataLevel,a=t.schema[e],c=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(o||""),f=t.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",n="schema"+s):n=a,!f&&"number"!=typeof a)throw new Error(e+" must be number");i+="if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=!1===t.opts.unicode?" "+h+".length ":" ucs2length("+h+") ";var d=e,p=p||[];p.push(i+=" "+("maxLength"==e?">":"<")+" "+n+") { "),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==e?"longer":"shorter",i+=" than ",i+=f?"' + "+n+" + '":""+a,i+=" characters' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),i+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},51775:function(t){"use strict";t.exports=function(t,e,r){var n,i=" ",s=t.level,o=t.dataLevel,a=t.schema[e],c=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(o||""),f=t.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",n="schema"+s):n=a,!f&&"number"!=typeof a)throw new Error(e+" must be number");i+="if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || ");var d=e,p=p||[];p.push(i+=" Object.keys("+h+").length "+("maxProperties"==e?">":"<")+" "+n+") { "),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==e?"more":"fewer",i+=" than ",i+=f?"' + "+n+" + '":""+a,i+=" properties' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),i+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},54723:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.schema[e],s=t.schemaPath+t.util.getProperty(e),o=t.errSchemaPath+"/"+e,a=!t.opts.allErrors,c=t.util.copy(t),u="";c.level++;var l="valid"+c.level,h=c.baseId,f=!0,d=i;if(d)for(var p,m=-1,g=d.length-1;m<g;)p=d[m+=1],(t.opts.strictKeywords?"object"==typeof p&&Object.keys(p).length>0||!1===p:t.util.schemaHasRules(p,t.RULES.all))&&(f=!1,c.schema=p,c.schemaPath=s+"["+m+"]",c.errSchemaPath=o+"/"+m,n+="  "+t.validate(c)+" ",c.baseId=h,a&&(n+=" if ("+l+") { ",u+="}"));return a&&(n+=f?" if (true) { ":" "+u.slice(0,-1)+" "),n}},17727:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level;if(o.every(function(e){return t.opts.strictKeywords?"object"==typeof e&&Object.keys(e).length>0||!1===e:t.util.schemaHasRules(e,t.RULES.all)})){var g=d.baseId;n+=" var "+f+" = errors; var "+h+" = false;  ";var y=t.compositeRule;t.compositeRule=d.compositeRule=!0;var v=o;if(v)for(var b,_=-1,w=v.length-1;_<w;)b=v[_+=1],d.schema=b,d.schemaPath=a+"["+_+"]",d.errSchemaPath=c+"/"+_,n+="  "+t.validate(d)+" ",d.baseId=g,n+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",p+="}";t.compositeRule=d.compositeRule=y,n+=" "+p+" if (!"+h+") {   var err =   ",!1!==t.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(n+=t.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",t.opts.allErrors&&(n+=" } ")}else u&&(n+=" if (true) { ");return n}},52666:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.errSchemaPath+"/"+e,s=t.util.toQuotedString(t.schema[e]);return!0===t.opts.$comment?n+=" console.log("+s+");":"function"==typeof t.opts.$comment&&(n+=" self._opts.$comment("+s+", "+t.util.toQuotedString(i)+", validate.root.schema);"),n}},73816:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||""),h="valid"+i,f=t.opts.$data&&o&&o.$data;f&&(n+=" var schema"+i+" = "+t.util.getData(o.$data,s,t.dataPathArr)+"; "),f||(n+=" var schema"+i+" = validate.schema"+a+";");var d=d||[];d.push(n+="var "+h+" = equal("+l+", schema"+i+"); if (!"+h+") {   "),n="",!1!==t.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",!1!==t.opts.messages&&(n+=" , message: 'should be equal to constant' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var p=n;return n=d.pop(),n+=!t.compositeRule&&u?t.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",u&&(n+=" else { "),n}},33218:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t);d.level++;var p="valid"+d.level,m="i"+i,g=d.dataLevel=t.dataLevel+1,y="data"+g,v=t.baseId,b=t.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:t.util.schemaHasRules(o,t.RULES.all);if(n+="var "+f+" = errors;var "+h+";",b){var _=t.compositeRule;t.compositeRule=d.compositeRule=!0,d.schema=o,d.schemaPath=a,d.errSchemaPath=c,n+=" var "+p+" = false; for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers,!0);var w=l+"["+m+"]";d.dataPathArr[g]=m;var S=t.validate(d);d.baseId=v,t.util.varOccurences(S,y)<2?n+=" "+t.util.varReplace(S,y,w)+" ":n+=" var "+y+" = "+w+"; "+S+" ",n+=" if ("+p+") break; }  ",t.compositeRule=d.compositeRule=_,n+="  if (!"+p+") {"}else n+=" if ("+l+".length == 0) {";var E=E||[];E.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should contain a valid item' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var C=n;return n=E.pop(),n+=!t.compositeRule&&u?t.async?" throw new ValidationError(["+C+"]); ":" validate.errors = ["+C+"]; return false; ":" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",b&&(n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),t.opts.allErrors&&(n+=" } "),n}},10404:function(t){"use strict";t.exports=function(t,e,r){var n,i,s=" ",o=t.level,a=t.dataLevel,c=t.schema[e],u=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,f="data"+(a||""),d="valid"+o,p="errs__"+o,m=t.opts.$data&&c&&c.$data;m?(s+=" var schema"+o+" = "+t.util.getData(c.$data,a,t.dataPathArr)+"; ",i="schema"+o):i=c;var g,y,v,b,_,w=this,S="definition"+o,E=w.definition,C="";if(m&&E.$data){var k=E.validateSchema;s+=" var "+S+" = RULES.custom['"+e+"'].definition; var "+(_="keywordValidate"+o)+" = "+S+".validate;"}else{if(!(b=t.useCustomRule(w,c,t.schema,t)))return;i="validate.schema"+u,_=b.code,g=E.compile,y=E.inline,v=E.macro}var A=_+".errors",x="i"+o,T="ruleErr"+o,I=E.async;if(I&&!t.async)throw new Error("async keyword in sync schema");if(y||v||(s+=A+" = null;"),s+="var "+p+" = errors;var "+d+";",m&&E.$data&&(C+="}",s+=" if ("+i+" === undefined) { "+d+" = true; } else { ",k&&(C+="}",s+=" "+d+" = "+S+".validateSchema("+i+"); if ("+d+") { ")),y)s+=E.statements?" "+b.validate+" ":" "+d+" = "+b.validate+"; ";else if(v){var R=t.util.copy(t);C="",R.level++;var P="valid"+R.level;R.schema=b.validate,R.schemaPath="";var F=t.compositeRule;t.compositeRule=R.compositeRule=!0;var O=t.validate(R).replace(/validate\.schema/g,_);t.compositeRule=R.compositeRule=F,s+=" "+O}else{(D=D||[]).push(s),s="",s+="  "+_+".call( ",s+=t.opts.passContext?"this":"self",s+=g||!1===E.schema?" , "+f+" ":" , "+i+" , "+f+" , validate.schema"+t.schemaPath+" ",s+=" , (dataPath || '')",'""'!=t.errorPath&&(s+=" + "+t.errorPath);var M=a?"data"+(a-1||""):"parentData",B=a?t.dataPathArr[a]:"parentDataProperty",N=s+=" , "+M+" , "+B+" , rootData )  ";s=D.pop(),!1===E.errors?(s+=" "+d+" = ",I&&(s+="await "),s+=N+"; "):s+=I?" var "+(A="customErrors"+o)+" = null; try { "+d+" = await "+N+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+A+" = e.errors; else throw e; } ":" "+A+" = null; "+d+" = "+N+"; "}if(E.modifying&&(s+=" if ("+M+") "+f+" = "+M+"["+B+"];"),s+=""+C,E.valid)h&&(s+=" if (true) { ");else{var D;s+=" if ( ",void 0===E.valid?(s+=" !",s+=v?""+P:""+d):s+=" "+!E.valid+" ",n=w.keyword,(D=D||[]).push(s+=") { "),(D=D||[]).push(s=""),s="",!1!==t.createErrors?(s+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==t.opts.messages&&(s+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),t.opts.verbose&&(s+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var L=s;s=D.pop();var j=s+=!t.compositeRule&&h?t.async?" throw new ValidationError(["+L+"]); ":" validate.errors = ["+L+"]; return false; ":" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";s=D.pop(),y?E.errors?"full"!=E.errors&&(s+="  for (var "+x+"="+p+"; "+x+"<errors; "+x+"++) { var "+T+" = vErrors["+x+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+l+'"; } ',t.opts.verbose&&(s+=" "+T+".schema = "+i+"; "+T+".data = "+f+"; "),s+=" } "):!1===E.errors?s+=" "+j+" ":(s+=" if ("+p+" == errors) { "+j+" } else {  for (var "+x+"="+p+"; "+x+"<errors; "+x+"++) { var "+T+" = vErrors["+x+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+l+'"; } ',t.opts.verbose&&(s+=" "+T+".schema = "+i+"; "+T+".data = "+f+"; "),s+=" } } "):v?(s+="   var err =   ",!1!==t.createErrors?(s+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==t.opts.messages&&(s+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),t.opts.verbose&&(s+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&h&&(s+=t.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===E.errors?s+=" "+j+" ":(s+=" if (Array.isArray("+A+")) { if (vErrors === null) vErrors = "+A+"; else vErrors = vErrors.concat("+A+"); errors = vErrors.length;  for (var "+x+"="+p+"; "+x+"<errors; "+x+"++) { var "+T+" = vErrors["+x+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+t.errorPath+";  "+T+'.schemaPath = "'+l+'";  ',t.opts.verbose&&(s+=" "+T+".schema = "+i+"; "+T+".data = "+f+"; "),s+=" } } else { "+j+" } "),s+=" } ",h&&(s+=" else { ")}return s}},53180:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||""),h="errs__"+i,f=t.util.copy(t),d="";f.level++;var p="valid"+f.level,m={},g={},y=t.opts.ownProperties;for(w in o)if("__proto__"!=w){var v=o[w],b=Array.isArray(v)?g:m;b[w]=v}n+="var "+h+" = errors;";var _=t.errorPath;for(var w in n+="var missing"+i+";",g)if((b=g[w]).length){if(n+=" if ( "+l+t.util.getProperty(w)+" !== undefined ",y&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(w)+"') "),u){n+=" && ( ";var S=b;if(S)for(var E=-1,C=S.length-1;E<C;)R=S[E+=1],E&&(n+=" || "),n+=" ( ( "+(M=l+(O=t.util.getProperty(R)))+" === undefined ",y&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(R)+"') "),n+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?R:O)+") ) ";n+=")) {  ";var k="missing"+i,A="' + "+k+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(_,k,!0):_+" + "+k);var x=x||[];x.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { property: '"+t.util.escapeQuotes(w)+"', missingProperty: '"+A+"', depsCount: "+b.length+", deps: '"+t.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==t.opts.messages&&(n+=" , message: 'should have ",n+=1==b.length?"property "+t.util.escapeQuotes(b[0]):"properties "+t.util.escapeQuotes(b.join(", ")),n+=" when property "+t.util.escapeQuotes(w)+" is present' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var T=n;n=x.pop(),n+=!t.compositeRule&&u?t.async?" throw new ValidationError(["+T+"]); ":" validate.errors = ["+T+"]; return false; ":" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var I=b;if(I)for(var R,P=-1,F=I.length-1;P<F;){R=I[P+=1];var O=t.util.getProperty(R),M=(A=t.util.escapeQuotes(R),l+O);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(_,R,t.opts.jsonPointers)),n+=" if ( "+M+" === undefined ",y&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(R)+"') "),n+=") {  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { property: '"+t.util.escapeQuotes(w)+"', missingProperty: '"+A+"', depsCount: "+b.length+", deps: '"+t.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==t.opts.messages&&(n+=" , message: 'should have ",n+=1==b.length?"property "+t.util.escapeQuotes(b[0]):"properties "+t.util.escapeQuotes(b.join(", ")),n+=" when property "+t.util.escapeQuotes(w)+" is present' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",u&&(d+="}",n+=" else { ")}t.errorPath=_;var B=f.baseId;for(var w in m)v=m[w],(t.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:t.util.schemaHasRules(v,t.RULES.all))&&(n+=" "+p+" = true; if ( "+l+t.util.getProperty(w)+" !== undefined ",y&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(w)+"') "),n+=") { ",f.schema=v,f.schemaPath=a+t.util.getProperty(w),f.errSchemaPath=c+"/"+t.util.escapeFragment(w),n+="  "+t.validate(f)+" ",f.baseId=B,n+=" }  ",u&&(n+=" if ("+p+") { ",d+="}"));return u&&(n+="   "+d+" if ("+h+" == errors) {"),n}},39377:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||""),h="valid"+i,f=t.opts.$data&&o&&o.$data;f&&(n+=" var schema"+i+" = "+t.util.getData(o.$data,s,t.dataPathArr)+"; ");var d="i"+i,p="schema"+i;f||(n+=" var "+p+" = validate.schema"+a+";"),n+="var "+h+";",f&&(n+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),n+=h+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+l+", "+p+"["+d+"])) { "+h+" = true; break; }",f&&(n+="  }  ");var m=m||[];m.push(n+=" if (!"+h+") {   "),n="",!1!==t.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",!1!==t.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var g=n;return n=m.pop(),n+=!t.compositeRule&&u?t.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",u&&(n+=" else { "),n}},48623:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||"");if(!1===t.opts.format)return u&&(n+=" if (true) { "),n;var h,f=t.opts.$data&&o&&o.$data;f?(n+=" var schema"+i+" = "+t.util.getData(o.$data,s,t.dataPathArr)+"; ",h="schema"+i):h=o;var d=t.opts.unknownFormats,p=Array.isArray(d);if(f)n+=" var "+(m="format"+i)+" = formats["+h+"]; var "+(g="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(y="formatType"+i)+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",t.async&&(n+=" var async"+i+" = "+m+".async; "),n+=" "+m+" = "+m+".validate; } if (  ",f&&(n+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),n+=" (","ignore"!=d&&(n+=" ("+h+" && !"+m+" ",p&&(n+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),n+=") || "),n+=" ("+m+" && "+y+" == '"+r+"' && !(typeof "+m+" == 'function' ? ",n+=t.async?" (async"+i+" ? await "+m+"("+l+") : "+m+"("+l+")) ":" "+m+"("+l+") ",n+=" : "+m+".test("+l+"))))) {";else{var m;if(!(m=t.formats[o])){if("ignore"==d)return t.logger.warn('unknown format "'+o+'" ignored in schema at path "'+t.errSchemaPath+'"'),u&&(n+=" if (true) { "),n;if(p&&d.indexOf(o)>=0)return u&&(n+=" if (true) { "),n;throw new Error('unknown format "'+o+'" is used in schema at path "'+t.errSchemaPath+'"')}var g,y=(g="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(g){var v=!0===m.async;m=m.validate}if(y!=r)return u&&(n+=" if (true) { "),n;if(v){if(!t.async)throw new Error("async format in sync schema");n+=" if (!(await "+(b="formats"+t.util.getProperty(o)+".validate")+"("+l+"))) { "}else{n+=" if (! ";var b="formats"+t.util.getProperty(o);g&&(b+=".validate"),n+="function"==typeof m?" "+b+"("+l+") ":" "+b+".test("+l+") ",n+=") { "}}var _=_||[];_.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { format:  ",n+=f?""+h:""+t.util.toQuotedString(o),n+="  } ",!1!==t.opts.messages&&(n+=" , message: 'should match format \"",n+=f?"' + "+h+" + '":""+t.util.escapeQuotes(o),n+="\"' "),t.opts.verbose&&(n+=" , schema:  ",n+=f?"validate.schema"+a:""+t.util.toQuotedString(o),n+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var w=n;return n=_.pop(),n+=!t.compositeRule&&u?t.async?" throw new ValidationError(["+w+"]); ":" validate.errors = ["+w+"]; return false; ":" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u&&(n+=" else { "),n}},18515:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t);d.level++;var p="valid"+d.level,m=t.schema.then,g=t.schema.else,y=void 0!==m&&(t.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:t.util.schemaHasRules(m,t.RULES.all)),v=void 0!==g&&(t.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:t.util.schemaHasRules(g,t.RULES.all)),b=d.baseId;if(y||v){var _;d.createErrors=!1,d.schema=o,d.schemaPath=a,d.errSchemaPath=c,n+=" var "+f+" = errors; var "+h+" = true;  ";var w=t.compositeRule;t.compositeRule=d.compositeRule=!0,n+="  "+t.validate(d)+" ",d.baseId=b,d.createErrors=!0,n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",t.compositeRule=d.compositeRule=w,y?(n+=" if ("+p+") {  ",d.schema=t.schema.then,d.schemaPath=t.schemaPath+".then",d.errSchemaPath=t.errSchemaPath+"/then",n+="  "+t.validate(d)+" ",d.baseId=b,n+=" "+h+" = "+p+"; ",y&&v?n+=" var "+(_="ifClause"+i)+" = 'then'; ":_="'then'",n+=" } ",v&&(n+=" else { ")):n+=" if (!"+p+") { ",v&&(d.schema=t.schema.else,d.schemaPath=t.schemaPath+".else",d.errSchemaPath=t.errSchemaPath+"/else",n+="  "+t.validate(d)+" ",d.baseId=b,n+=" "+h+" = "+p+"; ",y&&v?n+=" var "+(_="ifClause"+i)+" = 'else'; ":_="'else'",n+=" } "),n+=" if (!"+h+") {   var err =   ",!1!==t.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { failingKeyword: "+_+" } ",!1!==t.opts.messages&&(n+=" , message: 'should match \"' + "+_+" + '\" schema' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(n+=t.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),n+=" }   ",u&&(n+=" else { ")}else u&&(n+=" if (true) { ");return n}},38974:function(t,e,r){"use strict";t.exports={$ref:r(66241),allOf:r(54723),anyOf:r(17727),$comment:r(52666),const:r(73816),contains:r(33218),dependencies:r(53180),enum:r(39377),format:r(48623),if:r(18515),items:r(4199),maximum:r(92468),minimum:r(92468),maxItems:r(21e3),minItems:r(21e3),maxLength:r(75630),minLength:r(75630),maxProperties:r(51775),minProperties:r(51775),multipleOf:r(41648),not:r(9211),oneOf:r(92407),pattern:r(55042),properties:r(72959),propertyNames:r(21494),required:r(64466),uniqueItems:r(47290),validate:r(78265)}},4199:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level,g="i"+i,y=d.dataLevel=t.dataLevel+1,v="data"+y,b=t.baseId;if(n+="var "+f+" = errors;var "+h+";",Array.isArray(o)){var _=t.schema.additionalItems;if(!1===_){n+=" "+h+" = "+l+".length <= "+o.length+"; ";var w=c;c=t.errSchemaPath+"/additionalItems";var S=S||[];S.push(n+="  if (!"+h+") {   "),n="",!1!==t.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+o.length+" } ",!1!==t.opts.messages&&(n+=" , message: 'should NOT have more than "+o.length+" items' "),t.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var E=n;n=S.pop(),n+=!t.compositeRule&&u?t.async?" throw new ValidationError(["+E+"]); ":" validate.errors = ["+E+"]; return false; ":" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c=w,u&&(p+="}",n+=" else { ")}var C=o;if(C)for(var k,A=-1,x=C.length-1;A<x;)if(k=C[A+=1],t.opts.strictKeywords?"object"==typeof k&&Object.keys(k).length>0||!1===k:t.util.schemaHasRules(k,t.RULES.all)){n+=" "+m+" = true; if ("+l+".length > "+A+") { ";var T=l+"["+A+"]";d.schema=k,d.schemaPath=a+"["+A+"]",d.errSchemaPath=c+"/"+A,d.errorPath=t.util.getPathExpr(t.errorPath,A,t.opts.jsonPointers,!0),d.dataPathArr[y]=A;var I=t.validate(d);d.baseId=b,t.util.varOccurences(I,v)<2?n+=" "+t.util.varReplace(I,v,T)+" ":n+=" var "+v+" = "+T+"; "+I+" ",n+=" }  ",u&&(n+=" if ("+m+") { ",p+="}")}"object"==typeof _&&(t.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:t.util.schemaHasRules(_,t.RULES.all))&&(d.schema=_,d.schemaPath=t.schemaPath+".additionalItems",d.errSchemaPath=t.errSchemaPath+"/additionalItems",n+=" "+m+" = true; if ("+l+".length > "+o.length+") {  for (var "+g+" = "+o.length+"; "+g+" < "+l+".length; "+g+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers,!0),T=l+"["+g+"]",d.dataPathArr[y]=g,I=t.validate(d),d.baseId=b,t.util.varOccurences(I,v)<2?n+=" "+t.util.varReplace(I,v,T)+" ":n+=" var "+v+" = "+T+"; "+I+" ",u&&(n+=" if (!"+m+") break; "),n+=" } }  ",u&&(n+=" if ("+m+") { ",p+="}"))}else(t.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:t.util.schemaHasRules(o,t.RULES.all))&&(d.schema=o,d.schemaPath=a,d.errSchemaPath=c,n+="  for (var "+g+" = 0; "+g+" < "+l+".length; "+g+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers,!0),T=l+"["+g+"]",d.dataPathArr[y]=g,I=t.validate(d),d.baseId=b,t.util.varOccurences(I,v)<2?n+=" "+t.util.varReplace(I,v,T)+" ":n+=" var "+v+" = "+T+"; "+I+" ",u&&(n+=" if (!"+m+") break; "),n+=" }");return u&&(n+=" "+p+" if ("+f+" == errors) {"),n}},41648:function(t){"use strict";t.exports=function(t,e,r){var n,i=" ",s=t.level,o=t.dataLevel,a=t.schema[e],c=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(o||""),f=t.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",n="schema"+s):n=a,!f&&"number"!=typeof a)throw new Error(e+" must be number");i+="var division"+s+";if (",f&&(i+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),i+=" (division"+s+" = "+h+" / "+n+", ",i+=t.opts.multipleOfPrecision?" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+t.opts.multipleOfPrecision+" ":" division"+s+" !== parseInt(division"+s+") ",i+=" ) ",f&&(i+="  )  ");var d=d||[];d.push(i+=" ) {   "),i="",!1!==t.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { multipleOf: "+n+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be multiple of ",i+=f?"' + "+n:n+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),i+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},9211:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||""),h="errs__"+i,f=t.util.copy(t);f.level++;var d="valid"+f.level;if(t.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:t.util.schemaHasRules(o,t.RULES.all)){f.schema=o,f.schemaPath=a,f.errSchemaPath=c,n+=" var "+h+" = errors;  ";var p,m=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(p=f.opts.allErrors,f.opts.allErrors=!1),n+=" "+t.validate(f)+" ",f.createErrors=!0,p&&(f.opts.allErrors=p),t.compositeRule=f.compositeRule=m;var g=g||[];g.push(n+=" if ("+d+") {   "),n="",!1!==t.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should NOT be valid' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var y=n;n=g.pop(),n+=!t.compositeRule&&u?t.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",t.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should NOT be valid' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(n+=" if (false) { ");return n}},92407:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level,g=d.baseId,y="prevValid"+i,v="passingSchemas"+i;n+="var "+f+" = errors , "+y+" = false , "+h+" = false , "+v+" = null; ";var b=t.compositeRule;t.compositeRule=d.compositeRule=!0;var _=o;if(_)for(var w,S=-1,E=_.length-1;S<E;)w=_[S+=1],(t.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:t.util.schemaHasRules(w,t.RULES.all))?(d.schema=w,d.schemaPath=a+"["+S+"]",d.errSchemaPath=c+"/"+S,n+="  "+t.validate(d)+" ",d.baseId=g):n+=" var "+m+" = true; ",S&&(n+=" if ("+m+" && "+y+") { "+h+" = false; "+v+" = ["+v+", "+S+"]; } else { ",p+="}"),n+=" if ("+m+") { "+h+" = "+y+" = true; "+v+" = "+S+"; }";return t.compositeRule=d.compositeRule=b,n+=p+"if (!"+h+") {   var err =   ",!1!==t.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { passingSchemas: "+v+" } ",!1!==t.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(n+=t.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),n+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",t.opts.allErrors&&(n+=" } "),n}},55042:function(t){"use strict";t.exports=function(t,e,r){var n,i=" ",s=t.level,o=t.dataLevel,a=t.schema[e],c=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(o||""),f=t.opts.$data&&a&&a.$data;f?(i+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",n="schema"+s):n=a;var d=f?"(new RegExp("+n+"))":t.usePattern(a);i+="if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'string') || ");var p=p||[];p.push(i+=" !"+d+".test("+h+") ) {   "),i="",!1!==t.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { pattern:  ",i+=f?""+n:""+t.util.toQuotedString(a),i+="  } ",!1!==t.opts.messages&&(i+=" , message: 'should match pattern \"",i+=f?"' + "+n+" + '":""+t.util.escapeQuotes(a),i+="\"' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+c:""+t.util.toQuotedString(a),i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),i+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},72959:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||""),h="errs__"+i,f=t.util.copy(t),d="";f.level++;var p="valid"+f.level,m="key"+i,g="idx"+i,y=f.dataLevel=t.dataLevel+1,v="data"+y,b="dataProperties"+i,_=Object.keys(o||{}).filter(O),w=t.schema.patternProperties||{},S=Object.keys(w).filter(O),E=t.schema.additionalProperties,C=_.length||S.length,k=!1===E,A="object"==typeof E&&Object.keys(E).length,x=t.opts.removeAdditional,T=k||A||x,I=t.opts.ownProperties,R=t.baseId,P=t.schema.required;if(P&&(!t.opts.$data||!P.$data)&&P.length<t.opts.loopRequired)var F=t.util.toHash(P);function O(t){return"__proto__"!==t}if(n+="var "+h+" = errors;var "+p+" = true;",I&&(n+=" var "+b+" = undefined;"),T){if(n+=I?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+l+") { ",C){if(n+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)n+=" || validate.schema"+a+".hasOwnProperty("+m+") ";else{var M=_;if(M)for(var B=-1,N=M.length-1;B<N;)Q=M[B+=1],n+=" || "+m+" == "+t.util.toQuotedString(Q)+" "}if(S.length){var D=S;if(D)for(var L=-1,j=D.length-1;L<j;)st=D[L+=1],n+=" || "+t.usePattern(st)+".test("+m+") "}n+=" ); if (isAdditional"+i+") { "}if("all"==x)n+=" delete "+l+"["+m+"]; ";else{var U=t.errorPath,V="' + "+m+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers)),k)if(x)n+=" delete "+l+"["+m+"]; ";else{var H=c;c=t.errSchemaPath+"/additionalProperties",(rt=rt||[]).push(n+=" "+p+" = false; "),n="",!1!==t.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { additionalProperty: '"+V+"' } ",!1!==t.opts.messages&&(n+=" , message: '",n+=t.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",n+="' "),t.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var q=n;n=rt.pop(),n+=!t.compositeRule&&u?t.async?" throw new ValidationError(["+q+"]); ":" validate.errors = ["+q+"]; return false; ":" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=H,u&&(n+=" break; ")}else if(A)if("failing"==x){n+=" var "+h+" = errors;  ";var K=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.schema=E,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers);var z=l+"["+m+"]";f.dataPathArr[y]=m;var W=t.validate(f);f.baseId=R,t.util.varOccurences(W,v)<2?n+=" "+t.util.varReplace(W,v,z)+" ":n+=" var "+v+" = "+z+"; "+W+" ",n+=" if (!"+p+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+m+"]; }  ",t.compositeRule=f.compositeRule=K}else f.schema=E,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers),z=l+"["+m+"]",f.dataPathArr[y]=m,W=t.validate(f),f.baseId=R,t.util.varOccurences(W,v)<2?n+=" "+t.util.varReplace(W,v,z)+" ":n+=" var "+v+" = "+z+"; "+W+" ",u&&(n+=" if (!"+p+") break; ");t.errorPath=U}C&&(n+=" } "),n+=" }  ",u&&(n+=" if ("+p+") { ",d+="}")}var $=t.opts.useDefaults&&!t.compositeRule;if(_.length){var G=_;if(G)for(var Q,J=-1,Z=G.length-1;J<Z;){var Y=o[Q=G[J+=1]];if(t.opts.strictKeywords?"object"==typeof Y&&Object.keys(Y).length>0||!1===Y:t.util.schemaHasRules(Y,t.RULES.all)){var X=t.util.getProperty(Q),tt=(z=l+X,$&&void 0!==Y.default);if(f.schema=Y,f.schemaPath=a+X,f.errSchemaPath=c+"/"+t.util.escapeFragment(Q),f.errorPath=t.util.getPath(t.errorPath,Q,t.opts.jsonPointers),f.dataPathArr[y]=t.util.toQuotedString(Q),W=t.validate(f),f.baseId=R,t.util.varOccurences(W,v)<2){W=t.util.varReplace(W,v,z);var et=z}else et=v,n+=" var "+v+" = "+z+"; ";if(tt)n+=" "+W+" ";else{if(F&&F[Q]){n+=" if ( "+et+" === undefined ",I&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(Q)+"') "),n+=") { "+p+" = false; ",U=t.errorPath,H=c;var rt,nt=t.util.escapeQuotes(Q);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(U,Q,t.opts.jsonPointers)),c=t.errSchemaPath+"/required",(rt=rt||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+nt+"' } ",!1!==t.opts.messages&&(n+=" , message: '",n+=t.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+nt+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",q=n,n=rt.pop(),n+=!t.compositeRule&&u?t.async?" throw new ValidationError(["+q+"]); ":" validate.errors = ["+q+"]; return false; ":" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=H,t.errorPath=U,n+=" } else { "}else u?(n+=" if ( "+et+" === undefined ",I&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(Q)+"') "),n+=") { "+p+" = true; } else { "):(n+=" if ("+et+" !== undefined ",I&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(Q)+"') "),n+=" ) { ");n+=" "+W+" } "}}u&&(n+=" if ("+p+") { ",d+="}")}}if(S.length){var it=S;if(it)for(var st,ot=-1,at=it.length-1;ot<at;)Y=w[st=it[ot+=1]],(t.opts.strictKeywords?"object"==typeof Y&&Object.keys(Y).length>0||!1===Y:t.util.schemaHasRules(Y,t.RULES.all))&&(f.schema=Y,f.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(st),f.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(st),n+=I?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+l+") { ",n+=" if ("+t.usePattern(st)+".test("+m+")) { ",f.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers),z=l+"["+m+"]",f.dataPathArr[y]=m,W=t.validate(f),f.baseId=R,t.util.varOccurences(W,v)<2?n+=" "+t.util.varReplace(W,v,z)+" ":n+=" var "+v+" = "+z+"; "+W+" ",u&&(n+=" if (!"+p+") break; "),n+=" } ",u&&(n+=" else "+p+" = true; "),n+=" }  ",u&&(n+=" if ("+p+") { ",d+="}"))}return u&&(n+=" "+d+" if ("+h+" == errors) {"),n}},21494:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||""),h="errs__"+i,f=t.util.copy(t);f.level++;var d="valid"+f.level;if(n+="var "+h+" = errors;",t.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:t.util.schemaHasRules(o,t.RULES.all)){f.schema=o,f.schemaPath=a,f.errSchemaPath=c;var p="key"+i,m="idx"+i,g="i"+i,y="' + "+p+" + '",v="data"+(f.dataLevel=t.dataLevel+1),b="dataProperties"+i,_=t.opts.ownProperties,w=t.baseId;_&&(n+=" var "+b+" = undefined; "),n+=_?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+p+" = "+b+"["+m+"]; ":" for (var "+p+" in "+l+") { ",n+=" var startErrs"+i+" = errors; ";var S=p,E=t.compositeRule;t.compositeRule=f.compositeRule=!0;var C=t.validate(f);f.baseId=w,t.util.varOccurences(C,v)<2?n+=" "+t.util.varReplace(C,v,S)+" ":n+=" var "+v+" = "+S+"; "+C+" ",t.compositeRule=f.compositeRule=E,n+=" if (!"+d+") { for (var "+g+"=startErrs"+i+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+p+"; }   var err =   ",!1!==t.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { propertyName: '"+y+"' } ",!1!==t.opts.messages&&(n+=" , message: 'property name \\'"+y+"\\' is invalid' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(n+=t.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),u&&(n+=" break; "),n+=" } }"}return u&&(n+="  if ("+h+" == errors) {"),n}},66241:function(t){"use strict";t.exports=function(t,e,r){var n,i,s=" ",o=t.dataLevel,a=t.schema[e],c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(o||""),h="valid"+t.level;if("#"==a||"#/"==a)t.isRoot?(n=t.async,i="validate"):(n=!0===t.root.schema.$async,i="root.refVal[0]");else{var f=t.resolveRef(t.baseId,a,t.isRoot);if(void 0===f){var d=t.MissingRefError.message(t.baseId,a);if("fail"==t.opts.missingRefs){t.logger.error(d),(y=y||[]).push(s),s="",!1!==t.createErrors?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { ref: '"+t.util.escapeQuotes(a)+"' } ",!1!==t.opts.messages&&(s+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(a)+"' "),t.opts.verbose&&(s+=" , schema: "+t.util.toQuotedString(a)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),s+=" } "):s+=" {} ";var p=s;s=y.pop(),s+=!t.compositeRule&&u?t.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(s+=" if (false) { ")}else{if("ignore"!=t.opts.missingRefs)throw new t.MissingRefError(t.baseId,a,d);t.logger.warn(d),u&&(s+=" if (true) { ")}}else if(f.inline){var m=t.util.copy(t);m.level++;var g="valid"+m.level;m.schema=f.schema,m.schemaPath="",m.errSchemaPath=a,s+=" "+t.validate(m).replace(/validate\.schema/g,f.code)+" ",u&&(s+=" if ("+g+") { ")}else n=!0===f.$async||t.async&&!1!==f.$async,i=f.code}if(i){var y;(y=y||[]).push(s),s="",s+=t.opts.passContext?" "+i+".call(this, ":" "+i+"( ",s+=" "+l+", (dataPath || '')",'""'!=t.errorPath&&(s+=" + "+t.errorPath);var v=s+=" , "+(o?"data"+(o-1||""):"parentData")+" , "+(o?t.dataPathArr[o]:"parentDataProperty")+", rootData)  ";if(s=y.pop(),n){if(!t.async)throw new Error("async schema referenced by sync schema");u&&(s+=" var "+h+"; "),s+=" try { await "+v+"; ",u&&(s+=" "+h+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(s+=" "+h+" = false; "),s+=" } ",u&&(s+=" if ("+h+") { ")}else s+=" if (!"+v+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",u&&(s+=" else { ")}return s}},64466:function(t){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,s=t.dataLevel,o=t.schema[e],a=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,l="data"+(s||""),h="valid"+i,f=t.opts.$data&&o&&o.$data;f&&(n+=" var schema"+i+" = "+t.util.getData(o.$data,s,t.dataPathArr)+"; ");var d="schema"+i;if(!f)if(o.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var p=[],m=o;if(m)for(var g,y=-1,v=m.length-1;y<v;){g=m[y+=1];var b=t.schema.properties[g];b&&(t.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:t.util.schemaHasRules(b,t.RULES.all))||(p[p.length]=g)}}else p=o;if(f||p.length){var _=t.errorPath,w=f||p.length>=t.opts.loopRequired,S=t.opts.ownProperties;if(u)if(n+=" var missing"+i+"; ",w){f||(n+=" var "+d+" = validate.schema"+a+"; ");var E="' + "+(I="schema"+i+"["+(x="i"+i)+"]")+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(_,I,t.opts.jsonPointers)),n+=" var "+h+" = true; ",f&&(n+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),n+=" for (var "+x+" = 0; "+x+" < "+d+".length; "+x+"++) { "+h+" = "+l+"["+d+"["+x+"]] !== undefined ",S&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+d+"["+x+"]) "),n+="; if (!"+h+") break; } ",f&&(n+="  }  "),(k=k||[]).push(n+="  if (!"+h+") {   "),n="",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(n+=" , message: '",n+=t.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var C=n;n=k.pop(),n+=!t.compositeRule&&u?t.async?" throw new ValidationError(["+C+"]); ":" validate.errors = ["+C+"]; return false; ":" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var k,A=p;if(A)for(var x=-1,T=A.length-1;x<T;)P=A[x+=1],x&&(n+=" || "),n+=" ( ( "+(B=l+(M=t.util.getProperty(P)))+" === undefined ",S&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(P)+"') "),n+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?P:M)+") ) ";n+=") {  ",E="' + "+(I="missing"+i)+" + '",t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(_,I,!0):_+" + "+I),(k=k||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(n+=" , message: '",n+=t.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",C=n,n=k.pop(),n+=!t.compositeRule&&u?t.async?" throw new ValidationError(["+C+"]); ":" validate.errors = ["+C+"]; return false; ":" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(w){var I;f||(n+=" var "+d+" = validate.schema"+a+"; "),E="' + "+(I="schema"+i+"["+(x="i"+i)+"]")+" + '",t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(_,I,t.opts.jsonPointers)),f&&(n+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(n+=" , message: '",n+=t.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),n+=" for (var "+x+" = 0; "+x+" < "+d+".length; "+x+"++) { if ("+l+"["+d+"["+x+"]] === undefined ",S&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+d+"["+x+"]) "),n+=") {  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(n+=" , message: '",n+=t.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(n+="  }  ")}else{var R=p;if(R)for(var P,F=-1,O=R.length-1;F<O;){P=R[F+=1];var M=t.util.getProperty(P),B=(E=t.util.escapeQuotes(P),l+M);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(_,P,t.opts.jsonPointers)),n+=" if ( "+B+" === undefined ",S&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(P)+"') "),n+=") {  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(n+=" , message: '",n+=t.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=_}else u&&(n+=" if (true) {");return n}},47290:function(t){"use strict";t.exports=function(t,e,r){var n,i=" ",s=t.level,o=t.dataLevel,a=t.schema[e],c=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(o||""),f="valid"+s,d=t.opts.$data&&a&&a.$data;if(d?(i+=" var schema"+s+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",n="schema"+s):n=a,(a||d)&&!1!==t.opts.uniqueItems){d&&(i+=" var "+f+"; if ("+n+" === false || "+n+" === undefined) "+f+" = true; else if (typeof "+n+" != 'boolean') "+f+" = false; else { "),i+=" var i = "+h+".length , "+f+" = true , j; if (i > 1) { ";var p=t.schema.items&&t.schema.items.type,m=Array.isArray(p);!p||"object"==p||"array"==p||m&&(p.indexOf("object")>=0||p.indexOf("array")>=0)?i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+f+" = false; break outer; } } } ":(i+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ",i+=" if ("+t.util["checkDataType"+(m?"s":"")](p,"item",t.opts.strictNumbers,!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),i+=" } ",d&&(i+="  }  ");var g=g||[];g.push(i+=" if (!"+f+") {   "),i="",!1!==t.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),i+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i}},78265:function(t){"use strict";t.exports=function(t,e,r){var n="",i=!0===t.schema.$async,s=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),o=t.self._getId(t.schema);if(t.opts.strictKeywords){var a=t.util.schemaUnknownRules(t.schema,t.RULES.keywords);if(a){var c="unknown keyword: "+a;if("log"!==t.opts.strictKeywords)throw new Error(c);t.logger.warn(c)}}if(t.isTop&&(n+=" var validate = ",i&&(t.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(t.opts.sourceCode||t.opts.processCode)&&(n+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof t.schema||!s&&!t.schema.$ref){var u=t.level,l=t.dataLevel,h=t.schema[e="false schema"],f=t.schemaPath+t.util.getProperty(e),d=t.errSchemaPath+"/"+e,p=!t.opts.allErrors,m="data"+(l||""),g="valid"+u;if(!1===t.schema){t.isTop?p=!0:n+=" var "+g+" = false; ",(K=K||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'boolean schema is false' "),t.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";var y=n;n=K.pop(),n+=!t.compositeRule&&p?t.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else n+=t.isTop?i?" return data; ":" validate.errors = null; return true; ":" var "+g+" = true; ";return t.isTop&&(n+=" }; return validate; "),n}if(t.isTop){var v=t.isTop;if(u=t.level=0,l=t.dataLevel=0,m="data",t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[""],void 0!==t.schema.default&&t.opts.useDefaults&&t.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==t.opts.strictDefaults)throw new Error(b);t.logger.warn(b)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{if(u=t.level,m="data"+((l=t.dataLevel)||""),o&&(t.baseId=t.resolve.url(t.baseId,o)),i&&!t.async)throw new Error("async schema in sync schema");n+=" var errs_"+u+" = errors;"}g="valid"+u,p=!t.opts.allErrors;var _="",w="",S=t.schema.type,E=Array.isArray(S);if(S&&t.opts.nullable&&!0===t.schema.nullable&&(E?-1==S.indexOf("null")&&(S=S.concat("null")):"null"!=S&&(S=[S,"null"],E=!0)),E&&1==S.length&&(S=S[0],E=!1),t.schema.$ref&&s){if("fail"==t.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');!0!==t.opts.extendRefs&&(s=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(n+=" "+t.RULES.all.$comment.code(t,"$comment")),S){if(t.opts.coerceTypes)var C=t.util.coerceToTypes(t.opts.coerceTypes,S);var k=t.RULES.types[S];if(C||E||!0===k||k&&!J(k)){if(f=t.schemaPath+".type",d=t.errSchemaPath+"/type",f=t.schemaPath+".type",d=t.errSchemaPath+"/type",n+=" if ("+t.util[E?"checkDataTypes":"checkDataType"](S,m,t.opts.strictNumbers,!0)+") { ",C){var A="dataType"+u,x="coerced"+u;n+=" var "+A+" = typeof "+m+"; var "+x+" = undefined; ","array"==t.opts.coerceTypes&&(n+=" if ("+A+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+A+" = typeof "+m+"; if ("+t.util.checkDataType(t.schema.type,m,t.opts.strictNumbers)+") "+x+" = "+m+"; } "),n+=" if ("+x+" !== undefined) ; ";var T=C;if(T)for(var I,R=-1,P=T.length-1;R<P;)"string"==(I=T[R+=1])?n+=" else if ("+A+" == 'number' || "+A+" == 'boolean') "+x+" = '' + "+m+"; else if ("+m+" === null) "+x+" = ''; ":"number"==I||"integer"==I?(n+=" else if ("+A+" == 'boolean' || "+m+" === null || ("+A+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==I&&(n+=" && !("+m+" % 1)"),n+=")) "+x+" = +"+m+"; "):"boolean"==I?n+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+x+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+x+" = true; ":"null"==I?n+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+x+" = null; ":"array"==t.opts.coerceTypes&&"array"==I&&(n+=" else if ("+A+" == 'string' || "+A+" == 'number' || "+A+" == 'boolean' || "+m+" == null) "+x+" = ["+m+"]; ");(K=K||[]).push(n+=" else {   "),n="",!1!==t.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: { type: '",n+=E?""+S.join(","):""+S,n+="' } ",!1!==t.opts.messages&&(n+=" , message: 'should be ",n+=E?""+S.join(","):""+S,n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ",y=n,n=K.pop(),n+=!t.compositeRule&&p?t.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+x+" !== undefined) {  ";var F=l?"data"+(l-1||""):"parentData";n+=" "+m+" = "+x+"; ",l||(n+="if ("+F+" !== undefined)"),n+=" "+F+"["+(l?t.dataPathArr[l]:"parentDataProperty")+"] = "+x+"; } "}else(K=K||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: { type: '",n+=E?""+S.join(","):""+S,n+="' } ",!1!==t.opts.messages&&(n+=" , message: 'should be ",n+=E?""+S.join(","):""+S,n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ",y=n,n=K.pop(),n+=!t.compositeRule&&p?t.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";n+=" } "}}if(t.schema.$ref&&!s)n+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",p&&(n+=" } if (errors === ",n+=v?"0":"errs_"+u,n+=") { ",w+="}");else{var O=t.RULES;if(O)for(var M=-1,B=O.length-1;M<B;)if(J(k=O[M+=1])){if(k.type&&(n+=" if ("+t.util.checkDataType(k.type,m,t.opts.strictNumbers)+") { "),t.opts.useDefaults)if("object"==k.type&&t.schema.properties){h=t.schema.properties;var N=Object.keys(h);if(N)for(var D,L=-1,j=N.length-1;L<j;)if(void 0!==(H=h[D=N[L+=1]]).default){var U=m+t.util.getProperty(D);if(t.compositeRule){if(t.opts.strictDefaults){if(b="default is ignored for: "+U,"log"!==t.opts.strictDefaults)throw new Error(b);t.logger.warn(b)}}else n+=" if ("+U+" === undefined ","empty"==t.opts.useDefaults&&(n+=" || "+U+" === null || "+U+" === '' "),n+=" ) "+U+" = ",n+="shared"==t.opts.useDefaults?" "+t.useDefault(H.default)+" ":" "+JSON.stringify(H.default)+" ",n+="; "}}else if("array"==k.type&&Array.isArray(t.schema.items)){var V=t.schema.items;if(V){R=-1;for(var H,q=V.length-1;R<q;)if(void 0!==(H=V[R+=1]).default)if(U=m+"["+R+"]",t.compositeRule){if(t.opts.strictDefaults){if(b="default is ignored for: "+U,"log"!==t.opts.strictDefaults)throw new Error(b);t.logger.warn(b)}}else n+=" if ("+U+" === undefined ","empty"==t.opts.useDefaults&&(n+=" || "+U+" === null || "+U+" === '' "),n+=" ) "+U+" = ",n+="shared"==t.opts.useDefaults?" "+t.useDefault(H.default)+" ":" "+JSON.stringify(H.default)+" ",n+="; "}}var K,z=k.rules;if(z)for(var W,$=-1,G=z.length-1;$<G;)if(Z(W=z[$+=1])){var Q=W.code(t,W.keyword,k.type);Q&&(n+=" "+Q+" ",p&&(_+="}"))}p&&(n+=" "+_+" ",_=""),k.type&&(n+=" } ",S&&S===k.type&&!C)&&(f=t.schemaPath+".type",d=t.errSchemaPath+"/type",(K=K||[]).push(n+=" else { "),n="",!1!==t.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: { type: '",n+=E?""+S.join(","):""+S,n+="' } ",!1!==t.opts.messages&&(n+=" , message: 'should be ",n+=E?""+S.join(","):""+S,n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ",y=n,n=K.pop(),n+=!t.compositeRule&&p?t.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "),p&&(n+=" if (errors === ",n+=v?"0":"errs_"+u,n+=") { ",w+="}")}}function J(t){for(var e=t.rules,r=0;r<e.length;r++)if(Z(e[r]))return!0}function Z(e){return void 0!==t.schema[e.keyword]||e.implements&&function(e){for(var r=e.implements,n=0;n<r.length;n++)if(void 0!==t.schema[r[n]])return!0}(e)}return p&&(n+=" "+w+" "),v?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+g+" = errors === errs_"+u+";",n}},6123:function(t,e,r){"use strict";var n=/^[a-z_$][a-z0-9_$-]*$/i,i=r(10404),s=r(78655);t.exports={add:function(t,e){var r=this.RULES;if(r.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!n.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var s=e.type;if(Array.isArray(s))for(var o=0;o<s.length;o++)c(t,s[o],e);else c(t,s,e);var a=e.metaSchema;a&&(e.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(a,!0))}function c(t,e,n){for(var s,o=0;o<r.length;o++){var a=r[o];if(a.type==e){s=a;break}}s||r.push(s={type:e,rules:[]});var c={keyword:t,definition:n,custom:!0,code:i,implements:n.implements};s.rules.push(c),r.custom[t]=c}return r.keywords[t]=r.all[t]=!0,this},get:function(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1},remove:function(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var r=0;r<e.length;r++)for(var n=e[r].rules,i=0;i<n.length;i++)if(n[i].keyword==t){n.splice(i,1);break}return this},validate:function t(e,r){t.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(s,!0);if(n(e))return!0;if(t.errors=n.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}}},19370:function(t){t.exports=function(t,r,n){if(t.filter)return t.filter(r,n);if(null==t)throw new TypeError;if("function"!=typeof r)throw new TypeError;for(var i=[],s=0;s<t.length;s++)if(e.call(t,s)){var o=t[s];r.call(n,o,s,t)&&i.push(o)}return i};var e=Object.prototype.hasOwnProperty},64766:function(t,e,r){"use strict";const n=e;n.bignum=r(52327),n.define=r(15934).define,n.base=r(48903),n.constants=r(59452),n.decoders=r(67990),n.encoders=r(52783)},15934:function(t,e,r){"use strict";const n=r(52783),i=r(67990),s=r(98047);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){const e=this.name;function r(t){this._initNamed(t,e)}return s(r,t),r.prototype._initNamed=function(e,r){t.call(this,e,r)},new r(this)},o.prototype._getDecoder=function(t){return this.decoders.hasOwnProperty(t=t||"der")||(this.decoders[t]=this._createNamed(i[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return this.encoders.hasOwnProperty(t=t||"der")||(this.encoders[t]=this._createNamed(n[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},8869:function(t,e,r){"use strict";const n=r(98047),i=r(97924).b,s=r(68673).Buffer;function o(t,e){i.call(this,e),s.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return a.isEncoderBuffer(t)||(t=new a(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=s.byteLength(t);else{if(!s.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}n(o,i),e.C=o,o.isDecoderBuffer=function(t){return t instanceof o||"object"==typeof t&&s.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},o.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(t){const e=new o(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},o.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");const r=new o(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},o.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.R=a,a.isEncoderBuffer=function(t){return t instanceof a||"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},a.prototype.join=function(t,e){return t||(t=s.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):s.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},48903:function(t,e,r){"use strict";const n=e;n.Reporter=r(97924).b,n.DecoderBuffer=r(8869).C,n.EncoderBuffer=r(8869).R,n.Node=r(48830)},48830:function(t,e,r){"use strict";const n=r(97924).b,i=r(8869).R,s=r(8869).C,o=r(77125),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(t,e,r){const n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=u;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){const t=this._baseState,e={};l.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},u.prototype._wrap=function(){const t=this._baseState;c.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},u.prototype._init=function(t){const e=this._baseState;o(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),o.equal(e.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(o(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(o(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0),e[t[r]]=r}),e}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){u.prototype[t]=function(){throw new Error(t+" not implemented for encoding: "+this._baseState.enc)}}),a.forEach(function(t){u.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return o(null===e.tag),e.tag=t,this._useArgs(r),this}}),u.prototype.use=function(t){o(t);const e=this._baseState;return o(null===e.use),e.use=t,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(t){const e=this._baseState;return o(null===e.default),e.default=t,e.optional=!0,this},u.prototype.explicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.explicit=t,this},u.prototype.implicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.implicit=t,this},u.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},u.prototype.key=function(t){const e=this._baseState;return o(null===e.key),e.key=t,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(t){const e=this._baseState;return o(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},u.prototype.contains=function(t){const e=this._baseState;return o(null===e.use),e.contains=t,this},u.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,o=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(o=this._peekTag(t,n,r.any),t.isError(o))return o}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),o=!0}catch(c){o=!1}t.restore(n)}}if(r.obj&&o&&(n=t.enterObject()),o){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new s(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&o&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==o?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},u.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},u.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),o(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(s){const o=t.save(),a=r.choice[s];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:s,value:r},i=!0}catch(c){return t.restore(o),!1}return!0},this),i?n:t.error("Choice not matched")},u.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},u.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},u.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let s=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let o=null,a=!1;if(i.any)s=this._createEncoderBuffer(t);else if(i.choice)s=this._encodeChoice(t,e);else if(i.contains)o=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)o=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");const n=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),o=this._createEncoderBuffer(o);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,o=this._createEncoderBuffer(t.map(function(r){return this._getUse(this._baseState.args[0],t)._encode(r,e)},r))}else null!==i.use?s=this._getUse(i.use,r)._encode(t,e):(o=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?"universal":"context";null===t?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(s=this._encodeComposite(t,a,r,o))}return null!==i.explicit&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},u.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||o(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},u.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},u.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},u.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},97924:function(t,e,r){"use strict";const n=r(98047);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function s(t,e){this.path=t,this.rethrow(e)}e.b=i,i.prototype.isError=function(t){return t instanceof s},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof s;if(e=n?t:new s(r.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(s,Error),s.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},35275:function(t,e){"use strict";function r(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0),e[t[r]]=r}),e}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r(e.tag)},59452:function(t,e,r){"use strict";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0),e[t[r]]=r}),e},n.der=r(35275)},90192:function(t,e,r){"use strict";const n=r(98047),i=r(52327),s=r(8869).C,o=r(48830),a=r(35275);function c(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){o.call(this,"der",t)}function l(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error("length octect is too long");n=0;for(let s=0;s<i;s++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=c,c.prototype.decode=function(t,e){return s.isDecoderBuffer(t)||(t=new s(t,e)),this.tree._decode(t,e)},n(u,o),u.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=l(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||r)},u.prototype._decodeTag=function(t,e,r){const n=l(t,'Failed to decode tag of "'+e+'"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');const s=t.save(),o=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(o)?o:(i=t.offset-s.offset,t.restore(s),t.skip(i,'Failed to match body of: "'+e+'"'))},u.prototype._skipUntilEnd=function(t,e){for(;;){const r=l(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===r.tagStr)break}},u.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,"end");if(t.isError(e))return e;const s=r.decode(t,"der",n);if(t.isError(s)&&e)break;i.push(s)}return i},u.prototype._decodeStr=function(t,e){if("bitstr"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){const e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let r="";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if("numstr"===e){const e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){const e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},u.prototype._decodeObjid=function(t,e,r){let n;const i=[];let s=0,o=0;for(;!t.isEmpty();)o=t.readUInt8(),s<<=7,s|=127&o,0==(128&o)&&(i.push(s),s=0);if(128&o&&i.push(s),n=r?i:[i[0]/40|0,i[0]%40].concat(i.slice(1)),e){let t=e[n.join(" ")];void 0===t&&(t=e[n.join(".")]),void 0!==t&&(n=t)}return n},u.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,s,o,a,c;if("gentime"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),s=0|r.slice(6,8),o=0|r.slice(8,10),a=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),s=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),c=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,s,o,a,c,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},u.prototype._decodeInt=function(t,e){const r=t.raw();let n=new i(r);return e&&(n=e[n.toString(10)]||n),n},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},67990:function(t,e,r){"use strict";const n=e;n.der=r(90192),n.pem=r(17594)},17594:function(t,e,r){"use strict";const n=r(98047),i=r(68673).Buffer,s=r(90192);function o(t){s.call(this,t),this.enc="pem"}n(o,s),t.exports=o,o.prototype.decode=function(t,e){const r=t.toString().split(/[\r\n]+/g),n=e.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,c=-1;for(let i=0;i<r.length;i++){const t=r[i].match(o);if(null!==t&&t[2]===n){if(-1!==a){if("END"!==t[1])break;c=i;break}if("BEGIN"!==t[1])break;a=i}}if(-1===a||-1===c)throw new Error("PEM section not found for: "+n);const u=r.slice(a+1,c).join("");u.replace(/[^a-z0-9+/=]+/gi,"");const l=i.from(u,"base64");return s.prototype.decode.call(this,l,e)}},16889:function(t,e,r){"use strict";const n=r(98047),i=r(68673).Buffer,s=r(48830),o=r(35275);function a(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.call(this,"der",t)}function u(t){return t<10?"0"+t:t}t.exports=a,a.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s),c.prototype._encodeComposite=function(t,e,r,n){const s=function(t,e,r,n){let i;if("seqof"===t?t="seq":"setof"===t&&(t="set"),o.tagByName.hasOwnProperty(t))i=o.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return n.error("Unknown tag: "+t);i=t}return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=o.tagClassByName[r||"universal"]<<6,i)}(t,e,r,this.reporter);if(n.length<128){const t=i.alloc(2);return t[0]=s,t[1]=n.length,this._createEncoderBuffer([t,n])}let a=1;for(let i=n.length;i>=256;i>>=8)a++;const c=i.alloc(2+a);c[0]=s,c[1]=128|a;for(let i=1+a,o=n.length;o>0;i--,o>>=8)c[i]=255&o;return this._createEncoderBuffer([c,n])},c.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){const e=i.alloc(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},c.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let i=0;i<t.length;i++){let e=t[i];for(n++;e>=128;e>>=7)n++}const s=i.alloc(n);let o=s.length-1;for(let i=t.length-1;i>=0;i--){let e=t[i];for(s[o--]=127&e;(e>>=7)>0;)s[o--]=128|127&e}return this._createEncoderBuffer(s)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return"gentime"===e?r=[u(n.getUTCFullYear()),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[u(n.getUTCFullYear()%100),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=i.from(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=i.alloc(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let i=t;i>=256;i>>=8)r++;const n=new Array(r);for(let i=n.length-1;i>=0;i--)n[i]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(i.from(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const s=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),s.length!==n.defaultBuffer.length)return!1;for(i=0;i<s.length;i++)if(s[i]!==n.defaultBuffer[i])return!1;return!0}},52783:function(t,e,r){"use strict";const n=e;n.der=r(16889),n.pem=r(45585)},45585:function(t,e,r){"use strict";const n=r(98047),i=r(16889);function s(t){i.call(this,t),this.enc="pem"}n(s,i),t.exports=s,s.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString("base64"),n=["-----BEGIN "+e.label+"-----"];for(let i=0;i<r.length;i+=64)n.push(r.slice(i,i+64));return n.push("-----END "+e.label+"-----"),n.join("\n")}},69695:function(t,e,r){"use strict";var n=r(19370);t.exports=function(){return n(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(t){return"function"==typeof global[t]})}},73777:function(t,e){"use strict";e.byteLength=function(t){var e=c(t),r=e[1];return 3*(e[0]+r)/4-r},e.toByteArray=function(t){var e,r,s=c(t),o=s[0],a=s[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,a)),l=0,h=a>0?o-4:o;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===a&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[l++]=255&e),1===a&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,a=0,c=n-i;a<c;a+=o)s.push(u(t,a,a+o>c?c:a+o));return 1===i?s.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===i&&s.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,n){for(var i,s=[],o=e;o<n;o+=3)s.push(r[(i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},56234:function(t,e,r){"use strict";var n=r(66034);function i(t,e){return void 0===e&&(e="utf8"),Buffer.isBuffer(t)?o(t.toString("base64")):o(Buffer.from(t,e).toString("base64"))}function s(t){return t=t.toString(),n.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function o(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var a=i;a.encode=i,a.decode=function(t,e){return void 0===e&&(e="utf8"),Buffer.from(s(t),"base64").toString(e)},a.toBase64=s,a.fromBase64=o,a.toBuffer=function(t){return Buffer.from(s(t),"base64")},e.default=a},66034:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.length,r=e%4;if(!r)return t;var n=e,i=4-r,s=Buffer.alloc(e+i);for(s.write(t);i--;)s.write("=",n++);return s.toString()}},1899:function(t,e,r){t.exports=r(56234).default,t.exports.default=t.exports},52327:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o=r(32574).Buffer}catch(C){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),s=e;s<i;s++){var o=t.charCodeAt(s)-48;n<<=4,n|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return n}function c(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)this.words[s]|=(o=t[i]|t[i-1]<<8|t[i-2]<<16)<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)this.words[s]|=(o=t[i]|t[i+1]<<8|t[i+2]<<16)<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,s=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303,(s+=24)>=26&&(s-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303),this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=o/67108864|0;r.words[0]=67108863&o;for(var c=1;c<n;c++){for(var u=a>>>26,l=67108863&a,h=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=h;f++)u+=(o=(i=0|t.words[c-f|0])*(s=0|e.words[f])+l)/67108864|0,l=67108863&o;r.words[c]=0|l,a=0|u}return 0!==a?r.words[c]=0|a:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);r=0!=(s=a>>>24-i&16777215)||o!==this.length-1?u[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],d=h[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:u[f-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,c="le"===e,u=new t(s),l=this.clone();if(c){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-i;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},s.prototype._countBits=Math.clz32?function(t){return 32-Math.clz32(t)}:function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)this.words[s]=67108863&(e=(0|r.words[s])+(0|n.words[s])+i),i=e>>>26;for(;0!==i&&s<r.length;s++)this.words[s]=67108863&(e=(0|r.words[s])+i),i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,s,o=t.words,a=e.words,c=r.words,u=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],_=8191&b,w=b>>>13,S=0|o[4],E=8191&S,C=S>>>13,k=0|o[5],A=8191&k,x=k>>>13,T=0|o[6],I=8191&T,R=T>>>13,P=0|o[7],F=8191&P,O=P>>>13,M=0|o[8],B=8191&M,N=M>>>13,D=0|o[9],L=8191&D,j=D>>>13,U=0|a[0],V=8191&U,H=U>>>13,q=0|a[1],K=8191&q,z=q>>>13,W=0|a[2],$=8191&W,G=W>>>13,Q=0|a[3],J=8191&Q,Z=Q>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(h,V))|0)+((8191&(i=(i=Math.imul(h,H))+Math.imul(f,V)|0))<<13)|0;u=((s=Math.imul(f,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,V),i=(i=Math.imul(p,H))+Math.imul(m,V)|0,s=Math.imul(m,H);var yt=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,z)|0)+Math.imul(f,K)|0))<<13)|0;u=((s=s+Math.imul(f,z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,V),i=(i=Math.imul(y,H))+Math.imul(v,V)|0,s=Math.imul(v,H),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,z)|0;var vt=(u+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(f,$)|0))<<13)|0;u=((s=s+Math.imul(f,G)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(_,V),i=(i=Math.imul(_,H))+Math.imul(w,V)|0,s=Math.imul(w,H),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,z)|0)+Math.imul(v,K)|0,s=s+Math.imul(v,z)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,G)|0;var bt=(u+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,J)|0))<<13)|0;u=((s=s+Math.imul(f,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,V),i=(i=Math.imul(E,H))+Math.imul(C,V)|0,s=Math.imul(C,H),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,z)|0)+Math.imul(w,K)|0,s=s+Math.imul(w,z)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,Z)|0;var _t=(u+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,X)|0))<<13)|0;u=((s=s+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(A,V),i=(i=Math.imul(A,H))+Math.imul(x,V)|0,s=Math.imul(x,H),n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,z)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,z)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,G)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(v,J)|0,s=s+Math.imul(v,Z)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var wt=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;u=((s=s+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(I,V),i=(i=Math.imul(I,H))+Math.imul(R,V)|0,s=Math.imul(R,H),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,z)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,z)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(C,$)|0,s=s+Math.imul(C,G)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,J)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var St=(u+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(f,st)|0))<<13)|0;u=((s=s+Math.imul(f,ot)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(F,V),i=(i=Math.imul(F,H))+Math.imul(O,V)|0,s=Math.imul(O,H),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,z)|0)+Math.imul(R,K)|0,s=s+Math.imul(R,z)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,G)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(C,J)|0,s=s+Math.imul(C,Z)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var Et=(u+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(f,ct)|0))<<13)|0;u=((s=s+Math.imul(f,ut)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,H))+Math.imul(N,V)|0,s=Math.imul(N,H),n=n+Math.imul(F,K)|0,i=(i=i+Math.imul(F,z)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,z)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,G)|0,n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(x,J)|0,s=s+Math.imul(x,Z)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(C,X)|0,s=s+Math.imul(C,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,s=s+Math.imul(w,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,ut)|0;var Ct=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;u=((s=s+Math.imul(f,ft)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,H))+Math.imul(j,V)|0,s=Math.imul(j,H),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,z)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,z)|0,n=n+Math.imul(F,$)|0,i=(i=i+Math.imul(F,G)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(C,rt)|0,s=s+Math.imul(C,nt)|0,n=n+Math.imul(_,st)|0,i=(i=i+Math.imul(_,ot)|0)+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,n=n+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ct)|0,s=s+Math.imul(v,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ft)|0;var kt=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((s=s+Math.imul(f,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(L,K),i=(i=Math.imul(L,z))+Math.imul(j,K)|0,s=Math.imul(j,z),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(F,J)|0,i=(i=i+Math.imul(F,Z)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(E,st)|0,i=(i=i+Math.imul(E,ot)|0)+Math.imul(C,st)|0,s=s+Math.imul(C,ot)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ut)|0)+Math.imul(w,ct)|0,s=s+Math.imul(w,ut)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,ft)|0;var At=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,G))+Math.imul(j,$)|0,s=Math.imul(j,G),n=n+Math.imul(B,J)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,Z)|0,n=n+Math.imul(F,X)|0,i=(i=i+Math.imul(F,tt)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(E,ct)|0,i=(i=i+Math.imul(E,ut)|0)+Math.imul(C,ct)|0,s=s+Math.imul(C,ut)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ht)|0,s=s+Math.imul(w,ft)|0;var xt=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,J),i=(i=Math.imul(L,Z))+Math.imul(j,J)|0,s=Math.imul(j,Z),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(F,rt)|0,i=(i=i+Math.imul(F,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ut)|0)+Math.imul(x,ct)|0,s=s+Math.imul(x,ut)|0,n=n+Math.imul(E,ht)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(C,ht)|0,s=s+Math.imul(C,ft)|0;var Tt=(u+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((s=s+Math.imul(w,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,X),i=(i=Math.imul(L,tt))+Math.imul(j,X)|0,s=Math.imul(j,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(F,st)|0,i=(i=i+Math.imul(F,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(I,ct)|0,i=(i=i+Math.imul(I,ut)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,ut)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ft)|0;var It=(u+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,mt)|0)+Math.imul(C,pt)|0))<<13)|0;u=((s=s+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(F,ct)|0,i=(i=i+Math.imul(F,ut)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,ft)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ft)|0;var Rt=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(L,st),i=(i=Math.imul(L,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(B,ct)|0,i=(i=i+Math.imul(B,ut)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,ut)|0,n=n+Math.imul(F,ht)|0,i=(i=i+Math.imul(F,ft)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ft)|0;var Pt=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,ct),i=(i=Math.imul(L,ut))+Math.imul(j,ct)|0,s=Math.imul(j,ut),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,ft)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ft)|0;var Ft=(u+(n=n+Math.imul(F,pt)|0)|0)+((8191&(i=(i=i+Math.imul(F,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,n=Math.imul(L,ht),i=(i=Math.imul(L,ft))+Math.imul(j,ht)|0,s=Math.imul(j,ft);var Ot=(u+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Mt=(u+(n=Math.imul(L,pt))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(j,pt)|0))<<13)|0;return u=((s=Math.imul(j,mt))+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,c[0]=gt,c[1]=yt,c[2]=vt,c[3]=bt,c[4]=_t,c[5]=wt,c[6]=St,c[7]=Et,c[8]=Ct,c[9]=kt,c[10]=At,c[11]=xt,c[12]=Tt,c[13]=It,c[14]=Rt,c[15]=Pt,c[16]=Ft,c[17]=Ot,c[18]=Mt,0!==u&&(c[19]=u,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=f),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?f(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,c=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=c;u++){var l=(0|t.words[s-u])*(0|e.words[u]),h=67108863&l;a=67108863&(h=h+a|0),i+=(o=(o=o+(l/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):p(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},m.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=c,f=u,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],v=h*g-f*y;y=h*y+f*g,r[l+d]=p+(g=v),n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(v=c*h-u*f,f=c*f+u*h,h=v)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)r[2*o]=8191&(s+=0|t[o]),r[2*o+1]=8191&(s>>>=13),s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,c,n,i),this.transform(u,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-c[d]*h[d];c[d]=a[d]*h[d]+c[d]*l[d],a[d]=p}return this.conjugate(a,c,n),this.transform(a,c,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),p(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r%26;e[r]=(t.words[r/26|0]&1<<n)>>>n}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s;this.words[e]=(0|this.words[e])-a<<r|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,c=r;if(i-=o,i=Math.max(0,i),c){for(var u=0;u<o;u++)c.words[u]=this.words[u];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-s|h>>>s,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return!(this.length<=r||!(this.words[r]&1<<e))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r?this:(0!==e&&r++,this.length=Math.min(r,this.length),0!==e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this.strip())},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s;this._expand(t.length+r);var o=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+o;var a=(0|t.words[i])*e;o=((s-=67108863&a)>>26)-(a/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)o=(s=(0|this.words[i+r])+o)>>26,this.words[i+r]=67108863&s;if(0===o)return this.strip();for(n(-1===o),o=0,i=0;i<this.length;i++)o=(s=-(0|this.words[i])+o)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r,n=this.clone(),i=t,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==e){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(c)):(r.isub(e),a.isub(i),c.isub(o))}return{a:a,b:c,gcd:r.iushln(u)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,this.words[o]=a&=67108863}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(v,y),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}t.words[i-10]=s>>>=22,t.length-=0===s&&t.length>10?10:9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];t.words[r]=67108863&(e+=977*n),e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,y),i(_,y),i(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new b;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return g[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=c-1;l>=0;l--){var h=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}c=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new E(t)},i(E,S),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},2782:function(t,e,r){var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r(63906);if("function"!=typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return s.randomBytes(t)}}catch(o){}},44920:function(t,e,r){var n=r(36810).Buffer;function i(t){n.isBuffer(t)||(t=n.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(4*i);return r}function s(t){for(;0<t.length;t++)t[0]=0}function o(t,e,r,n,i){for(var s,o,a,c,u=r[0],l=r[1],h=r[2],f=r[3],d=t[0]^e[0],p=t[1]^e[1],m=t[2]^e[2],g=t[3]^e[3],y=4,v=1;v<i;v++)s=u[d>>>24]^l[p>>>16&255]^h[m>>>8&255]^f[255&g]^e[y++],o=u[p>>>24]^l[m>>>16&255]^h[g>>>8&255]^f[255&d]^e[y++],a=u[m>>>24]^l[g>>>16&255]^h[d>>>8&255]^f[255&p]^e[y++],c=u[g>>>24]^l[d>>>16&255]^h[p>>>8&255]^f[255&m]^e[y++],d=s,p=o,m=a,g=c;return s=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[m>>>8&255]<<8|n[255&g])^e[y++],o=(n[p>>>24]<<24|n[m>>>16&255]<<16|n[g>>>8&255]<<8|n[255&d])^e[y++],a=(n[m>>>24]<<24|n[g>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^e[y++],c=(n[g>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&m])^e[y++],[s>>>=0,o>>>=0,a>>>=0,c>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,c=0;c<256;++c){var u=a^a<<1^a<<2^a<<3^a<<4;r[o]=u=u>>>8^255&u^99,n[u]=o;var l=t[o],h=t[l],f=t[h],d=257*t[u]^16843008*u;i[0][o]=d<<24|d>>>8,i[1][o]=d<<16|d>>>16,i[2][o]=d<<8|d>>>24,i[3][o]=d,s[0][u]=(d=16843009*f^65537*h^257*l^16843008*o)<<24|d>>>8,s[1][u]=d<<16|d>>>16,s[2][u]=d<<8|d>>>24,s[3][u]=d,0===o?o=a=1:(o=l^t[t[t[f^l]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function u(t){this._key=i(t),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=4*(r+1),i=[],s=0;s<e;s++)i[s]=t[s];for(s=e;s<n;s++){var o=i[s-1];s%e==0?(o=c.SBOX[(o=o<<8|o>>>24)>>>24]<<24|c.SBOX[o>>>16&255]<<16|c.SBOX[o>>>8&255]<<8|c.SBOX[255&o],o^=a[s/e|0]<<24):e>6&&s%e==4&&(o=c.SBOX[o>>>24]<<24|c.SBOX[o>>>16&255]<<16|c.SBOX[o>>>8&255]<<8|c.SBOX[255&o]),i[s]=i[s-e]^o}for(var u=[],l=0;l<n;l++){var h=n-l,f=i[h-(l%4?0:4)];u[l]=l<4||h<=4?f:c.INV_SUB_MIX[0][c.SBOX[f>>>24]]^c.INV_SUB_MIX[1][c.SBOX[f>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[f>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&f]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(t){return o(t=i(t),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=n.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r},u.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var r=o(t,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),s=n.allocUnsafe(16);return s.writeUInt32BE(r[0],0),s.writeUInt32BE(r[3],4),s.writeUInt32BE(r[2],8),s.writeUInt32BE(r[1],12),s},u.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},t.exports.AES=u},60094:function(t,e,r){var n=r(44920),i=r(36810).Buffer,s=r(13422),o=r(98047),a=r(89825),c=r(42225),u=r(32902);function l(t,e,r,o){s.call(this);var c=i.alloc(4,0);this._cipher=new n.AES(e);var l=this._cipher.encryptBlock(c);this._ghash=new a(l),r=function(t,e,r){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var n=new a(r),s=e.length,o=s%16;n.update(e),o&&n.update(i.alloc(o=16-o,0)),n.update(i.alloc(8,0));var c=8*s,l=i.alloc(8);l.writeUIntBE(c,0,8),n.update(l),t._finID=n.state;var h=i.from(t._finID);return u(h),h}(this,r,l),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}o(l,s),l.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._ghash.update(this._decrypt?t:r),this._len+=t.length,r},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},l.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=l},6165:function(t,e,r){var n=r(11380),i=r(66508),s=r(55415);e.createCipher=e.Cipher=n.createCipher,e.createCipheriv=e.Cipheriv=n.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(s)}},66508:function(t,e,r){var n=r(60094),i=r(36810).Buffer,s=r(33238),o=r(97896),a=r(13422),c=r(44920),u=r(60406);function l(t,e,r){a.call(this),this._cache=new h,this._last=void 0,this._cipher=new c.AES(e),this._prev=i.from(r),this._mode=t,this._autopadding=!0}function h(){this.cache=i.allocUnsafe(0)}function f(t,e,r){var a=s[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof e&&(e=i.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===a.type?new o(a.module,e,r,!0):"auth"===a.type?new n(a.module,e,r,!0):new l(a.module,e,r)}r(98047)(l,a),l.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return i.concat(n)},l.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(16!==e)return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},h.prototype.add=function(t){this.cache=i.concat([this.cache,t])},h.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var r=s[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(e,!1,r.key,r.iv);return f(t,n.key,n.iv)},e.createDecipheriv=f},11380:function(t,e,r){var n=r(33238),i=r(60094),s=r(36810).Buffer,o=r(97896),a=r(13422),c=r(44920),u=r(60406);function l(t,e,r){a.call(this),this._cache=new f,this._cipher=new c.AES(e),this._prev=s.from(r),this._mode=t,this._autopadding=!0}r(98047)(l,a),l.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return s.concat(n)};var h=s.alloc(16,16);function f(){this.cache=s.allocUnsafe(0)}function d(t,e,r){var a=n[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=s.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof r&&(r=s.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new o(a.module,e,r):"auth"===a.type?new i(a.module,e,r):new l(a.module,e,r)}l.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=s.concat([this.cache,t])},f.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},f.prototype.flush=function(){for(var t=16-this.cache.length,e=s.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return s.concat([this.cache,e])},e.createCipheriv=d,e.createCipher=function(t,e){var r=n[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=u(e,!1,r.key,r.iv);return d(t,i.key,i.iv)}},89825:function(t,e,r){var n=r(36810).Buffer,i=n.alloc(16,0);function s(t){var e=n.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function o(t){this.h=t,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}o.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},o.prototype._multiply=function(){for(var t,e,r,n=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=s(i)},o.prototype.update=function(t){var e;for(this.cache=n.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},o.prototype.final=function(t,e){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(s([0,t,0,e])),this.state},t.exports=o},32902:function(t){t.exports=function(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}},62492:function(t,e,r){var n=r(42225);e.encrypt=function(t,e){var r=n(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},e.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return n(i,r)}},81518:function(t,e,r){var n=r(36810).Buffer,i=r(42225);function s(t,e,r){var s=e.length,o=i(e,t._cache);return t._cache=t._cache.slice(s),t._prev=n.concat([t._prev,r?e:o]),o}e.encrypt=function(t,e,r){for(var i,o=n.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=n.allocUnsafe(0)),!(t._cache.length<=e.length)){o=n.concat([o,s(t,e,r)]);break}o=n.concat([o,s(t,e.slice(0,i=t._cache.length),r)]),e=e.slice(i)}return o}},51311:function(t,e,r){var n=r(36810).Buffer;function i(t,e,r){for(var n,i,o=-1,a=0;++o<8;)a+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^(n=e&1<<7-o?128:0)))>>o%8,t._prev=s(t._prev,r?n:i);return a}function s(t,e){var r=t.length,i=-1,s=n.allocUnsafe(t.length);for(t=n.concat([t,n.from([e])]);++i<r;)s[i]=t[i]<<1|t[i+1]>>7;return s}e.encrypt=function(t,e,r){for(var s=e.length,o=n.allocUnsafe(s),a=-1;++a<s;)o[a]=i(t,e[a],r);return o}},7098:function(t,e,r){var n=r(36810).Buffer;function i(t,e,r){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=n.concat([t._prev.slice(1),n.from([r?e:i])]),i}e.encrypt=function(t,e,r){for(var s=e.length,o=n.allocUnsafe(s),a=-1;++a<s;)o[a]=i(t,e[a],r);return o}},38540:function(t,e,r){var n=r(42225),i=r(36810).Buffer,s=r(32902);function o(t){var e=t._cipher.encryptBlockRaw(t._prev);return s(t._prev),e}e.encrypt=function(t,e){var r=Math.ceil(e.length/16),s=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var c=o(t),u=s+16*a;t._cache.writeUInt32BE(c[0],u+0),t._cache.writeUInt32BE(c[1],u+4),t._cache.writeUInt32BE(c[2],u+8),t._cache.writeUInt32BE(c[3],u+12)}var l=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),n(e,l)}},85739:function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},33238:function(t,e,r){var n={ECB:r(85739),CBC:r(62492),CFB:r(81518),CFB8:r(7098),CFB1:r(51311),OFB:r(11922),CTR:r(38540),GCM:r(38540)},i=r(55415);for(var s in i)i[s].module=n[i[s].mode];t.exports=i},11922:function(t,e,r){var n=r(42225);function i(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,i(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),n(e,r)}},97896:function(t,e,r){var n=r(44920),i=r(36810).Buffer,s=r(13422);function o(t,e,r,o){s.call(this),this._cipher=new n.AES(e),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._mode=t}r(98047)(o,s),o.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},t.exports=o},80861:function(t,e,r){var n=r(75278),i=r(6165),s=r(33238),o=r(17182),a=r(60406);function c(t,e,r){if(t=t.toLowerCase(),s[t])return i.createCipheriv(t,e,r);if(o[t])return new n({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function u(t,e,r){if(t=t.toLowerCase(),s[t])return i.createDecipheriv(t,e,r);if(o[t])return new n({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var r,n;if(t=t.toLowerCase(),s[t])r=s[t].key,n=s[t].iv;else{if(!o[t])throw new TypeError("invalid suite type");r=8*o[t].key,n=o[t].iv}var i=a(e,!1,r,n);return c(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=c,e.createDecipher=e.Decipher=function(t,e){var r,n;if(t=t.toLowerCase(),s[t])r=s[t].key,n=s[t].iv;else{if(!o[t])throw new TypeError("invalid suite type");r=8*o[t].key,n=o[t].iv}var i=a(e,!1,r,n);return u(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=u,e.listCiphers=e.getCiphers=function(){return Object.keys(o).concat(i.getCiphers())}},75278:function(t,e,r){var n=r(13422),i=r(77097),s=r(98047),o=r(36810).Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(t){n.call(this);var e,r=t.mode.toLowerCase(),i=a[r];e=t.decrypt?"decrypt":"encrypt";var s=t.key;o.isBuffer(s)||(s=o.from(s)),"des-ede"!==r&&"des-ede-cbc"!==r||(s=o.concat([s,s.slice(0,8)]));var c=t.iv;o.isBuffer(c)||(c=o.from(c)),this._des=i.create({key:s,iv:c,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=c,s(c,n),c.prototype._update=function(t){return o.from(this._des.update(t))},c.prototype._final=function(){return o.from(this._des.final())}},17182:function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},79041:function(t,e,r){var n=r(13857),i=r(13484);function s(t){var e,r=t.modulus.byteLength();do{e=new n(i(r))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function o(t,e){var r=function(t){var e=s(t);return{blinder:e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(e),i=e.modulus.byteLength(),o=new n(t).mul(r.blinder).umod(e.modulus),a=o.toRed(n.mont(e.prime1)),c=o.toRed(n.mont(e.prime2)),u=e.coefficient,l=e.prime1,h=e.prime2,f=a.redPow(e.exponent1).fromRed(),d=c.redPow(e.exponent2).fromRed(),p=f.isub(d).imul(u).umod(l).imul(h);return d.iadd(p).imul(r.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",i)}o.getr=s,t.exports=o},13857:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o=r(32574).Buffer}catch(x){}function a(t,e,r){for(var i=0,s=Math.min(t.length,r),o=0,a=e;a<s;a++){var c,u=t.charCodeAt(a)-48;i<<=4,i|=c=u>=49&&u<=54?u-49+10:u>=17&&u<=22?u-17+10:u,o|=c}return n(!(240&o),"Invalid character in "+t),i}function c(t,e,r,i){for(var s=0,o=0,a=Math.min(t.length,r),c=e;c<a;c++){var u=t.charCodeAt(c)-48;s*=i,o=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&o<i,"Invalid character"),s+=o}return s}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this._strip(),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)this.words[s]|=(o=t[i]|t[i-1]<<8|t[i-2]<<16)<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)this.words[s]|=(o=t[i]|t[i+1]<<8|t[i+2]<<16)<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,s=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303,(s+=24)>=26&&(s-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303),this._strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){u(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(x){s.prototype.inspect=l}else s.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=o/67108864|0;r.words[0]=67108863&o;for(var c=1;c<n;c++){for(var u=a>>>26,l=67108863&a,h=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=h;f++)u+=(o=(i=0|t.words[c-f|0])*(s=0|e.words[f])+l)/67108864|0,l=67108863&o;r.words[c]=0|l,a=0|u}return 0!==a?r.words[c]=0|a:r.length--,r._strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);r=0!=(s=a>>>24-i&16777215)||o!==this.length-1?h[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],l=d[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(l).toString(t);r=(p=p.idivn(l)).isZero()?m+r:h[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},s.prototype._countBits=Math.clz32?function(t){return 32-Math.clz32(t)}:function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)this.words[s]=67108863&(e=(0|r.words[s])+(0|n.words[s])+i),i=e>>>26;for(;0!==i&&s<r.length;s++)this.words[s]=67108863&(e=(0|r.words[s])+i),i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,s,o=t.words,a=e.words,c=r.words,u=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],_=8191&b,w=b>>>13,S=0|o[4],E=8191&S,C=S>>>13,k=0|o[5],A=8191&k,x=k>>>13,T=0|o[6],I=8191&T,R=T>>>13,P=0|o[7],F=8191&P,O=P>>>13,M=0|o[8],B=8191&M,N=M>>>13,D=0|o[9],L=8191&D,j=D>>>13,U=0|a[0],V=8191&U,H=U>>>13,q=0|a[1],K=8191&q,z=q>>>13,W=0|a[2],$=8191&W,G=W>>>13,Q=0|a[3],J=8191&Q,Z=Q>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(h,V))|0)+((8191&(i=(i=Math.imul(h,H))+Math.imul(f,V)|0))<<13)|0;u=((s=Math.imul(f,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,V),i=(i=Math.imul(p,H))+Math.imul(m,V)|0,s=Math.imul(m,H);var yt=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,z)|0)+Math.imul(f,K)|0))<<13)|0;u=((s=s+Math.imul(f,z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,V),i=(i=Math.imul(y,H))+Math.imul(v,V)|0,s=Math.imul(v,H),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,z)|0;var vt=(u+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(f,$)|0))<<13)|0;u=((s=s+Math.imul(f,G)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(_,V),i=(i=Math.imul(_,H))+Math.imul(w,V)|0,s=Math.imul(w,H),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,z)|0)+Math.imul(v,K)|0,s=s+Math.imul(v,z)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,G)|0;var bt=(u+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,J)|0))<<13)|0;u=((s=s+Math.imul(f,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,V),i=(i=Math.imul(E,H))+Math.imul(C,V)|0,s=Math.imul(C,H),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,z)|0)+Math.imul(w,K)|0,s=s+Math.imul(w,z)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,Z)|0;var _t=(u+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,X)|0))<<13)|0;u=((s=s+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(A,V),i=(i=Math.imul(A,H))+Math.imul(x,V)|0,s=Math.imul(x,H),n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,z)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,z)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,G)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(v,J)|0,s=s+Math.imul(v,Z)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var wt=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;u=((s=s+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(I,V),i=(i=Math.imul(I,H))+Math.imul(R,V)|0,s=Math.imul(R,H),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,z)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,z)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(C,$)|0,s=s+Math.imul(C,G)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,J)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var St=(u+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(f,st)|0))<<13)|0;u=((s=s+Math.imul(f,ot)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(F,V),i=(i=Math.imul(F,H))+Math.imul(O,V)|0,s=Math.imul(O,H),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,z)|0)+Math.imul(R,K)|0,s=s+Math.imul(R,z)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,G)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(C,J)|0,s=s+Math.imul(C,Z)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var Et=(u+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(f,ct)|0))<<13)|0;u=((s=s+Math.imul(f,ut)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,H))+Math.imul(N,V)|0,s=Math.imul(N,H),n=n+Math.imul(F,K)|0,i=(i=i+Math.imul(F,z)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,z)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,G)|0,n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(x,J)|0,s=s+Math.imul(x,Z)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(C,X)|0,s=s+Math.imul(C,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,s=s+Math.imul(w,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,ut)|0;var Ct=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;u=((s=s+Math.imul(f,ft)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,H))+Math.imul(j,V)|0,s=Math.imul(j,H),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,z)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,z)|0,n=n+Math.imul(F,$)|0,i=(i=i+Math.imul(F,G)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(C,rt)|0,s=s+Math.imul(C,nt)|0,n=n+Math.imul(_,st)|0,i=(i=i+Math.imul(_,ot)|0)+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,n=n+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ct)|0,s=s+Math.imul(v,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ft)|0;var kt=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((s=s+Math.imul(f,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(L,K),i=(i=Math.imul(L,z))+Math.imul(j,K)|0,s=Math.imul(j,z),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(F,J)|0,i=(i=i+Math.imul(F,Z)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(E,st)|0,i=(i=i+Math.imul(E,ot)|0)+Math.imul(C,st)|0,s=s+Math.imul(C,ot)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ut)|0)+Math.imul(w,ct)|0,s=s+Math.imul(w,ut)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,ft)|0;var At=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,G))+Math.imul(j,$)|0,s=Math.imul(j,G),n=n+Math.imul(B,J)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,Z)|0,n=n+Math.imul(F,X)|0,i=(i=i+Math.imul(F,tt)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(E,ct)|0,i=(i=i+Math.imul(E,ut)|0)+Math.imul(C,ct)|0,s=s+Math.imul(C,ut)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ht)|0,s=s+Math.imul(w,ft)|0;var xt=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,J),i=(i=Math.imul(L,Z))+Math.imul(j,J)|0,s=Math.imul(j,Z),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(F,rt)|0,i=(i=i+Math.imul(F,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ut)|0)+Math.imul(x,ct)|0,s=s+Math.imul(x,ut)|0,n=n+Math.imul(E,ht)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(C,ht)|0,s=s+Math.imul(C,ft)|0;var Tt=(u+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((s=s+Math.imul(w,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,X),i=(i=Math.imul(L,tt))+Math.imul(j,X)|0,s=Math.imul(j,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(F,st)|0,i=(i=i+Math.imul(F,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(I,ct)|0,i=(i=i+Math.imul(I,ut)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,ut)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ft)|0;var It=(u+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,mt)|0)+Math.imul(C,pt)|0))<<13)|0;u=((s=s+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(F,ct)|0,i=(i=i+Math.imul(F,ut)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,ft)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ft)|0;var Rt=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(L,st),i=(i=Math.imul(L,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(B,ct)|0,i=(i=i+Math.imul(B,ut)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,ut)|0,n=n+Math.imul(F,ht)|0,i=(i=i+Math.imul(F,ft)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ft)|0;var Pt=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,ct),i=(i=Math.imul(L,ut))+Math.imul(j,ct)|0,s=Math.imul(j,ut),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,ft)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ft)|0;var Ft=(u+(n=n+Math.imul(F,pt)|0)|0)+((8191&(i=(i=i+Math.imul(F,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,n=Math.imul(L,ht),i=(i=Math.imul(L,ft))+Math.imul(j,ht)|0,s=Math.imul(j,ft);var Ot=(u+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Mt=(u+(n=Math.imul(L,pt))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(j,pt)|0))<<13)|0;return u=((s=Math.imul(j,mt))+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,c[0]=gt,c[1]=yt,c[2]=vt,c[3]=bt,c[4]=_t,c[5]=wt,c[6]=St,c[7]=Et,c[8]=Ct,c[9]=kt,c[10]=At,c[11]=xt,c[12]=Tt,c[13]=It,c[14]=Rt,c[15]=Pt,c[16]=Ft,c[17]=Ot,c[18]=Mt,0!==u&&(c[19]=u,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,c=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=c;u++){var l=(0|t.words[s-u])*(0|e.words[u]),h=67108863&l;a=67108863&(h=h+a|0),i+=(o=(o=o+(l/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function y(t,e,r){return g(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(m=p),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?p(this,t,e):r<1024?g(this,t,e):y(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},v.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=c,f=u,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],v=h*g-f*y;y=h*y+f*g,r[l+d]=p+(g=v),n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(v=c*h-u*f,f=c*f+u*h,h=v)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)r[2*o]=8191&(s+=0|t[o]),r[2*o+1]=8191&(s>>>=13),s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,c,n,i),this.transform(u,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-c[d]*h[d];c[d]=a[d]*h[d]+c[d]*l[d],a[d]=p}return this.conjugate(a,c,n),this.transform(a,c,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),y(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++)e[r]=t.words[r/26|0]>>>r%26&1;return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s;this.words[e]=(0|this.words[e])-a<<r|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,c=r;if(i-=o,i=Math.max(0,i),c){for(var u=0;u<o;u++)c.words[u]=this.words[u];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-s|h>>>s,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return!(this.length<=r||!(this.words[r]&1<<e))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r?this:(0!==e&&r++,this.length=Math.min(r,this.length),0!==e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this._strip())},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s;this._expand(t.length+r);var o=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+o;var a=(0|t.words[i])*e;o=((s-=67108863&a)>>26)-(a/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)o=(s=(0|this.words[i+r])+o)>>26,this.words[i+r]=67108863&s;if(0===o)return this._strip();for(n(-1===o),o=0,i=0;i<this.length;i++)o=(s=-(0|this.words[i])+o)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var r,n=this.clone(),i=t,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==e){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/t|0,r=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(c)):(r.isub(e),a.isub(i),c.isub(o))}return{a:a,b:c,gcd:r.iushln(u)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,this.words[o]=a&=67108863}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(w,_),w.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}t.words[i-10]=s>>>=22,t.length-=0===s&&t.length>10?10:9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];t.words[r]=67108863&(e+=977*n),e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,_),i(E,_),i(C,_),C.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new S;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new C}return b[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=c-1;l>=0;l--){var h=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}c=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new A(t)},i(A,k),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},21129:function(t,e,r){t.exports=r(42063)},28102:function(t,e,r){var n=r(36810).Buffer,i=r(24939),s=r(49134),o=r(98047),a=r(88),c=r(36956),u=r(42063);function l(t){s.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function h(t){s.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){return new l(t)}function d(t){return new h(t)}Object.keys(u).forEach(function(t){u[t].id=n.from(u[t].id,"hex"),u[t.toLowerCase()]=u[t]}),o(l,s.Writable),l.prototype._write=function(t,e,r){this._hash.update(t),r()},l.prototype.update=function(t,e){return"string"==typeof t&&(t=n.from(t,e)),this._hash.update(t),this},l.prototype.sign=function(t,e){this.end();var r=this._hash.digest(),n=a(r,t,this._hashType,this._signType,this._tag);return e?n.toString(e):n},o(h,s.Writable),h.prototype._write=function(t,e,r){this._hash.update(t),r()},h.prototype.update=function(t,e){return"string"==typeof t&&(t=n.from(t,e)),this._hash.update(t),this},h.prototype.verify=function(t,e,r){"string"==typeof e&&(e=n.from(e,r)),this.end();var i=this._hash.digest();return c(e,i,t,this._signType,this._tag)},t.exports={Sign:f,Verify:d,createSign:f,createVerify:d}},88:function(t,e,r){var n=r(36810).Buffer,i=r(84019),s=r(79041),o=r(67871).ec,a=r(58214),c=r(98823),u=r(42236);function l(t,e,r,s){if((t=n.from(t.toArray())).length<e.byteLength()){var o=n.alloc(e.byteLength()-t.length);t=n.concat([o,t])}var a=r.length,c=function(t,e){t=(t=h(t,e)).mod(e);var r=n.from(t.toArray());if(r.length<e.byteLength()){var i=n.alloc(e.byteLength()-r.length);r=n.concat([i,r])}return r}(r,e),u=n.alloc(a);u.fill(1);var l=n.alloc(a);return l=i(s,l).update(u).update(n.from([0])).update(t).update(c).digest(),u=i(s,l).update(u).digest(),{k:l=i(s,l).update(u).update(n.from([1])).update(t).update(c).digest(),v:u=i(s,l).update(u).digest()}}function h(t,e){var r=new a(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function f(t,e,r){var s,o;do{for(s=n.alloc(0);8*s.length<t.bitLength();)e.v=i(r,e.k).update(e.v).digest(),s=n.concat([s,e.v]);o=h(s,t),e.k=i(r,e.k).update(e.v).update(n.from([0])).digest(),e.v=i(r,e.k).update(e.v).digest()}while(-1!==o.cmp(t));return o}function d(t,e,r,n){return t.toRed(a.mont(r)).redPow(e).fromRed().mod(n)}t.exports=function(t,e,r,i,p){var m=c(e);if(m.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(t,e){var r=u[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var i=new o(r).keyFromPrivate(e.privateKey).sign(t);return n.from(i.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==i)throw new Error("wrong private key type");return function(t,e,r){for(var i,s=e.params.priv_key,o=e.params.p,c=e.params.q,u=e.params.g,p=new a(0),m=h(t,c).mod(c),g=!1,y=l(s,c,t,r);!1===g;)p=d(u,i=f(c,y,r),o,c),0===(g=i.invm(c).imul(m.add(s.mul(p))).mod(c)).cmpn(0)&&(g=!1,p=new a(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t)),128&e[0]&&(e=[0].concat(e));var r=[48,t.length+e.length+4,2,t.length];return r=r.concat(t,[2,e.length],e),n.from(r)}(p,g)}(t,m,r)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");t=n.concat([p,t]);for(var g=m.modulus.byteLength(),y=[0,1];t.length+y.length+1<g;)y.push(255);y.push(0);for(var v=-1;++v<t.length;)y.push(t[v]);return s(y,m)},t.exports.getKey=l,t.exports.makeKey=f},36956:function(t,e,r){var n=r(36810).Buffer,i=r(58214),s=r(67871).ec,o=r(98823),a=r(42236);function c(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,e,r,u,l){var h=o(r);if("ec"===h.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(t,e,r){var n=a[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));return new s(n).verify(e,t,r.data.subjectPrivateKey.data)}(t,e,h)}if("dsa"===h.type){if("dsa"!==u)throw new Error("wrong public key type");return function(t,e,r){var n=r.data.p,s=r.data.q,a=r.data.g,u=r.data.pub_key,l=o.signature.decode(t,"der"),h=l.s,f=l.r;c(h,s),c(f,s);var d=i.mont(n),p=h.invm(s);return 0===a.toRed(d).redPow(new i(e).mul(p).mod(s)).fromRed().mul(u.toRed(d).redPow(f.mul(p).mod(s)).fromRed()).mod(n).mod(s).cmp(f)}(t,e,h)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");e=n.concat([l,e]);for(var f=h.modulus.byteLength(),d=[1],p=0;e.length+d.length+2<f;)d.push(255),p++;d.push(0);for(var m=-1;++m<e.length;)d.push(e[m]);d=n.from(d);var g=i.mont(h.modulus);t=(t=new i(t).toRed(g)).redPow(new i(h.publicExponent)),t=n.from(t.fromRed().toArray());var y=p<8?1:0;for(f=Math.min(t.length,d.length),t.length!==d.length&&(y=1),m=-1;++m<f;)y|=t[m]^d[m];return 0===y}},58214:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o=r(32574).Buffer}catch(x){}function a(t,e,r){for(var i=0,s=Math.min(t.length,r),o=0,a=e;a<s;a++){var c,u=t.charCodeAt(a)-48;i<<=4,i|=c=u>=49&&u<=54?u-49+10:u>=17&&u<=22?u-17+10:u,o|=c}return n(!(240&o),"Invalid character in "+t),i}function c(t,e,r,i){for(var s=0,o=0,a=Math.min(t.length,r),c=e;c<a;c++){var u=t.charCodeAt(c)-48;s*=i,o=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&o<i,"Invalid character"),s+=o}return s}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this._strip(),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)this.words[s]|=(o=t[i]|t[i-1]<<8|t[i-2]<<16)<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)this.words[s]|=(o=t[i]|t[i+1]<<8|t[i+2]<<16)<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,s=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303,(s+=24)>=26&&(s-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303),this._strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){u(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(x){s.prototype.inspect=l}else s.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=o/67108864|0;r.words[0]=67108863&o;for(var c=1;c<n;c++){for(var u=a>>>26,l=67108863&a,h=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=h;f++)u+=(o=(i=0|t.words[c-f|0])*(s=0|e.words[f])+l)/67108864|0,l=67108863&o;r.words[c]=0|l,a=0|u}return 0!==a?r.words[c]=0|a:r.length--,r._strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);r=0!=(s=a>>>24-i&16777215)||o!==this.length-1?h[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],l=d[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(l).toString(t);r=(p=p.idivn(l)).isZero()?m+r:h[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},s.prototype._countBits=Math.clz32?function(t){return 32-Math.clz32(t)}:function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)this.words[s]=67108863&(e=(0|r.words[s])+(0|n.words[s])+i),i=e>>>26;for(;0!==i&&s<r.length;s++)this.words[s]=67108863&(e=(0|r.words[s])+i),i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,s,o=t.words,a=e.words,c=r.words,u=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],_=8191&b,w=b>>>13,S=0|o[4],E=8191&S,C=S>>>13,k=0|o[5],A=8191&k,x=k>>>13,T=0|o[6],I=8191&T,R=T>>>13,P=0|o[7],F=8191&P,O=P>>>13,M=0|o[8],B=8191&M,N=M>>>13,D=0|o[9],L=8191&D,j=D>>>13,U=0|a[0],V=8191&U,H=U>>>13,q=0|a[1],K=8191&q,z=q>>>13,W=0|a[2],$=8191&W,G=W>>>13,Q=0|a[3],J=8191&Q,Z=Q>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(h,V))|0)+((8191&(i=(i=Math.imul(h,H))+Math.imul(f,V)|0))<<13)|0;u=((s=Math.imul(f,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,V),i=(i=Math.imul(p,H))+Math.imul(m,V)|0,s=Math.imul(m,H);var yt=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,z)|0)+Math.imul(f,K)|0))<<13)|0;u=((s=s+Math.imul(f,z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,V),i=(i=Math.imul(y,H))+Math.imul(v,V)|0,s=Math.imul(v,H),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,z)|0;var vt=(u+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(f,$)|0))<<13)|0;u=((s=s+Math.imul(f,G)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(_,V),i=(i=Math.imul(_,H))+Math.imul(w,V)|0,s=Math.imul(w,H),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,z)|0)+Math.imul(v,K)|0,s=s+Math.imul(v,z)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,G)|0;var bt=(u+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,J)|0))<<13)|0;u=((s=s+Math.imul(f,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,V),i=(i=Math.imul(E,H))+Math.imul(C,V)|0,s=Math.imul(C,H),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,z)|0)+Math.imul(w,K)|0,s=s+Math.imul(w,z)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,Z)|0;var _t=(u+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,X)|0))<<13)|0;u=((s=s+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(A,V),i=(i=Math.imul(A,H))+Math.imul(x,V)|0,s=Math.imul(x,H),n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,z)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,z)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,G)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(v,J)|0,s=s+Math.imul(v,Z)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var wt=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;u=((s=s+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(I,V),i=(i=Math.imul(I,H))+Math.imul(R,V)|0,s=Math.imul(R,H),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,z)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,z)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(C,$)|0,s=s+Math.imul(C,G)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,J)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var St=(u+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(f,st)|0))<<13)|0;u=((s=s+Math.imul(f,ot)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(F,V),i=(i=Math.imul(F,H))+Math.imul(O,V)|0,s=Math.imul(O,H),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,z)|0)+Math.imul(R,K)|0,s=s+Math.imul(R,z)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,G)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(C,J)|0,s=s+Math.imul(C,Z)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var Et=(u+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(f,ct)|0))<<13)|0;u=((s=s+Math.imul(f,ut)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,H))+Math.imul(N,V)|0,s=Math.imul(N,H),n=n+Math.imul(F,K)|0,i=(i=i+Math.imul(F,z)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,z)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,G)|0,n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(x,J)|0,s=s+Math.imul(x,Z)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(C,X)|0,s=s+Math.imul(C,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,s=s+Math.imul(w,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,ut)|0;var Ct=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;u=((s=s+Math.imul(f,ft)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,H))+Math.imul(j,V)|0,s=Math.imul(j,H),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,z)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,z)|0,n=n+Math.imul(F,$)|0,i=(i=i+Math.imul(F,G)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(C,rt)|0,s=s+Math.imul(C,nt)|0,n=n+Math.imul(_,st)|0,i=(i=i+Math.imul(_,ot)|0)+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,n=n+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ct)|0,s=s+Math.imul(v,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ft)|0;var kt=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((s=s+Math.imul(f,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(L,K),i=(i=Math.imul(L,z))+Math.imul(j,K)|0,s=Math.imul(j,z),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(F,J)|0,i=(i=i+Math.imul(F,Z)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(E,st)|0,i=(i=i+Math.imul(E,ot)|0)+Math.imul(C,st)|0,s=s+Math.imul(C,ot)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ut)|0)+Math.imul(w,ct)|0,s=s+Math.imul(w,ut)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,ft)|0;var At=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,G))+Math.imul(j,$)|0,s=Math.imul(j,G),n=n+Math.imul(B,J)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,Z)|0,n=n+Math.imul(F,X)|0,i=(i=i+Math.imul(F,tt)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(E,ct)|0,i=(i=i+Math.imul(E,ut)|0)+Math.imul(C,ct)|0,s=s+Math.imul(C,ut)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ht)|0,s=s+Math.imul(w,ft)|0;var xt=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,J),i=(i=Math.imul(L,Z))+Math.imul(j,J)|0,s=Math.imul(j,Z),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(F,rt)|0,i=(i=i+Math.imul(F,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ut)|0)+Math.imul(x,ct)|0,s=s+Math.imul(x,ut)|0,n=n+Math.imul(E,ht)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(C,ht)|0,s=s+Math.imul(C,ft)|0;var Tt=(u+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((s=s+Math.imul(w,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,X),i=(i=Math.imul(L,tt))+Math.imul(j,X)|0,s=Math.imul(j,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(F,st)|0,i=(i=i+Math.imul(F,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(I,ct)|0,i=(i=i+Math.imul(I,ut)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,ut)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ft)|0;var It=(u+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,mt)|0)+Math.imul(C,pt)|0))<<13)|0;u=((s=s+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(F,ct)|0,i=(i=i+Math.imul(F,ut)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,ft)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ft)|0;var Rt=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(L,st),i=(i=Math.imul(L,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(B,ct)|0,i=(i=i+Math.imul(B,ut)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,ut)|0,n=n+Math.imul(F,ht)|0,i=(i=i+Math.imul(F,ft)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ft)|0;var Pt=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,ct),i=(i=Math.imul(L,ut))+Math.imul(j,ct)|0,s=Math.imul(j,ut),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,ft)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ft)|0;var Ft=(u+(n=n+Math.imul(F,pt)|0)|0)+((8191&(i=(i=i+Math.imul(F,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,n=Math.imul(L,ht),i=(i=Math.imul(L,ft))+Math.imul(j,ht)|0,s=Math.imul(j,ft);var Ot=(u+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Mt=(u+(n=Math.imul(L,pt))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(j,pt)|0))<<13)|0;return u=((s=Math.imul(j,mt))+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,c[0]=gt,c[1]=yt,c[2]=vt,c[3]=bt,c[4]=_t,c[5]=wt,c[6]=St,c[7]=Et,c[8]=Ct,c[9]=kt,c[10]=At,c[11]=xt,c[12]=Tt,c[13]=It,c[14]=Rt,c[15]=Pt,c[16]=Ft,c[17]=Ot,c[18]=Mt,0!==u&&(c[19]=u,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,c=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=c;u++){var l=(0|t.words[s-u])*(0|e.words[u]),h=67108863&l;a=67108863&(h=h+a|0),i+=(o=(o=o+(l/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function y(t,e,r){return g(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(m=p),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?p(this,t,e):r<1024?g(this,t,e):y(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},v.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=c,f=u,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],v=h*g-f*y;y=h*y+f*g,r[l+d]=p+(g=v),n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(v=c*h-u*f,f=c*f+u*h,h=v)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)r[2*o]=8191&(s+=0|t[o]),r[2*o+1]=8191&(s>>>=13),s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,c,n,i),this.transform(u,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-c[d]*h[d];c[d]=a[d]*h[d]+c[d]*l[d],a[d]=p}return this.conjugate(a,c,n),this.transform(a,c,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),y(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++)e[r]=t.words[r/26|0]>>>r%26&1;return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s;this.words[e]=(0|this.words[e])-a<<r|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,c=r;if(i-=o,i=Math.max(0,i),c){for(var u=0;u<o;u++)c.words[u]=this.words[u];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-s|h>>>s,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return!(this.length<=r||!(this.words[r]&1<<e))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r?this:(0!==e&&r++,this.length=Math.min(r,this.length),0!==e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this._strip())},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s;this._expand(t.length+r);var o=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+o;var a=(0|t.words[i])*e;o=((s-=67108863&a)>>26)-(a/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)o=(s=(0|this.words[i+r])+o)>>26,this.words[i+r]=67108863&s;if(0===o)return this._strip();for(n(-1===o),o=0,i=0;i<this.length;i++)o=(s=-(0|this.words[i])+o)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var r,n=this.clone(),i=t,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==e){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/t|0,r=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(c)):(r.isub(e),a.isub(i),c.isub(o))}return{a:a,b:c,gcd:r.iushln(u)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,this.words[o]=a&=67108863}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(w,_),w.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}t.words[i-10]=s>>>=22,t.length-=0===s&&t.length>10?10:9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];t.words[r]=67108863&(e+=977*n),e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,_),i(E,_),i(C,_),C.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new S;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new C}return b[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=c-1;l>=0;l--){var h=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}c=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new A(t)},i(A,k),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},83227:function(t){"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e,n;function i(e,n,i){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,i))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(t){return String(t)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(t,e,r){var i,s,o,a;if("string"==typeof e&&"not "===e.substr(0,"not ".length)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))s="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var c=("number"!=typeof a&&(a=0),a+".".length>(o=t).length||-1===o.indexOf(".",a)?"argument":"property");s='The "'.concat(t,'" ').concat(c," ").concat(i," ").concat(n(e,"type"))}return s+". Received type ".concat(typeof r)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},34187:function(t,e,r){"use strict";var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=u;var i=r(43644),s=r(82931);r(98047)(u,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var c=o[a];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);i.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},78129:function(t,e,r){"use strict";t.exports=i;var n=r(3569);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(98047)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},43644:function(t,e,r){"use strict";var n;t.exports=C,C.ReadableState=E,r(23480);var i,s=function(t,e){return t.listeners(e).length},o=r(97358),a=r(93915).Buffer,c=global.Uint8Array||function(){},u=r(61758);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,f,d=r(24996),p=r(97374),m=r(14381).getHighWaterMark,g=r(83227).q,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(98047)(C,o);var w=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function E(t,e,i){n=n||r(34187),"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!(t=t||{}).objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=r(95566).s),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function C(t){if(n=n||r(34187),!(this instanceof C))return new C(t);this._readableState=new E(t,this,this instanceof n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function k(t,e,r,n,s){i("readableAddChunk",e);var o,u=t._readableState;if(null===e)u.reading=!1,function(t,e){if(i("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?I(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,R(t)))}}(t,u);else if(s||(o=function(t,e){var r,n;return a.isBuffer(n=e)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],e)),r}(u,e)),o)w(t,o);else if(u.objectMode||e&&e.length>0)if("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),n)u.endEmitted?w(t,new _):A(t,u,e,!0);else if(u.ended)w(t,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(e=u.decoder.write(e),u.objectMode||0!==e.length?A(t,u,e,!1):P(t,u)):A(t,u,e,!1)}else n||(u.reading=!1,P(t,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function A(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&I(t)),P(t,e)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(t,e){e(t)},C.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=a.from(t,e),e=""),r=!0),k(this,t,e,!1,r)},C.prototype.unshift=function(t){return k(this,t,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){l||(l=r(95566).s);var e=new l(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var x=1073741824;function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function I(t){var e=t._readableState;i("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(i("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(R,t))}function R(t){var e=t._readableState;i("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,N(t)}function P(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(F,t,e))}function F(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(i("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function O(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function M(t){i("readable nexttick read 0"),t.read(0)}function B(t,e){i("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),N(t),e.flowing&&!e.reading&&t.read(0)}function N(t){var e=t._readableState;for(i("flow",e.flowing);e.flowing&&null!==t.read(););}function D(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function L(t){var e=t._readableState;i("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(j,e,t))}function j(t,e){if(i("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function U(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}C.prototype.read=function(t){i("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return i("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):I(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&L(this),null;var n,s=e.needReadable;return i("need readable",s),(0===e.length||e.length-t<e.highWaterMark)&&i("length less than watermark",s=!0),e.ended||e.reading?i("reading or ended",s=!1):s&&(i("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(r,e))),null===(n=t>0?D(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&L(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(t){w(this,new b("_read()"))},C.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,e);var o=e&&!1===e.end||t===process.stdout||t===process.stderr?p:a;function a(){i("onend"),t.end()}n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",function e(s,o){i("onunpipe"),s===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,i("cleanup"),t.removeListener("close",f),t.removeListener("finish",d),t.removeListener("drain",c),t.removeListener("error",h),t.removeListener("unpipe",e),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",l),u=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||c())});var c=function(t){return function(){var e=t._readableState;i("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,N(t))}}(r);t.on("drain",c);var u=!1;function l(e){i("ondata");var s=t.write(e);i("dest.write",s),!1===s&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==U(n.pipes,t))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(e){i("onerror",e),p(),t.removeListener("error",h),0===s(t,"error")&&w(t,e)}function f(){t.removeListener("finish",d),p()}function d(){i("onfinish"),t.removeListener("close",f),p()}function p(){i("unpipe"),r.unpipe(t)}return r.on("data",l),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(r):t._events.error=[r,t._events.error]:t.on(e,r)}(t,"error",h),t.once("close",f),t.once("finish",d),t.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),t},C.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=U(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},C.prototype.addListener=C.prototype.on=function(t,e){var r=o.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?I(this):n.reading||process.nextTick(M,this))),r},C.prototype.removeListener=function(t,e){var r=o.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick(O,this),r},C.prototype.removeAllListeners=function(t){var e=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick(O,this),e},C.prototype.resume=function(){var t=this._readableState;return t.flowing||(i("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(B,t,e))}(this,t)),t.paused=!1,this},C.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var s in t.on("end",function(){if(i("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(s){i("wrapped data"),r.decoder&&(s=r.decoder.write(s)),r.objectMode&&null==s||(r.objectMode||s&&s.length)&&(e.push(s)||(n=!0,t.pause()))}),t)void 0===this[s]&&"function"==typeof t[s]&&(this[s]=function(e){return function(){return t[e].apply(t,arguments)}}(s));for(var o=0;o<S.length;o++)t.on(S[o],this.emit.bind(this,S[o]));return this._read=function(e){i("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(56044)),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),C._fromList=D,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(t,e){return void 0===f&&(f=r(48168)),f(C,t,e)})},3569:function(t,e,r){"use strict";t.exports=l;var n=r(83227).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(34187);function u(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);c.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(e,r){f(t,e,r)})}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}r(98047)(l,c),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,function(t){e(t)})}},82931:function(t,e,r){"use strict";function n(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(void 0),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var i;t.exports=C,C.WritableState=E;var s,o={deprecate:r(55688)},a=r(97358),c=r(93915).Buffer,u=global.Uint8Array||function(){},l=r(97374),h=r(14381).getHighWaterMark,f=r(83227).q,d=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,v=f.ERR_STREAM_NULL_VALUES,b=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function S(){}function E(t,e,s){i=i||r(34187),"boolean"!=typeof s&&(s=e instanceof i),this.objectMode=!!(t=t||{}).objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(R,t,e),t._writableState.errorEmitted=!0,w(t,n)):(i(n),t._writableState.errorEmitted=!0,w(t,n),R(t,e))}(t,r,n,e,i);else{var s=T(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||x(t,r),n?process.nextTick(A,t,r,s,i):A(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function C(t){var e=this instanceof(i=i||r(34187));if(!e&&!s.call(C,this))return new C(t);this._writableState=new E(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function k(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function A(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),R(t,e)}function x(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=new Array(e.bufferedRequestCount),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,k(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new n(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk;if(k(t,e,!1,e.objectMode?1:c.length,c,r.encoding,r.callback),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(t,e){t._final(function(r){e.pendingcb--,r&&w(t,r),e.prefinished=!0,t.emit("prefinish"),R(t,e)})}function R(t,e){var r=T(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(I,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(98047)(C,a),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===C&&t&&t._writableState instanceof E}})):s=function(t){return t instanceof this},C.prototype.pipe=function(){w(this,new g)},C.prototype.write=function(t,e,r){var n,i=this._writableState,s=!1,o=!i.objectMode&&(c.isBuffer(n=t)||n instanceof u);return o&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=S),i.ending?function(t,e){var r=new b;w(t,r),process.nextTick(e,r)}(this,r):(o||function(t,e,r,n){var i;return null===r?i=new v:"string"==typeof r||e.objectMode||(i=new d("chunk",["string","Buffer"],r)),!i||(w(t,i),process.nextTick(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,s=function(t,e,r,n,i,s){if(!r){var o=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r)),e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else k(t,e,!1,a,n,i,s);return u}(this,i,o,t,e,r)),s},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||x(this,t))},C.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(t,e,r){r(new p("_write()"))},C.prototype._writev=null,C.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,R(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(t,e){e(t)}},56044:function(t,e,r){"use strict";var n;function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(83342),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[o];if(null!==e){var r=t[f].read();null!==r&&(t[l]=null,t[o]=null,t[a]=null,e(d(r,!1)))}}function m(t){process.nextTick(p,t)}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise(function(e,r){process.nextTick(function(){t[c]?r(t[c]):e(d(void 0,!0))})});var r,n=this[l];if(n)r=new Promise(function(t,e){return function(r,n){t.then(function(){e[u]?r(d(void 0,!0)):e[h](r,n)},n)}}(n,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(d(i,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,function(){return this}),i(n,"return",function(){var t=this;return new Promise(function(e,r){t[f].destroy(null,function(t){t?r(t):e(d(void 0,!0))})})}),n),g);t.exports=function(t){var e,r=Object.create(y,(i(e={},f,{value:t,writable:!0}),i(e,o,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,u,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var n=r[f].read();n?(r[l]=null,r[o]=null,r[a]=null,t(d(n,!1))):(r[o]=t,r[a]=e)},writable:!0}),e));return r[l]=null,s(t,function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[a];return null!==e&&(r[l]=null,r[o]=null,r[a]=null,e(t)),void(r[c]=t)}var n=r[o];null!==n&&(r[l]=null,r[o]=null,r[a]=null,n(d(void 0,!0))),r[u]=!0}),t.on("readable",m.bind(null,r)),r}},24996:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(93915).Buffer,o=r(61758).inspect,a=o&&o.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e;return(e=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e=s.allocUnsafe(t>>>0),r=this.head,n=0;r;)s.prototype.copy.call(r.data,e,n),n+=r.data.length,r=r.next;return e}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,s=t>i.length?i.length:t;if(n+=s===i.length?i:i.slice(0,t),0==(t-=s)){s===i.length?(++r,this.head=e.next?e.next:this.tail=null):(this.head=e,e.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,this.head=r.next?r.next:this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:a,value:function(t,e){return o(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){i(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},e,{depth:0,customInspect:!1}))}}])&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(t.prototype,e),t}()},97374:function(t){"use strict";function e(t,e){n(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function n(t,e){t.emit("error",e)}t.exports={destroy:function(t,i){var s=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(i?i(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,t)):process.nextTick(n,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!i&&t?s._writableState?s._writableState.errorEmitted?process.nextTick(r,s):(s._writableState.errorEmitted=!0,process.nextTick(e,s,t)):process.nextTick(e,s,t):i?(process.nextTick(r,s),i(t)):process.nextTick(r,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},83342:function(t,e,r){"use strict";var n=r(83227).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,c=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,o||s.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){o=!1,h=!0,a||s.call(e)},d=function(t){s.call(e,t)},p=function(){var t;return o&&!h?(e._readableState&&e._readableState.ended||(t=new n),s.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new n),s.call(e,t)):void 0},m=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",p),e.req?m():e.on("request",m)):a&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",f),e.on("finish",l),!1!==r.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",l),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},48168:function(t){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},16388:function(t,e,r){"use strict";var n,i=r(83227).q,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function c(t,e,i,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",function(){a=!0}),void 0===n&&(n=r(83342)),n(t,{readable:e,writable:i},function(t){if(t)return s(t);a=!0,s()});var c=!1;return function(e){if(!a&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}function u(t){t()}function l(t,e){return t.pipe(e)}function h(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}t.exports=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=h(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var o=e.map(function(t,r){var s=r<e.length-1;return c(t,s,r>0,function(t){n||(n=t),t&&o.forEach(u),s||(o.forEach(u),i(n))})});return e.reduce(l)}},14381:function(t,e,r){"use strict";var n=r(83227).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var s=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}},97358:function(t,e,r){t.exports=r(23480).EventEmitter},49134:function(t,e,r){(e=t.exports=r(43644)).Stream=e,e.Readable=e,e.Writable=r(82931),e.Duplex=r(34187),e.Transform=r(3569),e.PassThrough=r(78129),e.finished=r(83342),e.pipeline=r(16388)},95566:function(t,e,r){"use strict";var n=r(36810).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.s=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},s.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=o(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},39202:function(t,e,r){"use strict";var n=r(93915).Buffer,i=r(93915).SlowBuffer;function s(t,e){if(!n.isBuffer(t)||!n.isBuffer(e))return!1;if(t.length!==e.length)return!1;for(var r=0,i=0;i<t.length;i++)r|=t[i]^e[i];return 0===r}t.exports=s,s.install=function(){n.prototype.equal=i.prototype.equal=function(t){return s(this,t)}};var o=n.prototype.equal,a=i.prototype.equal;s.restore=function(){n.prototype.equal=o,i.prototype.equal=a}},42225:function(t){t.exports=function(t,e){for(var r=Math.min(t.length,e.length),n=new Buffer(r),i=0;i<r;++i)n[i]=t[i]^e[i];return n}},93915:function(t,e,r){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const n=r(73777),i=r(48938),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=a(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Q(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Q(t,ArrayBuffer)||t&&Q(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Q(t,SharedArrayBuffer)||t&&Q(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return c.from(n,e,r);const i=function(t){if(c.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||J(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function f(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,c.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Q(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return k(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){let s,o=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===c)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){let r=!0;for(let n=0;n<c;n++)if(u(t,s+n)!==u(e,n)){r=!1;break}if(r)return s}return-1}function _(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(J(n))return o;t[r+o]=n}return o}function w(t,e,r,n){return G(W(e,t.length-r),t,r,n)}function S(t,e,r,n){return G(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function E(t,e,r,n){return G($(e),t,r,n)}function C(t,e,r,n){return G(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function k(t,e,r){return n.fromByteArray(0===e&&r===t.length?t:t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,a,c;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(c=(31&e)<<6|63&r,c>127&&(s=c));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(c=(15&e)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=x));return r}(n)}e.kMaxLength=o,(c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(Q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=c.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Q(e,Uint8Array))i+e.length>n.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):g.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(t,e,r,n,i){if(Q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const a=Math.min(s,o),u=this.slice(n,i),l=t.slice(e,r);for(let c=0;c<a;++c)if(u[c]!==l[c]){s=u[c],o=l[c];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return S(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function I(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=Z[t[s]];return i}function P(t,e,r){const n=t.slice(e,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function F(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,n,i,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function M(t,e,r,n,i){H(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function B(t,e,r,n,i){H(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function N(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,s){return e=+e,r>>>=0,s||N(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,s){return e=+e,r>>>=0,s||N(t,0,r,8),i.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||F(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||F(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||F(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Y(function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))}),c.prototype.readBigUInt64BE=Y(function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return t>>>=0,e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||F(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||F(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Y(function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];return void 0!==e&&void 0!==r||K(t,this.length-8),(BigInt(this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24))<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)}),c.prototype.readBigInt64BE=Y(function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)}),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||F(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||F(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||F(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||F(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||O(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||O(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Y(function(t,e=0){return M(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Y(function(t,e=0){return B(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Y(function(t,e=0){return M(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Y(function(t,e=0){return B(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=c.isBuffer(t)?t:c.from(t,n),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const j={};function U(t,e,r){j[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function V(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function H(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new j.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){q(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||K(e,t.length-(r+1))}(n,i,s)}function q(t,e){if("number"!=typeof t)throw new j.ERR_INVALID_ARG_TYPE(e,"number",t)}function K(t,e,r){if(Math.floor(t)!==t)throw q(t,r),new j.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}U("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),U("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=V(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);const z=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function $(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Q(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Y(t){return"undefined"==typeof BigInt?X:t}function X(){throw new Error("BigInt not supported")}},69661:function(t,e,r){"use strict";var n=r(38719),i=r(34520),s=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&s(t,".prototype.")>-1?i(r):r}},34520:function(t,e,r){"use strict";var n=r(77077),i=r(38719),s=i("%Function.prototype.apply%"),o=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||n.call(o,s),c=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(f){u=null}t.exports=function(t){var e=a(n,o,arguments);if(c&&u){var r=c(e,"length");r.configurable&&u(e,"length",{value:1+l(0,t.length-(arguments.length-1))})}return e};var h=function(){return a(n,s,arguments)};u?u(t.exports,"apply",{value:h}):t.exports.apply=h},13422:function(t,e,r){var n=r(36810).Buffer,i=r(53518).Transform,s=r(77791).s;function o(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(98047)(o,i),o.prototype.update=function(t,e,r){"string"==typeof t&&(t=n.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}},o.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)},o.prototype._finalOrDigest=function(t){var e=this.__final()||n.alloc(0);return t&&(e=this._toString(e,t,!0)),e},o.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new s(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n},t.exports=o},7063:function(t,e,r){var n=r(67871),i=r(52327);t.exports=function(t){return new o(t)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(t){this.curveType=s[t],this.curveType||(this.curveType={name:t}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function a(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return e?n.toString(e):n}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,o.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},o.prototype.computeSecret=function(t,e,r){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),a(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},o.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(r[0]=r[r.length-1]%2?7:6),a(r,t)},o.prototype.getPrivateKey=function(t){return a(this.keys.getPrivate(),t)},o.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this},o.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new i(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},24939:function(t,e,r){"use strict";var n=r(98047),i=r(68334),s=r(91605),o=r(58675),a=r(13422);function c(t){a.call(this,"digest"),this._hash=t}n(c,a),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new s:new c(o(t))}},30390:function(t,e,r){var n=r(68334);t.exports=function(t){return(new n).update(t).digest()}},84019:function(t,e,r){"use strict";var n=r(98047),i=r(59228),s=r(13422),o=r(36810).Buffer,a=r(30390),c=r(91605),u=r(58675),l=o.alloc(128);function h(t,e){s.call(this,"digest"),"string"==typeof e&&(e=o.from(e));var r="sha512"===t||"sha384"===t?128:64;this._alg=t,this._key=e,e.length>r?e=("rmd160"===t?new c:u(t)).update(e).digest():e.length<r&&(e=o.concat([e,l],r));for(var n=this._ipad=o.allocUnsafe(r),i=this._opad=o.allocUnsafe(r),a=0;a<r;a++)n[a]=54^e[a],i[a]=92^e[a];this._hash="rmd160"===t?new c:u(t),this._hash.update(n)}n(h,s),h.prototype._update=function(t){this._hash.update(t)},h.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new h("rmd160",e):"md5"===t?new i(a,e):new h(t,e)}},59228:function(t,e,r){"use strict";var n=r(98047),i=r(36810).Buffer,s=r(13422),o=i.alloc(128),a=64;function c(t,e){s.call(this,"digest"),"string"==typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=i.concat([e,o],a));for(var r=this._ipad=i.allocUnsafe(a),n=this._opad=i.allocUnsafe(a),c=0;c<a;c++)r[c]=54^e[c],n[c]=92^e[c];this._hash=[r]}n(c,s),c.prototype._update=function(t){this._hash.push(t)},c.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=c},77236:function(t,e,r){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=r(13484),e.createHash=e.Hash=r(24939),e.createHmac=e.Hmac=r(84019);var n=r(21129),i=Object.keys(n),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return s};var o=r(15867);e.pbkdf2=o.pbkdf2,e.pbkdf2Sync=o.pbkdf2Sync;var a=r(80861);e.Cipher=a.Cipher,e.createCipher=a.createCipher,e.Cipheriv=a.Cipheriv,e.createCipheriv=a.createCipheriv,e.Decipher=a.Decipher,e.createDecipher=a.createDecipher,e.Decipheriv=a.Decipheriv,e.createDecipheriv=a.createDecipheriv,e.getCiphers=a.getCiphers,e.listCiphers=a.listCiphers;var c=r(79960);e.DiffieHellmanGroup=c.DiffieHellmanGroup,e.createDiffieHellmanGroup=c.createDiffieHellmanGroup,e.getDiffieHellman=c.getDiffieHellman,e.createDiffieHellman=c.createDiffieHellman,e.DiffieHellman=c.DiffieHellman;var u=r(28102);e.createSign=u.createSign,e.Sign=u.Sign,e.createVerify=u.createVerify,e.Verify=u.Verify,e.createECDH=r(7063);var l=r(37941);e.publicEncrypt=l.publicEncrypt,e.privateEncrypt=l.privateEncrypt,e.publicDecrypt=l.publicDecrypt,e.privateDecrypt=l.privateDecrypt;var h=r(72377);e.randomFill=h.randomFill,e.randomFillSync=h.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},77097:function(t,e,r){"use strict";e.utils=r(53753),e.Cipher=r(53298),e.DES=r(58290),e.CBC=r(29734),e.EDE=r(65538)},29734:function(t,e,r){"use strict";var n=r(77125),i=r(98047),s={};function o(t){n.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var r=Object.keys(s),n=0;n<r.length;n++){var o=r[n];e.prototype[o]=s[o]}return e.create=function(t){return new e(t)},e},s._cbcInit=function(){var t=new o(this.options.iv);this._cbcState=t},s._update=function(t,e,r,n){var i=this.constructor.super_.prototype,s=this._cbcState.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)s[o]^=t[e+o];for(i._update.call(this,s,0,r,n),o=0;o<this.blockSize;o++)s[o]=r[n+o]}else{for(i._update.call(this,t,e,r,n),o=0;o<this.blockSize;o++)r[n+o]^=s[o];for(o=0;o<this.blockSize;o++)s[o]=t[e+o]}}},53298:function(t,e,r){"use strict";var n=r(77125);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),n=0;n<r;n++)this.buffer[this.bufferOff+n]=t[e+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,r=0,n=new Array(((this.bufferOff+t.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(n,r)));for(var i=t.length-(t.length-e)%this.blockSize;e<i;e+=this.blockSize)this._update(t,e,n,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return n},i.prototype._updateDecrypt=function(t){for(var e=0,r=0,n=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)e+=this._buffer(t,e),r+=this._flushBuffer(i,r);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,r;return t&&(e=this.update(t)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},58290:function(t,e,r){"use strict";var n=r(77125),i=r(98047),s=r(53753),o=r(53298);function a(){this.tmp=new Array(2),this.keys=null}function c(t){o.call(this,t);var e=new a;this._desState=e,this.deriveKeys(e,t.key)}i(c,o),t.exports=c,c.create=function(t){return new c(t)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(t,e){t.keys=new Array(32),n.equal(e.length,this.blockSize,"Invalid key length");var r=s.readUInt32BE(e,0),i=s.readUInt32BE(e,4);s.pc1(r,i,t.tmp,0),r=t.tmp[0],i=t.tmp[1];for(var o=0;o<t.keys.length;o+=2){var a=u[o>>>1];r=s.r28shl(r,a),i=s.r28shl(i,a),s.pc2(r,i,t.keys,o)}},c.prototype._update=function(t,e,r,n){var i=this._desState,o=s.readUInt32BE(t,e),a=s.readUInt32BE(t,e+4);s.ip(o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,a,i.tmp,0):this._decrypt(i,o,a,i.tmp,0),a=i.tmp[1],s.writeUInt32BE(r,o=i.tmp[0],n),s.writeUInt32BE(r,a,n+4)},c.prototype._pad=function(t,e){for(var r=t.length-e,n=e;n<t.length;n++)t[n]=r;return!0},c.prototype._unpad=function(t){for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)n.equal(t[r],e);return t.slice(0,t.length-e)},c.prototype._encrypt=function(t,e,r,n,i){for(var o=e,a=r,c=0;c<t.keys.length;c+=2){var u=t.keys[c],l=t.keys[c+1];s.expand(a,t.tmp,0);var h=s.substitute(u^=t.tmp[0],l^=t.tmp[1]),f=a;a=(o^s.permute(h))>>>0,o=f}s.rip(a,o,n,i)},c.prototype._decrypt=function(t,e,r,n,i){for(var o=r,a=e,c=t.keys.length-2;c>=0;c-=2){var u=t.keys[c],l=t.keys[c+1];s.expand(o,t.tmp,0);var h=s.substitute(u^=t.tmp[0],l^=t.tmp[1]),f=o;o=(a^s.permute(h))>>>0,a=f}s.rip(o,a,n,i)}},65538:function(t,e,r){"use strict";var n=r(77125),i=r(98047),s=r(53298),o=r(58290);function a(t,e){n.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),s=e.slice(16,24);this.ciphers="encrypt"===t?[o.create({type:"encrypt",key:r}),o.create({type:"decrypt",key:i}),o.create({type:"encrypt",key:s})]:[o.create({type:"decrypt",key:s}),o.create({type:"encrypt",key:i}),o.create({type:"decrypt",key:r})]}function c(t){s.call(this,t);var e=new a(this.type,this.options.key);this._edeState=e}i(c,s),t.exports=c,c.create=function(t){return new c(t)},c.prototype._update=function(t,e,r,n){var i=this._edeState;i.ciphers[0]._update(t,e,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},c.prototype._pad=o.prototype._pad,c.prototype._unpad=o.prototype._unpad},53753:function(t,e){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,r){t[0+r]=e>>>24,t[1+r]=e>>>16&255,t[2+r]=e>>>8&255,t[3+r]=255&e},e.ip=function(t,e,r,n){for(var i=0,s=0,o=6;o>=0;o-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>>a+o&1}for(o=6;o>=0;o-=2){for(a=1;a<=25;a+=8)s<<=1,s|=e>>>a+o&1;for(a=1;a<=25;a+=8)s<<=1,s|=t>>>a+o&1}r[n+0]=i>>>0,r[n+1]=s>>>0},e.rip=function(t,e,r,n){for(var i=0,s=0,o=0;o<4;o++)for(var a=24;a>=0;a-=8)i<<=1,i|=e>>>a+o&1,i<<=1,i|=t>>>a+o&1;for(o=4;o<8;o++)for(a=24;a>=0;a-=8)s<<=1,s|=e>>>a+o&1,s<<=1,s|=t>>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},e.pc1=function(t,e,r,n){for(var i=0,s=0,o=7;o>=5;o--){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+o&1}for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+o&1;for(o=1;o<=3;o++){for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1;for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1}for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,n,i){for(var s=0,o=0,a=r.length>>>1,c=0;c<a;c++)s<<=1,s|=t>>>r[c]&1;for(c=a;c<r.length;c++)o<<=1,o|=e>>>r[c]&1;n[i+0]=s>>>0,n[i+1]=o>>>0},e.expand=function(t,e,r){var n=0,i=0;n=(1&t)<<5|t>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=t>>>s&63;for(s=11;s>=3;s-=4)i|=t>>>s&63,i<<=6;i|=(31&t)<<1|t>>>31,e[r+0]=n>>>0,e[r+1]=i>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var r=0,i=0;i<4;i++)r<<=4,r|=n[64*i+(t>>>18-6*i&63)];for(i=0;i<4;i++)r<<=4,r|=n[256+64*i+(e>>>18-6*i&63)];return r>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,r=0;r<i.length;r++)e<<=1,e|=t>>>i[r]&1;return e>>>0},e.padSplit=function(t,e,r){for(var n=t.toString(2);n.length<e;)n="0"+n;for(var i=[],s=0;s<e;s+=r)i.push(n.slice(s,s+r));return i.join(" ")}},79960:function(t,e,r){var n=r(3879),i=r(61930),s=r(67013),o={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(t){var e=new Buffer(i[t].prime,"hex"),r=new Buffer(i[t].gen,"hex");return new s(e,r)},e.createDiffieHellman=e.DiffieHellman=function t(e,r,i,a){return Buffer.isBuffer(r)||void 0===o[r]?t(e,"binary",r,i):(r=r||"binary",a=a||"binary",i=i||new Buffer([2]),Buffer.isBuffer(i)||(i=new Buffer(i,a)),"number"==typeof e?new s(n(e,i),i,!0):(Buffer.isBuffer(e)||(e=new Buffer(e,r)),new s(e,i,!0)))}},67013:function(t,e,r){var n=r(52327),i=new(r(28622)),s=new n(24),o=new n(11),a=new n(10),c=new n(3),u=new n(7),l=r(3879),h=r(13484);function f(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new n(t),this}function d(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new n(t),this}t.exports=m;var p={};function m(t,e,r){this.setGenerator(e),this.__prime=new n(t),this._prime=n.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=f,this.setPrivateKey=d):this._primeCode=8}function g(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in p)return p[n];var h,f=0;if(t.isEven()||!l.simpleSieve||!l.fermatTest(t)||!i.test(t))return f+=1,p[n]=f+="02"===r||"05"===r?8:4,f;switch(i.test(t.shrn(1))||(f+=2),r){case"02":t.mod(s).cmp(o)&&(f+=8);break;case"05":(h=t.mod(a)).cmp(c)&&h.cmp(u)&&(f+=8);break;default:f+=4}return p[n]=f,f}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new n(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(t){var e=(t=(t=new n(t)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),i=this.getPrime();if(r.length<i.length){var s=new Buffer(i.length-r.length);s.fill(0),r=Buffer.concat([s,r])}return r},m.prototype.getPublicKey=function(t){return g(this._pub,t)},m.prototype.getPrivateKey=function(t){return g(this._priv,t)},m.prototype.getPrime=function(t){return g(this.__prime,t)},m.prototype.getGenerator=function(t){return g(this._gen,t)},m.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new n(t),this}},3879:function(t,e,r){var n=r(13484);t.exports=v,v.simpleSieve=g,v.fermatTest=y;var i=r(52327),s=new i(24),o=new(r(28622)),a=new i(1),c=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),h=new i(3),f=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function m(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<e&&t[i]<=n&&r%t[i]!=0;i++);e!==i&&t[i]<=n||(t[e++]=r)}return p=t,t}function g(t){for(var e=m(),r=0;r<e.length;r++)if(0===t.modn(e[r]))return 0===t.cmpn(e[r]);return!0}function y(t){var e=i.mont(t);return 0===c.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function v(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var r,p;for(e=new i(e);;){for(r=new i(n(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(c),e.cmp(c)){if(!e.cmp(u))for(;r.mod(l).cmp(h);)r.iadd(d)}else for(;r.mod(s).cmp(f);)r.iadd(d);if(g(p=r.shrn(1))&&g(r)&&y(p)&&y(r)&&o.test(p)&&o.test(r))return r}}},95401:function(t,e,r){"use strict";var n=r(36810).Buffer,i=r(63610);function s(t){if(n.isBuffer(t))return t;if("string"==typeof t)return n.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function o(t,e,r){for(var n=0;e+n<r&&0===t[e+n];)++n;return t[e+n]>=128&&--n,n}t.exports={derToJose:function(t,e){t=s(t);var r=i(e),o=r+1,a=t.length,c=0;if(48!==t[c++])throw new Error('Could not find expected "seq"');var u=t[c++];if(129===u&&(u=t[c++]),a-c<u)throw new Error('"seq" specified length of "'+u+'", only "'+(a-c)+'" remaining');if(2!==t[c++])throw new Error('Could not find expected "int" for "r"');var l=t[c++];if(a-c-2<l)throw new Error('"r" specified length of "'+l+'", only "'+(a-c-2)+'" available');if(o<l)throw new Error('"r" specified length of "'+l+'", max of "'+o+'" is acceptable');var h=c;if(c+=l,2!==t[c++])throw new Error('Could not find expected "int" for "s"');var f=t[c++];if(a-c!==f)throw new Error('"s" specified length of "'+f+'", expected "'+(a-c)+'"');if(o<f)throw new Error('"s" specified length of "'+f+'", max of "'+o+'" is acceptable');var d=c;if((c+=f)!==a)throw new Error('Expected to consume entire buffer, but "'+(a-c)+'" bytes remain');var p=r-l,m=r-f,g=n.allocUnsafe(p+l+m+f);for(c=0;c<p;++c)g[c]=0;t.copy(g,c,h+Math.max(-p,0),h+l);for(var y=c=r;c<y+m;++c)g[c]=0;return t.copy(g,c,d+Math.max(-m,0),d+f),(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(t,e){t=s(t);var r=i(e),a=t.length;if(a!==2*r)throw new TypeError('"'+e+'" signatures must be "'+2*r+'" bytes, saw "'+a+'"');var c=o(t,0,r),u=o(t,r,t.length),l=r-c,h=r-u,f=2+l+1+1+h,d=f<128,p=n.allocUnsafe((d?2:3)+f),m=0;return p[m++]=48,d?p[m++]=f:(p[m++]=129,p[m++]=255&f),p[m++]=2,p[m++]=l,c<0?(p[m++]=0,m+=t.copy(p,m,0,r)):m+=t.copy(p,m,c,r),p[m++]=2,p[m++]=h,u<0?(p[m++]=0,t.copy(p,m,r)):t.copy(p,m,r+u),p}}},63610:function(t){"use strict";function e(t){return(t/8|0)+(t%8==0?0:1)}var r={ES256:e(256),ES384:e(384),ES512:e(521)};t.exports=function(t){var e=r[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}},67871:function(t,e,r){"use strict";var n=e;n.version=r(17519).i8,n.utils=r(68869),n.rand=r(2782),n.curve=r(11906),n.curves=r(80964),n.ec=r(2633),n.eddsa=r(6908)},7624:function(t,e,r){"use strict";var n=r(52327),i=r(68869),s=i.getNAF,o=i.getJSF,a=i.assert;function c(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),n=s(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var o=[],c=0;c<n.length;c+=r.step){var u=0;for(e=c+r.step-1;e>=c;e--)u=(u<<1)+n[e];o.push(u)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=i;f>0;f--){for(c=0;c<o.length;c++)(u=o[c])===f?h=h.mixedAdd(r.points[c]):u===-f&&(h=h.mixedAdd(r.points[c].neg()));l=l.add(h)}return l.toP()},c.prototype._wnafMul=function(t,e){for(var r=4,n=t._getNAFPoints(r),i=n.points,o=s(e,r=n.wnd,this._bitLength),c=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(e=0;u>=0&&0===o[u];u--)e++;if(u>=0&&e++,c=c.dblp(e),u<0)break;var l=o[u];a(0!==l),c="affine"===t.type?c.mixedAdd(l>0?i[l-1>>1]:i[-l-1>>1].neg()):c.add(l>0?i[l-1>>1]:i[-l-1>>1].neg())}return"affine"===t.type?c.toP():c},c.prototype._wnafMulAdd=function(t,e,r,n,i){for(var a=this._wnafT1,c=this._wnafT2,u=this._wnafT3,l=0,h=0;h<n;h++){var f=(E=e[h])._getNAFPoints(t);a[h]=f.wnd,c[h]=f.points}for(h=n-1;h>=1;h-=2){var d=h-1,p=h;if(1===a[d]&&1===a[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=o(r[d],r[p]);l=Math.max(y[0].length,l),u[d]=new Array(l),u[p]=new Array(l);for(var v=0;v<l;v++)u[d][v]=g[3*(1+(0|y[0][v]))+(1+(0|y[1][v]))],u[p][v]=0,c[d]=m}else u[d]=s(r[d],a[d],this._bitLength),u[p]=s(r[p],a[p],this._bitLength),l=Math.max(u[d].length,l),l=Math.max(u[p].length,l)}var b=this.jpoint(null,null,null),_=this._wnafT4;for(h=l;h>=0;h--){for(var w=0;h>=0;){var S=!0;for(v=0;v<n;v++)_[v]=0|u[v][h],0!==_[v]&&(S=!1);if(!S)break;w++,h--}if(h>=0&&w++,b=b.dblp(w),h<0)break;for(v=0;v<n;v++){var E,C=_[v];0!==C&&(C>0?E=c[v][C-1>>1]:C<0&&(E=c[v][-C-1>>1].neg()),b="affine"===E.type?b.mixedAdd(E):b.add(E))}}for(h=0;h<n;h++)c[h]=null;return i?b:b.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(t){return this.encode(t,!0)},u.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},u.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},u.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},u.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},u.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},u.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},7480:function(t,e,r){"use strict";var n=r(68869),i=r(52327),s=r(98047),o=r(7624),a=n.assert;function c(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,o.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function u(t,e,r,n,s){o.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,o),t.exports=c,c.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},c.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},c.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},c.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(e&&!c||!e&&c)&&(a=a.redNeg()),this.point(t,a)},c.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},c.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},s(u,o.BasePoint),c.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},c.prototype.point=function(t,e,r,n){return new u(this,t,e,r,n)},u.fromJSON=function(t,e){return new u(t,e[0],e[1],e[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=n.redAdd(e),o=s.redSub(r),a=n.redSub(e),c=i.redMul(o),u=s.redMul(a),l=i.redMul(a),h=o.redMul(s);return this.curve.point(c,u,h,l)},u.prototype._projDbl=function(){var t,e,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var o=(u=this.curve._mulA(i)).redAdd(s);if(this.zOne)t=n.redSub(i).redSub(s).redMul(o.redSub(this.curve.two)),e=o.redMul(u.redSub(s)),r=o.redSqr().redSub(o).redSub(o);else{var a=this.z.redSqr(),c=o.redSub(a).redISub(a);t=n.redSub(i).redISub(s).redMul(c),e=o.redMul(u.redSub(s)),r=o.redMul(c)}}else{var u=i.redAdd(s);a=this.curve._mulC(this.z).redSqr(),c=u.redSub(a).redSub(a),t=this.curve._mulC(n.redISub(u)).redMul(c),e=this.curve._mulC(u).redMul(i.redISub(s)),r=u.redMul(c)}return this.curve.point(t,e,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),o=i.redSub(n),a=i.redAdd(n),c=r.redAdd(e),u=s.redMul(o),l=a.redMul(c),h=s.redMul(c),f=o.redMul(a);return this.curve.point(u,l,f,h)},u.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),s=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(o),c=i.redSub(a),u=i.redAdd(a),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(o),h=n.redMul(c).redMul(l);return this.curve.twisted?(e=n.redMul(u).redMul(o.redSub(this.curve._mulA(s))),r=c.redMul(u)):(e=n.redMul(u).redMul(o.redSub(s)),r=this.curve._mulC(c).redMul(u)),this.curve.point(h,e,r)},u.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},u.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},u.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},u.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},11906:function(t,e,r){"use strict";var n=e;n.base=r(7624),n.short=r(85245),n.mont=r(72533),n.edwards=r(7480)},72533:function(t,e,r){"use strict";var n=r(52327),i=r(98047),s=r(7624),o=r(68869);function a(t){s.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(t,e,r){s.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},i(c,s.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(o.toArray(t,e),1)},a.prototype.point=function(t,e){return new c(this,t,e)},a.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(t,e){return new c(t,e[0],e[1]||t.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(r),o=i.redMul(n),a=e.z.redMul(s.redAdd(o).redSqr()),c=e.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},85245:function(t,e,r){"use strict";var n=r(68869),i=r(52327),s=r(98047),o=r(7624),a=n.assert;function c(t){o.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(t,e,r,n){o.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(t,e,r,n){o.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,o),t.exports=c,c.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new i(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:a(0===this.g.mul(r=s[1]).x.cmp(this.g.x.redMul(e)))}return{beta:e,lambda:r,basis:t.basis?t.basis.map(function(t){return{a:new i(t.a,16),b:new i(t.b,16)}}):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),r=new i(2).toRed(e).redInvm(),n=r.redNeg(),s=new i(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(s).fromRed(),n.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(t){for(var e,r,n,s,o,a,c,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,d=this.n.clone(),p=new i(1),m=new i(0),g=new i(0),y=new i(1),v=0;0!==f.cmpn(0);){var b=d.div(f);u=d.sub(b.mul(f)),l=g.sub(b.mul(p));var _=y.sub(b.mul(m));if(!n&&u.cmp(h)<0)e=c.neg(),r=p,n=u.neg(),s=l;else if(n&&2==++v)break;c=u,d=f,f=u,g=p,p=l,y=m,m=_}o=u.neg(),a=l;var w=n.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=e,a=r),n.negative&&(n=n.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:s},{a:o,b:a}]},c.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),c=i.mul(r.b),u=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:c.add(u).neg()}},c.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=n.fromRed().isOdd();return(e&&!s||!e&&s)&&(n=n.redNeg()),this.point(t,n)},c.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[2*s]=a,n[2*s+1]=c,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),l=0;l<2*s;l++)n[l]=null,i[l]=null;return u},s(u,o.BasePoint),c.prototype.point=function(t,e,r){return new u(this,t,e,r)},c.prototype.pointFromJSON=function(t,e){return u.fromJSON(this,t,e)},u.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},u.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(l,o.BasePoint),c.prototype.jpoint=function(t,e,r){return new l(this,t,e,r)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),h=n.redMul(u),f=c.redSqr().redIAdd(l).redISub(h).redISub(h),d=c.redMul(h.redISub(f)).redISub(s.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},l.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),l=r.redMul(c),h=a.redSqr().redIAdd(u).redISub(l).redISub(l),f=a.redMul(l.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(h,f,d)},l.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<t;r++){var l=s.redSqr(),h=u.redSqr(),f=h.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=s.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=d.redMul(g);y=y.redIAdd(y).redISub(f);var v=u.redMul(a);r+1<t&&(c=c.redMul(f)),s=m,a=v,u=y}return this.curve.jpoint(s,u.redMul(i),a)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=c,e=a.redMul(o.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(l).redISub(f);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},l.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);t=c;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},l.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),c=e.redAdd(e),u=(c=c.redIAdd(c)).redMul(o),l=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(l),f=o.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(a).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},l.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},l.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},l.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},80964:function(t,e,r){"use strict";var n,i=e,s=r(32619),o=r(11906),a=r(68869).assert;function c(t){this.curve="short"===t.type?new o.short(t):"edwards"===t.type?new o.edwards(t):new o.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new c(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(42807)}catch(l){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},2633:function(t,e,r){"use strict";var n=r(52327),i=r(69812),s=r(68869),o=r(80964),a=r(2782),c=s.assert,u=r(36467),l=r(4916);function h(t){if(!(this instanceof h))return new h(t);"string"==typeof t&&(c(o.hasOwnProperty(t),"Unknown curve "+t),t=o[t]),t instanceof o.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=h,h.prototype.keyPair=function(t){return new u(this,t)},h.prototype.keyFromPrivate=function(t,e){return u.fromPrivate(this,t,e)},h.prototype.keyFromPublic=function(t,e){return u.fromPublic(this,t,e)},h.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var o=new n(e.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},h.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},h.prototype.sign=function(t,e,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var o=this.n.byteLength(),a=e.getPrivate().toArray("be",o),c=t.toArray("be",o),u=new i({hash:this.hash,entropy:a,nonce:c,pers:s.pers,persEnc:s.persEnc||"utf8"}),h=this.n.sub(new n(1)),f=0;;f++){var d=s.k?s.k(f):new n(u.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(h)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var y=d.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(y=y.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return s.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),v^=1),new l({r:g,s:y,recoveryParam:v})}}}}}},h.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var s=(e=new l(e,"hex")).r,o=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,c=o.invm(this.n),u=c.mul(t).umod(this.n),h=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),h)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(u,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},h.prototype.recoverPubKey=function(t,e,r,i){c((3&r)===r,"The recovery param is more than two bits"),e=new l(e,i);var s=this.n,o=new n(t),a=e.r,u=e.s,h=1&r,f=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");a=this.curve.pointFromX(f?a.add(this.curve.n):a,h);var d=e.r.invm(s),p=s.sub(o).mul(d).umod(s),m=u.mul(d).umod(s);return this.g.mulAdd(p,a,m)},h.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new l(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch(t){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},36467:function(t,e,r){"use strict";var n=r(52327),i=r(68869).assert;function s(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=s,s.fromPublic=function(t,e,r){return e instanceof s?e:new s(t,{pub:e,pubEnc:r})},s.fromPrivate=function(t,e,r){return e instanceof s?e:new s(t,{priv:e,privEnc:r})},s.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},s.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},s.prototype.derive=function(t){return t.mul(this.priv).getX()},s.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},s.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},4916:function(t,e,r){"use strict";var n=r(52327),i=r(68869),s=i.assert;function o(t,e){if(t instanceof o)return t;this._importDER(t,e)||(s(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),this.recoveryParam=void 0===t.recoveryParam?null:t.recoveryParam)}function a(){this.place=0}function c(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function u(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function l(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=o,o.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var s=c(t,r);if(!1===s)return!1;if(s+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=c(t,r);if(!1===o)return!1;var u=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var l=c(t,r);if(!1===l)return!1;if(t.length!==l+r.place)return!1;var h=t.slice(r.place,l+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new n(u),this.s=new n(h),this.recoveryParam=null,!0},o.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=u(e),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];l(n,e.length),(n=n.concat(e)).push(2),l(n,r.length);var s=n.concat(r),o=[48];return l(o,s.length),o=o.concat(s),i.encode(o,t)}},6908:function(t,e,r){"use strict";var n=r(32619),i=r(80964),s=r(68869),o=s.assert,a=s.parseBytes,c=r(60724),u=r(44323);function l(t){if(o("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof l))return new l(t);this.curve=t=i[t].curve,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=l,l.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),s=this.encodePoint(i),o=this.hashInt(s,r.pubBytes(),t).mul(r.priv()),c=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:s})},l.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(s)},l.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return s.intFromLE(t.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(t){return c.fromPublic(this,t)},l.prototype.keyFromSecret=function(t){return c.fromSecret(this,t)},l.prototype.makeSignature=function(t){return t instanceof u?t:new u(this,t)},l.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},l.prototype.decodePoint=function(t){var e=(t=s.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=s.intFromLE(r);return this.curve.pointFromY(i,n)},l.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(t){return s.intFromLE(t)},l.prototype.isPoint=function(t){return t instanceof this.pointClass}},60724:function(t,e,r){"use strict";var n=r(68869),i=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=s(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(a,"privBytes",function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),o(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a},44323:function(t,e,r){"use strict";var n=r(52327),i=r(68869),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function c(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),s(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=c},42807:function(t){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},68869:function(t,e,r){"use strict";var n=e,i=r(52327),s=r(77125),o=r(50233);n.assert=s,n.toArray=o.toArray,n.zero2=o.zero2,n.toHex=o.toHex,n.encode=o.encode,n.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,c=s.andln(i-1);s.isOdd()?s.isubn(a=c>(i>>1)-1?(i>>1)-c:c):a=0,n[o]=a,s.iushrn(1)}return n},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0;t.cmpn(-n)>0||e.cmpn(-i)>0;){var s,o,a,c=t.andln(3)+n&3,u=e.andln(3)+i&3;3===c&&(c=-1),3===u&&(u=-1),s=0==(1&c)?0:3!=(a=t.andln(7)+n&7)&&5!==a||2!==u?c:-c,r[0].push(s),o=0==(1&u)?0:3!=(a=e.andln(7)+i&7)&&5!==a||2!==c?u:-u,r[1].push(o),2*n===s+1&&(n=1-n),2*i===o+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}},83079:function(t,e,r){"use strict";var n,i=SyntaxError,s=Function,o=TypeError,a=function(t){try{return Function('"use strict"; return ('+t+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(T){c=null}var u=function(){throw new o},l=c?function(){try{return u}catch(t){try{return c(arguments,"callee").get}catch(e){return u}}}():u,h=r(71039)(),f=Object.getPrototypeOf||function(t){return t.__proto__},d=a("async function* () {}"),p=d?d.prototype:n,m=p?p.prototype:n,g="undefined"==typeof Uint8Array?n:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":h?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":a("async function () {}"),"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":m?f(m):n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":a("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?f(f([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?f(""[Symbol.iterator]()):n,"%Symbol%":h?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":g,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(77077),_=r(23985),w=b.call(Function.call,Array.prototype.concat),S=b.call(Function.apply,Array.prototype.splice),E=b.call(Function.call,String.prototype.replace),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,A=function(t){var e=[];return E(t,C,function(t,r,n,i){e[e.length]=n?E(i,k,"$1"):r||t}),e},x=function(t,e){var r,n=t;if(_(v,n)&&(n="%"+(r=v[n])[0]+"%"),_(y,n)){var s=y[n];if(void 0===s&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:s}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new o('"allowMissing" argument must be a boolean');var r=A(t),n=r.length>0?r[0]:"",i=x("%"+n+"%",e),s=i.name,a=i.value,u=!1,l=i.alias;l&&(n=l[0],S(r,w([0,1],l)));for(var h=1,f=!0;h<r.length;h+=1){var d=r[h];if("constructor"!==d&&f||(u=!0),_(y,s="%"+(n+="."+d)+"%"))a=y[s];else if(null!=a){if(c&&h+1>=r.length){var p=c(a,d);if(f=!!p,!e&&!(d in a))throw new o("base intrinsic for "+t+" exists, but the property is not available.");a=f&&"get"in p&&!("originalValue"in p.get)?p.get:a[d]}else f=_(a,d),a=a[d];f&&!u&&(y[s]=a)}}return a}},72289:function(t,e,r){"use strict";var n=r(83079)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(i){n=null}t.exports=n},33933:function(t){t.exports=function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,n=void 0,i=void 0,s=function(t,e){f[r]=t,f[r+1]=e,2===(r+=2)&&(i?i(d):v())},o="undefined"!=typeof window?window:void 0,a=o||{},c=a.MutationObserver||a.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(d,1)}}var f=new Array(1e3);function d(){for(var t=0;t<r;t+=2)(0,f[t])(f[t+1]),f[t]=void 0,f[t+1]=void 0;r=0}var p,m,g,y,v=void 0;function b(t,e){var r=this,n=new this.constructor(S);void 0===n[w]&&O(n);var i=r._state;if(i){var o=arguments[i-1];s(function(){return P(i,n,o,r._result)})}else I(r,n,t,e);return n}function _(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(S);return k(e,t),e}u?v=function(){return process.nextTick(d)}:c?(m=0,g=new c(d),y=document.createTextNode(""),g.observe(y,{characterData:!0}),v=function(){y.data=m=++m%2}):l?((p=new MessageChannel).port1.onmessage=d,v=function(){return p.port2.postMessage(0)}):v=void 0===o?function(){try{var t=Function("return this")().require("vertx");return void 0!==(n=t.runOnLoop||t.runOnContext)?function(){n(d)}:h()}catch(e){return h()}}():h();var w=Math.random().toString(36).substring(2);function S(){}var E=void 0;function C(e,r,n){r.constructor===e.constructor&&n===b&&r.constructor.resolve===_?function(t,e){1===e._state?x(t,e._result):2===e._state?T(t,e._result):I(e,void 0,function(e){return k(t,e)},function(e){return T(t,e)})}(e,r):void 0===n?x(e,r):t(n)?function(t,e,r){s(function(t){var n=!1,i=function(r,i,s,o){try{r.call(i,function(r){n||(n=!0,e!==r?k(t,r):x(t,r))},function(e){n||(n=!0,T(t,e))})}catch(a){return a}}(r,e);!n&&i&&(n=!0,T(t,i))},t)}(e,r,n):x(e,r)}function k(t,e){if(t===e)T(t,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(n=e),null===n||"object"!==i&&"function"!==i)x(t,e);else{var r=void 0;try{r=e.then}catch(s){return void T(t,s)}C(t,e,r)}var n,i}function A(t){t._onerror&&t._onerror(t._result),R(t)}function x(t,e){t._state===E&&(t._result=e,t._state=1,0!==t._subscribers.length&&s(R,t))}function T(t,e){t._state===E&&(t._state=2,t._result=e,s(A,t))}function I(t,e,r,n){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+1]=r,i[o+2]=n,0===o&&t._state&&s(R,t)}function R(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,s=t._result,o=0;o<e.length;o+=3)i=e[o+r],(n=e[o])?P(r,n,i,s):i(s);t._subscribers.length=0}}function P(e,r,n,i){var s=t(n),o=void 0,a=void 0,c=!0;if(s){try{o=n(i)}catch(u){c=!1,a=u}if(r===o)return void T(r,new TypeError("A promises callback cannot return that same promise."))}else o=i;r._state!==E||(s&&c?k(r,o):!1===c?T(r,a):1===e?x(r,o):2===e&&T(r,o))}var F=0;function O(t){t[w]=F++,t._state=void 0,t._result=void 0,t._subscribers=[]}var M=function(){function t(t,r){this._instanceConstructor=t,this.promise=new t(S),this.promise[w]||O(this.promise),e(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&x(this.promise,this._result))):T(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===E&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===_){var i=void 0,s=void 0,o=!1;try{i=t.then}catch(c){o=!0,s=c}if(i===b&&t._state!==E)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===B){var a=new r(S);o?T(a,s):C(a,t,i),this._willSettleAt(a,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===E&&(this._remaining--,2===t?T(n,r):this._result[e]=r),0===this._remaining&&x(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;I(t,void 0,function(t){return r._settledAt(1,e,t)},function(t){return r._settledAt(2,e,t)})},t}(),B=function(){function e(t){this[w]=F++,this._result=this._state=void 0,this._subscribers=[],S!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){k(t,e)},function(e){T(t,e)})}catch(r){T(t,r)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var r=this,n=r.constructor;return t(e)?r.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):r.then(e,e)},e}();return B.prototype.then=b,B.all=function(t){return new M(this,t).promise},B.race=function(t){var r=this;return e(t)?new r(function(e,n){for(var i=t.length,s=0;s<i;s++)r.resolve(t[s]).then(e,n)}):new r(function(t,e){return e(new TypeError("You must pass an array to race."))})},B.resolve=_,B.reject=function(t){var e=new this(S);return T(e,t),e},B._setScheduler=function(t){i=t},B._setAsap=function(t){s=t},B._asap=s,B.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(n){}if("[object Promise]"===r&&!e.cast)return}t.Promise=B},B.Promise=B,B}()},23480:function(t){"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise(function(r,n){function i(){void 0!==s&&t.removeListener("error",s),r([].slice.call(arguments))}var s;"error"!==e&&(s=function(r){t.removeListener(e,i),n(r)},t.once("error",s)),t.once(e,i)})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function u(t,e,r,n){var i,s,o;if(a(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"==typeof o?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(t))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function f(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(void 0===c)return!1;if("function"==typeof c)n(c,this,e);else{var u=c.length,l=p(c,u);for(r=0;r<u;++r)n(l[r],this,e)}return!0},s.prototype.on=s.prototype.addListener=function(t,e){return u(this,t,e,!1)},s.prototype.prependListener=function(t,e){return u(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},s.prototype.off=s.prototype.removeListener=function(t,e){var r,n,i,s,o;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return f(this,t,!0)},s.prototype.rawListeners=function(t){return f(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},60406:function(t,e,r){var n=r(36810).Buffer,i=r(68334);t.exports=function(t,e,r,s){if(n.isBuffer(t)||(t=n.from(t,"binary")),e&&(n.isBuffer(e)||(e=n.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=r/8,a=n.alloc(o),c=n.alloc(s||0),u=n.alloc(0);o>0||s>0;){var l=new i;l.update(u),l.update(t),e&&l.update(e),u=l.digest();var h=0;if(o>0){var f=a.length-o;h=Math.min(o,u.length),u.copy(a,f,0,h),o-=h}if(h<u.length&&s>0){var d=c.length-s,p=Math.min(s,u.length-h);u.copy(c,d,h,h+p),s-=p}}return u.fill(0),{key:a,iv:c}}},53551:function(t){"use strict";t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(i=n;0!=i--;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(s=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;0!=i--;){var o=s[i];if(!t(e[o],r[o]))return!1}return!0}return e!=e&&r!=r}},3998:function(t){"use strict";t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var r,n="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(r=e.cmp,function(t){return function(e,n){return r({key:e,value:t[e]},{key:n,value:t[n]})}}),s=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var r,o;if(Array.isArray(e)){for(o="[",r=0;r<e.length;r++)r&&(o+=","),o+=t(e[r])||"null";return o+"]"}if(null===e)return"null";if(-1!==s.indexOf(e)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=s.push(e)-1,c=Object.keys(e).sort(i&&i(e));for(o="",r=0;r<c.length;r++){var u=c[r],l=t(e[u]);l&&(o&&(o+=","),o+=JSON.stringify(u)+":"+l)}return s.splice(a,1),"{"+o+"}"}}(t)}},99070:function(t){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(t,n,i){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var s=t.length;if(s===+s)for(var o=0;o<s;o++)n.call(i,t[o],o,t);else for(var a in t)e.call(t,a)&&n.call(i,t[a],a,t)}},49200:function(t,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.sorted,i=e.skipIndex,s=e.ignorenull,o=e.skipBracket,a=e.useDot,c=e.whitespace,u=void 0===c?"+":c,l=function(t){return String(t).replace(/(?:[\0-\x1F"-&\+-\}\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,encodeURIComponent).replace(/ /g,u).replace(/[!'()~*]/g,function(t){return"%".concat(t.charCodeAt().toString(16).slice(-2).toUpperCase())})},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(t);return n?e.sort():e},f=function(t){return t.filter(function(t){return t}).join("&")},d=function(t,e){return f(h(e).map(function(r){return g(a?"".concat(t,".").concat(r):"".concat(t,"[").concat(r,"]"),e[r])}))},p=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o?"":"[]";return e.length?f(e.map(function(e,n){return g(i?t+r:t+"["+n+"]",e)})):l(t+r)},m=function(t,e){return f(Array.from(e).map(function(e){return g(t,e)}))},g=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r(e),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e===i?i=s?i:l(t)+"="+i:/string|number|boolean/.test(n)?i=l(t)+"="+l(e):Array.isArray(e)?i=p(t,e):e instanceof Set?i=m(t,e):"object"===n&&(i=d(t,e)),i};return t&&f(h(t).map(function(e){return g(e,t[e])}))}},26022:function(t){"use strict";var e="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";t.exports=function(t){var s=this;if("function"!=typeof s||n.call(s)!==i)throw new TypeError(e+s);for(var o,a=r.call(arguments,1),c=function(){if(this instanceof o){var e=s.apply(this,a.concat(r.call(arguments)));return Object(e)===e?e:this}return s.apply(t,a.concat(r.call(arguments)))},u=Math.max(0,s.length-a.length),l=[],h=0;h<u;h++)l.push("$"+h);if(o=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),s.prototype){var f=function(){};f.prototype=s.prototype,o.prototype=new f,f.prototype=null}return o}},77077:function(t,e,r){"use strict";var n=r(26022);t.exports=Function.prototype.bind||n},38719:function(t,e,r){"use strict";var n,i=SyntaxError,s=Function,o=TypeError,a=function(t){try{return Function('"use strict"; return ('+t+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(I){c=null}var u=function(){throw new o},l=c?function(){try{return u}catch(t){try{return c(arguments,"callee").get}catch(e){return u}}}():u,h=r(71039)(),f=Object.getPrototypeOf||function(t){return t.__proto__},d=a("async function* () {}"),p=d?d.prototype:n,m=p?p.prototype:n,g="undefined"==typeof Uint8Array?n:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":h?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":a("async function () {}"),"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":m?f(m):n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":a("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?f(f([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?f(""[Symbol.iterator]()):n,"%Symbol%":h?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":g,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(77077),_=r(23985),w=b.call(Function.call,Array.prototype.concat),S=b.call(Function.apply,Array.prototype.splice),E=b.call(Function.call,String.prototype.replace),C=b.call(Function.call,String.prototype.slice),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,x=function(t){var e=C(t,0,1),r=C(t,-1);if("%"===e&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return E(t,k,function(t,e,r,i){n[n.length]=r?E(i,A,"$1"):e||t}),n},T=function(t,e){var r,n=t;if(_(v,n)&&(n="%"+(r=v[n])[0]+"%"),_(y,n)){var s=y[n];if(void 0===s&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:s}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new o('"allowMissing" argument must be a boolean');var r=x(t),n=r.length>0?r[0]:"",s=T("%"+n+"%",e),a=s.name,u=s.value,l=!1,h=s.alias;h&&(n=h[0],S(r,w([0,1],h)));for(var f=1,d=!0;f<r.length;f+=1){var p=r[f],m=C(p,0,1),g=C(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&d||(l=!0),_(y,a="%"+(n+="."+p)+"%"))u=y[a];else if(null!=u){if(!(p in u)){if(!e)throw new o("base intrinsic for "+t+" exists, but the property is not available.");return}if(c&&f+1>=r.length){var v=c(u,p);u=(d=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[p]}else d=_(u,p),u=u[p];d&&!l&&(y[a]=u)}}return u}},71039:function(t,e,r){"use strict";var n=global.Symbol,i=r(45636);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},45636:function(t){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},23985:function(t,e,r){"use strict";var n=r(77077);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},69524:function(t,e,r){"use strict";var n=r(36810).Buffer,i=r(63826).Transform;function s(t){i.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(98047)(s,i),s.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)},s.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)},s.prototype.update=function(t,e){if(function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer")}(t),this._finalized)throw new Error("Digest already called");n.isBuffer(t)||(t=n.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s},33356:function(t){"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e,n;function i(e,n,i){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,i))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(t){return String(t)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(t,e,r){var i,s,o,a;if("string"==typeof e&&"not "===e.substr(0,"not ".length)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))s="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var c=("number"!=typeof a&&(a=0),a+".".length>(o=t).length||-1===o.indexOf(".",a)?"argument":"property");s='The "'.concat(t,'" ').concat(c," ").concat(i," ").concat(n(e,"type"))}return s+". Received type ".concat(typeof r)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},51459:function(t,e,r){"use strict";var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=u;var i=r(32171),s=r(68098);r(98047)(u,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var c=o[a];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);i.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},43585:function(t,e,r){"use strict";t.exports=i;var n=r(89242);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(98047)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},32171:function(t,e,r){"use strict";var n;t.exports=C,C.ReadableState=E,r(23480);var i,s=function(t,e){return t.listeners(e).length},o=r(36381),a=r(93915).Buffer,c=global.Uint8Array||function(){},u=r(61758);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,f,d=r(52098),p=r(12619),m=r(94935).getHighWaterMark,g=r(33356).q,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(98047)(C,o);var w=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function E(t,e,i){n=n||r(51459),"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!(t=t||{}).objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=r(81231).s),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function C(t){if(n=n||r(51459),!(this instanceof C))return new C(t);this._readableState=new E(t,this,this instanceof n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function k(t,e,r,n,s){i("readableAddChunk",e);var o,u=t._readableState;if(null===e)u.reading=!1,function(t,e){if(i("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?I(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,R(t)))}}(t,u);else if(s||(o=function(t,e){var r,n;return a.isBuffer(n=e)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],e)),r}(u,e)),o)w(t,o);else if(u.objectMode||e&&e.length>0)if("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),n)u.endEmitted?w(t,new _):A(t,u,e,!0);else if(u.ended)w(t,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(e=u.decoder.write(e),u.objectMode||0!==e.length?A(t,u,e,!1):P(t,u)):A(t,u,e,!1)}else n||(u.reading=!1,P(t,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function A(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&I(t)),P(t,e)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(t,e){e(t)},C.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=a.from(t,e),e=""),r=!0),k(this,t,e,!1,r)},C.prototype.unshift=function(t){return k(this,t,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){l||(l=r(81231).s);var e=new l(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var x=1073741824;function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function I(t){var e=t._readableState;i("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(i("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(R,t))}function R(t){var e=t._readableState;i("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,N(t)}function P(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(F,t,e))}function F(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(i("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function O(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function M(t){i("readable nexttick read 0"),t.read(0)}function B(t,e){i("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),N(t),e.flowing&&!e.reading&&t.read(0)}function N(t){var e=t._readableState;for(i("flow",e.flowing);e.flowing&&null!==t.read(););}function D(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function L(t){var e=t._readableState;i("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(j,e,t))}function j(t,e){if(i("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function U(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}C.prototype.read=function(t){i("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return i("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):I(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&L(this),null;var n,s=e.needReadable;return i("need readable",s),(0===e.length||e.length-t<e.highWaterMark)&&i("length less than watermark",s=!0),e.ended||e.reading?i("reading or ended",s=!1):s&&(i("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(r,e))),null===(n=t>0?D(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&L(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(t){w(this,new b("_read()"))},C.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,e);var o=e&&!1===e.end||t===process.stdout||t===process.stderr?p:a;function a(){i("onend"),t.end()}n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",function e(s,o){i("onunpipe"),s===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,i("cleanup"),t.removeListener("close",f),t.removeListener("finish",d),t.removeListener("drain",c),t.removeListener("error",h),t.removeListener("unpipe",e),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",l),u=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||c())});var c=function(t){return function(){var e=t._readableState;i("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,N(t))}}(r);t.on("drain",c);var u=!1;function l(e){i("ondata");var s=t.write(e);i("dest.write",s),!1===s&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==U(n.pipes,t))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(e){i("onerror",e),p(),t.removeListener("error",h),0===s(t,"error")&&w(t,e)}function f(){t.removeListener("finish",d),p()}function d(){i("onfinish"),t.removeListener("close",f),p()}function p(){i("unpipe"),r.unpipe(t)}return r.on("data",l),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(r):t._events.error=[r,t._events.error]:t.on(e,r)}(t,"error",h),t.once("close",f),t.once("finish",d),t.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),t},C.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=U(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},C.prototype.addListener=C.prototype.on=function(t,e){var r=o.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?I(this):n.reading||process.nextTick(M,this))),r},C.prototype.removeListener=function(t,e){var r=o.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick(O,this),r},C.prototype.removeAllListeners=function(t){var e=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick(O,this),e},C.prototype.resume=function(){var t=this._readableState;return t.flowing||(i("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(B,t,e))}(this,t)),t.paused=!1,this},C.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var s in t.on("end",function(){if(i("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(s){i("wrapped data"),r.decoder&&(s=r.decoder.write(s)),r.objectMode&&null==s||(r.objectMode||s&&s.length)&&(e.push(s)||(n=!0,t.pause()))}),t)void 0===this[s]&&"function"==typeof t[s]&&(this[s]=function(e){return function(){return t[e].apply(t,arguments)}}(s));for(var o=0;o<S.length;o++)t.on(S[o],this.emit.bind(this,S[o]));return this._read=function(e){i("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(7941)),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),C._fromList=D,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(t,e){return void 0===f&&(f=r(37190)),f(C,t,e)})},89242:function(t,e,r){"use strict";t.exports=l;var n=r(33356).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(51459);function u(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);c.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(e,r){f(t,e,r)})}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}r(98047)(l,c),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,function(t){e(t)})}},68098:function(t,e,r){"use strict";function n(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(void 0),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var i;t.exports=C,C.WritableState=E;var s,o={deprecate:r(55688)},a=r(36381),c=r(93915).Buffer,u=global.Uint8Array||function(){},l=r(12619),h=r(94935).getHighWaterMark,f=r(33356).q,d=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,v=f.ERR_STREAM_NULL_VALUES,b=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function S(){}function E(t,e,s){i=i||r(51459),"boolean"!=typeof s&&(s=e instanceof i),this.objectMode=!!(t=t||{}).objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(R,t,e),t._writableState.errorEmitted=!0,w(t,n)):(i(n),t._writableState.errorEmitted=!0,w(t,n),R(t,e))}(t,r,n,e,i);else{var s=T(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||x(t,r),n?process.nextTick(A,t,r,s,i):A(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function C(t){var e=this instanceof(i=i||r(51459));if(!e&&!s.call(C,this))return new C(t);this._writableState=new E(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function k(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function A(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),R(t,e)}function x(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=new Array(e.bufferedRequestCount),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,k(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new n(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk;if(k(t,e,!1,e.objectMode?1:c.length,c,r.encoding,r.callback),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(t,e){t._final(function(r){e.pendingcb--,r&&w(t,r),e.prefinished=!0,t.emit("prefinish"),R(t,e)})}function R(t,e){var r=T(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(I,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(98047)(C,a),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===C&&t&&t._writableState instanceof E}})):s=function(t){return t instanceof this},C.prototype.pipe=function(){w(this,new g)},C.prototype.write=function(t,e,r){var n,i=this._writableState,s=!1,o=!i.objectMode&&(c.isBuffer(n=t)||n instanceof u);return o&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=S),i.ending?function(t,e){var r=new b;w(t,r),process.nextTick(e,r)}(this,r):(o||function(t,e,r,n){var i;return null===r?i=new v:"string"==typeof r||e.objectMode||(i=new d("chunk",["string","Buffer"],r)),!i||(w(t,i),process.nextTick(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,s=function(t,e,r,n,i,s){if(!r){var o=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r)),e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else k(t,e,!1,a,n,i,s);return u}(this,i,o,t,e,r)),s},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||x(this,t))},C.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(t,e,r){r(new p("_write()"))},C.prototype._writev=null,C.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,R(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(t,e){e(t)}},7941:function(t,e,r){"use strict";var n;function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(41692),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[o];if(null!==e){var r=t[f].read();null!==r&&(t[l]=null,t[o]=null,t[a]=null,e(d(r,!1)))}}function m(t){process.nextTick(p,t)}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise(function(e,r){process.nextTick(function(){t[c]?r(t[c]):e(d(void 0,!0))})});var r,n=this[l];if(n)r=new Promise(function(t,e){return function(r,n){t.then(function(){e[u]?r(d(void 0,!0)):e[h](r,n)},n)}}(n,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(d(i,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,function(){return this}),i(n,"return",function(){var t=this;return new Promise(function(e,r){t[f].destroy(null,function(t){t?r(t):e(d(void 0,!0))})})}),n),g);t.exports=function(t){var e,r=Object.create(y,(i(e={},f,{value:t,writable:!0}),i(e,o,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,u,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var n=r[f].read();n?(r[l]=null,r[o]=null,r[a]=null,t(d(n,!1))):(r[o]=t,r[a]=e)},writable:!0}),e));return r[l]=null,s(t,function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[a];return null!==e&&(r[l]=null,r[o]=null,r[a]=null,e(t)),void(r[c]=t)}var n=r[o];null!==n&&(r[l]=null,r[o]=null,r[a]=null,n(d(void 0,!0))),r[u]=!0}),t.on("readable",m.bind(null,r)),r}},52098:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(93915).Buffer,o=r(61758).inspect,a=o&&o.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e;return(e=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e=s.allocUnsafe(t>>>0),r=this.head,n=0;r;)s.prototype.copy.call(r.data,e,n),n+=r.data.length,r=r.next;return e}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,s=t>i.length?i.length:t;if(n+=s===i.length?i:i.slice(0,t),0==(t-=s)){s===i.length?(++r,this.head=e.next?e.next:this.tail=null):(this.head=e,e.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,this.head=r.next?r.next:this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:a,value:function(t,e){return o(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){i(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},e,{depth:0,customInspect:!1}))}}])&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(t.prototype,e),t}()},12619:function(t){"use strict";function e(t,e){n(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function n(t,e){t.emit("error",e)}t.exports={destroy:function(t,i){var s=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(i?i(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,t)):process.nextTick(n,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!i&&t?s._writableState?s._writableState.errorEmitted?process.nextTick(r,s):(s._writableState.errorEmitted=!0,process.nextTick(e,s,t)):process.nextTick(e,s,t):i?(process.nextTick(r,s),i(t)):process.nextTick(r,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},41692:function(t,e,r){"use strict";var n=r(33356).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,c=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,o||s.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){o=!1,h=!0,a||s.call(e)},d=function(t){s.call(e,t)},p=function(){var t;return o&&!h?(e._readableState&&e._readableState.ended||(t=new n),s.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new n),s.call(e,t)):void 0},m=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",p),e.req?m():e.on("request",m)):a&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",f),e.on("finish",l),!1!==r.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",l),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},37190:function(t){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},43092:function(t,e,r){"use strict";var n,i=r(33356).q,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function c(t,e,i,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",function(){a=!0}),void 0===n&&(n=r(41692)),n(t,{readable:e,writable:i},function(t){if(t)return s(t);a=!0,s()});var c=!1;return function(e){if(!a&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}function u(t){t()}function l(t,e){return t.pipe(e)}function h(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}t.exports=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=h(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var o=e.map(function(t,r){var s=r<e.length-1;return c(t,s,r>0,function(t){n||(n=t),t&&o.forEach(u),s||(o.forEach(u),i(n))})});return e.reduce(l)}},94935:function(t,e,r){"use strict";var n=r(33356).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var s=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}},36381:function(t,e,r){t.exports=r(23480).EventEmitter},63826:function(t,e,r){(e=t.exports=r(32171)).Stream=e,e.Readable=e,e.Writable=r(68098),e.Duplex=r(51459),e.Transform=r(89242),e.PassThrough=r(43585),e.finished=r(41692),e.pipeline=r(43092)},81231:function(t,e,r){"use strict";var n=r(36810).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.s=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},s.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=o(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},32619:function(t,e,r){var n=e;n.utils=r(47033),n.common=r(22079),n.sha=r(79065),n.ripemd=r(43254),n.hmac=r(1166),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},22079:function(t,e,r){"use strict";var n=r(47033),i=r(77125);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=s,s.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending=this.pending?this.pending.concat(t):t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},s.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},s.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},1166:function(t,e,r){"use strict";var n=r(47033),i=r(77125);function s(t,e,r){if(!(this instanceof s))return new s(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=s,s.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},s.prototype.update=function(t,e){return this.inner.update(t,e),this},s.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},43254:function(t,e,r){"use strict";var n=r(47033),i=r(22079),s=n.rotl32,o=n.sum32,a=n.sum32_3,c=n.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function f(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(l,u),e.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],v=r,b=n,_=i,w=u,S=l,E=0;E<80;E++){var C=o(s(c(r,h(E,n,i,u),t[p[E]+e],f(E)),g[E]),l);r=l,l=u,u=s(i,10),i=n,n=C,C=o(s(c(v,h(79-E,b,_,w),t[m[E]+e],d(E)),y[E]),S),v=S,S=w,w=s(_,10),_=b,b=C}C=a(this.h[1],i,w),this.h[1]=a(this.h[2],u,S),this.h[2]=a(this.h[3],l,v),this.h[3]=a(this.h[4],r,b),this.h[4]=a(this.h[0],n,_),this.h[0]=C},l.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},79065:function(t,e,r){"use strict";e.sha1=r(60466),e.sha224=r(45613),e.sha256=r(36955),e.sha384=r(21958),e.sha512=r(34179)},60466:function(t,e,r){"use strict";var n=r(47033),i=r(22079),s=r(38934),o=n.rotl32,a=n.sum32,c=n.sum32_5,u=s.ft_1,l=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(f,l),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],l=this.h[2],f=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),m=c(o(i,5),u(p,s,l,f),d,r[n],h[p]);d=f,f=l,l=o(s,30),s=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],f),this.h[4]=a(this.h[4],d)},f.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},45613:function(t,e,r){"use strict";var n=r(47033),i=r(36955);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},36955:function(t,e,r){"use strict";var n=r(47033),i=r(22079),s=r(38934),o=r(77125),a=n.sum32,c=n.sum32_4,u=n.sum32_5,l=s.ch32,h=s.maj32,f=s.s0_256,d=s.s1_256,p=s.g0_256,m=s.g1_256,g=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(v,g),t.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=c(m(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],g=this.h[2],y=this.h[3],v=this.h[4],b=this.h[5],_=this.h[6],w=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var S=u(w,d(v),l(v,b,_),this.k[n],r[n]),E=a(f(i),h(i,s,g));w=_,_=b,b=v,v=a(y,S),y=g,g=s,s=i,i=a(S,E)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],_),this.h[7]=a(this.h[7],w)},v.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},21958:function(t,e,r){"use strict";var n=r(47033),i=r(34179);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},34179:function(t,e,r){"use strict";var n=r(47033),i=r(22079),s=r(77125),o=n.rotr64_hi,a=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,l=n.sum64,h=n.sum64_hi,f=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,y=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function _(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function w(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function S(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function E(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function C(t,e){var r=o(t,e,28)^o(e,t,2)^o(e,t,7);return r<0&&(r+=4294967296),r}function k(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function A(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function x(t,e){var r=o(t,e,1)^o(t,e,8)^c(t,e,7);return r<0&&(r+=4294967296),r}function T(t,e){var r=a(t,e,1)^a(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function I(t,e){var r=a(t,e,19)^a(e,t,29)^u(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(b,y),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=(v=void 0,(v=o(g=r[n-4],y=r[n-3],19)^o(y,g,29)^c(g,y,6))<0&&(v+=4294967296),v),s=I(r[n-4],r[n-3]),a=r[n-14],u=r[n-13],l=x(r[n-30],r[n-29]),h=T(r[n-30],r[n-29]),f=r[n-32],m=r[n-31];r[n]=d(i,s,a,u,l,h,f,m),r[n+1]=p(i,s,a,u,l,h,f,m)}var g,y,v},b.prototype._update=function(t,e){this._prepareBlock(t,e);var r,n,i,a=this.W,c=this.h[0],u=this.h[1],d=this.h[2],p=this.h[3],y=this.h[4],v=this.h[5],b=this.h[6],x=this.h[7],T=this.h[8],I=this.h[9],R=this.h[10],P=this.h[11],F=this.h[12],O=this.h[13],M=this.h[14],B=this.h[15];s(this.k.length===a.length);for(var N=0;N<a.length;N+=2){var D=M,L=B,j=(i=void 0,(i=o(r=T,n=I,14)^o(r,n,18)^o(n,r,9))<0&&(i+=4294967296),i),U=A(T,I),V=_(T,0,R,0,F),H=w(0,I,0,P,0,O),q=this.k[N],K=this.k[N+1],z=a[N],W=a[N+1],$=m(D,L,j,U,V,H,q,K,z,W),G=g(D,L,j,U,V,H,q,K,z,W);D=C(c,u),L=k(c,u),j=S(c,0,d,0,y),U=E(0,u,0,p,0,v);var Q=h(D,L,j,U),J=f(D,L,j,U);M=F,B=O,F=R,O=P,R=T,P=I,T=h(b,x,$,G),I=f(x,x,$,G),b=y,x=v,y=d,v=p,d=c,p=u,c=h($,G,Q,J),u=f($,G,Q,J)}l(this.h,0,c,u),l(this.h,2,d,p),l(this.h,4,y,v),l(this.h,6,b,x),l(this.h,8,T,I),l(this.h,10,R,P),l(this.h,12,F,O),l(this.h,14,M,B)},b.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},38934:function(t,e,r){"use strict";var n=r(47033).rotr32;function i(t,e,r){return t&e^~t&r}function s(t,e,r){return t&e^t&r^e&r}function o(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?o(e,r,n):2===t?s(e,r,n):void 0},e.ch32=i,e.maj32=s,e.p32=o,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},47033:function(t,e,r){"use strict";var n=r(77125),i=r(98047);function s(t,e){return 55296==(64512&t.charCodeAt(e))&&!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function c(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):s(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=o(i)),r+=c(i.toString(16))}return r},e.zero2=a,e.zero8=c,e.join32=function(t,e,r,i){var s=r-e;n(s%4==0);for(var o=new Array(s/4),a=0,c=e;a<o.length;a++,c+=4)o[a]=("big"===i?t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c])>>>0;return o},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];"big"===e?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=n+t[e+1]>>>0;t[e]=(i<n?1:0)+r+t[e]>>>0,t[e+1]=i},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,s,o,a){var c=0,u=e;return c+=(u=u+n>>>0)<e?1:0,c+=(u=u+s>>>0)<s?1:0,t+r+i+o+(c+=(u=u+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,s,o,a,c,u){var l=0,h=e;return l+=(h=h+n>>>0)<e?1:0,l+=(h=h+s>>>0)<s?1:0,l+=(h=h+a>>>0)<a?1:0,t+r+i+o+c+(l+=(h=h+u>>>0)<u?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,s,o,a,c,u){return e+n+s+a+u>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},69812:function(t,e,r){"use strict";var n=r(32619),i=r(50233),s=r(77125);function o(t){if(!(this instanceof o))return new o(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),r=i.toArray(t.nonce,t.nonceEnc||"hex"),n=i.toArray(t.pers,t.persEnc||"hex");s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}t.exports=o,o.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},o.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,n),s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},o.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(r),this._reseed++,i.encode(o,e)}},10125:function(t){"use strict";var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,i=/\r?\n[\x20\x09]+/g,s=/[;,"]/,o=/[;,"]|\s/,a=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/;function c(t){return t.replace(r,"")}function u(t){return n.test(t)}function l(t,e){for(;u(t[e]);)e++;return e}function h(t){return o.test(t)||!a.test(t)}class f{constructor(t){this.refs=[],t&&this.parse(t)}rel(t){for(var e=[],r=t.toLowerCase(),n=0;n<this.refs.length;n++)this.refs[n].rel.toLowerCase()===r&&e.push(this.refs[n]);return e}get(t,e){t=t.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)this.refs[n][t]===e&&r.push(this.refs[n]);return r}set(t){return this.refs.push(t),this}has(t,e){t=t.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][t]===e)return!0;return!1}parse(t,e){for(var r=1,n=(t=c(t=(e=e||0)?t.slice(e):t).replace(i,"")).length,o=(e=0,null);e<n;)if(1===r){if(u(t[e])){e++;continue}if("<"!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);if(null!=o&&(null!=o.rel?this.refs.push(...f.expandRelations(o)):this.refs.push(o)),-1===(d=t.indexOf(">",e)))throw new Error("Expected end of URI delimiter at offset "+e);o={uri:t.slice(e+1,d)},e=d,r=2,e++}else if(2===r){if(u(t[e])){e++;continue}if(";"===t[e])r=4,e++;else{if(","!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);r=1,e++}}else{if(4!==r)throw new Error('Unknown parser state "'+r+'"');if(";"===t[e]||u(t[e])){e++;continue}if(-1===(d=t.indexOf("=",e)))throw new Error("Expected attribute delimiter at offset "+e);var a=c(t.slice(e,d)).toLowerCase(),h="";if('"'===t[e=l(t,e=d+1)])for(e++;e<n;){if('"'===t[e]){e++;break}"\\"===t[e]&&e++,h+=t[e],e++}else{for(var d=e+1;!s.test(t[d])&&d<n;)d++;h=t.slice(e,d),e=d}switch(o[a]&&f.isSingleOccurenceAttr(a)||("*"===a[a.length-1]?o[a]=f.parseExtendedValue(h):(h="type"===a?h.toLowerCase():h,null!=o[a]?Array.isArray(o[a])?o[a].push(h):o[a]=[o[a],h]:o[a]=h)),t[e]){case",":r=1;break;case";":r=4}e++}return null!=o&&(null!=o.rel?this.refs.push(...f.expandRelations(o)):this.refs.push(o)),o=null,this}toString(){for(var t=[],e="",r=null,n=0;n<this.refs.length;n++)r=this.refs[n],e=Object.keys(this.refs[n]).reduce(function(t,e){return"uri"===e?t:t+"; "+f.formatAttribute(e,r[e])},"<"+r.uri+">"),t.push(e);return t.join(", ")}}f.isCompatibleEncoding=function(t){return e.test(t)},f.parse=function(t,e){return(new f).parse(t,e)},f.isSingleOccurenceAttr=function(t){return"rel"===t||"type"===t||"media"===t||"title"===t||"title*"===t},f.isTokenAttr=function(t){return"rel"===t||"type"===t||"anchor"===t},f.escapeQuotes=function(t){return t.replace(/"/g,'\\"')},f.expandRelations=function(t){return t.rel.split(" ").map(function(e){var r=Object.assign({},t);return r.rel=e,r})},f.parseExtendedValue=function(t){var e=/([^']+)?(?:'([^']+)')?(.+)/.exec(t);return{language:e[2].toLowerCase(),encoding:f.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:f.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}},f.formatExtendedAttribute=function(t,e){var r=(e.encoding||"utf-8").toUpperCase();return t+"="+r+"'"+(e.language||"en")+"'"+(Buffer.isBuffer(e.value)&&f.isCompatibleEncoding(r)?e.value.toString(r):Buffer.isBuffer(e.value)?e.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(e.value))},f.formatAttribute=function(t,e){return Array.isArray(e)?e.map(e=>f.formatAttribute(t,e)).join("; "):"*"===t[t.length-1]||"string"!=typeof e?f.formatExtendedAttribute(t,e):(f.isTokenAttr(t)?e=h(e)?'"'+f.escapeQuotes(e)+'"':f.escapeQuotes(e):h(e)&&(e='"'+(e=(e=encodeURIComponent(e)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),t+"="+e)},t.exports=f},48938:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=t[e+h];for(h+=f,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+t[e+h],h+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+h],h+=f,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=u}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,c,u=8*s-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*c-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+d]=255&o,d+=p,o/=256,u-=8);t[r+d-p]|=128*m}},98047:function(t){t.exports="function"==typeof Object.create?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},59702:function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=r(69661)("Object.prototype.toString"),s=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},o=function(t){return!!s(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},a=function(){return s(arguments)}();s.isLegacyArguments=o,t.exports=a?s:o},6926:function(t){"use strict";var e=Object.prototype.toString,r=Function.prototype.toString,n=/^\s*(?:function)?\*/,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,s=Object.getPrototypeOf,o=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(t){}}(),a=!(!s||!o)&&s(o);t.exports=function(t){return"function"==typeof t&&(!!n.test(r.call(t))||(i?s&&s(t)===a:"[object GeneratorFunction]"===e.call(t)))}},80053:function(t,e,r){"use strict";var n=r(99070),i=r(69695),s=r(69661),o=s("Object.prototype.toString"),a=r(71039)()&&"symbol"==typeof Symbol.toStringTag,c=i(),u=s("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},l=s("String.prototype.slice"),h={},f=r(72289),d=Object.getPrototypeOf;a&&f&&d&&n(c,function(t){var e=new global[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=d(e),n=f(r,Symbol.toStringTag);if(!n){var i=d(r);n=f(i,Symbol.toStringTag)}h[t]=n.get}),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!a){var e=l(o(t),8,-1);return u(c,e)>-1}return!!f&&function(t){var e=!1;return n(h,function(r,n){if(!e)try{e=r.call(t)===n}catch(i){}}),e}(t)}},15608:function(t){"use strict";var e=t.exports=function(t,e,n){"function"==typeof e&&(n=e,e={}),r(e,"function"==typeof(n=e.cb||n)?n:n.pre||function(){},n.post||function(){},t,"",t)};function r(t,n,i,s,o,a,c,u,l,h){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var f in n(s,o,a,c,u,l,h),s){var d=s[f];if(Array.isArray(d)){if(f in e.arrayKeywords)for(var p=0;p<d.length;p++)r(t,n,i,d[p],o+"/"+f+"/"+p,a,o,f,s,p)}else if(f in e.propsKeywords){if(d&&"object"==typeof d)for(var m in d)r(t,n,i,d[m],o+"/"+f+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,o,f,s,m)}else(f in e.keywords||t.allKeys&&!(f in e.skipKeywords))&&r(t,n,i,d,o+"/"+f,a,o,f,s)}i(s,o,a,c,u,l,h)}}e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},51114:function(t,e,r){var n=r(55520);t.exports=function(t,e){var r=n.decode(t,e=e||{});if(!r)return null;var i=r.payload;if("string"==typeof i)try{var s=JSON.parse(i);null!==s&&"object"==typeof s&&(i=s)}catch(o){}return!0===e.complete?{header:r.header,payload:i,signature:r.signature}:i}},84637:function(t,e,r){t.exports={decode:r(51114),verify:r(91906),sign:r(47568),JsonWebTokenError:r(12637),NotBeforeError:r(36407),TokenExpiredError:r(21785)}},12637:function(t){var e=function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)};(e.prototype=Object.create(Error.prototype)).constructor=e,t.exports=e},36407:function(t,e,r){var n=r(12637),i=function(t,e){n.call(this,t),this.name="NotBeforeError",this.date=e};(i.prototype=Object.create(n.prototype)).constructor=i,t.exports=i},21785:function(t,e,r){var n=r(12637),i=function(t,e){n.call(this,t),this.name="TokenExpiredError",this.expiredAt=e};(i.prototype=Object.create(n.prototype)).constructor=i,t.exports=i},63199:function(t,e,r){var n=r(2750);t.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},31428:function(t,e,r){var n=r(13317);t.exports=function(t,e){var r=e||Math.floor(Date.now()/1e3);if("string"==typeof t){var i=n(t);if(void 0===i)return;return Math.floor(r+i/1e3)}return"number"==typeof t?r+t:void 0}},47568:function(t,e,r){var n=r(31428),i=r(63199),s=r(55520),o=r(59859),a=r(52090),c=r(31501),u=r(95223),l=r(51475),h=r(21987),f=r(37597),d=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&d.splice(3,0,"PS256","PS384","PS512");var p={expiresIn:{isValid:function(t){return c(t)||h(t)&&t},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(t){return c(t)||h(t)&&t},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(t){return h(t)||Array.isArray(t)},message:'"audience" must be a string or array'},algorithm:{isValid:o.bind(null,d),message:'"algorithm" must be a valid string enum value'},header:{isValid:l,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:a,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:a,message:'"mutatePayload" must be a boolean'}},m={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function g(t,e,r,n){if(!l(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(i){var s=t[i];if(s){if(!s.isValid(r[i]))throw new Error(s.message)}else if(!e)throw new Error('"'+i+'" is not allowed in "'+n+'"')})}var y={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},v=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];t.exports=function(t,e,r,i){"function"==typeof r?(i=r,r={}):r=r||{};var o="object"==typeof t&&!Buffer.isBuffer(t),a=Object.assign({alg:r.algorithm||"HS256",typ:o?"JWT":void 0,kid:r.keyid},r.header);function c(t){if(i)return i(t);throw t}if(!e&&"none"!==r.algorithm)return c(new Error("secretOrPrivateKey must have a value"));if(void 0===t)return c(new Error("payload is required"));if(o){try{!function(t){g(m,!0,t,"payload")}(t)}catch(d){return c(d)}r.mutatePayload||(t=Object.assign({},t))}else{var u=v.filter(function(t){return void 0!==r[t]});if(u.length>0)return c(new Error("invalid "+u.join(",")+" option for "+typeof t+" payload"))}if(void 0!==t.exp&&void 0!==r.expiresIn)return c(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==t.nbf&&void 0!==r.notBefore)return c(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(t){g(p,!1,t,"options")}(r)}catch(d){return c(d)}var l=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:o&&(t.iat=l),void 0!==r.notBefore){try{t.nbf=n(r.notBefore,l)}catch(b){return c(b)}if(void 0===t.nbf)return c(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof t){try{t.exp=n(r.expiresIn,l)}catch(b){return c(b)}if(void 0===t.exp)return c(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(y).forEach(function(e){var n=y[e];if(void 0!==r[e]){if(void 0!==t[n])return c(new Error('Bad "options.'+e+'" option. The payload already has an "'+n+'" property.'));t[n]=r[e]}});var h=r.encoding||"utf8";if("function"!=typeof i)return s.sign({header:a,payload:t,secret:e,encoding:h});i=i&&f(i),s.createSign({header:a,privateKey:e,payload:t,encoding:h}).once("error",i).once("done",function(t){i(null,t)})}},91906:function(t,e,r){var n=r(12637),i=r(36407),s=r(21785),o=r(51114),a=r(31428),c=r(63199),u=r(55520),l=["RS256","RS384","RS512","ES256","ES384","ES512"],h=["RS256","RS384","RS512"],f=["HS256","HS384","HS512"];c&&(l.splice(3,0,"PS256","PS384","PS512"),h.splice(3,0,"PS256","PS384","PS512")),t.exports=function(t,e,r,c){var d;if("function"!=typeof r||c||(c=r,r={}),r||(r={}),r=Object.assign({},r),d=c||function(t,e){if(t)throw t;return e},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return d(new n("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return d(new n("nonce must be a non-empty string"));var p=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return d(new n("jwt must be provided"));if("string"!=typeof t)return d(new n("jwt must be a string"));var m,g=t.split(".");if(3!==g.length)return d(new n("jwt malformed"));try{m=o(t,{complete:!0})}catch(b){return d(b)}if(!m)return d(new n("invalid token"));var y,v=m.header;if("function"==typeof e){if(!c)return d(new n("verify must be called asynchronous if secret or public key is provided as a callback"));y=e}else y=function(t,r){return r(null,e)};return y(v,function(e,o){if(e)return d(new n("error in secret or public key callback: "+e.message));var c,y=""!==g[2].trim();if(!y&&o)return d(new n("jwt signature is required"));if(y&&!o)return d(new n("secret or public key must be provided"));if(y||r.algorithms||(r.algorithms=["none"]),r.algorithms||(r.algorithms=~o.toString().indexOf("BEGIN CERTIFICATE")||~o.toString().indexOf("BEGIN PUBLIC KEY")?l:~o.toString().indexOf("BEGIN RSA PUBLIC KEY")?h:f),!~r.algorithms.indexOf(m.header.alg))return d(new n("invalid algorithm"));try{c=u.verify(t,m.header.alg,o)}catch(S){return d(S)}if(!c)return d(new n("invalid signature"));var b=m.payload;if(void 0!==b.nbf&&!r.ignoreNotBefore){if("number"!=typeof b.nbf)return d(new n("invalid nbf value"));if(b.nbf>p+(r.clockTolerance||0))return d(new i("jwt not active",new Date(1e3*b.nbf)))}if(void 0!==b.exp&&!r.ignoreExpiration){if("number"!=typeof b.exp)return d(new n("invalid exp value"));if(p>=b.exp+(r.clockTolerance||0))return d(new s("jwt expired",new Date(1e3*b.exp)))}if(r.audience){var _=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(b.aud)?b.aud:[b.aud]).some(function(t){return _.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return d(new n("jwt audience invalid. expected: "+_.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&b.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(b.iss)))return d(new n("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&b.sub!==r.subject)return d(new n("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&b.jti!==r.jwtid)return d(new n("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&b.nonce!==r.nonce)return d(new n("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof b.iat)return d(new n("iat required when maxAge is specified"));var w=a(r.maxAge,b.iat);if(void 0===w)return d(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(p>=w+(r.clockTolerance||0))return d(new s("maxAge exceeded",new Date(1e3*w)))}return d(null,!0===r.complete?{header:v,payload:b,signature:m.signature}:b)})}},91635:function(t,e,r){var n=r(39202),i=r(36810).Buffer,s=r(77236),o=r(95401),a=r(69196),c="secret must be a string or buffer",u="key must be a string or a buffer",l="function"==typeof s.createPublicKey;function h(t){if(!i.isBuffer(t)&&"string"!=typeof t){if(!l)throw m(u);if("object"!=typeof t)throw m(u);if("string"!=typeof t.type)throw m(u);if("string"!=typeof t.asymmetricKeyType)throw m(u);if("function"!=typeof t.export)throw m(u)}}function f(t){if(!i.isBuffer(t)&&"string"!=typeof t&&"object"!=typeof t)throw m("key must be a string, a buffer or an object")}function d(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p(t){var e=4-(t=t.toString()).length%4;if(4!==e)for(var r=0;r<e;++r)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}function m(t){var e=[].slice.call(arguments,1),r=a.format.bind(a,t).apply(null,e);return new TypeError(r)}function g(t){var e;return i.isBuffer(e=t)||"string"==typeof e||(t=JSON.stringify(t)),t}function y(t){return function(e,r){!function(t){if(!i.isBuffer(t)){if("string"==typeof t)return t;if(!l)throw m(c);if("object"!=typeof t)throw m(c);if("secret"!==t.type)throw m(c);if("function"!=typeof t.export)throw m(c)}}(r),e=g(e);var n=s.createHmac("sha"+t,r);return d((n.update(e),n.digest("base64")))}}function v(t){return function(e,r,s){var o=y(t)(e,s);return n(i.from(r),i.from(o))}}function b(t){return function(e,r){f(r),e=g(e);var n=s.createSign("RSA-SHA"+t);return d((n.update(e),n.sign(r,"base64")))}}function _(t){return function(e,r,n){h(n),e=g(e),r=p(r);var i=s.createVerify("RSA-SHA"+t);return i.update(e),i.verify(n,r,"base64")}}function w(t){return function(e,r){f(r),e=g(e);var n=s.createSign("RSA-SHA"+t);return d((n.update(e),n.sign({key:r,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function S(t){return function(e,r,n){h(n),e=g(e),r=p(r);var i=s.createVerify("RSA-SHA"+t);return i.update(e),i.verify({key:n,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function E(t){var e=b(t);return function(){var r=e.apply(null,arguments);return o.derToJose(r,"ES"+t)}}function C(t){var e=_(t);return function(r,n,i){return n=o.joseToDer(n,"ES"+t).toString("base64"),e(r,n,i)}}function k(){return function(){return""}}function A(){return function(t,e){return""===e}}l&&(u+=" or a KeyObject",c+="or a KeyObject"),t.exports=function(t){var e={hs:y,rs:b,ps:w,es:E,none:k},r={hs:v,rs:_,ps:S,es:C,none:A},n=t.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',t);var i=(n[1]||n[3]).toLowerCase(),s=n[2];return{sign:e[i](s),verify:r[i](s)}}},55520:function(t,e,r){var n=r(61497),i=r(21146);e.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],e.sign=n.sign,e.verify=i.verify,e.decode=i.decode,e.isValid=i.isValid,e.createSign=function(t){return new n(t)},e.createVerify=function(t){return new i(t)}},10282:function(t,e,r){var n=r(36810).Buffer,i=r(53518);function s(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=n.alloc(0),this;if("function"==typeof t.pipe)return this.buffer=n.alloc(0),t.pipe(this),this;if(t.length||"object"==typeof t)return this.buffer=t,this.writable=!1,process.nextTick((function(){this.emit("end",t),this.readable=!1,this.emit("close")}).bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}r(69196).inherits(s,i),s.prototype.write=function(t){this.buffer=n.concat([this.buffer,n.from(t)]),this.emit("data",t)},s.prototype.end=function(t){t&&this.write(t),this.emit("end",t),this.emit("close"),this.writable=!1,this.readable=!1},t.exports=s},61497:function(t,e,r){var n=r(36810).Buffer,i=r(10282),s=r(91635),o=r(53518),a=r(38293),c=r(69196);function u(t,e){return n.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(t){var e=t.header,r=t.payload,n=t.secret||t.privateKey,i=t.encoding,o=s(e.alg),l=function(t,e,r){r=r||"utf8";var n=u(a(t),"binary"),i=u(a(e),r);return c.format("%s.%s",n,i)}(e,r,i),h=o.sign(l,n);return c.format("%s.%s",l,h)}function h(t){var e=new i(t.secret||t.privateKey||t.key);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=e,this.payload=new i(t.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}c.inherits(h,o),h.prototype.sign=function(){try{var t=l({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",t),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},h.sign=l,t.exports=h},38293:function(t,e,r){var n=r(93915).Buffer;t.exports=function(t){return"string"==typeof t?t:"number"==typeof t||n.isBuffer(t)?t.toString():JSON.stringify(t)}},21146:function(t,e,r){var n=r(36810).Buffer,i=r(10282),s=r(91635),o=r(53518),a=r(38293),c=r(69196),u=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function l(t){var e=t.split(".",1)[0];return function(t){if(function(t){return"[object Object]"===Object.prototype.toString.call(t)}(t))return t;try{return JSON.parse(t)}catch(e){return}}(n.from(e,"base64").toString("binary"))}function h(t){return t.split(".")[2]}function f(t){return u.test(t)&&!!l(t)}function d(t,e,r){if(!e){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var i=h(t=a(t)),o=function(t){return t.split(".",2).join(".")}(t);return s(e).verify(o,i,r)}function p(t,e){if(e=e||{},!f(t=a(t)))return null;var r=l(t);if(!r)return null;var i=function(t,e){e=e||"utf8";var r=t.split(".")[1];return n.from(r,"base64").toString(e)}(t);return("JWT"===r.typ||e.json)&&(i=JSON.parse(i,e.encoding)),{header:r,payload:i,signature:h(t)}}function m(t){var e=new i((t=t||{}).secret||t.publicKey||t.key);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=e,this.signature=new i(t.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}c.inherits(m,o),m.prototype.verify=function(){try{var t=d(this.signature.buffer,this.algorithm,this.key.buffer),e=p(this.signature.buffer,this.encoding);return this.emit("done",t,e),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}},m.decode=p,m.isValid=f,m.verify=d,t.exports=m},4193:function(t,e,r){t=r.nmd(t);var n="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Boolean]",a="[object Date]",c="[object Function]",u="[object GeneratorFunction]",l="[object Map]",h="[object Number]",f="[object Object]",d="[object Promise]",p="[object RegExp]",m="[object Set]",g="[object String]",y="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",C="[object Int16Array]",k="[object Int32Array]",A="[object Uint8Array]",x="[object Uint8ClampedArray]",T="[object Uint16Array]",I="[object Uint32Array]",R=/\w*$/,P=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,O={};O[s]=O["[object Array]"]=O[b]=O[_]=O[o]=O[a]=O[w]=O[S]=O[E]=O[C]=O[k]=O[l]=O[h]=O[f]=O[p]=O[m]=O[g]=O[y]=O[A]=O[x]=O[T]=O[I]=!0,O["[object Error]"]=O[c]=O[v]=!1;var M="object"==typeof global&&global&&global.Object===Object&&global,B="object"==typeof self&&self&&self.Object===Object&&self,N=M||B||Function("return this")(),D=e&&!e.nodeType&&e,L=D&&t&&!t.nodeType&&t,j=L&&L.exports===D;function U(t,e){return t.set(e[0],e[1]),t}function V(t,e){return t.add(e),t}function H(t,e,r,n){var i=-1,s=t?t.length:0;for(n&&s&&(r=t[++i]);++i<s;)r=e(r,t[i],i,t);return r}function q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function K(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function z(t,e){return function(r){return t(e(r))}}function W(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var $,G=Array.prototype,Q=Function.prototype,J=Object.prototype,Z=N["__core-js_shared__"],Y=($=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",X=Q.toString,tt=J.hasOwnProperty,et=J.toString,rt=RegExp("^"+X.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=j?N.Buffer:void 0,it=N.Symbol,st=N.Uint8Array,ot=z(Object.getPrototypeOf,Object),at=Object.create,ct=J.propertyIsEnumerable,ut=G.splice,lt=Object.getOwnPropertySymbols,ht=nt?nt.isBuffer:void 0,ft=z(Object.keys,Object),dt=Nt(N,"DataView"),pt=Nt(N,"Map"),mt=Nt(N,"Promise"),gt=Nt(N,"Set"),yt=Nt(N,"WeakMap"),vt=Nt(Object,"create"),bt=Vt(dt),_t=Vt(pt),wt=Vt(mt),St=Vt(gt),Et=Vt(yt),Ct=it?it.prototype:void 0,kt=Ct?Ct.valueOf:void 0;function At(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function xt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Tt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function It(t){this.__data__=new xt(t)}function Rt(t,e,r){var n=t[e];tt.call(t,e)&&Ht(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Pt(t,e){for(var r=t.length;r--;)if(Ht(t[r][0],e))return r;return-1}function Ft(t,e,r,n,i,d,v){var P;if(n&&(P=d?n(t,i,d,v):n(t)),void 0!==P)return P;if(!$t(t))return t;var F=qt(t);if(F){if(P=function(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&tt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!e)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,P)}else{var M=Lt(t),B=M==c||M==u;if(zt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(M==f||M==s||B&&!d){if(q(t))return d?t:{};if(P=function(t){return"function"!=typeof t.constructor||Ut(t)?{}:$t(e=ot(t))?at(e):{};var e}(B?{}:t),!e)return function(t,e){return Mt(t,Dt(t),e)}(t,function(t,e){return t&&Mt(e,Gt(e),t)}(P,t))}else{if(!O[M])return d?t:{};P=function(t,e,r,n){var i=t.constructor;switch(e){case b:return Ot(t);case o:case a:return new i(+t);case _:return function(t,e){var r=e?Ot(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case w:case S:case E:case C:case k:case A:case x:case T:case I:return function(t,e){var r=e?Ot(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case l:return function(t,e,r){return H(e?r(K(t),!0):K(t),U,new t.constructor)}(t,n,r);case h:case g:return new i(t);case p:return function(t){var e=new t.constructor(t.source,R.exec(t));return e.lastIndex=t.lastIndex,e}(t);case m:return function(t,e,r){return H(e?r(W(t),!0):W(t),V,new t.constructor)}(t,n,r);case y:return kt?Object(kt.call(t)):{}}}(t,M,Ft,e)}}v||(v=new It);var N=v.get(t);if(N)return N;if(v.set(t,P),!F)var D=r?function(t){return function(t,e,r){var n=e(t);return qt(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Gt,Dt)}(t):Gt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r););}(D||t,function(i,s){D&&(i=t[s=i]),Rt(P,s,Ft(i,e,r,n,s,t,v))}),P}function Ot(t){var e=new t.constructor(t.byteLength);return new st(e).set(new st(t)),e}function Mt(t,e,r,n){r||(r={});for(var i=-1,s=e.length;++i<s;){var o=e[i],a=n?n(r[o],t[o],o,r,t):void 0;Rt(r,o,void 0===a?t[o]:a)}return r}function Bt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Nt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!$t(t)||(e=t,Y&&Y in e))&&(Wt(t)||q(t)?rt:P).test(Vt(t));var e}(r)?r:void 0}At.prototype.clear=function(){this.__data__=vt?vt(null):{}},At.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},At.prototype.get=function(t){var e=this.__data__;if(vt){var r=e[t];return r===n?void 0:r}return tt.call(e,t)?e[t]:void 0},At.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:tt.call(e,t)},At.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?n:e,this},xt.prototype.clear=function(){this.__data__=[]},xt.prototype.delete=function(t){var e=this.__data__,r=Pt(e,t);return!(r<0||(r==e.length-1?e.pop():ut.call(e,r,1),0))},xt.prototype.get=function(t){var e=this.__data__,r=Pt(e,t);return r<0?void 0:e[r][1]},xt.prototype.has=function(t){return Pt(this.__data__,t)>-1},xt.prototype.set=function(t,e){var r=this.__data__,n=Pt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new At,map:new(pt||xt),string:new At}},Tt.prototype.delete=function(t){return Bt(this,t).delete(t)},Tt.prototype.get=function(t){return Bt(this,t).get(t)},Tt.prototype.has=function(t){return Bt(this,t).has(t)},Tt.prototype.set=function(t,e){return Bt(this,t).set(t,e),this},It.prototype.clear=function(){this.__data__=new xt},It.prototype.delete=function(t){return this.__data__.delete(t)},It.prototype.get=function(t){return this.__data__.get(t)},It.prototype.has=function(t){return this.__data__.has(t)},It.prototype.set=function(t,e){var r=this.__data__;if(r instanceof xt){var n=r.__data__;if(!pt||n.length<199)return n.push([t,e]),this;r=this.__data__=new Tt(n)}return r.set(t,e),this};var Dt=lt?z(lt,Object):function(){return[]},Lt=function(t){return et.call(t)};function jt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||F.test(t))&&t>-1&&t%1==0&&t<e}function Ut(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||J)}function Vt(t){if(null!=t){try{return X.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ht(t,e){return t===e||t!=t&&e!=e}(dt&&Lt(new dt(new ArrayBuffer(1)))!=_||pt&&Lt(new pt)!=l||mt&&Lt(mt.resolve())!=d||gt&&Lt(new gt)!=m||yt&&Lt(new yt)!=v)&&(Lt=function(t){var e=et.call(t),r=e==f?t.constructor:void 0,n=r?Vt(r):void 0;if(n)switch(n){case bt:return _;case _t:return l;case wt:return d;case St:return m;case Et:return v}return e});var qt=Array.isArray;function Kt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Wt(t)}var zt=ht||function(){return!1};function Wt(t){var e=$t(t)?et.call(t):"";return e==c||e==u}function $t(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Gt(t){return Kt(t)?function(t,e){var r=qt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Kt(t)}(t)&&tt.call(t,"callee")&&(!ct.call(t,"callee")||et.call(t)==s)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!tt.call(t,o)||i&&("length"==o||jt(o,n))||r.push(o);return r}(t):function(t){if(!Ut(t))return ft(t);var e=[];for(var r in Object(t))tt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return Ft(t,!0,!0)}},59859:function(t){var e=9007199254740991,r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=/^(?:0|[1-9]\d*)$/,a=parseInt;function c(t){return t!=t}var u,l,h=Object.prototype,f=h.hasOwnProperty,d=h.toString,p=h.propertyIsEnumerable,m=(u=Object.keys,l=Object,function(t){return u(l(t))}),g=Math.max;function y(t,r){return!!(r=null==r?e:r)&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<r}var v=Array.isArray;function b(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}(t.length)&&!function(t){var e=_(t)?d.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function w(t){return!!t&&"object"==typeof t}t.exports=function(t,e,o,u){var l;t=b(t)?t:(l=t)?function(t,e){return function(e,r){for(var n=-1,i=e?e.length:0,s=Array(i);++n<i;)s[n]=t[e[n]];return s}(e)}(l,function(t){return b(t)?function(t,e){var r=v(t)||function(t){return function(t){return w(t)&&b(t)}(t)&&f.call(t,"callee")&&(!p.call(t,"callee")||"[object Arguments]"==d.call(t))}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var s in t)!f.call(t,s)||i&&("length"==s||y(s,n))||r.push(s);return r}(t):function(t){if((e=t)!==("function"==typeof(r=e&&e.constructor)&&r.prototype||h))return m(t);var e,r,n=[];for(var i in Object(t))f.call(t,i)&&"constructor"!=i&&n.push(i);return n}(t)}(l)):[],o=o&&!u?function(t){var e=function(t){return t?1/0===(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||w(t)&&"[object Symbol]"==d.call(t)}(t))return NaN;if(_(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var o=i.test(t);return o||s.test(t)?a(t.slice(2),o?2:8):n.test(t)?NaN:+t}(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(t),o=e%1;return e==e?o?e-o:e:0}(o):0;var S=t.length;return o<0&&(o=g(S+o,0)),function(t){return"string"==typeof t||!v(t)&&w(t)&&"[object String]"==d.call(t)}(t)?o<=S&&t.indexOf(e,o)>-1:!!S&&function(t,e,r){if(e!=e)return function(t,e,r,n){for(var i=t.length,s=r+-1;++s<i;)if(e(t[s],s,t))return s;return-1}(t,c,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,o)>-1}},52090:function(t){var e=Object.prototype.toString;t.exports=function(t){return!0===t||!1===t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Boolean]"==e.call(t)}},31501:function(t){var e=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt,o=Object.prototype.toString;function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t){return"number"==typeof t&&t==function(t){var c=function(t){return t?1/0===(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==o.call(t)}(t))return NaN;if(a(t)){var c="function"==typeof t.valueOf?t.valueOf():t;t=a(c)?c+"":c}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(e,"");var u=n.test(t);return u||i.test(t)?s(t.slice(2),u?2:8):r.test(t)?NaN:+t}(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(t),u=c%1;return c==c?u?c-u:c:0}(t)}},95223:function(t){var e=Object.prototype.toString;t.exports=function(t){return"number"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Number]"==e.call(t)}},51475:function(t){var e,r,n=Object.prototype,i=Function.prototype.toString,s=n.hasOwnProperty,o=i.call(Object),a=n.toString,c=(e=Object.getPrototypeOf,r=Object,function(t){return e(r(t))});t.exports=function(t){if(!function(t){return!!t&&"object"==typeof t}(t)||"[object Object]"!=a.call(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}(t))return!1;var e=c(t);if(null===e)return!0;var r=s.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&i.call(r)==o}},21987:function(t){var e=Object.prototype.toString,r=Array.isArray;t.exports=function(t){return"string"==typeof t||!r(t)&&function(t){return!!t&&"object"==typeof t}(t)&&"[object String]"==e.call(t)}},37597:function(t){var e=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt,o=Object.prototype.toString;function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t){return function(t,c){var u;if("function"!=typeof c)throw new TypeError("Expected a function");return t=function(t){var c=function(t){return t?1/0===(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==o.call(t)}(t))return NaN;if(a(t)){var c="function"==typeof t.valueOf?t.valueOf():t;t=a(c)?c+"":c}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(e,"");var u=n.test(t);return u||i.test(t)?s(t.slice(2),u?2:8):r.test(t)?NaN:+t}(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(t),u=c%1;return c==c?u?c-u:c:0}(t),function(){return--t>0&&(u=c.apply(this,arguments)),t<=1&&(c=void 0),u}}(2,t)}},3849:function(t,e,r){var n=r(69609)(r(26763),"DataView");t.exports=n},98972:function(t,e,r){var n=r(64379),i=r(68169),s=r(31354),o=r(16404),a=r(93082);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,t.exports=c},89172:function(t,e,r){var n=r(78441),i=r(13858);function s(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}(s.prototype=n(i.prototype)).constructor=s,t.exports=s},31029:function(t,e,r){var n=r(68994),i=r(49515),s=r(30069),o=r(14863),a=r(29970);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,t.exports=c},71098:function(t,e,r){var n=r(78441),i=r(13858);function s(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}(s.prototype=n(i.prototype)).constructor=s,t.exports=s},52764:function(t,e,r){var n=r(69609)(r(26763),"Map");t.exports=n},37636:function(t,e,r){var n=r(4473),i=r(13196),s=r(88101),o=r(40721),a=r(16125);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,t.exports=c},15282:function(t,e,r){var n=r(69609)(r(26763),"Promise");t.exports=n},96113:function(t,e,r){var n=r(69609)(r(26763),"Set");t.exports=n},24362:function(t,e,r){var n=r(37636),i=r(17042),s=r(47261);function o(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}o.prototype.add=o.prototype.push=i,o.prototype.has=s,t.exports=o},89193:function(t,e,r){var n=r(31029),i=r(56874),s=r(32416),o=r(9356),a=r(80370),c=r(64259);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=s,u.prototype.get=o,u.prototype.has=a,u.prototype.set=c,t.exports=u},21710:function(t,e,r){var n=r(26763);t.exports=n.Symbol},44205:function(t,e,r){var n=r(26763);t.exports=n.Uint8Array},358:function(t,e,r){var n=r(69609)(r(26763),"WeakMap");t.exports=n},43048:function(t){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},24636:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},58070:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}},5482:function(t,e,r){var n=r(9673);t.exports=function(t,e){return!(null==t||!t.length)&&n(t,e,0)>-1}},27341:function(t){t.exports=function(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}},19275:function(t,e,r){var n=r(78893),i=r(86478),s=r(51487),o=r(12668),a=r(11524),c=r(71798),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=s(t),l=!r&&i(t),h=!r&&!l&&o(t),f=!r&&!l&&!h&&c(t),d=r||l||h||f,p=d?n(t.length,String):[],m=p.length;for(var g in t)!e&&!u.call(t,g)||d&&("length"==g||h&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||p.push(g);return p}},40087:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},33455:function(t){t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},83869:function(t,e,r){var n=r(45541),i=r(77230);t.exports=function(t,e,r){(void 0!==r&&!i(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},43047:function(t,e,r){var n=r(45541),i=r(77230),s=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var o=t[e];s.call(t,e)&&i(o,r)&&(void 0!==r||e in t)||n(t,e,r)}},81836:function(t,e,r){var n=r(77230);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},47836:function(t,e,r){var n=r(95932),i=r(89322);t.exports=function(t,e){return t&&n(e,i(e),t)}},49460:function(t,e,r){var n=r(95932),i=r(95536);t.exports=function(t,e){return t&&n(e,i(e),t)}},45541:function(t,e,r){var n=r(68833);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},66936:function(t){t.exports=function(t,e,r){return t==t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t}},59711:function(t,e,r){var n=r(89193),i=r(24636),s=r(43047),o=r(47836),a=r(49460),c=r(19231),u=r(31571),l=r(23087),h=r(25474),f=r(55525),d=r(21367),p=r(54564),m=r(2608),g=r(25806),y=r(19142),v=r(51487),b=r(12668),_=r(52448),w=r(44603),S=r(21700),E=r(89322),C=r(95536),k="[object Arguments]",A="[object Function]",x="[object Object]",T={};T[k]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[x]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[A]=T["[object WeakMap]"]=!1,t.exports=function t(e,r,I,R,P,F){var O,M=1&r,B=2&r,N=4&r;if(I&&(O=P?I(e,R,P,F):I(e)),void 0!==O)return O;if(!w(e))return e;var D=v(e);if(D){if(O=m(e),!M)return u(e,O)}else{var L=p(e),j=L==A||"[object GeneratorFunction]"==L;if(b(e))return c(e,M);if(L==x||L==k||j&&!P){if(O=B||j?{}:y(e),!M)return B?h(e,a(O,e)):l(e,o(O,e))}else{if(!T[L])return P?e:{};O=g(e,L,M)}}F||(F=new n);var U=F.get(e);if(U)return U;F.set(e,O),S(e)?e.forEach(function(n){O.add(t(n,r,I,n,e,F))}):_(e)&&e.forEach(function(n,i){O.set(i,t(n,r,I,i,e,F))});var V=D?void 0:(N?B?d:f:B?C:E)(e);return i(V||e,function(n,i){V&&(n=e[i=n]),s(O,i,t(n,r,I,i,e,F))}),O}},78441:function(t,e,r){var n=r(44603),i=Object.create,s=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=s},90545:function(t,e,r){var n=r(36701),i=r(2963);t.exports=function(t,e,r,s){var o=t.length;for((r=n(r))<0&&(r=-r>o?0:o+r),(s=void 0===s||s>o?o:n(s))<0&&(s+=o),s=r>s?0:i(s);r<s;)t[r++]=e;return t}},33892:function(t){t.exports=function(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}},26797:function(t,e,r){var n=r(33455),i=r(3770);t.exports=function t(e,r,s,o,a){var c=-1,u=e.length;for(s||(s=i),a||(a=[]);++c<u;){var l=e[c];r>0&&s(l)?r>1?t(l,r-1,s,o,a):n(a,l):o||(a[a.length]=l)}return a}},20853:function(t,e,r){var n=r(41313)();t.exports=n},59433:function(t,e,r){var n=r(23532),i=r(39689);t.exports=function(t,e){for(var r=0,s=(e=n(e,t)).length;null!=t&&r<s;)t=t[i(e[r++])];return r&&r==s?t:void 0}},70063:function(t,e,r){var n=r(33455),i=r(51487);t.exports=function(t,e,r){var s=e(t);return i(t)?s:n(s,r(t))}},77417:function(t,e,r){var n=r(21710),i=r(1522),s=r(17052),o=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):s(t)}},74492:function(t){t.exports=function(t,e){return null!=t&&e in Object(t)}},9673:function(t,e,r){var n=r(33892),i=r(87810),s=r(72455);t.exports=function(t,e,r){return e==e?s(t,e,r):n(t,i,r)}},92824:function(t,e,r){var n=r(24362),i=r(5482),s=r(27341),o=r(40087),a=r(11592),c=r(36447),u=Math.min;t.exports=function(t,e,r){for(var l=r?s:i,h=t[0].length,f=t.length,d=f,p=Array(f),m=1/0,g=[];d--;){var y=t[d];d&&e&&(y=o(y,a(e))),m=u(y.length,m),p[d]=!r&&(e||h>=120&&y.length>=120)?new n(d&&y):void 0}y=t[0];var v=-1,b=p[0];t:for(;++v<h&&g.length<m;){var _=y[v],w=e?e(_):_;if(_=r||0!==_?_:0,!(b?c(b,w):l(g,w,r))){for(d=f;--d;){var S=p[d];if(!(S?c(S,w):l(t[d],w,r)))continue t}b&&b.push(w),g.push(_)}}return g}},80901:function(t,e,r){var n=r(77417),i=r(64159);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},54758:function(t,e,r){var n=r(54564),i=r(64159);t.exports=function(t){return i(t)&&"[object Map]"==n(t)}},87810:function(t){t.exports=function(t){return t!=t}},71125:function(t,e,r){var n=r(97324),i=r(7588),s=r(44603),o=r(15432),a=/^\[object .+?Constructor\]$/,c=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!s(t)||i(t))&&(n(t)?c:a).test(o(t))}},29086:function(t,e,r){var n=r(54564),i=r(64159);t.exports=function(t){return i(t)&&"[object Set]"==n(t)}},35019:function(t,e,r){var n=r(77417),i=r(34861),s=r(64159),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return s(t)&&i(t.length)&&!!o[n(t)]}},91686:function(t,e,r){var n=r(28178),i=r(38681),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))s.call(t,r)&&"constructor"!=r&&e.push(r);return e}},98212:function(t,e,r){var n=r(44603),i=r(28178),s=r(35181),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return s(t);var e=i(t),r=[];for(var a in t)("constructor"!=a||!e&&o.call(t,a))&&r.push(a);return r}},13858:function(t){t.exports=function(){}},55121:function(t,e,r){var n=r(89193),i=r(83869),s=r(20853),o=r(49633),a=r(44603),c=r(95536),u=r(42);t.exports=function t(e,r,l,h,f){e!==r&&s(r,function(s,c){if(f||(f=new n),a(s))o(e,r,c,l,t,h,f);else{var d=h?h(u(e,c),s,c+"",e,r,f):void 0;void 0===d&&(d=s),i(e,c,d)}},c)}},49633:function(t,e,r){var n=r(83869),i=r(19231),s=r(37288),o=r(31571),a=r(19142),c=r(86478),u=r(51487),l=r(94839),h=r(12668),f=r(97324),d=r(44603),p=r(5332),m=r(71798),g=r(42),y=r(20449);t.exports=function(t,e,r,v,b,_,w){var S=g(t,r),E=g(e,r),C=w.get(E);if(C)n(t,r,C);else{var k=_?_(S,E,r+"",t,e,w):void 0,A=void 0===k;if(A){var x=u(E),T=!x&&h(E),I=!x&&!T&&m(E);k=E,x||T||I?u(S)?k=S:l(S)?k=o(S):T?(A=!1,k=i(E,!0)):I?(A=!1,k=s(E,!0)):k=[]:p(E)||c(E)?(k=S,c(S)?k=y(S):d(S)&&!f(S)||(k=a(E))):A=!1}A&&(w.set(E,k),b(k,E,v,_,w),w.delete(E)),n(t,r,k)}}},53771:function(t,e,r){var n=r(38826),i=r(77695);t.exports=function(t,e){return n(t,e,function(e,r){return i(t,r)})}},38826:function(t,e,r){var n=r(59433),i=r(20567),s=r(23532);t.exports=function(t,e,r){for(var o=-1,a=e.length,c={};++o<a;){var u=e[o],l=n(t,u);r(l,u)&&i(c,s(u,t),l)}return c}},75306:function(t,e,r){var n=r(60592),i=r(12137),s=r(73616);t.exports=function(t,e){return s(i(t,e,n),t+"")}},20567:function(t,e,r){var n=r(43047),i=r(23532),s=r(11524),o=r(44603),a=r(39689);t.exports=function(t,e,r,c){if(!o(t))return t;for(var u=-1,l=(e=i(e,t)).length,h=l-1,f=t;null!=f&&++u<l;){var d=a(e[u]),p=r;if("__proto__"===d||"constructor"===d||"prototype"===d)return t;if(u!=h){var m=f[d];void 0===(p=c?c(m,d,f):void 0)&&(p=o(m)?m:s(e[u+1])?[]:{})}n(f,d,p),f=f[d]}return t}},89993:function(t,e,r){var n=r(60592),i=r(13714);t.exports=i?function(t,e){return i.set(t,e),t}:n},11674:function(t,e,r){var n=r(6489),i=r(68833),s=r(60592);t.exports=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:s},9822:function(t){t.exports=function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}},78893:function(t){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},65542:function(t,e,r){var n=r(21710),i=r(40087),s=r(51487),o=r(50066),a=n?n.prototype:void 0,c=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(s(e))return i(e,t)+"";if(o(e))return c?c.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},11592:function(t){t.exports=function(t){return function(e){return t(e)}}},68850:function(t,e,r){var n=r(24362),i=r(5482),s=r(27341),o=r(36447),a=r(93306),c=r(83165);t.exports=function(t,e,r){var u=-1,l=i,h=t.length,f=!0,d=[],p=d;if(r)f=!1,l=s;else if(h>=200){var m=e?null:a(t);if(m)return c(m);f=!1,l=o,p=new n}else p=e?[]:d;t:for(;++u<h;){var g=t[u],y=e?e(g):g;if(g=r||0!==g?g:0,f&&y==y){for(var v=p.length;v--;)if(p[v]===y)continue t;e&&p.push(y),d.push(g)}else l(p,y,r)||(p!==d&&p.push(y),d.push(g))}return d}},42617:function(t,e,r){var n=r(23532),i=r(30011),s=r(86414),o=r(39689);t.exports=function(t,e){return e=n(e,t),null==(t=s(t,e))||delete t[o(i(e))]}},36447:function(t){t.exports=function(t,e){return t.has(e)}},71183:function(t,e,r){var n=r(94839);t.exports=function(t){return n(t)?t:[]}},23532:function(t,e,r){var n=r(51487),i=r(18127),s=r(42786),o=r(50964);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:s(o(t))}},51804:function(t,e,r){var n=r(44205);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},19231:function(t,e,r){t=r.nmd(t);var n=r(26763),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,o=s&&s.exports===i?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=a?a(r):new t.constructor(r);return t.copy(n),n}},57915:function(t,e,r){var n=r(51804);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},989:function(t){var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},77250:function(t,e,r){var n=r(21710),i=n?n.prototype:void 0,s=i?i.valueOf:void 0;t.exports=function(t){return s?Object(s.call(t)):{}}},37288:function(t,e,r){var n=r(51804);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},3311:function(t){var e=Math.max;t.exports=function(t,r,n,i){for(var s=-1,o=t.length,a=n.length,c=-1,u=r.length,l=e(o-a,0),h=Array(u+l),f=!i;++c<u;)h[c]=r[c];for(;++s<a;)(f||s<o)&&(h[n[s]]=t[s]);for(;l--;)h[c++]=t[s++];return h}},55766:function(t){var e=Math.max;t.exports=function(t,r,n,i){for(var s=-1,o=t.length,a=-1,c=n.length,u=-1,l=r.length,h=e(o-c,0),f=Array(h+l),d=!i;++s<h;)f[s]=t[s];for(var p=s;++u<l;)f[p+u]=r[u];for(;++a<c;)(d||s<o)&&(f[p+n[a]]=t[s++]);return f}},31571:function(t){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},95932:function(t,e,r){var n=r(43047),i=r(45541);t.exports=function(t,e,r,s){var o=!r;r||(r={});for(var a=-1,c=e.length;++a<c;){var u=e[a],l=s?s(r[u],t[u],u,r,t):void 0;void 0===l&&(l=t[u]),o?i(r,u,l):n(r,u,l)}return r}},23087:function(t,e,r){var n=r(95932),i=r(62390);t.exports=function(t,e){return n(t,i(t),e)}},25474:function(t,e,r){var n=r(95932),i=r(86544);t.exports=function(t,e){return n(t,i(t),e)}},8126:function(t,e,r){var n=r(26763);t.exports=n["__core-js_shared__"]},63931:function(t){t.exports=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}},14404:function(t,e,r){var n=r(75306),i=r(88773);t.exports=function(t){return n(function(e,r){var n=-1,s=r.length,o=s>1?r[s-1]:void 0,a=s>2?r[2]:void 0;for(o=t.length>3&&"function"==typeof o?(s--,o):void 0,a&&i(r[0],r[1],a)&&(o=s<3?void 0:o,s=1),e=Object(e);++n<s;){var c=r[n];c&&t(e,c,n,o)}return e})}},41313:function(t){t.exports=function(t){return function(e,r,n){for(var i=-1,s=Object(e),o=n(e),a=o.length;a--;){var c=o[t?a:++i];if(!1===r(s[c],c,s))break}return e}}},90272:function(t,e,r){var n=r(25675),i=r(26763);t.exports=function(t,e,r){var s=1&e,o=n(t);return function e(){var n=this&&this!==i&&this instanceof e?o:t;return n.apply(s?r:this,arguments)}}},25675:function(t,e,r){var n=r(78441),i=r(44603);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=n(t.prototype),s=t.apply(r,e);return i(s)?s:r}}},92820:function(t,e,r){var n=r(43048),i=r(25675),s=r(38929),o=r(81096),a=r(26097),c=r(51622),u=r(26763);t.exports=function(t,e,r){var l=i(t);return function i(){for(var h=arguments.length,f=Array(h),d=h,p=a(i);d--;)f[d]=arguments[d];var m=h<3&&f[0]!==p&&f[h-1]!==p?[]:c(f,p);if((h-=m.length)<r)return o(t,e,s,i.placeholder,void 0,f,m,void 0,void 0,r-h);var g=this&&this!==u&&this instanceof i?l:t;return n(g,this,f)}}},38929:function(t,e,r){var n=r(3311),i=r(55766),s=r(63931),o=r(25675),a=r(81096),c=r(26097),u=r(16382),l=r(51622),h=r(26763);t.exports=function t(e,r,f,d,p,m,g,y,v,b){var _=128&r,w=1&r,S=2&r,E=24&r,C=512&r,k=S?void 0:o(e);return function A(){for(var x=arguments.length,T=Array(x),I=x;I--;)T[I]=arguments[I];if(E)var R=c(A),P=s(T,R);if(d&&(T=n(T,d,p,E)),m&&(T=i(T,m,g,E)),x-=P,E&&x<b){var F=l(T,R);return a(e,r,t,A.placeholder,f,T,F,y,v,b-x)}var O=w?f:this,M=S?O[e]:e;return x=T.length,y?T=u(T,y):C&&x>1&&T.reverse(),_&&v<x&&(T.length=v),this&&this!==h&&this instanceof A&&(M=k||o(M)),M.apply(O,T)}}},96793:function(t,e,r){var n=r(43048),i=r(25675),s=r(26763);t.exports=function(t,e,r,o){var a=1&e,c=i(t);return function e(){for(var i=-1,u=arguments.length,l=-1,h=o.length,f=Array(h+u),d=this&&this!==s&&this instanceof e?c:t;++l<h;)f[l]=o[l];for(;u--;)f[l++]=arguments[++i];return n(d,a?r:this,f)}}},81096:function(t,e,r){var n=r(42343),i=r(21340),s=r(45769);t.exports=function(t,e,r,o,a,c,u,l,h,f){var d=8&e;e|=d?32:64,4&(e&=~(d?64:32))||(e&=-4);var p=[t,e,a,d?c:void 0,d?u:void 0,d?void 0:c,d?void 0:u,l,h,f],m=r.apply(void 0,p);return n(t)&&i(m,p),m.placeholder=o,s(m,t,e)}},93306:function(t,e,r){var n=r(96113),i=r(16451),s=r(83165),o=n&&1/s(new n([,-0]))[1]==1/0?function(t){return new n(t)}:i;t.exports=o},32120:function(t,e,r){var n=r(89993),i=r(90272),s=r(92820),o=r(38929),a=r(96793),c=r(72203),u=r(26360),l=r(21340),h=r(45769),f=r(36701),d=Math.max;t.exports=function(t,e,r,p,m,g,y,v){var b=2&e;if(!b&&"function"!=typeof t)throw new TypeError("Expected a function");var _=p?p.length:0;if(_||(e&=-97,p=m=void 0),y=void 0===y?y:d(f(y),0),v=void 0===v?v:f(v),_-=m?m.length:0,64&e){var w=p,S=m;p=m=void 0}var E=b?void 0:c(t),C=[t,e,r,p,m,w,S,g,y,v];if(E&&u(C,E),t=C[0],e=C[1],r=C[2],p=C[3],m=C[4],!(v=C[9]=void 0===C[9]?b?0:t.length:d(C[9]-_,0))&&24&e&&(e&=-25),e&&1!=e)k=8==e||16==e?s(t,e,v):32!=e&&33!=e||m.length?o.apply(void 0,C):a(t,e,r,p);else var k=i(t,e,r);return h((E?n:l)(k,C),t,e)}},86883:function(t,e,r){var n=r(5332);t.exports=function(t){return n(t)?void 0:t}},68833:function(t,e,r){var n=r(69609),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},1171:function(t,e,r){var n=r(73680),i=r(12137),s=r(73616);t.exports=function(t){return s(i(t,void 0,n),t+"")}},16633:function(t){var e="object"==typeof global&&global&&global.Object===Object&&global;t.exports=e},55525:function(t,e,r){var n=r(70063),i=r(62390),s=r(89322);t.exports=function(t){return n(t,s,i)}},21367:function(t,e,r){var n=r(70063),i=r(86544),s=r(95536);t.exports=function(t){return n(t,s,i)}},72203:function(t,e,r){var n=r(13714),i=r(16451);t.exports=n?function(t){return n.get(t)}:i},12340:function(t,e,r){var n=r(21618),i=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",r=n[e],s=i.call(n,e)?r.length:0;s--;){var o=r[s],a=o.func;if(null==a||a==t)return o.name}return e}},26097:function(t){t.exports=function(t){return t.placeholder}},23754:function(t,e,r){var n=r(82944);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},69609:function(t,e,r){var n=r(71125),i=r(92085);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},51559:function(t,e,r){var n=r(2898)(Object.getPrototypeOf,Object);t.exports=n},1522:function(t,e,r){var n=r(21710),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=s.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(c){}var i=o.call(t);return n&&(e?t[a]=r:delete t[a]),i}},62390:function(t,e,r){var n=r(58070),i=r(6023),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;t.exports=o?function(t){return null==t?[]:(t=Object(t),n(o(t),function(e){return s.call(t,e)}))}:i},86544:function(t,e,r){var n=r(33455),i=r(51559),s=r(62390),o=r(6023);t.exports=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,s(t)),t=i(t);return e}:o},54564:function(t,e,r){var n=r(3849),i=r(52764),s=r(15282),o=r(96113),a=r(358),c=r(77417),u=r(15432),l="[object Map]",h="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",m=u(n),g=u(i),y=u(s),v=u(o),b=u(a),_=c;(n&&_(new n(new ArrayBuffer(1)))!=p||i&&_(new i)!=l||s&&_(s.resolve())!=h||o&&_(new o)!=f||a&&_(new a)!=d)&&(_=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,n=r?u(r):"";if(n)switch(n){case m:return p;case g:return l;case y:return h;case v:return f;case b:return d}return e}),t.exports=_},92085:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},47943:function(t){var e=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=function(t){var n=t.match(e);return n?n[1].split(r):[]}},97330:function(t,e,r){var n=r(23532),i=r(86478),s=r(51487),o=r(11524),a=r(34861),c=r(39689);t.exports=function(t,e,r){for(var u=-1,l=(e=n(e,t)).length,h=!1;++u<l;){var f=c(e[u]);if(!(h=null!=t&&r(t,f)))break;t=t[f]}return h||++u!=l?h:!!(l=null==t?0:t.length)&&a(l)&&o(f,l)&&(s(t)||i(t))}},64379:function(t,e,r){var n=r(46999);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},68169:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},31354:function(t,e,r){var n=r(46999),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},16404:function(t,e,r){var n=r(46999),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},93082:function(t,e,r){var n=r(46999);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},2608:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},25806:function(t,e,r){var n=r(51804),i=r(57915),s=r(989),o=r(77250),a=r(37288);t.exports=function(t,e,r){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return i(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return s(t);case"[object Set]":return new c;case"[object Symbol]":return o(t)}}},19142:function(t,e,r){var n=r(78441),i=r(51559),s=r(28178);t.exports=function(t){return"function"!=typeof t.constructor||s(t)?{}:n(i(t))}},67409:function(t){var e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,r){var n=r.length;if(!n)return t;var i=n-1;return r[i]=(n>1?"& ":"")+r[i],r=r.join(n>2?", ":" "),t.replace(e,"{\n/* [wrapped with "+r+"] */\n")}},3770:function(t,e,r){var n=r(21710),i=r(86478),s=r(51487),o=n?n.isConcatSpreadable:void 0;t.exports=function(t){return s(t)||i(t)||!!(o&&t&&t[o])}},11524:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},88773:function(t,e,r){var n=r(77230),i=r(25034),s=r(11524),o=r(44603);t.exports=function(t,e,r){if(!o(r))return!1;var a=typeof e;return!!("number"==a?i(r)&&s(e,r.length):"string"==a&&e in r)&&n(r[e],t)}},18127:function(t,e,r){var n=r(51487),i=r(50066),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||o.test(t)||!s.test(t)||null!=e&&t in Object(e)}},82944:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},42343:function(t,e,r){var n=r(89172),i=r(72203),s=r(12340),o=r(45250);t.exports=function(t){var e=s(t),r=o[e];if("function"!=typeof r||!(e in n.prototype))return!1;if(t===r)return!0;var a=i(r);return!!a&&t===a[0]}},7588:function(t,e,r){var n,i=r(8126),s=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!s&&s in t}},28178:function(t){var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},68994:function(t){t.exports=function(){this.__data__=[],this.size=0}},49515:function(t,e,r){var n=r(81836),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():i.call(e,r,1),--this.size,0))}},30069:function(t,e,r){var n=r(81836);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},14863:function(t,e,r){var n=r(81836);t.exports=function(t){return n(this.__data__,t)>-1}},29970:function(t,e,r){var n=r(81836);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},4473:function(t,e,r){var n=r(98972),i=r(31029),s=r(52764);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(s||i),string:new n}}},13196:function(t,e,r){var n=r(23754);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},88101:function(t,e,r){var n=r(23754);t.exports=function(t){return n(this,t).get(t)}},40721:function(t,e,r){var n=r(23754);t.exports=function(t){return n(this,t).has(t)}},16125:function(t,e,r){var n=r(23754);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},79110:function(t,e,r){var n=r(30271);t.exports=function(t){var e=n(t,function(t){return 500===r.size&&r.clear(),t}),r=e.cache;return e}},26360:function(t,e,r){var n=r(3311),i=r(55766),s=r(51622),o="__lodash_placeholder__",a=Math.min;t.exports=function(t,e){var r=t[1],c=e[1],u=r|c;if(!(u<131||128==c&&8==r||128==c&&256==r&&t[7].length<=e[8]||384==c&&e[7].length<=e[8]&&8==r))return t;1&c&&(t[2]=e[2],u|=1&r?0:4);var l=e[3];if(l){var h=t[3];t[3]=h?n(h,l,e[4]):l,t[4]=h?s(t[3],o):e[4]}return(l=e[5])&&(t[5]=(h=t[5])?i(h,l,e[6]):l,t[6]=h?s(t[5],o):e[6]),(l=e[7])&&(t[7]=l),128&c&&(t[8]=null==t[8]?e[8]:a(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=u,t}},13714:function(t,e,r){var n=r(358),i=n&&new n;t.exports=i},46999:function(t,e,r){var n=r(69609)(Object,"create");t.exports=n},38681:function(t,e,r){var n=r(2898)(Object.keys,Object);t.exports=n},35181:function(t){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},43763:function(t,e,r){t=r.nmd(t);var n=r(16633),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,o=s&&s.exports===i&&n.process,a=function(){try{return s&&s.require&&s.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a},17052:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},2898:function(t){t.exports=function(t,e){return function(r){return t(e(r))}}},12137:function(t,e,r){var n=r(43048),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var s=arguments,o=-1,a=i(s.length-e,0),c=Array(a);++o<a;)c[o]=s[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=s[o];return u[e]=r(c),n(t,this,u)}}},86414:function(t,e,r){var n=r(59433),i=r(9822);t.exports=function(t,e){return e.length<2?t:n(t,i(e,0,-1))}},21618:function(t){t.exports={}},16382:function(t,e,r){var n=r(31571),i=r(11524),s=Math.min;t.exports=function(t,e){for(var r=t.length,o=s(e.length,r),a=n(t);o--;){var c=e[o];t[o]=i(c,r)?a[c]:void 0}return t}},51622:function(t){var e="__lodash_placeholder__";t.exports=function(t,r){for(var n=-1,i=t.length,s=0,o=[];++n<i;){var a=t[n];a!==r&&a!==e||(t[n]=e,o[s++]=n)}return o}},26763:function(t,e,r){var n=r(16633),i="object"==typeof self&&self&&self.Object===Object&&self,s=n||i||Function("return this")();t.exports=s},42:function(t){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},17042:function(t){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},47261:function(t){t.exports=function(t){return this.__data__.has(t)}},21340:function(t,e,r){var n=r(89993),i=r(22499)(n);t.exports=i},83165:function(t){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}},73616:function(t,e,r){var n=r(11674),i=r(22499)(n);t.exports=i},45769:function(t,e,r){var n=r(47943),i=r(67409),s=r(73616),o=r(65972);t.exports=function(t,e,r){var a=e+"";return s(t,i(a,o(n(a),r)))}},22499:function(t){var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var i=e(),s=16-(i-n);if(n=i,s>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},56874:function(t,e,r){var n=r(31029);t.exports=function(){this.__data__=new n,this.size=0}},32416:function(t){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},9356:function(t){t.exports=function(t){return this.__data__.get(t)}},80370:function(t){t.exports=function(t){return this.__data__.has(t)}},64259:function(t,e,r){var n=r(31029),i=r(52764),s=r(37636);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!i||o.length<199)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new s(o)}return r.set(t,e),this.size=r.size,this}},72455:function(t){t.exports=function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}},42786:function(t,e,r){var n=r(79110),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=n(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,r,n,i){e.push(n?i.replace(s,"$1"):r||t)}),e});t.exports=o},39689:function(t,e,r){var n=r(50066);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},15432:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(r){}try{return t+""}catch(r){}}return""}},65972:function(t,e,r){var n=r(24636),i=r(5482),s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return n(s,function(r){var n="_."+r[0];e&r[1]&&!i(t,n)&&t.push(n)}),t.sort()}},21721:function(t,e,r){var n=r(89172),i=r(71098),s=r(31571);t.exports=function(t){if(t instanceof n)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=s(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},49598:function(t,e,r){var n=r(43047),i=r(95932),s=r(14404),o=r(25034),a=r(28178),c=r(89322),u=Object.prototype.hasOwnProperty,l=s(function(t,e){if(a(e)||o(e))i(e,c(e),t);else for(var r in e)u.call(e,r)&&n(t,r,e[r])});t.exports=l},29986:function(t,e,r){var n=r(59711);t.exports=function(t){return n(t,4)}},6489:function(t){t.exports=function(t){return function(){return t}}},77230:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},8537:function(t,e,r){var n=r(90545),i=r(88773);t.exports=function(t,e,r,s){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&i(t,e,r)&&(r=0,s=o),n(t,e,r,s)):[]}},73680:function(t,e,r){var n=r(26797);t.exports=function(t){return null!=t&&t.length?n(t,1):[]}},77695:function(t,e,r){var n=r(74492),i=r(97330);t.exports=function(t,e){return null!=t&&i(t,e,n)}},60592:function(t){t.exports=function(t){return t}},10631:function(t,e,r){var n=r(40087),i=r(92824),s=r(75306),o=r(71183),a=s(function(t){var e=n(t,o);return e.length&&e[0]===t[0]?i(e):[]});t.exports=a},86478:function(t,e,r){var n=r(80901),i=r(64159),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return i(t)&&o.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},51487:function(t){t.exports=Array.isArray},25034:function(t,e,r){var n=r(97324),i=r(34861);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},94839:function(t,e,r){var n=r(25034),i=r(64159);t.exports=function(t){return i(t)&&n(t)}},12668:function(t,e,r){t=r.nmd(t);var n=r(26763),i=r(34046),s=e&&!e.nodeType&&e,o=s&&t&&!t.nodeType&&t,a=o&&o.exports===s?n.Buffer:void 0;t.exports=(a?a.isBuffer:void 0)||i},97324:function(t,e,r){var n=r(77417),i=r(44603);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},34861:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},52448:function(t,e,r){var n=r(54758),i=r(11592),s=r(43763),o=s&&s.isMap,a=o?i(o):n;t.exports=a},44603:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},64159:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},5332:function(t,e,r){var n=r(77417),i=r(51559),s=r(64159),o=Function.prototype.toString,a=Object.prototype.hasOwnProperty,c=o.call(Object);t.exports=function(t){if(!s(t)||"[object Object]"!=n(t))return!1;var e=i(t);if(null===e)return!0;var r=a.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&o.call(r)==c}},21700:function(t,e,r){var n=r(29086),i=r(11592),s=r(43763),o=s&&s.isSet,a=o?i(o):n;t.exports=a},50066:function(t,e,r){var n=r(77417),i=r(64159);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},71798:function(t,e,r){var n=r(35019),i=r(11592),s=r(43763),o=s&&s.isTypedArray,a=o?i(o):n;t.exports=a},89322:function(t,e,r){var n=r(19275),i=r(91686),s=r(25034);t.exports=function(t){return s(t)?n(t):i(t)}},95536:function(t,e,r){var n=r(19275),i=r(98212),s=r(25034);t.exports=function(t){return s(t)?n(t,!0):i(t)}},30011:function(t){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},30271:function(t,e,r){var n=r(37636);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},8669:function(t,e,r){var n=r(55121),i=r(14404)(function(t,e,r){n(t,e,r)});t.exports=i},16451:function(t){t.exports=function(){}},27675:function(t,e,r){var n=r(40087),i=r(59711),s=r(42617),o=r(23532),a=r(95932),c=r(86883),u=r(1171),l=r(21367),h=u(function(t,e){var r={};if(null==t)return r;var u=!1;e=n(e,function(e){return e=o(e,t),u||(u=e.length>1),e}),a(t,l(t),r),u&&(r=i(r,7,c));for(var h=e.length;h--;)s(r,e[h]);return r});t.exports=h},26017:function(t,e,r){var n=r(75306),i=r(32120),s=r(26097),o=r(51622),a=n(function(t,e){var r=o(e,s(a));return i(t,64,void 0,e,r)});a.placeholder={},t.exports=a},56071:function(t,e,r){var n=r(53771),i=r(1171)(function(t,e){return null==t?{}:n(t,e)});t.exports=i},6023:function(t){t.exports=function(){return[]}},34046:function(t){t.exports=function(){return!1}},8137:function(t,e,r){var n=r(34624);t.exports=function(t){return t?1/0===(t=n(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},36701:function(t,e,r){var n=r(8137);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},2963:function(t,e,r){var n=r(66936),i=r(36701);t.exports=function(t){return t?n(i(t),0,4294967295):0}},34624:function(t,e,r){var n=r(44603),i=r(50066),s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var r=a.test(t);return r||c.test(t)?u(t.slice(2),r?2:8):o.test(t)?NaN:+t}},20449:function(t,e,r){var n=r(95932),i=r(95536);t.exports=function(t){return n(t,i(t))}},50964:function(t,e,r){var n=r(65542);t.exports=function(t){return null==t?"":n(t)}},35243:function(t,e,r){var n=r(68850);t.exports=function(t){return t&&t.length?n(t):[]}},45250:function(t,e,r){var n=r(89172),i=r(71098),s=r(13858),o=r(51487),a=r(64159),c=r(21721),u=Object.prototype.hasOwnProperty;function l(t){if(a(t)&&!o(t)&&!(t instanceof n)){if(t instanceof i)return t;if(u.call(t,"__wrapped__"))return c(t)}return new i(t)}(l.prototype=s.prototype).constructor=l,t.exports=l},64561:function(t){t.exports=r;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(k){}function r(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function n(t){return!0===(t&&t.__isLong__)}Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var i={},s={};function o(t,e){var r,n,o;return e?(o=0<=(t>>>=0)&&t<256)&&(n=s[t])?n:(r=c(t,(0|t)<0?-1:0,!0),o&&(s[t]=r),r):(o=-128<=(t|=0)&&t<128)&&(n=i[t])?n:(r=c(t,t<0?-1:0,!1),o&&(i[t]=r),r)}function a(t,e){if(isNaN(t))return e?y:g;if(e){if(t<0)return y;if(t>=d)return S}else{if(t<=-p)return E;if(t+1>=p)return w}return t<0?a(-t,e).neg():c(t%f|0,t/f|0,e)}function c(t,e,n){return new r(t,e,n)}r.fromInt=o,r.fromNumber=a,r.fromBits=c;var u=Math.pow;function l(t,e,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return g;if("number"==typeof e?(r=e,e=!1):e=!!e,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(t.substring(1),e,r).neg();for(var i=a(u(r,8)),s=g,o=0;o<t.length;o+=8){var c=Math.min(8,t.length-o),h=parseInt(t.substring(o,o+c),r);if(c<8){var f=a(u(r,c));s=s.mul(f).add(a(h))}else s=(s=s.mul(i)).add(a(h))}return s.unsigned=e,s}function h(t,e){return"number"==typeof t?a(t,e):"string"==typeof t?l(t,e):c(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}r.fromString=l,r.fromValue=h;var f=4294967296,d=f*f,p=d/2,m=o(1<<24),g=o(0);r.ZERO=g;var y=o(0,!0);r.UZERO=y;var v=o(1);r.ONE=v;var b=o(1,!0);r.UONE=b;var _=o(-1);r.NEG_ONE=_;var w=c(-1,2147483647,!1);r.MAX_VALUE=w;var S=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=S;var E=c(0,-2147483648,!1);r.MIN_VALUE=E;var C=r.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},C.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var e=a(t),r=this.div(e),n=r.mul(e).sub(this);return r.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=a(u(t,6),this.unsigned),s=this,o="";;){var c=s.div(i),l=(s.sub(c.mul(i)).toInt()>>>0).toString(t);if((s=c).isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(t){return n(t)||(t=h(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},C.eq=C.equals,C.notEquals=function(t){return!this.eq(t)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(t){return this.comp(t)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(t){return this.comp(t)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(t){return this.comp(t)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(t){return this.comp(t)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(t){if(n(t)||(t=h(t)),this.eq(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(v)},C.neg=C.negate,C.add=function(t){n(t)||(t=h(t));var e=0,r=0,i=0,s=0;return i+=(s+=(65535&this.low)+(65535&t.low))>>>16,r+=(i+=(this.low>>>16)+(t.low>>>16))>>>16,e+=(r+=(65535&this.high)+(65535&t.high))>>>16,e+=(this.high>>>16)+(t.high>>>16),c((i&=65535)<<16|(s&=65535),(e&=65535)<<16|(r&=65535),this.unsigned)},C.subtract=function(t){return n(t)||(t=h(t)),this.add(t.neg())},C.sub=C.subtract,C.multiply=function(t){if(this.isZero())return g;if(n(t)||(t=h(t)),e)return c(e.mul(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned);if(t.isZero())return g;if(this.eq(E))return t.isOdd()?E:g;if(t.eq(E))return this.isOdd()?E:g;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(m)&&t.lt(m))return a(this.toNumber()*t.toNumber(),this.unsigned);var r=65535&this.high,i=this.low>>>16,s=65535&this.low,o=65535&t.high,u=t.low>>>16,l=65535&t.low,f=0,d=0,p=0,y=0;return p+=(y+=s*l)>>>16,d+=(p+=i*l)>>>16,p&=65535,d+=(p+=s*u)>>>16,f+=(d+=r*l)>>>16,d&=65535,f+=(d+=i*u)>>>16,d&=65535,f+=(d+=s*o)>>>16,f+=(this.high>>>16)*l+r*u+i*o+s*(t.high>>>16),c((p&=65535)<<16|(y&=65535),(f&=65535)<<16|(d&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(t){if(n(t)||(t=h(t)),t.isZero())throw Error("division by zero");var r,i,s;if(e)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?c((this.unsigned?e.div_u:e.div_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return y;if(t.gt(this.shru(1)))return b;s=y}else{if(this.eq(E))return t.eq(v)||t.eq(_)?E:t.eq(E)?v:(r=this.shr(1).div(t).shl(1)).eq(g)?t.isNegative()?v:_:(i=this.sub(t.mul(r)),s=r.add(i.div(t)));if(t.eq(E))return this.unsigned?y:g;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=g}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),l=o<=48?1:u(2,o-48),f=a(r),d=f.mul(t);d.isNegative()||d.gt(i);)d=(f=a(r-=l,this.unsigned)).mul(t);f.isZero()&&(f=v),s=s.add(f),i=i.sub(d)}return s},C.div=C.divide,C.modulo=function(t){return n(t)||(t=h(t)),e?c((this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return c(~this.low,~this.high,this.unsigned)},C.and=function(t){return n(t)||(t=h(t)),c(this.low&t.low,this.high&t.high,this.unsigned)},C.or=function(t){return n(t)||(t=h(t)),c(this.low|t.low,this.high|t.high,this.unsigned)},C.xor=function(t){return n(t)||(t=h(t)),c(this.low^t.low,this.high^t.high,this.unsigned)},C.shiftLeft=function(t){return n(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):c(0,this.low<<t-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(t){return n(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):c(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(t){if(n(t)&&(t=t.toInt()),0==(t&=63))return this;var e=this.high;return t<32?c(this.low>>>t|e<<32-t,e>>>t,this.unsigned):c(32===t?e:e>>>t-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},C.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},C.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},r.fromBytes=function(t,e,n){return n?r.fromBytesLE(t,e):r.fromBytesBE(t,e)},r.fromBytesLE=function(t,e){return new r(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},r.fromBytesBE=function(t,e){return new r(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},68334:function(t,e,r){"use strict";var n=r(98047),i=r(69524),s=r(36810).Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(t,e){return t<<e|t>>>32-e}function u(t,e,r,n,i,s,o){return c(t+(e&r|~e&n)+i+s|0,o)+e|0}function l(t,e,r,n,i,s,o){return c(t+(e&n|r&~n)+i+s|0,o)+e|0}function h(t,e,r,n,i,s,o){return c(t+(e^r^n)+i+s|0,o)+e|0}function f(t,e,r,n,i,s,o){return c(t+(r^(e|~n))+i+s|0,o)+e|0}n(a,i),a.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,s=this._d;r=u(r,n,i,s,t[0],3614090360,7),s=u(s,r,n,i,t[1],3905402710,12),i=u(i,s,r,n,t[2],606105819,17),n=u(n,i,s,r,t[3],3250441966,22),r=u(r,n,i,s,t[4],4118548399,7),s=u(s,r,n,i,t[5],1200080426,12),i=u(i,s,r,n,t[6],2821735955,17),n=u(n,i,s,r,t[7],4249261313,22),r=u(r,n,i,s,t[8],1770035416,7),s=u(s,r,n,i,t[9],2336552879,12),i=u(i,s,r,n,t[10],4294925233,17),n=u(n,i,s,r,t[11],2304563134,22),r=u(r,n,i,s,t[12],1804603682,7),s=u(s,r,n,i,t[13],4254626195,12),i=u(i,s,r,n,t[14],2792965006,17),r=l(r,n=u(n,i,s,r,t[15],1236535329,22),i,s,t[1],4129170786,5),s=l(s,r,n,i,t[6],3225465664,9),i=l(i,s,r,n,t[11],643717713,14),n=l(n,i,s,r,t[0],3921069994,20),r=l(r,n,i,s,t[5],3593408605,5),s=l(s,r,n,i,t[10],38016083,9),i=l(i,s,r,n,t[15],3634488961,14),n=l(n,i,s,r,t[4],3889429448,20),r=l(r,n,i,s,t[9],568446438,5),s=l(s,r,n,i,t[14],3275163606,9),i=l(i,s,r,n,t[3],4107603335,14),n=l(n,i,s,r,t[8],1163531501,20),r=l(r,n,i,s,t[13],2850285829,5),s=l(s,r,n,i,t[2],4243563512,9),i=l(i,s,r,n,t[7],1735328473,14),r=h(r,n=l(n,i,s,r,t[12],2368359562,20),i,s,t[5],4294588738,4),s=h(s,r,n,i,t[8],2272392833,11),i=h(i,s,r,n,t[11],1839030562,16),n=h(n,i,s,r,t[14],4259657740,23),r=h(r,n,i,s,t[1],2763975236,4),s=h(s,r,n,i,t[4],1272893353,11),i=h(i,s,r,n,t[7],4139469664,16),n=h(n,i,s,r,t[10],3200236656,23),r=h(r,n,i,s,t[13],681279174,4),s=h(s,r,n,i,t[0],3936430074,11),i=h(i,s,r,n,t[3],3572445317,16),n=h(n,i,s,r,t[6],76029189,23),r=h(r,n,i,s,t[9],3654602809,4),s=h(s,r,n,i,t[12],3873151461,11),i=h(i,s,r,n,t[15],530742520,16),r=f(r,n=h(n,i,s,r,t[2],3299628645,23),i,s,t[0],4096336452,6),s=f(s,r,n,i,t[7],1126891415,10),i=f(i,s,r,n,t[14],2878612391,15),n=f(n,i,s,r,t[5],4237533241,21),r=f(r,n,i,s,t[12],1700485571,6),s=f(s,r,n,i,t[3],2399980690,10),i=f(i,s,r,n,t[10],4293915773,15),n=f(n,i,s,r,t[1],2240044497,21),r=f(r,n,i,s,t[8],1873313359,6),s=f(s,r,n,i,t[15],4264355552,10),i=f(i,s,r,n,t[6],2734768916,15),n=f(n,i,s,r,t[13],1309151649,21),r=f(r,n,i,s,t[4],4149444226,6),s=f(s,r,n,i,t[11],3174756917,10),i=f(i,s,r,n,t[2],718787259,15),n=f(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=s.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},28622:function(t,e,r){var n=r(52327),i=r(2782);function s(t){this.rand=t||new i.Rand}t.exports=s,s.create=function(t){return new s(t)},s.prototype._randbelow=function(t){var e=t.bitLength(),r=Math.ceil(e/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(t)>=0);return i},s.prototype._randrange=function(t,e){var r=e.sub(t);return t.add(this._randbelow(r))},s.prototype.test=function(t,e,r){var i=t.bitLength(),s=n.mont(t),o=new n(1).toRed(s);e||(e=Math.max(1,i/48|0));for(var a=t.subn(1),c=0;!a.testn(c);c++);for(var u=t.shrn(c),l=a.toRed(s);e>0;e--){var h=this._randrange(new n(2),a);r&&r(h);var f=h.toRed(s).redPow(u);if(0!==f.cmp(o)&&0!==f.cmp(l)){for(var d=1;d<c;d++){if(0===(f=f.redSqr()).cmp(o))return!1;if(0===f.cmp(l))break}if(d===c)return!1}}return!0},s.prototype.getDivisor=function(t,e){var r=t.bitLength(),i=n.mont(t),s=new n(1).toRed(i);e||(e=Math.max(1,r/48|0));for(var o=t.subn(1),a=0;!o.testn(a);a++);for(var c=t.shrn(a),u=o.toRed(i);e>0;e--){var l=this._randrange(new n(2),o),h=t.gcd(l);if(0!==h.cmpn(1))return h;var f=l.toRed(i).redPow(c);if(0!==f.cmp(s)&&0!==f.cmp(u)){for(var d=1;d<a;d++){if(0===(f=f.redSqr()).cmp(s))return f.fromRed().subn(1).gcd(t);if(0===f.cmp(u))break}if(d===a)return(f=f.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},77125:function(t){function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},50233:function(t,e){"use strict";var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}},13317:function(t){var e=1e3,r=60*e,n=60*r,i=24*n;function s(t,e,r,n){var i=e>=1.5*r;return Math.round(t/r)+" "+n+(i?"s":"")}t.exports=function(t,o){o=o||{};var a,c,u=typeof t;if("string"===u&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(s){var o=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*n;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(t);if("number"===u&&isFinite(t))return o.long?(a=t,(c=Math.abs(a))>=i?s(a,c,i,"day"):c>=n?s(a,c,n,"hour"):c>=r?s(a,c,r,"minute"):c>=e?s(a,c,e,"second"):a+" ms"):function(t){var s=Math.abs(t);return s>=i?Math.round(t/i)+"d":s>=n?Math.round(t/n)+"h":s>=r?Math.round(t/r)+"m":s>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},2189:function(t,e,r){var n=r(63170);function i(t,e){n.cipher.registerAlgorithm(t,function(){return new n.aes.Algorithm(t,e)})}r(69133),r(68973),r(57395),t.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(t,e,r,n){var i=p({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i},n.aes.createEncryptionCipher=function(t,e){return p({key:t,output:null,decrypt:!1,mode:e})},n.aes.startDecrypting=function(t,e,r,n){var i=p({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i},n.aes.createDecryptionCipher=function(t,e){return p({key:t,output:null,decrypt:!0,mode:e})},n.aes.Algorithm=function(t,e){l||h();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(t,e){return d(r._w,t,e,!1)},decrypt:function(t,e){return d(r._w,t,e,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e,r=t.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){e=r,r=n.util.createBuffer();for(var i=0;i<e.length;++i)r.putByte(e[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){e=r,r=[];var s=e.length();if(16===s||24===s||32===s)for(s>>>=2,i=0;i<s;++i)r.push(e.getInt32())}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var o=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=f(r,t.decrypt&&!o),this._init=!0}},n.aes._expandKey=function(t,e){return l||h(),f(t,e)},n.aes._updateBlock=d,i("AES-ECB",n.cipher.modes.ecb),i("AES-CBC",n.cipher.modes.cbc),i("AES-CFB",n.cipher.modes.cfb),i("AES-OFB",n.cipher.modes.ofb),i("AES-CTR",n.cipher.modes.ctr),i("AES-GCM",n.cipher.modes.gcm);var s,o,a,c,u,l=!1;function h(){l=!0,a=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;for(s=new Array(256),o=new Array(256),c=new Array(4),u=new Array(4),e=0;e<4;++e)c[e]=new Array(256),u[e]=new Array(256);var r,n,i,h,f,d,p,m=0,g=0;for(e=0;e<256;++e){s[m]=h=(h=g^g<<1^g<<2^g<<3^g<<4)>>8^255&h^99,o[h]=m,d=(f=t[h])<<24^h<<16^h<<8^h^f,p=((r=t[m])^(n=t[r])^(i=t[n]))<<24^(m^i)<<16^(m^n^i)<<8^m^r^i;for(var y=0;y<4;++y)c[y][m]=d,u[y][h]=p,d=d<<24|d>>>8,p=p<<24|p>>>8;0===m?m=g=1:(m=r^t[t[t[r^i]]],g^=t[t[g]])}}function f(t,e){for(var r,n=t.slice(0),i=1,o=n.length,c=4*(o+6+1),l=o;l<c;++l)r=n[l-1],l%o==0?(r=s[r>>>16&255]<<24^s[r>>>8&255]<<16^s[255&r]<<8^s[r>>>24]^a[i]<<24,i++):o>6&&l%o==4&&(r=s[r>>>24]<<24^s[r>>>16&255]<<16^s[r>>>8&255]<<8^s[255&r]),n[l]=n[l-o]^r;if(e){for(var h,f=u[0],d=u[1],p=u[2],m=u[3],g=n.slice(0),y=(l=0,(c=n.length)-4);l<c;l+=4,y-=4)if(0===l||l===c-4)g[l]=n[y],g[l+1]=n[y+3],g[l+2]=n[y+2],g[l+3]=n[y+1];else for(var v=0;v<4;++v)g[l+(3&-v)]=f[s[(h=n[y+v])>>>24]]^d[s[h>>>16&255]]^p[s[h>>>8&255]]^m[s[255&h]];n=g}return n}function d(t,e,r,n){var i,a,l,h,f,d,p,m,g,y,v,b,_=t.length/4-1;n?(i=u[0],a=u[1],l=u[2],h=u[3],f=o):(i=c[0],a=c[1],l=c[2],h=c[3],f=s),d=e[0]^t[0],p=e[n?3:1]^t[1],m=e[2]^t[2],g=e[n?1:3]^t[3];for(var w=3,S=1;S<_;++S)y=i[d>>>24]^a[p>>>16&255]^l[m>>>8&255]^h[255&g]^t[++w],v=i[p>>>24]^a[m>>>16&255]^l[g>>>8&255]^h[255&d]^t[++w],b=i[m>>>24]^a[g>>>16&255]^l[d>>>8&255]^h[255&p]^t[++w],g=i[g>>>24]^a[d>>>16&255]^l[p>>>8&255]^h[255&m]^t[++w],d=y,p=v,m=b;r[0]=f[d>>>24]<<24^f[p>>>16&255]<<16^f[m>>>8&255]<<8^f[255&g]^t[++w],r[n?3:1]=f[p>>>24]<<24^f[m>>>16&255]<<16^f[g>>>8&255]<<8^f[255&d]^t[++w],r[2]=f[m>>>24]<<24^f[g>>>16&255]<<16^f[d>>>8&255]<<8^f[255&p]^t[++w],r[n?1:3]=f[g>>>24]<<24^f[d>>>16&255]<<16^f[p>>>8&255]<<8^f[255&m]^t[++w]}function p(t){var e,r="AES-"+((t=t||{}).mode||"CBC").toUpperCase(),i=(e=t.decrypt?n.cipher.createDecipher(r,t.key):n.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var s=null;r instanceof n.util.ByteBuffer&&(s=r,r={}),(r=r||{}).output=s,r.iv=t,i.call(e,r)},e}},1258:function(t,e,r){var n=r(63170);r(57395),r(57551);var i=t.exports=n.asn1=n.asn1||{};function s(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}function o(t,e,r,n){var a;s(t,e,2);var c=t.getByte();e--;var u=192&c,l=31&c;a=t.length();var h,f,d=function(t,e){var r=t.getByte();if(e--,128!==r){var n;if(128&r){var i=127&r;s(t,e,i),n=t.getInt(i<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}}(t,e);if(e-=a-t.length(),void 0!==d&&d>e){if(n.strict){var p=new Error("Too few bytes to read ASN.1 value.");throw p.available=t.length(),p.remaining=e,p.requested=d,p}d=e}var m=32==(32&c);if(m)if(h=[],void 0===d)for(;;){if(s(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}a=t.length(),h.push(o(t,e,r+1,n)),e-=a-t.length()}else for(;d>0;)a=t.length(),h.push(o(t,d,r+1,n)),e-=a-t.length(),d-=a-t.length();if(void 0===h&&u===i.Class.UNIVERSAL&&l===i.Type.BITSTRING&&(f=t.bytes(d)),void 0===h&&n.decodeBitStrings&&u===i.Class.UNIVERSAL&&l===i.Type.BITSTRING&&d>1){var g=t.read,y=e,v=0;if(l===i.Type.BITSTRING&&(s(t,e,1),v=t.getByte(),e--),0===v)try{a=t.length();var b=o(t,e,r+1,{verbose:n.verbose,strict:!0,decodeBitStrings:!0}),_=a-t.length();e-=_,l==i.Type.BITSTRING&&_++;var w=b.tagClass;_!==d||w!==i.Class.UNIVERSAL&&w!==i.Class.CONTEXT_SPECIFIC||(h=[b])}catch(S){}void 0===h&&(t.read=g,e=y)}if(void 0===h){if(void 0===d){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");d=e}if(l===i.Type.BMPSTRING)for(h="";d>0;d-=2)s(t,e,2),h+=String.fromCharCode(t.getInt16()),e-=2;else h=t.getBytes(d)}return i.create(u,l,m,h,void 0===f?null:{bitStringContents:f})}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(t,e,r,s,o){if(n.util.isArray(s)){for(var a=[],c=0;c<s.length;++c)void 0!==s[c]&&a.push(s[c]);s=a}var u={tagClass:t,type:e,constructed:r,composed:r||n.util.isArray(s),value:s};return o&&"bitStringContents"in o&&(u.bitStringContents=o.bitStringContents,u.original=i.copy(u)),u},i.copy=function(t,e){var r;if(n.util.isArray(t)){r=[];for(var s=0;s<t.length;++s)r.push(i.copy(t[s],e));return r}return"string"==typeof t?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:i.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)},i.equals=function(t,e,r){if(n.util.isArray(t)){if(!n.util.isArray(e))return!1;if(t.length!==e.length)return!1;for(var s=0;s<t.length;++s)if(!i.equals(t[s],e[s]))return!1;return!0}if(typeof t!=typeof e)return!1;if("string"==typeof t)return t===e;var o=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&i.equals(t.value,e.value);return r&&r.includeBitStringContents&&(o=o&&t.bitStringContents===e.bitStringContents),o},i.getBerValueLength=function(t){var e=t.getByte();if(128!==e)return 128&e?t.getInt((127&e)<<3):e},i.fromDer=function(t,e){return void 0===e&&(e={strict:!0,decodeBitStrings:!0}),"boolean"==typeof e&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),"string"==typeof t&&(t=n.util.createBuffer(t)),o(t,t.length(),0,e)},i.toDer=function(t){var e=n.util.createBuffer(),r=t.tagClass|t.type,s=n.util.createBuffer(),o=!1;if("bitStringContents"in t&&(o=!0,t.original&&(o=i.equals(t,t.original))),o)s.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:s.putByte(0);for(var a=0;a<t.value.length;++a)void 0!==t.value[a]&&s.putBuffer(i.toDer(t.value[a]))}else if(t.type===i.Type.BMPSTRING)for(a=0;a<t.value.length;++a)s.putInt16(t.value.charCodeAt(a));else t.type===i.Type.INTEGER&&t.value.length>1&&(0===t.value.charCodeAt(0)&&0==(128&t.value.charCodeAt(1))||255===t.value.charCodeAt(0)&&128==(128&t.value.charCodeAt(1)))?s.putBytes(t.value.substr(1)):s.putBytes(t.value);if(e.putByte(r),s.length()<=127)e.putByte(127&s.length());else{var c=s.length(),u="";do{u+=String.fromCharCode(255&c),c>>>=8}while(c>0);for(e.putByte(128|u.length),a=u.length-1;a>=0;--a)e.putByte(u.charCodeAt(a))}return e.putBuffer(s),e},i.oidToDer=function(t){var e,r,i,s,o=t.split("."),a=n.util.createBuffer();a.putByte(40*parseInt(o[0],10)+parseInt(o[1],10));for(var c=2;c<o.length;++c){e=!0,r=[],i=parseInt(o[c],10);do{s=127&i,i>>>=7,e||(s|=128),r.push(s),e=!1}while(i>0);for(var u=r.length-1;u>=0;--u)a.putByte(r[u])}return a},i.derToOid=function(t){var e;"string"==typeof t&&(t=n.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var i=0;t.length()>0;)i<<=7,128&(r=t.getByte())?i+=127&r:(e+="."+(i+r),i=0);return e},i.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),a=0;if(t.length>11){var c=t.charAt(10),u=10;"+"!==c&&"-"!==c&&(a=parseInt(t.substr(10,2),10),u+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(s,o,a,0),u&&("+"===(c=t.charAt(u))||"-"===c)){var l=60*parseInt(t.substr(u+1,2),10)+parseInt(t.substr(u+4,2),10);l*=6e4,e.setTime("+"===c?+e-l:+e+l)}return e},i.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),o=parseInt(t.substr(10,2),10),a=parseInt(t.substr(12,2),10),c=0,u=0,l=!1;"Z"===t.charAt(t.length-1)&&(l=!0);var h=t.length-5,f=t.charAt(h);return"+"!==f&&"-"!==f||(u=60*parseInt(t.substr(h+1,2),10)+parseInt(t.substr(h+4,2),10),u*=6e4,"+"===f&&(u*=-1),l=!0),"."===t.charAt(14)&&(c=1e3*parseFloat(t.substr(14),10)),l?(e.setUTCFullYear(r,n,i),e.setUTCHours(s,o,a,c),e.setTime(+e+u)):(e.setFullYear(r,n,i),e.setHours(s,o,a,c)),e},i.dateToUtcTime=function(t){if("string"==typeof t)return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+"Z"},i.dateToGeneralizedTime=function(t){if("string"==typeof t)return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+"Z"},i.integerToDer=function(t){var e=n.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r},i.derToInteger=function(t){"string"==typeof t&&(t=n.util.createBuffer(t));var e=8*t.length();if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)},i.validate=function(t,e,r,s){var o=!1;if(t.tagClass!==e.tagClass&&void 0!==e.tagClass||t.type!==e.type&&void 0!==e.type)s&&(t.tagClass!==e.tagClass&&s.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&s.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));else if(t.constructed===e.constructed||void 0===e.constructed){if(o=!0,e.value&&n.util.isArray(e.value))for(var a=0,c=0;o&&c<e.value.length;++c)o=e.value[c].optional||!1,t.value[a]&&((o=i.validate(t.value[a],e.value[c],r,s))?++a:e.value[c].optional&&(o=!0)),!o&&s&&s.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(o&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t))if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{if(0!==t.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}else s&&s.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');return o};var a=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(t,e,r){var s="";r=r||2,(e=e||0)>0&&(s+="\n");for(var o="",c=0;c<e*r;++c)o+=" ";switch(s+=o+"Tag: ",t.tagClass){case i.Class.UNIVERSAL:s+="Universal:";break;case i.Class.APPLICATION:s+="Application:";break;case i.Class.CONTEXT_SPECIFIC:s+="Context-Specific:";break;case i.Class.PRIVATE:s+="Private:"}if(t.tagClass===i.Class.UNIVERSAL)switch(s+=t.type,t.type){case i.Type.NONE:s+=" (None)";break;case i.Type.BOOLEAN:s+=" (Boolean)";break;case i.Type.INTEGER:s+=" (Integer)";break;case i.Type.BITSTRING:s+=" (Bit string)";break;case i.Type.OCTETSTRING:s+=" (Octet string)";break;case i.Type.NULL:s+=" (Null)";break;case i.Type.OID:s+=" (Object Identifier)";break;case i.Type.ODESC:s+=" (Object Descriptor)";break;case i.Type.EXTERNAL:s+=" (External or Instance of)";break;case i.Type.REAL:s+=" (Real)";break;case i.Type.ENUMERATED:s+=" (Enumerated)";break;case i.Type.EMBEDDED:s+=" (Embedded PDV)";break;case i.Type.UTF8:s+=" (UTF8)";break;case i.Type.ROID:s+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:s+=" (Sequence)";break;case i.Type.SET:s+=" (Set)";break;case i.Type.PRINTABLESTRING:s+=" (Printable String)";break;case i.Type.IA5String:s+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:s+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:s+=" (Generalized time)";break;case i.Type.BMPSTRING:s+=" (BMP String)"}else s+=t.type;if(s+="\n",s+=o+"Constructed: "+t.constructed+"\n",t.composed){var u=0,l="";for(c=0;c<t.value.length;++c)void 0!==t.value[c]&&(u+=1,l+=i.prettyPrint(t.value[c],e+1,r),c+1<t.value.length&&(l+=","));s+=o+"Sub values: "+u+l}else{if(s+=o+"Value: ",t.type===i.Type.OID){var h=i.derToOid(t.value);s+=h,n.pki&&n.pki.oids&&h in n.pki.oids&&(s+=" ("+n.pki.oids[h]+") ")}if(t.type===i.Type.INTEGER)try{s+=i.derToInteger(t.value)}catch(d){s+="0x"+n.util.bytesToHex(t.value)}else if(t.type===i.Type.BITSTRING){if(s+=t.value.length>1?"0x"+n.util.bytesToHex(t.value.slice(1)):"(none)",t.value.length>0){var f=t.value.charCodeAt(0);1==f?s+=" (1 unused bit shown)":f>1&&(s+=" ("+f+" unused bits shown)")}}else t.type===i.Type.OCTETSTRING?(a.test(t.value)||(s+="("+t.value+") "),s+="0x"+n.util.bytesToHex(t.value)):t.type===i.Type.UTF8?s+=n.util.decodeUtf8(t.value):t.type===i.Type.PRINTABLESTRING||t.type===i.Type.IA5String?s+=t.value:a.test(t.value)?s+="0x"+n.util.bytesToHex(t.value):s+=0===t.value.length?"[null]":t.value}return s}},25457:function(t){var e={};t.exports=e;var r={};e.encode=function(t,e,r){if("string"!=typeof e)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(t instanceof Uint8Array){var i=0,s=e.length,o=e.charAt(0),a=[0];for(i=0;i<t.length;++i){for(var c=0,u=t[i];c<a.length;++c)a[c]=(u+=a[c]<<8)%s,u=u/s|0;for(;u>0;)a.push(u%s),u=u/s|0}for(i=0;0===t[i]&&i<t.length-1;++i)n+=o;for(i=a.length-1;i>=0;--i)n+=e[a[i]]}else n=function(t,e){var r=0,n=e.length,i=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var o=0,a=t.at(r);o<s.length;++o)s[o]=(a+=s[o]<<8)%n,a=a/n|0;for(;a>0;)s.push(a%n),a=a/n|0}var c="";for(r=0;0===t.at(r)&&r<t.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=e[s[r]];return c}(t,e);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},e.decode=function(t,e){if("string"!=typeof t)throw new TypeError('"input" must be a string.');if("string"!=typeof e)throw new TypeError('"alphabet" must be a string.');var n=r[e];if(!n){n=r[e]=[];for(var i=0;i<e.length;++i)n[e.charCodeAt(i)]=i}t=t.replace(/\s/g,"");var s=e.length,o=e.charAt(0),a=[0];for(i=0;i<t.length;i++){var c=n[t.charCodeAt(i)];if(void 0===c)return;for(var u=0,l=c;u<a.length;++u)a[u]=255&(l+=a[u]*s),l>>=8;for(;l>0;)a.push(255&l),l>>=8}for(var h=0;t[h]===o&&h<t.length-1;++h)a.push(0);return"undefined"!=typeof Buffer?Buffer.from(a.reverse()):new Uint8Array(a.reverse())}},69133:function(t,e,r){var n=r(63170);r(57395),t.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(t,e){var r=t;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})},n.cipher.createDecipher=function(t,e){var r=t;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})},n.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),n.cipher.algorithms[t]=e},n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[t]:null};var i=n.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};i.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=t.output||n.util.createBuffer(),this.mode.start(e)},i.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(t){!t||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(e){return t(this.blockSize,e,!1)},this.mode.unpad=function(e){return t(this.blockSize,e,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))}},68973:function(t,e,r){var n=r(63170);r(57395),n.cipher=n.cipher||{};var i=t.exports=n.cipher.modes=n.cipher.modes||{};function s(t,e){if("string"==typeof t&&(t=n.util.createBuffer(t)),n.util.isArray(t)&&t.length>4){var r=t;t=n.util.createBuffer();for(var i=0;i<r.length;++i)t.putByte(r[i])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!n.util.isArray(t)){var s=[],o=e/4;for(i=0;i<o;++i)s.push(t.getInt32());t=s}return t}function o(t){t[t.length-1]=t[t.length-1]+1&4294967295}function a(t){return[t/4294967296|0,4294967295&t]}i.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(t){},i.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2||(t.truncate(n),0))},i.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(t){if(null===t.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv,this.blockSize),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2||(t.truncate(n),0))},i.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;for(s>0&&(s=this.blockSize-s),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;for(s>0&&(s=this.blockSize-s),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===t.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var s=(this.blockSize-n)%this.blockSize;for(s>0&&(s=this.blockSize-s),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;for(s>0&&(s=this.blockSize-s),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}o(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e,r=n.util.createBuffer(t.iv);if(this._cipherLength=0,e="additionalData"in t?n.util.createBuffer(t.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in t?t.tagLength:128,this._tag=null,t.decrypt&&(this._tag=n.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(a(8*i)))}this._inBlock=this._j0.slice(0),o(this._inBlock),this._partialBytes=0,e=n.util.createBuffer(e),this._aDataLength=a(8*e.length());var s=e.length()%this.blockSize;for(s&&e.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];e.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()])},i.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;for(s>0&&(s=this.blockSize-s),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),o(this._inBlock)},i.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),o(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);this._cipherLength+=n<this.blockSize?n%this.blockSize:this.blockSize},i.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(a(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var s=[];this.cipher.encrypt(this._j0,s);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^s[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i)t[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n);return r},i.gcm.prototype.pow=function(t,e){for(var r=1&t[3],n=3;n>0;--n)e[n]=t[n]>>>1|(1&t[n-1])<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)},i.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=this._m[r][t[r/8|0]>>>4*(7-r%8)&15];e[0]^=n[0],e[1]^=n[1],e[2]^=n[2],e[3]^=n[3]}return e},i.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)},i.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,s=new Array(i),o=0;o<i;++o){var a=[0,0,0,0];a[o/n|0]=1<<e-1<<(n-1-o%n)*e,s[o]=this.generateSubHashTable(this.multiply(a,t),e)}return s},i.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var o=1;o<s;++o){var a=i[s],c=i[o];i[s+o]=[a[0]^c[0],a[1]^c[1],a[2]^c[2],a[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[t[0]^u[0],t[1]^u[1],t[2]^u[2],t[3]^u[3]]}return i}},96160:function(t,e,r){var n=r(63170);function i(t,e){n.cipher.registerAlgorithm(t,function(){return new n.des.Algorithm(t,e)})}r(69133),r(68973),r(57395),t.exports=n.des=n.des||{},n.des.startEncrypting=function(t,e,r,n){var i=p({key:t,output:r,decrypt:!1,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},n.des.createEncryptionCipher=function(t,e){return p({key:t,output:null,decrypt:!1,mode:e})},n.des.startDecrypting=function(t,e,r,n){var i=p({key:t,output:r,decrypt:!0,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},n.des.createDecryptionCipher=function(t,e){return p({key:t,output:null,decrypt:!0,mode:e})},n.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(t,e){return d(r._keys,t,e,!1)},decrypt:function(t,e){return d(r._keys,t,e,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=n.util.createBuffer(t.key);if(0===this.name.indexOf("3DES")&&24!==e.length())throw new Error("Invalid Triple-DES key size: "+8*e.length());this._keys=function(t){for(var e,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=t.length()>8?3:1,y=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,_=0;_<g;_++){var w=t.getInt32(),S=t.getInt32();w^=(e=252645135&(w>>>4^S))<<4,w^=e=65535&((S^=e)>>>-16^w),w^=(e=858993459&(w>>>2^(S^=e<<-16)))<<2,w^=e=65535&((S^=e)>>>-16^w),w^=(e=1431655765&(w>>>1^(S^=e<<-16)))<<1,w^=e=16711935&((S^=e)>>>8^w),e=(w^=(e=1431655765&(w>>>1^(S^=e<<8)))<<1)<<8|(S^=e)>>>20&240,w=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240,S=e;for(var E=0;E<v.length;++E){v[E]?(w=w<<2|w>>>26,S=S<<2|S>>>26):(w=w<<1|w>>>27,S=S<<1|S>>>27);var C=r[(w&=-15)>>>28]|n[w>>>24&15]|i[w>>>20&15]|s[w>>>16&15]|o[w>>>12&15]|a[w>>>8&15]|c[w>>>4&15],k=u[(S&=-15)>>>28]|l[S>>>24&15]|h[S>>>20&15]|f[S>>>16&15]|d[S>>>12&15]|p[S>>>8&15]|m[S>>>4&15];y[b++]=C^(e=65535&(k>>>16^C)),y[b++]=k^e<<16}}return y}(e),this._init=!0}},i("DES-ECB",n.cipher.modes.ecb),i("DES-CBC",n.cipher.modes.cbc),i("DES-CFB",n.cipher.modes.cfb),i("DES-OFB",n.cipher.modes.ofb),i("DES-CTR",n.cipher.modes.ctr),i("3DES-ECB",n.cipher.modes.ecb),i("3DES-CBC",n.cipher.modes.cbc),i("3DES-CFB",n.cipher.modes.cfb),i("3DES-OFB",n.cipher.modes.ofb),i("3DES-CTR",n.cipher.modes.ctr);var s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],a=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],u=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],h=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],f=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function d(t,e,r,n){var i,d,p=32===t.length?3:9;i=3===p?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var m=e[0],g=e[1];m^=(d=252645135&(m>>>4^g))<<4,m^=(d=65535&(m>>>16^(g^=d)))<<16,m^=d=858993459&((g^=d)>>>2^m),m^=d=16711935&((g^=d<<2)>>>8^m),m=(m^=(d=1431655765&(m>>>1^(g^=d<<8)))<<1)<<1|m>>>31,g=(g^=d)<<1|g>>>31;for(var y=0;y<p;y+=3){for(var v=i[y+1],b=i[y+2],_=i[y];_!=v;_+=b){var w=g^t[_],S=(g>>>4|g<<28)^t[_+1];d=m,m=g,g=d^(o[w>>>24&63]|c[w>>>16&63]|l[w>>>8&63]|f[63&w]|s[S>>>24&63]|a[S>>>16&63]|u[S>>>8&63]|h[63&S])}d=m,m=g,g=d}g=g>>>1|g<<31,g^=d=1431655765&((m=m>>>1|m<<31)>>>1^g),g^=(d=16711935&(g>>>8^(m^=d<<1)))<<8,g^=(d=858993459&(g>>>2^(m^=d)))<<2,g^=d=65535&((m^=d)>>>16^g),g^=d=252645135&((m^=d<<16)>>>4^g),r[0]=m^=d<<4,r[1]=g}function p(t){var e,r="DES-"+((t=t||{}).mode||"CBC").toUpperCase(),i=(e=t.decrypt?n.cipher.createDecipher(r,t.key):n.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var s=null;r instanceof n.util.ByteBuffer&&(s=r,r={}),(r=r||{}).output=s,r.iv=t,i.call(e,r)},e}},63170:function(t){t.exports={options:{usePureJavaScript:!1}}},33546:function(t,e,r){var n=r(63170);r(15253),r(57395),(t.exports=n.hmac=n.hmac||{}).create=function(){var t=null,e=null,r=null,i=null,s={start:function(s,o){if(null!==s)if("string"==typeof s){if(!((s=s.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+s+'"');e=n.md.algorithms[s].create()}else e=s;if(null===o)o=t;else{if("string"==typeof o)o=n.util.createBuffer(o);else if(n.util.isArray(o)){var a=o;o=n.util.createBuffer();for(var c=0;c<a.length;++c)o.putByte(a[c])}var u=o.length();for(u>e.blockLength&&(e.start(),e.update(o.bytes()),o=e.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),u=o.length(),c=0;c<u;++c)a=o.at(c),r.putByte(54^a),i.putByte(92^a);if(u<e.blockLength)for(a=e.blockLength-u,c=0;c<a;++c)r.putByte(54),i.putByte(92);t=o,r=r.bytes(),i=i.bytes()}e.start(),e.update(r)},update:function(t){e.update(t)},getMac:function(){var t=e.digest().bytes();return e.start(),e.update(i),e.update(t),e.digest()}};return s.digest=s.getMac,s}},52468:function(t,e,r){var n,i=r(63170);function s(t,e,r){this.data=[],null!=t&&("number"==typeof t?this.fromNumber(t,e,r):this.fromString(t,null==e&&"string"!=typeof t?256:e))}function o(){return new s(null)}function a(t,e,r,n,i,s){for(var o=16383&e,a=e>>14;--s>=0;){var c=16383&this.data[t],u=this.data[t++]>>14,l=a*c+u*o;i=((c=o*c+((16383&l)<<14)+r.data[n]+i)>>28)+(l>>14)+a*u,r.data[n++]=268435455&c}return i}t.exports=i.jsbn=i.jsbn||{},i.jsbn.BigInteger=s,"undefined"==typeof navigator?(s.prototype.am=a,n=28):"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=function(t,e,r,n,i,s){for(var o=32767&e,a=e>>15;--s>=0;){var c=32767&this.data[t],u=this.data[t++]>>15,l=a*c+u*o;i=((c=o*c+((32767&l)<<15)+r.data[n]+(1073741823&i))>>>30)+(l>>>15)+a*u+(i>>>30),r.data[n++]=1073741823&c}return i},n=30):"Netscape"!=navigator.appName?(s.prototype.am=function(t,e,r,n,i,s){for(;--s>=0;){var o=e*this.data[t++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=67108863&o}return i},n=26):(s.prototype.am=a,n=28),s.prototype.DB=n,s.prototype.DM=(1<<n)-1,s.prototype.DV=1<<n,s.prototype.FV=Math.pow(2,52),s.prototype.F1=52-n,s.prototype.F2=2*n-52;var c,u,l=new Array;for(c="0".charCodeAt(0),u=0;u<=9;++u)l[c++]=u;for(c="a".charCodeAt(0),u=10;u<36;++u)l[c++]=u;for(c="A".charCodeAt(0),u=10;u<36;++u)l[c++]=u;function h(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function f(t,e){var r=l[t.charCodeAt(e)];return null==r?-1:r}function d(t){var e=o();return e.fromInt(t),e}function p(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function m(t){this.m=t}function g(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function y(t,e){return t&e}function v(t,e){return t|e}function b(t,e){return t^e}function _(t,e){return t&~e}function w(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function S(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function E(){}function C(t){return t}function k(t){this.r2=o(),this.q3=o(),s.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}m.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},m.prototype.revert=function(t){return t},m.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},m.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},m.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},g.prototype.convert=function(t){var e=o();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(s.ZERO)>0&&this.m.subTo(e,e),e},g.prototype.revert=function(t){var e=o();return t.copyTo(e),this.reduce(e),e},g.prototype.reduce=function(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t.data[e],n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t.data[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},g.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},g.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},s.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s},s.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0},s.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var a=8==r?255&t[n]:f(t,n);a<0?"-"==t.charAt(n)&&(i=!0):(i=!1,0==o?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t},s.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s},s.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s},s.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,s=(1<<i)-1,o=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e.data[r+o+1]=this.data[r]>>i|a,a=(this.data[r]&s)<<n;for(r=o-1;r>=0;--r)e.data[r]=0;e.data[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},s.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)e.data[o-r-1]|=(this.data[o]&s)<<i,e.data[o-r]=this.data[o]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}},s.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()},s.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&s.ZERO.subTo(e,e)},s.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()},s.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=o());var a=o(),c=this.s,u=t.s,l=this.DB-p(n.data[n.t-1]);l>0?(n.lShiftTo(l,a),i.lShiftTo(l,r)):(n.copyTo(a),i.copyTo(r));var h=a.t,f=a.data[h-1];if(0!=f){var d=f*(1<<this.F1)+(h>1?a.data[h-2]>>this.F2:0),m=this.FV/d,g=(1<<this.F1)/d,y=1<<this.F2,v=r.t,b=v-h,_=null==e?o():e;for(a.dlShiftTo(b,_),r.compareTo(_)>=0&&(r.data[r.t++]=1,r.subTo(_,r)),s.ONE.dlShiftTo(h,_),_.subTo(a,a);a.t<h;)a.data[a.t++]=0;for(;--b>=0;){var w=r.data[--v]==f?this.DM:Math.floor(r.data[v]*m+(r.data[v-1]+y)*g);if((r.data[v]+=a.am(0,w,r,b,0,h))<w)for(a.dlShiftTo(b,_),r.subTo(_,r);r.data[v]<--w;)r.subTo(_,r)}null!=e&&(r.drShiftTo(h,e),c!=u&&s.ZERO.subTo(e,e)),r.t=h,r.clamp(),l>0&&r.rShiftTo(l,r),c<0&&s.ZERO.subTo(r,r)}}},s.prototype.invDigit=function(){if(this.t<1)return 0;var t=this.data[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},s.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},s.prototype.exp=function(t,e){if(t>4294967295||t<1)return s.ONE;var r=o(),n=o(),i=e.convert(this),a=p(t)-1;for(i.copyTo(r);--a>=0;)if(e.sqrTo(r,n),(t&1<<a)>0)e.mulTo(n,i,r);else{var c=r;r=n,n=c}return e.revert(r)},s.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(r=this.data[o]>>a)>0&&(i=!0,s=h(r));o>=0;)a<e?(r=(this.data[o]&(1<<a)-1)<<e-a,r|=this.data[--o]>>(a+=this.DB-e)):(r=this.data[o]>>(a-=e)&n,a<=0&&(a+=this.DB,--o)),r>0&&(i=!0),i&&(s+=h(r));return i?s:"0"},s.prototype.negate=function(){var t=o();return s.ZERO.subTo(this,t),t},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this.data[r]-t.data[r]))return e;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this.data[this.t-1]^this.s&this.DM)},s.prototype.mod=function(t){var e=o();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(s.ZERO)>0&&t.subTo(e,e),e},s.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new m(e):new g(e),this.exp(t,r)},s.ZERO=d(0),s.ONE=d(1),E.prototype.convert=C,E.prototype.revert=C,E.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},E.prototype.sqrTo=function(t,e){t.squareTo(e)},k.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=o();return t.copyTo(e),this.reduce(e),e},k.prototype.revert=function(t){return t},k.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},k.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},k.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var A=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],x=(1<<26)/A[A.length-1];s.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},s.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=d(r),i=o(),s=o(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(t)+a},s.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,a=0,c=0;c<t.length;++c){var u=f(t,c);u<0?"-"==t.charAt(c)&&0==this.signum()&&(i=!0):(a=e*a+u,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),i&&s.ZERO.subTo(this,this)},s.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(s.ONE.shiftLeft(t-1),v,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(s.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},s.prototype.bitwiseTo=function(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},s.prototype.changeBit=function(t,e){var r=s.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},s.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()},s.prototype.dMultiply=function(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},s.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}},s.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,t.data[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t.data[i],r,i,0,e-i);r.clamp()},s.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},s.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r},s.prototype.millerRabin=function(t){var e=this.subtract(s.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n,i=e.shiftRight(r),o={nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(256*Math.random())}},a=0;a<t;++a){do{n=new s(this.bitLength(),o)}while(n.compareTo(s.ONE)<=0||n.compareTo(e)>=0);var c=n.modPow(i,this);if(0!=c.compareTo(s.ONE)&&0!=c.compareTo(e)){for(var u=1;u++<r&&0!=c.compareTo(e);)if(0==(c=c.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=c.compareTo(e))return!1}}return!0},s.prototype.clone=function(){var t=o();return this.copyTo(t),t},s.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},s.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},s.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},s.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},s.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this.data[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this.data[t]&(1<<n)-1)<<8-n,r|=this.data[--t]>>(n+=this.DB-8)):(r=this.data[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},s.prototype.equals=function(t){return 0==this.compareTo(t)},s.prototype.min=function(t){return this.compareTo(t)<0?this:t},s.prototype.max=function(t){return this.compareTo(t)>0?this:t},s.prototype.and=function(t){var e=o();return this.bitwiseTo(t,y,e),e},s.prototype.or=function(t){var e=o();return this.bitwiseTo(t,v,e),e},s.prototype.xor=function(t){var e=o();return this.bitwiseTo(t,b,e),e},s.prototype.andNot=function(t){var e=o();return this.bitwiseTo(t,_,e),e},s.prototype.not=function(){for(var t=o(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t},s.prototype.shiftLeft=function(t){var e=o();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},s.prototype.shiftRight=function(t){var e=o();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},s.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this.data[t])return t*this.DB+w(this.data[t]);return this.s<0?this.t*this.DB:-1},s.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=S(this.data[r]^e);return t},s.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this.data[e]&1<<t%this.DB)},s.prototype.setBit=function(t){return this.changeBit(t,v)},s.prototype.clearBit=function(t){return this.changeBit(t,_)},s.prototype.flipBit=function(t){return this.changeBit(t,b)},s.prototype.add=function(t){var e=o();return this.addTo(t,e),e},s.prototype.subtract=function(t){var e=o();return this.subTo(t,e),e},s.prototype.multiply=function(t){var e=o();return this.multiplyTo(t,e),e},s.prototype.divide=function(t){var e=o();return this.divRemTo(t,e,null),e},s.prototype.remainder=function(t){var e=o();return this.divRemTo(t,null,e),e},s.prototype.divideAndRemainder=function(t){var e=o(),r=o();return this.divRemTo(t,e,r),new Array(e,r)},s.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),s=d(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new m(e):e.isEven()?new k(e):new g(e);var a=new Array,c=3,u=r-1,l=(1<<r)-1;if(a[1]=n.convert(this),r>1){var h=o();for(n.sqrTo(a[1],h);c<=l;)a[c]=o(),n.mulTo(h,a[c-2],a[c]),c+=2}var f,y,v=t.t-1,b=!0,_=o();for(i=p(t.data[v])-1;v>=0;){for(i>=u?f=t.data[v]>>i-u&l:(f=(t.data[v]&(1<<i+1)-1)<<u-i,v>0&&(f|=t.data[v-1]>>this.DB+i-u)),c=r;0==(1&f);)f>>=1,--c;if((i-=c)<0&&(i+=this.DB,--v),b)a[f].copyTo(s),b=!1;else{for(;c>1;)n.sqrTo(s,_),n.sqrTo(_,s),c-=2;c>0?n.sqrTo(s,_):(y=s,s=_,_=y),n.mulTo(_,a[f],s)}for(;v>=0&&0==(t.data[v]&1<<i);)n.sqrTo(s,_),y=s,s=_,_=y,--i<0&&(i=this.DB-1,--v)}return n.revert(s)},s.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return s.ZERO;for(var r=t.clone(),n=this.clone(),i=d(1),o=d(0),a=d(0),c=d(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(t,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),o.subTo(c,o)):(n.subTo(r,n),e&&a.subTo(i,a),c.subTo(o,c))}return 0!=n.compareTo(s.ONE)?s.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c},s.prototype.pow=function(t){return this.exp(t,new E)},s.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},s.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r.data[0]<=A[A.length-1]){for(e=0;e<A.length;++e)if(r.data[0]==A[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<A.length;){for(var n=A[e],i=e+1;i<A.length&&n<x;)n*=A[i++];for(n=r.modInt(n);e<i;)if(n%A[e++]==0)return!1}return r.millerRabin(t)}},15253:function(t,e,r){var n=r(63170);t.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},41672:function(t,e,r){var n=r(63170);r(66065),t.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},66065:function(t,e,r){var n=r(63170);r(57395),n.mgf=n.mgf||{},(t.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(t){return{generate:function(e,r){for(var i=new n.util.ByteBuffer,s=Math.ceil(r/t.digestLength),o=0;o<s;o++){var a=new n.util.ByteBuffer;a.putInt32(o),t.start(),t.update(e+a.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-r),i.getBytes()}}}},57551:function(t,e,r){var n=r(63170);n.pki=n.pki||{};var i=t.exports=n.pki.oids=n.oids=n.oids||{};function s(t,e){i[t]=e,i[e]=t}function o(t,e){i[t]=e}s("1.2.840.113549.1.1.1","rsaEncryption"),s("1.2.840.113549.1.1.4","md5WithRSAEncryption"),s("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),s("1.2.840.113549.1.1.7","RSAES-OAEP"),s("1.2.840.113549.1.1.8","mgf1"),s("1.2.840.113549.1.1.9","pSpecified"),s("1.2.840.113549.1.1.10","RSASSA-PSS"),s("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),s("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),s("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),s("1.3.101.112","EdDSA25519"),s("1.2.840.10040.4.3","dsa-with-sha1"),s("1.3.14.3.2.7","desCBC"),s("1.3.14.3.2.26","sha1"),s("2.16.840.1.101.3.4.2.1","sha256"),s("2.16.840.1.101.3.4.2.2","sha384"),s("2.16.840.1.101.3.4.2.3","sha512"),s("1.2.840.113549.2.5","md5"),s("1.2.840.113549.1.7.1","data"),s("1.2.840.113549.1.7.2","signedData"),s("1.2.840.113549.1.7.3","envelopedData"),s("1.2.840.113549.1.7.4","signedAndEnvelopedData"),s("1.2.840.113549.1.7.5","digestedData"),s("1.2.840.113549.1.7.6","encryptedData"),s("1.2.840.113549.1.9.1","emailAddress"),s("1.2.840.113549.1.9.2","unstructuredName"),s("1.2.840.113549.1.9.3","contentType"),s("1.2.840.113549.1.9.4","messageDigest"),s("1.2.840.113549.1.9.5","signingTime"),s("1.2.840.113549.1.9.6","counterSignature"),s("1.2.840.113549.1.9.7","challengePassword"),s("1.2.840.113549.1.9.8","unstructuredAddress"),s("1.2.840.113549.1.9.14","extensionRequest"),s("1.2.840.113549.1.9.20","friendlyName"),s("1.2.840.113549.1.9.21","localKeyId"),s("1.2.840.113549.1.9.22.1","x509Certificate"),s("1.2.840.113549.1.12.10.1.1","keyBag"),s("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),s("1.2.840.113549.1.12.10.1.3","certBag"),s("1.2.840.113549.1.12.10.1.4","crlBag"),s("1.2.840.113549.1.12.10.1.5","secretBag"),s("1.2.840.113549.1.12.10.1.6","safeContentsBag"),s("1.2.840.113549.1.5.13","pkcs5PBES2"),s("1.2.840.113549.1.5.12","pkcs5PBKDF2"),s("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),s("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),s("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),s("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),s("1.2.840.113549.2.7","hmacWithSHA1"),s("1.2.840.113549.2.8","hmacWithSHA224"),s("1.2.840.113549.2.9","hmacWithSHA256"),s("1.2.840.113549.2.10","hmacWithSHA384"),s("1.2.840.113549.2.11","hmacWithSHA512"),s("1.2.840.113549.3.7","des-EDE3-CBC"),s("2.16.840.1.101.3.4.1.2","aes128-CBC"),s("2.16.840.1.101.3.4.1.22","aes192-CBC"),s("2.16.840.1.101.3.4.1.42","aes256-CBC"),s("2.5.4.3","commonName"),s("2.5.4.5","serialName"),s("2.5.4.6","countryName"),s("2.5.4.7","localityName"),s("2.5.4.8","stateOrProvinceName"),s("2.5.4.9","streetAddress"),s("2.5.4.10","organizationName"),s("2.5.4.11","organizationalUnitName"),s("2.5.4.13","description"),s("2.5.4.15","businessCategory"),s("2.5.4.17","postalCode"),s("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),s("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),s("2.16.840.1.113730.1.1","nsCertType"),s("2.16.840.1.113730.1.13","nsComment"),o("2.5.29.1","authorityKeyIdentifier"),o("2.5.29.2","keyAttributes"),o("2.5.29.3","certificatePolicies"),o("2.5.29.4","keyUsageRestriction"),o("2.5.29.5","policyMapping"),o("2.5.29.6","subtreesConstraint"),o("2.5.29.7","subjectAltName"),o("2.5.29.8","issuerAltName"),o("2.5.29.9","subjectDirectoryAttributes"),o("2.5.29.10","basicConstraints"),o("2.5.29.11","nameConstraints"),o("2.5.29.12","policyConstraints"),o("2.5.29.13","basicConstraints"),s("2.5.29.14","subjectKeyIdentifier"),s("2.5.29.15","keyUsage"),o("2.5.29.16","privateKeyUsagePeriod"),s("2.5.29.17","subjectAltName"),s("2.5.29.18","issuerAltName"),s("2.5.29.19","basicConstraints"),o("2.5.29.20","cRLNumber"),o("2.5.29.21","cRLReason"),o("2.5.29.22","expirationDate"),o("2.5.29.23","instructionCode"),o("2.5.29.24","invalidityDate"),o("2.5.29.25","cRLDistributionPoints"),o("2.5.29.26","issuingDistributionPoint"),o("2.5.29.27","deltaCRLIndicator"),o("2.5.29.28","issuingDistributionPoint"),o("2.5.29.29","certificateIssuer"),o("2.5.29.30","nameConstraints"),s("2.5.29.31","cRLDistributionPoints"),s("2.5.29.32","certificatePolicies"),o("2.5.29.33","policyMappings"),o("2.5.29.34","policyConstraints"),s("2.5.29.35","authorityKeyIdentifier"),o("2.5.29.36","policyConstraints"),s("2.5.29.37","extKeyUsage"),o("2.5.29.46","freshestCRL"),o("2.5.29.54","inhibitAnyPolicy"),s("1.3.6.1.4.1.11129.2.4.2","timestampList"),s("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),s("1.3.6.1.5.5.7.3.1","serverAuth"),s("1.3.6.1.5.5.7.3.2","clientAuth"),s("1.3.6.1.5.5.7.3.3","codeSigning"),s("1.3.6.1.5.5.7.3.4","emailProtection"),s("1.3.6.1.5.5.7.3.8","timeStamping")},90454:function(t,e,r){var n=r(63170);if(r(2189),r(1258),r(96160),r(15253),r(57551),r(49307),r(72805),r(26334),r(62262),r(284),r(57395),void 0===i)var i=n.jsbn.BigInteger;var s=n.asn1,o=n.pki=n.pki||{};t.exports=o.pbe=n.pbe=n.pbe||{};var a=o.oids,c={name:"EncryptedPrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},u={name:"PBES2Algorithms",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},l={name:"pkcs-12PbeParams",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"iterations"}]};function h(t,e){return t.start().update(e).digest().getBytes()}function f(t){var e;if(t){if(!(e=o.oids[s.derToOid(t)])){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else e="hmacWithSHA1";return d(e)}function d(t){var e=n.md;switch(t){case"hmacWithSHA224":e=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}o.encryptPrivateKeyInfo=function(t,e,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i,c,u,l=n.random.getBytesSync(r.saltSize),h=r.count,f=s.integerToDer(h);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var p,m,g;switch(r.algorithm){case"aes128":i=16,p=16,m=a["aes128-CBC"],g=n.aes.createEncryptionCipher;break;case"aes192":i=24,p=16,m=a["aes192-CBC"],g=n.aes.createEncryptionCipher;break;case"aes256":i=32,p=16,m=a["aes256-CBC"],g=n.aes.createEncryptionCipher;break;case"des":i=8,p=8,m=a.desCBC,g=n.des.createEncryptionCipher;break;default:throw(S=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,S}var y="hmacWith"+r.prfAlgorithm.toUpperCase(),v=d(y),b=n.pkcs5.pbkdf2(e,l,h,i,v),_=n.random.getBytesSync(p);(E=g(b)).start(_),E.update(s.toDer(t)),E.finish(),u=E.output.getBytes();var w=function(t,e,r,i){var a=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,t),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,e.getBytes())]);return"hmacWithSHA1"!==i&&a.value.push(s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o.oids[i]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")])),a}(l,f,i,y);c=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.pkcs5PBES2).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.pkcs5PBKDF2).getBytes()),w]),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(m).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,_)])])])}else{var S;if("3des"!==r.algorithm)throw(S=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,S;i=24;var E,C=new n.util.ByteBuffer(l);b=o.pbe.generatePkcs12Key(e,C,1,h,i),_=o.pbe.generatePkcs12Key(e,C,2,h,i),(E=n.des.createEncryptionCipher(b)).start(_),E.update(s.toDer(t)),E.finish(),u=E.output.getBytes(),c=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,l),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,f.getBytes())])])}return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[c,s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,u)])},o.decryptPrivateKeyInfo=function(t,e){var r=null,i={},a=[];if(!s.validate(t,c,i,a)){var u=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw u.errors=a,u}var l=s.derToOid(i.encryptionOid),h=o.pbe.getCipher(l,i.encryptionParams,e),f=n.util.createBuffer(i.encryptedData);return h.update(f),h.finish()&&(r=s.fromDer(h.output)),r},o.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:s.toDer(t).getBytes()};return n.pem.encode(r,{maxline:e})},o.encryptedPrivateKeyFromPem=function(t){var e=n.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==e.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return s.fromDer(e.body)},o.encryptRsaPrivateKey=function(t,e,r){if(!(r=r||{}).legacy){var i=o.wrapRsaPrivateKey(o.privateKeyToAsn1(t));return i=o.encryptPrivateKeyInfo(i,e,r),o.encryptedPrivateKeyToPem(i)}var a,c,u,l;switch(r.algorithm){case"aes128":a="AES-128-CBC",u=16,c=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes192":a="AES-192-CBC",u=24,c=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes256":a="AES-256-CBC",u=32,c=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"3des":a="DES-EDE3-CBC",u=24,c=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;case"des":a="DES-CBC",u=8,c=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;default:var h=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw h.algorithm=r.algorithm,h}var f=l(n.pbe.opensslDeriveBytes(e,c.substr(0,8),u));f.start(c),f.update(s.toDer(o.privateKeyToAsn1(t))),f.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:a,parameters:n.util.bytesToHex(c).toUpperCase()},body:f.output.getBytes()};return n.pem.encode(d)},o.decryptRsaPrivateKey=function(t,e){var r=null,i=n.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(u=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=u,u;if(i.procType&&"ENCRYPTED"===i.procType.type){var a,c;switch(i.dekInfo.algorithm){case"DES-CBC":a=8,c=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,c=n.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,c=n.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,c=n.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,c=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,c=function(t){return n.rc2.createDecryptionCipher(t,40)};break;case"RC2-64-CBC":a=8,c=function(t){return n.rc2.createDecryptionCipher(t,64)};break;case"RC2-128-CBC":a=16,c=function(t){return n.rc2.createDecryptionCipher(t,128)};break;default:var u;throw(u=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,u}var l=n.util.hexToBytes(i.dekInfo.parameters),h=c(n.pbe.opensslDeriveBytes(e,l.substr(0,8),a));if(h.start(l),h.update(n.util.createBuffer(i.body)),!h.finish())return r;r=h.output.getBytes()}else r=i.body;return null!==(r="ENCRYPTED PRIVATE KEY"===i.type?o.decryptPrivateKeyInfo(s.fromDer(r),e):s.fromDer(r))&&(r=o.privateKeyFromAsn1(r)),r},o.pbe.generatePkcs12Key=function(t,e,r,i,s,o){var a,c;if(null==o){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');o=n.md.sha1.create()}var u=o.digestLength,l=o.blockLength,h=new n.util.ByteBuffer,f=new n.util.ByteBuffer;if(null!=t){for(c=0;c<t.length;c++)f.putInt16(t.charCodeAt(c));f.putInt16(0)}var d=f.length(),p=e.length(),m=new n.util.ByteBuffer;m.fillWithByte(r,l);var g=l*Math.ceil(p/l),y=new n.util.ByteBuffer;for(c=0;c<g;c++)y.putByte(e.at(c%p));var v=l*Math.ceil(d/l),b=new n.util.ByteBuffer;for(c=0;c<v;c++)b.putByte(f.at(c%d));var _=y;_.putBuffer(b);for(var w=Math.ceil(s/u),S=1;S<=w;S++){var E=new n.util.ByteBuffer;E.putBytes(m.bytes()),E.putBytes(_.bytes());for(var C=0;C<i;C++)o.start(),o.update(E.getBytes()),E=o.digest();var k=new n.util.ByteBuffer;for(c=0;c<l;c++)k.putByte(E.at(c%u));var A=Math.ceil(p/l)+Math.ceil(d/l),x=new n.util.ByteBuffer;for(a=0;a<A;a++){var T=new n.util.ByteBuffer(_.getBytes(l)),I=511;for(c=k.length()-1;c>=0;c--)I>>=8,I+=k.at(c)+T.at(c),T.setAt(c,255&I);x.putBuffer(T)}_=x,h.putBuffer(E)}return h.truncate(h.length()-s),h},o.pbe.getCipher=function(t,e,r){switch(t){case o.oids.pkcs5PBES2:return o.pbe.getCipherForPBES2(t,e,r);case o.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case o.oids["pbewithSHAAnd40BitRC2-CBC"]:return o.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},o.pbe.getCipherForPBES2=function(t,e,r){var i,a={},c=[];if(!s.validate(e,u,a,c))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=c,i;if((t=s.derToOid(a.kdfOid))!==o.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=t,i.supportedOids=["pkcs5PBKDF2"],i;if((t=s.derToOid(a.encOid))!==o.oids["aes128-CBC"]&&t!==o.oids["aes192-CBC"]&&t!==o.oids["aes256-CBC"]&&t!==o.oids["des-EDE3-CBC"]&&t!==o.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=t,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var l,h,d=a.kdfSalt,p=n.util.createBuffer(a.kdfIterationCount);switch(p=p.getInt(p.length()<<3),o.oids[t]){case"aes128-CBC":l=16,h=n.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,h=n.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,h=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,h=n.des.createDecryptionCipher;break;case"desCBC":l=8,h=n.des.createDecryptionCipher}var m=f(a.prfOid),g=n.pkcs5.pbkdf2(r,d,p,l,m),y=a.encIv,v=h(g);return v.start(y),v},o.pbe.getCipherForPKCS12PBE=function(t,e,r){var i={},a=[];if(!s.validate(e,l,i,a))throw(m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=a,m;var c,u,h,d=n.util.createBuffer(i.salt),p=n.util.createBuffer(i.iterations);switch(p=p.getInt(p.length()<<3),t){case o.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,h=n.des.startDecrypting;break;case o.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,h=function(t,e){var r=n.rc2.createDecryptionCipher(t,40);return r.start(e,null),r};break;default:var m;throw(m=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=t,m}var g=f(i.prfOid),y=o.pbe.generatePkcs12Key(r,d,1,p,c,g);return g.start(),h(y,o.pbe.generatePkcs12Key(r,d,2,p,u,g))},o.pbe.opensslDeriveBytes=function(t,e,r,i){if(null==i){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');i=n.md.md5.create()}null===e&&(e="");for(var s=[h(i,t+e)],o=16,a=1;o<r;++a,o+=16)s.push(h(i,s[a-1]+t+e));return s.join("").substr(0,r)}},49307:function(t,e,r){var n=r(63170);r(33546),r(15253),r(57395);var i,s=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(i=r(63906)),t.exports=n.pbkdf2=s.pbkdf2=function(t,e,r,s,o,a){if("function"==typeof o&&(a=o,o=null),n.util.isNodejs&&!n.options.usePureJavaScript&&i.pbkdf2&&(null===o||"object"!=typeof o)&&(i.pbkdf2Sync.length>4||!o||"sha1"===o))return"string"!=typeof o&&(o="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),a?4===i.pbkdf2Sync.length?i.pbkdf2(t,e,r,s,function(t,e){if(t)return a(t);a(null,e.toString("binary"))}):i.pbkdf2(t,e,r,s,o,function(t,e){if(t)return a(t);a(null,e.toString("binary"))}):4===i.pbkdf2Sync.length?i.pbkdf2Sync(t,e,r,s).toString("binary"):i.pbkdf2Sync(t,e,r,s,o).toString("binary");if(null==o&&(o="sha1"),"string"==typeof o){if(!(o in n.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=n.md[o].create()}var c=o.digestLength;if(s>4294967295*c){var u=new Error("Derived key is too long.");if(a)return a(u);throw u}var l=Math.ceil(s/c),h=s-(l-1)*c,f=n.hmac.create();f.start(o,t);var d,p,m,g="";if(!a){for(var y=1;y<=l;++y){f.start(null,null),f.update(e),f.update(n.util.int32ToBytes(y)),d=m=f.digest().getBytes();for(var v=2;v<=r;++v)f.start(null,null),f.update(m),p=f.digest().getBytes(),d=n.util.xorBytes(d,p,c),m=p;g+=y<l?d:d.substr(0,h)}return g}function b(){if(y>l)return a(null,g);f.start(null,null),f.update(e),f.update(n.util.int32ToBytes(y)),d=m=f.digest().getBytes(),v=2,_()}function _(){if(v<=r)return f.start(null,null),f.update(m),p=f.digest().getBytes(),d=n.util.xorBytes(d,p,c),m=p,++v,n.util.setImmediate(_);g+=y<l?d:d.substr(0,h),++y,b()}y=1,b()}},72805:function(t,e,r){var n=r(63170);r(57395);var i=t.exports=n.pem=n.pem||{};function s(t){for(var e=t.name+": ",r=[],n=function(t,e){return" "+e},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+"\r\n";var s=0,o=-1;for(i=0;i<e.length;++i,++s)if(s>65&&-1!==o){var a=e[o];","===a?(++o,e=e.substr(0,o)+"\r\n "+e.substr(o)):e=e.substr(0,o)+"\r\n"+a+e.substr(o+1),s=i-o-1,o=-1,++i}else" "!==e[i]&&"\t"!==e[i]&&","!==e[i]||(o=i);return e}function o(t){return t.replace(/^\s+/,"")}i.encode=function(t,e){e=e||{};var r,i="-----BEGIN "+t.type+"-----\r\n";if(t.procType&&(i+=s(r={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]})),t.contentDomain&&(i+=s(r={name:"Content-Domain",values:[t.contentDomain]})),t.dekInfo&&(r={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&r.values.push(t.dekInfo.parameters),i+=s(r)),t.headers)for(var o=0;o<t.headers.length;++o)i+=s(t.headers[o]);return t.procType&&(i+="\r\n"),(i+=n.util.encode64(t.body,e.maxline||64)+"\r\n")+"-----END "+t.type+"-----\r\n"},i.decode=function(t){for(var e,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,a=/\r?\n/;e=i.exec(t);){var c={type:e[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(e[3])};if(r.push(c),e[2]){for(var u=e[2].split(a),l=0;e&&l<u.length;){for(var h=u[l].replace(/\s+$/,""),f=l+1;f<u.length;++f){var d=u[f];if(!/\s/.test(d[0]))break;h+=d,l=f}if(e=h.match(s)){for(var p={name:e[1],values:[]},m=e[2].split(","),g=0;g<m.length;++g)p.values.push(o(m[g]));if(c.procType)if(c.contentDomain||"Content-Domain"!==p.name)if(c.dekInfo||"DEK-Info"!==p.name)c.headers.push(p);else{if(0===p.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:m[0],parameters:m[1]||null}}else c.contentDomain=m[0]||"";else{if("Proc-Type"!==p.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==p.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:m[0],type:m[1]}}}++l}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},11454:function(t,e,r){var n=r(63170);r(57395),r(26334),r(67417);var i=t.exports=n.pkcs1=n.pkcs1||{};function s(t,e,r){r||(r=n.md.sha1.create());for(var i="",s=Math.ceil(e/r.digestLength),o=0;o<s;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,255&o);r.start(),r.update(t+a),i+=r.digest().getBytes()}return i.substring(0,e)}i.encode_rsa_oaep=function(t,e,r){var i,o,a,c;"string"==typeof r?(i=r,o=arguments[3]||void 0,a=arguments[4]||void 0):r&&(i=r.label||void 0,o=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(c=r.mgf1.md)),a?a.start():a=n.md.sha1.create(),c||(c=a);var u=Math.ceil(t.n.bitLength()/8),l=u-2*a.digestLength-2;if(e.length>l)throw(g=new Error("RSAES-OAEP input message length is too long.")).length=e.length,g.maxLength=l,g;i||(i=""),a.update(i,"raw");for(var h=a.digest(),f="",d=l-e.length,p=0;p<d;p++)f+="\0";var m=h.getBytes()+f+"\x01"+e;if(o){if(o.length!==a.digestLength){var g;throw(g=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=o.length,g.digestLength=a.digestLength,g}}else o=n.random.getBytes(a.digestLength);var y=s(o,u-a.digestLength-1,c),v=n.util.xorBytes(m,y,m.length),b=s(v,a.digestLength,c),_=n.util.xorBytes(o,b,o.length);return"\0"+_+v},i.decode_rsa_oaep=function(t,e,r){var i,o,a;"string"==typeof r?(i=r,o=arguments[3]||void 0):r&&(i=r.label||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var c=Math.ceil(t.n.bitLength()/8);if(e.length!==c)throw(v=new Error("RSAES-OAEP encoded message length is invalid.")).length=e.length,v.expectedLength=c,v;if(void 0===o?o=n.md.sha1.create():o.start(),a||(a=o),c<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),o.update(i,"raw");for(var u=o.digest().getBytes(),l=e.charAt(0),h=e.substring(1,o.digestLength+1),f=e.substring(1+o.digestLength),d=s(f,o.digestLength,a),p=n.util.xorBytes(h,d,h.length),m=s(p,c-o.digestLength-1,a),g=n.util.xorBytes(f,m,f.length),y=g.substring(0,o.digestLength),v="\0"!==l,b=0;b<o.digestLength;++b)v|=u.charAt(b)!==y.charAt(b);for(var _=1,w=o.digestLength,S=o.digestLength;S<g.length;S++){var E=g.charCodeAt(S),C=1&E^1,k=_?65534:0;v|=E&k,w+=_&=C}if(v||1!==g.charCodeAt(w))throw new Error("Invalid RSAES-OAEP padding.");return g.substring(w+1)}},22687:function(t,e,r){var n=r(63170);r(1258),r(33546),r(57551),r(32817),r(90454),r(26334),r(284),r(67417),r(57395),r(19913);var i=n.asn1,s=n.pki,o=t.exports=n.pkcs12=n.pkcs12||{},a={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},c={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},a,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},u={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},l={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},h={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function f(t,e,r,n){for(var i=[],s=0;s<t.length;s++)for(var o=0;o<t[s].safeBags.length;o++){var a=t[s].safeBags[o];void 0!==n&&a.type!==n||(null!==e?void 0!==a.attributes[e]&&a.attributes[e].indexOf(r)>=0&&i.push(a):i.push(a))}return i}function d(t){if(t.composed||t.constructed){for(var e=n.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}function p(t,e){var r={},o=[];if(!i.validate(t,n.pkcs7.asn1.encryptedDataValidator,r,o))throw(a=new Error("Cannot read EncryptedContentInfo.")).errors=o,a;var a,c=i.derToOid(r.contentType);if(c!==s.oids.data)throw(a=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=c,a;c=i.derToOid(r.encAlgorithm);var u=s.pbe.getCipher(c,r.encParameter,e),l=d(r.encryptedContentAsn1),h=n.util.createBuffer(l.value);if(u.update(h),!u.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return u.output.getBytes()}function m(t,e,r){if(!e&&0===t.length)return[];if((t=i.fromDer(t,e)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],o=0;o<t.value.length;o++){var a={},c=[];if(!i.validate(t.value[o],u,a,c))throw(m=new Error("Cannot read SafeBag.")).errors=c,m;var l,f,d={type:i.derToOid(a.bagId),attributes:g(a.bagAttributes)};n.push(d);var p=a.bagValue.value[0];switch(d.type){case s.oids.pkcs8ShroudedKeyBag:if(null===(p=s.decryptPrivateKeyInfo(p,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case s.oids.keyBag:try{d.key=s.privateKeyFromAsn1(p)}catch(y){d.key=null,d.asn1=p}continue;case s.oids.certBag:l=h,f=function(){if(i.derToOid(a.certId)!==s.oids.x509Certificate){var t=new Error("Unsupported certificate type, only X.509 supported.");throw t.oid=i.derToOid(a.certId),t}var r=i.fromDer(a.cert,e);try{d.cert=s.certificateFromAsn1(r,!0)}catch(y){d.cert=null,d.asn1=r}};break;default:var m;throw(m=new Error("Unsupported PKCS#12 SafeBag type.")).oid=d.type,m}if(void 0!==l&&!i.validate(p,l,a,c))throw(m=new Error("Cannot read PKCS#12 "+l.name)).errors=c,m;f()}return n}function g(t){var e={};if(void 0!==t)for(var r=0;r<t.length;++r){var n={},o=[];if(!i.validate(t[r],l,n,o)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=o,a}var c=i.derToOid(n.oid);if(void 0!==s.oids[c]){e[s.oids[c]]=[];for(var u=0;u<n.values.length;++u)e[s.oids[c]].push(n.values[u].value)}}return e}o.pkcs12FromAsn1=function(t,e,r){"string"==typeof e?(r=e,e=!0):void 0===e&&(e=!0);var u={};if(!i.validate(t,c,u,[]))throw(l=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=l,l;var l,h={version:u.version.charCodeAt(0),safeContents:[],getBags:function(t){var e,r={};return"localKeyId"in t?e=t.localKeyId:"localKeyIdHex"in t&&(e=n.util.hexToBytes(t.localKeyIdHex)),void 0===e&&!("friendlyName"in t)&&"bagType"in t&&(r[t.bagType]=f(h.safeContents,null,null,t.bagType)),void 0!==e&&(r.localKeyId=f(h.safeContents,"localKeyId",e,t.bagType)),"friendlyName"in t&&(r.friendlyName=f(h.safeContents,"friendlyName",t.friendlyName,t.bagType)),r},getBagsByFriendlyName:function(t,e){return f(h.safeContents,"friendlyName",t,e)},getBagsByLocalKeyId:function(t,e){return f(h.safeContents,"localKeyId",t,e)}};if(3!==u.version.charCodeAt(0))throw(l=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=u.version.charCodeAt(0),l;if(i.derToOid(u.contentType)!==s.oids.data)throw(l=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(u.contentType),l;var g=u.content.value[0];if(g.tagClass!==i.Class.UNIVERSAL||g.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(g=d(g),u.mac){var y=null,v=0,b=i.derToOid(u.macAlgorithm);switch(b){case s.oids.sha1:y=n.md.sha1.create(),v=20;break;case s.oids.sha256:y=n.md.sha256.create(),v=32;break;case s.oids.sha384:y=n.md.sha384.create(),v=48;break;case s.oids.sha512:y=n.md.sha512.create(),v=64;break;case s.oids.md5:y=n.md.md5.create(),v=16}if(null===y)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+b);var _=new n.util.ByteBuffer(u.macSalt),w="macIterations"in u?parseInt(n.util.bytesToHex(u.macIterations),16):1,S=o.generateKey(r,_,3,w,v,y),E=n.hmac.create();if(E.start(y,S),E.update(g.value),E.getMac().getBytes()!==u.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(t,e,r,n){if((e=i.fromDer(e,r)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var o=0;o<e.value.length;o++){var c={},u=[];if(!i.validate(e.value[o],a,c,u))throw(g=new Error("Cannot read ContentInfo.")).errors=u,g;var l={encrypted:!1},h=null,f=c.content.value[0];switch(i.derToOid(c.contentType)){case s.oids.data:if(f.tagClass!==i.Class.UNIVERSAL||f.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");h=d(f).value;break;case s.oids.encryptedData:h=p(f,n),l.encrypted=!0;break;default:var g;throw(g=new Error("Unsupported PKCS#12 contentType.")).contentType=i.derToOid(c.contentType),g}l.safeBags=m(h,r,n),t.safeContents.push(l)}}(h,g.value,e,r),h},o.toPkcs12Asn1=function(t,e,r,a){(a=a||{}).saltSize=a.saltSize||8,a.count=a.count||2048,a.algorithm=a.algorithm||a.encAlgorithm||"aes128","useMac"in a||(a.useMac=!0),"localKeyId"in a||(a.localKeyId=null),"generateLocalKeyId"in a||(a.generateLocalKeyId=!0);var c,u=a.localKeyId;if(null!==u)u=n.util.hexToBytes(u);else if(a.generateLocalKeyId)if(e){var l=n.util.isArray(e)?e[0]:e;"string"==typeof l&&(l=s.certificateFromPem(l)),(x=n.md.sha1.create()).update(i.toDer(s.certificateToAsn1(l)).getBytes()),u=x.digest().getBytes()}else u=n.random.getBytes(20);var h=[];null!==u&&h.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,u)])])),"friendlyName"in a&&h.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,a.friendlyName)])])),h.length>0&&(c=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,h));var f=[],d=[];null!==e&&(d=n.util.isArray(e)?e:[e]);for(var p=[],m=0;m<d.length;++m){"string"==typeof(e=d[m])&&(e=s.certificateFromPem(e));var g=0===m?c:void 0,y=s.certificateToAsn1(e),v=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(y).getBytes())])])]),g]);p.push(v)}if(p.length>0){var b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,p),_=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(b).getBytes())])]);f.push(_)}var w=null;if(null!==t){var S=s.wrapRsaPrivateKey(s.privateKeyToAsn1(t));w=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,null===r?[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[S]),c]:[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[s.encryptPrivateKeyInfo(S,r,a)]),c]);var E=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[w]),C=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(E).getBytes())])]);f.push(C)}var k,A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,f);if(a.useMac){var x=n.md.sha1.create(),T=new n.util.ByteBuffer(n.random.getBytes(a.saltSize)),I=a.count,R=(t=o.generateKey(r,T,3,I,20),n.hmac.create());R.start(x,t),R.update(i.toDer(A).getBytes());var P=R.getMac();k=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,P.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,T.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(I).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(A).getBytes())])]),k])},o.generateKey=n.pbe.generatePkcs12Key},79117:function(t,e,r){var n=r(63170);r(2189),r(1258),r(96160),r(57551),r(72805),r(32817),r(26334),r(57395),r(19913);var i=n.asn1,s=t.exports=n.pkcs7=n.pkcs7||{};function o(t){var e={},r=[];if(!i.validate(t,s.asn1.recipientInfoValidator,e,r)){var o=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw o.errors=r,o}return{version:e.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(e.issuer),serialNumber:n.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:i.derToOid(e.encAlgorithm),parameter:e.encParameter.value,content:e.encKey}}}function a(t){for(var e,r=[],s=0;s<t.length;++s)r.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer((e=t[s]).version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.encryptedContent.content)]));return r}function c(t){var e=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),e.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),s=0;s<t.unauthenticatedAttributes.length;++s)r.values.push(u(t.unauthenticatedAttributes[s]));e.value.push(r)}return e}function u(t){var e;if(t.type===n.pki.oids.contentType)e=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.value).getBytes());else if(t.type===n.pki.oids.messageDigest)e=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),s=new Date("2050-01-01T00:00:00Z"),o=t.value;if("string"==typeof o){var a=Date.parse(o);o=isNaN(a)?13===o.length?i.utcTimeToDate(o):i.generalizedTimeToDate(o):new Date(a)}e=o>=r&&o<s?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(o)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(o))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[e])])}function l(t,e,r){var s={};if(!i.validate(e,r,s,[])){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}if(i.derToOid(s.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(s.encryptedContent){var a="";if(n.util.isArray(s.encryptedContent))for(var c=0;c<s.encryptedContent.length;++c){if(s.encryptedContent[c].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");a+=s.encryptedContent[c].value}else a=s.encryptedContent;t.encryptedContent={algorithm:i.derToOid(s.encAlgorithm),parameter:n.util.createBuffer(s.encParameter.value),content:n.util.createBuffer(a)}}if(s.content){if(a="",n.util.isArray(s.content))for(c=0;c<s.content.length;++c){if(s.content[c].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");a+=s.content[c].value}else a=s.content;t.content=n.util.createBuffer(a)}return t.version=s.version.charCodeAt(0),t.rawCapture=s,s}function h(t){if(void 0===t.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===t.content){var e;switch(t.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:e=n.aes.createDecryptionCipher(t.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:e=n.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}s.messageFromPem=function(t){var e=n.pem.decode(t)[0];if("PKCS7"!==e.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var o=i.fromDer(e.body);return s.messageFromAsn1(o)},s.messageToPem=function(t,e){var r={type:"PKCS7",body:i.toDer(t.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:e})},s.messageFromAsn1=function(t){var e={},r=[];if(!i.validate(t,s.asn1.contentInfoValidator,e,r)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw o.errors=r,o}var a,c=i.derToOid(e.contentType);switch(c){case n.pki.oids.envelopedData:a=s.createEnvelopedData();break;case n.pki.oids.encryptedData:a=s.createEncryptedData();break;case n.pki.oids.signedData:a=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+c+" is not (yet) supported.")}return a.fromAsn1(e.content.value[0]),a},s.createSignedData=function(){var t=null;return t={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(e){if(l(t,e,s.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var r=t.rawCapture.certificates.value,i=0;i<r.length;++i)t.certificates.push(n.pki.certificateFromAsn1(r[i]))},toAsn1:function(){t.contentInfo||t.sign();for(var e=[],r=0;r<t.certificates.length;++r)e.push(n.pki.certificateToAsn1(t.certificates[r]));var s=[],o=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return e.length>0&&o.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,e)),s.length>0&&o.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,s)),o.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,t.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),o])},addSigner:function(e){var r=e.issuer,i=e.serialNumber;if(e.certificate){var s=e.certificate;"string"==typeof s&&(s=n.pki.certificateFromPem(s)),r=s.issuer.attributes,i=s.serialNumber}var o=e.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof o&&(o=n.pki.privateKeyFromPem(o));var a=e.digestAlgorithm||n.pki.oids.sha1;switch(a){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+a)}var c=e.authenticatedAttributes||[];if(c.length>0){for(var u=!1,l=!1,h=0;h<c.length;++h){var f=c[h];if(u||f.type!==n.pki.oids.contentType){if(l||f.type!==n.pki.oids.messageDigest);else if(l=!0,u)break}else if(u=!0,l)break}if(!u||!l)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:o,version:1,issuer:r,serialNumber:i,digestAlgorithm:a,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(e){var r;e=e||{},("object"!=typeof t.content||null===t.contentInfo)&&(t.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes())]),"content"in t&&(t.content instanceof n.util.ByteBuffer?r=t.content.bytes():"string"==typeof t.content&&(r=n.util.encodeUtf8(t.content)),e.detached?t.detachedContent=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r):t.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)])))),0!==t.signers.length&&function(e){var r;if(!(r=t.detachedContent?t.detachedContent:(r=t.contentInfo.value[1]).value[0]))throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=i.derToOid(t.contentInfo.value[0].value),o=i.toDer(r);for(var a in o.getByte(),i.getBerValueLength(o),o=o.getBytes(),e)e[a].start().update(o);for(var l=new Date,h=0;h<t.signers.length;++h){var f=t.signers[h];if(0===f.authenticatedAttributes.length){if(s!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var d=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),p=0;p<f.authenticatedAttributes.length;++p){var m=f.authenticatedAttributes[p];m.type===n.pki.oids.messageDigest?m.value=e[f.digestAlgorithm].digest():m.type===n.pki.oids.signingTime&&(m.value||(m.value=l)),d.value.push(u(m)),f.authenticatedAttributesAsn1.value.push(u(m))}o=i.toDer(d).getBytes(),f.md.start().update(o)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=function(t){for(var e=[],r=0;r<t.length;++r)e.push(c(t[r]));return e}(t.signers)}(function(){for(var e={},r=0;r<t.signers.length;++r){var s=t.signers[r];(o=s.digestAlgorithm)in e||(e[o]=n.md[n.pki.oids[o]].create()),s.md=0===s.authenticatedAttributes.length?e[o]:n.md[n.pki.oids[o]].create()}for(var o in t.digestAlgorithmIdentifiers=[],e)t.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return e}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e)),t.certificates.push(e)},addCertificateRevokationList:function(t){throw new Error("PKCS#7 CRL support not yet implemented.")}}},s.createEncryptedData=function(){var t=null;return t={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(e){l(t,e,s.asn1.encryptedDataValidator)},decrypt:function(e){void 0!==e&&(t.encryptedContent.key=e),h(t)}}},s.createEnvelopedData=function(){var t=null;return t={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(e){var r=l(t,e,s.asn1.envelopedDataValidator);t.recipients=function(t){for(var e=[],r=0;r<t.length;++r)e.push(o(t[r]));return e}(r.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,a(t.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(e=t.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.content.getBytes())])]))])])]);var e},findRecipient:function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],s=i.issuer;if(i.serialNumber===e.serialNumber&&s.length===r.length){for(var o=!0,a=0;a<r.length;++a)if(s[a].type!==r[a].type||s[a].value!==r[a].value){o=!1;break}if(o)return i}}return null},decrypt:function(e,r){if(void 0===t.encryptedContent.key&&void 0!==e&&void 0!==r)switch(e.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var i=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=n.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}h(t)},addRecipient:function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,r){if(void 0===t.encryptedContent.content){var i,s,o;switch(e=e||t.encryptedContent.key,r=r||t.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:i=16,s=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:i=24,s=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:i=32,s=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:i=24,s=8,o=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===e)e=n.util.createBuffer(n.random.getBytes(i));else if(e.length()!=i)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+i+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(s));var a=o(e);if(a.start(t.encryptedContent.parameter.copy()),a.update(t.content),!a.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=a.output}for(var c=0;c<t.recipients.length;++c){var u=t.recipients[c];if(void 0===u.encryptedContent.content)switch(u.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:u.encryptedContent.content=u.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}}}}},32817:function(t,e,r){var n=r(63170);r(1258),r(57395);var i=n.asn1,s=t.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=s;var o={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s.contentInfoValidator=o;var a={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(a)},s.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(a)},s.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},o,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},s.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},38942:function(t,e,r){var n=r(63170);r(1258),r(57551),r(90454),r(72805),r(49307),r(22687),r(93766),r(284),r(57395),r(19913);var i=n.asn1,s=t.exports=n.pki=n.pki||{};s.pemToDer=function(t){var e=n.pem.decode(t)[0];if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(e.body)},s.privateKeyFromPem=function(t){var e=n.pem.decode(t)[0];if("PRIVATE KEY"!==e.type&&"RSA PRIVATE KEY"!==e.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var o=i.fromDer(e.body);return s.privateKeyFromAsn1(o)},s.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:i.toDer(s.privateKeyToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},s.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:i.toDer(t).getBytes()};return n.pem.encode(r,{maxline:e})}},74155:function(t,e,r){var n=r(63170);r(57395),r(52468),r(26334),function(){if(n.prime)t.exports=n.prime;else{var e=t.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],s=new r(null);s.fromInt(30);var o=function(t,e){return t|e};e.generateProbablePrime=function(t,e,i){"function"==typeof e&&(i=e,e={});var s=(e=e||{}).algorithm||"PRIMEINC";"string"==typeof s&&(s={name:s}),s.options=s.options||{};var o=e.prng||n.random;if("PRIMEINC"===s.name)return function(t,e,i,s){return"workers"in i?function(t,e,i,s){if("undefined"==typeof Worker)return a(t,e,i,s);var o=u(t,e),c=i.workers,l=i.workLoad||100,h=30*l/8,f=i.workerScript||"forge/prime.worker.js";if(-1===c)return n.util.estimateCores(function(t,e){t&&(e=2),c=e-1,d()});function d(){c=Math.max(1,c);for(var n=[],i=0;i<c;++i)n[i]=new Worker(f);for(i=0;i<c;++i)n[i].addEventListener("message",d);var a=!1;function d(i){if(!a){var c=i.data;if(c.found){for(var f=0;f<n.length;++f)n[f].terminate();return a=!0,s(null,new r(c.prime,16))}o.bitLength()>t&&(o=u(t,e));var d=o.toString(16);i.target.postMessage({hex:d,workLoad:l}),o.dAddOffset(h,0)}}}d()}(t,e,i,s):a(t,e,i,s)}(t,{nextBytes:function(t){for(var e=o.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}},s.options,i);throw new Error("Invalid prime generation algorithm: "+s.name)}}function a(t,e,r,n){var i=u(t,e),s=function(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}(i.bitLength());"millerRabinTests"in r&&(s=r.millerRabinTests);var o=10;"maxBlockTime"in r&&(o=r.maxBlockTime),c(i,t,e,0,s,o,n)}function c(t,e,r,s,o,a,l){var h=+new Date;do{if(t.bitLength()>e&&(t=u(e,r)),t.isProbablePrime(o))return l(null,t);t.dAddOffset(i[s++%8],0)}while(a<0||+new Date-h<a);n.util.setImmediate(function(){c(t,e,r,s,o,a,l)})}function u(t,e){var n=new r(t,e),i=t-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),o,n),n.dAddOffset(31-n.mod(s).byteValue(),0),n}}()},81604:function(t,e,r){var n=r(63170);r(57395);var i=null;!n.util.isNodejs||n.options.usePureJavaScript||process.versions["node-webkit"]||(i=r(63906)),(t.exports=n.prng=n.prng||{}).create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,s=new Array(32),o=0;o<32;++o)s[o]=r.create();function a(){if(e.pools[0].messageLength>=32)return c();e.collect(e.seedFileSync(32-e.pools[0].messageLength<<5)),c()}function c(){e.reseeds=4294967295===e.reseeds?0:e.reseeds+1;var t=e.plugin.md.create();t.update(e.keyBytes);for(var r=1,n=0;n<32;++n)e.reseeds%r==0&&(t.update(e.pools[n].digest().getBytes()),e.pools[n].start()),r<<=1;e.keyBytes=t.digest().getBytes(),t.start(),t.update(e.keyBytes);var i=t.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(i),e.generated=0}function u(t){var e=null,r=n.util.globalScope,i=r.crypto||r.msCrypto;i&&i.getRandomValues&&(e=function(t){return i.getRandomValues(t)});var s=n.util.createBuffer();if(e)for(;s.length()<t;){var o=Math.max(1,Math.min(t-s.length(),65536)/4),a=new Uint32Array(Math.floor(o));try{e(a);for(var c=0;c<a.length;++c)s.putInt32(a[c])}catch(d){if(!("undefined"!=typeof QuotaExceededError&&d instanceof QuotaExceededError))throw d}}if(s.length()<t)for(var u,l,h,f=Math.floor(65536*Math.random());s.length()<t;)for(l=16807*(65535&f),l+=(32767&(u=16807*(f>>16)))<<16,f=4294967295&(l=(2147483647&(l+=u>>15))+(l>>31)),c=0;c<3;++c)h=f>>>(c<<3),h^=Math.floor(256*Math.random()),s.putByte(String.fromCharCode(255&h));return s.getBytes(t)}return e.pools=s,e.pool=0,e.generate=function(t,r){if(!r)return e.generateSync(t);var i=e.plugin.cipher,s=e.plugin.increment,o=e.plugin.formatKey,a=e.plugin.formatSeed,u=n.util.createBuffer();e.key=null,function l(h){if(h)return r(h);if(u.length()>=t)return r(null,u.getBytes(t));if(e.generated>1048575&&(e.key=null),null===e.key)return n.util.nextTick(function(){!function(t){if(e.pools[0].messageLength>=32)return c(),t();e.seedFile(32-e.pools[0].messageLength<<5,function(r,n){if(r)return t(r);e.collect(n),c(),t()})}(l)});var f=i(e.key,e.seed);e.generated+=f.length,u.putBytes(f),e.key=o(i(e.key,s(e.seed))),e.seed=a(i(e.key,e.seed)),n.util.setImmediate(l)}()},e.generateSync=function(t){var r=e.plugin.cipher,i=e.plugin.increment,s=e.plugin.formatKey,o=e.plugin.formatSeed;e.key=null;for(var c=n.util.createBuffer();c.length()<t;){e.generated>1048575&&(e.key=null),null===e.key&&a();var u=r(e.key,e.seed);e.generated+=u.length,c.putBytes(u),e.key=s(r(e.key,i(e.seed))),e.seed=o(r(e.key,e.seed))}return c.getBytes(t)},i?(e.seedFile=function(t,e){i.randomBytes(t,function(t,r){if(t)return e(t);e(null,r.toString())})},e.seedFileSync=function(t){return i.randomBytes(t).toString()}):(e.seedFile=function(t,e){try{e(null,u(t))}catch(r){e(r)}},e.seedFileSync=u),e.collect=function(t){for(var r=t.length,n=0;n<r;++n)e.pools[e.pool].update(t.substr(n,1)),e.pool=31===e.pool?0:e.pool+1},e.collectInt=function(t,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(t>>i&255);e.collect(n)},e.registerWorker=function(t){t===self?e.seedFile=function(t,e){self.addEventListener("message",function t(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",t),e(n.forge.prng.err,n.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:t}}})}:t.addEventListener("message",function(r){var n=r.data;n.forge&&n.forge.prng&&e.seedFile(n.forge.prng.needed,function(e,r){t.postMessage({forge:{prng:{err:e,bytes:r}}})})})},e}},93766:function(t,e,r){var n=r(63170);r(26334),r(57395),(t.exports=n.pss=n.pss||{}).create=function(t){3===arguments.length&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e,r=t.md,i=t.mgf,s=r.digestLength,o=t.salt||null;if("string"==typeof o&&(o=n.util.createBuffer(o)),"saltLength"in t)e=t.saltLength;else{if(null===o)throw new Error("Salt length not specified or specific salt not given.");e=o.length()}if(null!==o&&o.length()!==e)throw new Error("Given salt length does not match length of given salt.");var a=t.prng||n.random,c={encode:function(t,c){var u,l,h=c-1,f=Math.ceil(h/8),d=t.digest().getBytes();if(f<s+e+2)throw new Error("Message is too long to encrypt.");l=null===o?a.getBytesSync(e):o.bytes();var p=new n.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(d),p.putBytes(l),r.start(),r.update(p.getBytes());var m=r.digest().getBytes(),g=new n.util.ByteBuffer;g.fillWithByte(0,f-e-s-2),g.putByte(1),g.putBytes(l);var y=g.getBytes(),v=f-s-1,b=i.generate(m,v),_="";for(u=0;u<v;u++)_+=String.fromCharCode(y.charCodeAt(u)^b.charCodeAt(u));var w=65280>>8*f-h&255;return(_=String.fromCharCode(_.charCodeAt(0)&~w)+_.substr(1))+m+String.fromCharCode(188)},verify:function(t,o,a){var c,u=a-1,l=Math.ceil(u/8);if(o=o.substr(-l),l<s+e+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==o.charCodeAt(l-1))throw new Error("Encoded message does not end in 0xBC.");var h=l-s-1,f=o.substr(0,h),d=o.substr(h,s),p=65280>>8*l-u&255;if(0!=(f.charCodeAt(0)&p))throw new Error("Bits beyond keysize not zero as expected.");var m=i.generate(d,h),g="";for(c=0;c<h;c++)g+=String.fromCharCode(f.charCodeAt(c)^m.charCodeAt(c));g=String.fromCharCode(g.charCodeAt(0)&~p)+g.substr(1);var y=l-s-e-2;for(c=0;c<y;c++)if(0!==g.charCodeAt(c))throw new Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(y))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var v=g.substr(-e),b=new n.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(t),b.putBytes(v),r.start(),r.update(b.getBytes()),d===r.digest().getBytes()}};return c}},26334:function(t,e,r){var n=r(63170);r(2189),r(59940),r(81604),r(57395),n.random&&n.random.getBytes?t.exports=n.random:function(e){var r={},i=new Array(4),s=n.util.createBuffer();function o(){var t=n.prng.create(r);return t.getBytes=function(e,r){return t.generate(e,r)},t.getBytesSync=function(e){return t.generate(e)},t}r.formatKey=function(t){var e=n.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),n.aes._expandKey(t,!1)},r.formatSeed=function(t){var e=n.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),t},r.cipher=function(t,e){return n.aes._updateBlock(t,e,i,!1),s.putInt32(i[0]),s.putInt32(i[1]),s.putInt32(i[2]),s.putInt32(i[3]),s.getBytes()},r.increment=function(t){return++t[3],t},r.md=n.md.sha256;var a=o(),c=null,u=n.util.globalScope,l=u.crypto||u.msCrypto;if(l&&l.getRandomValues&&(c=function(t){return l.getRandomValues(t)}),n.options.usePureJavaScript||!n.util.isNodejs&&!c){if("undefined"==typeof window||window,a.collectInt(+new Date,32),"undefined"!=typeof navigator){var h="";for(var f in navigator)try{"string"==typeof navigator[f]&&(h+=navigator[f])}catch(d){}a.collect(h),h=null}e&&(e().mousemove(function(t){a.collectInt(t.clientX,16),a.collectInt(t.clientY,16)}),e().keypress(function(t){a.collectInt(t.charCode,8)}))}if(n.random)for(var f in a)n.random[f]=a[f];else n.random=a;n.random.createInstance=o,t.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)},62262:function(t,e,r){var n=r(63170);r(57395);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],o=function(t,e){return t<<e&65535|(65535&t)>>16-e},a=function(t,e){return(65535&t)>>e|t<<16-e&65535};t.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(t,e){"string"==typeof t&&(t=n.util.createBuffer(t)),e=e||128;var r,s=t,o=t.length(),a=e,c=Math.ceil(a/8),u=255>>(7&a);for(r=o;r<128;r++)s.putByte(i[s.at(r-1)+s.at(r-o)&255]);for(s.setAt(128-c,i[s.at(128-c)&u]),r=127-c;r>=0;r--)s.setAt(r,i[s.at(r+1)^s.at(r+c)]);return s};var c=function(t,e,r){var i,c,u,l,h=!1,f=null,d=null,p=null,m=[];for(t=n.rc2.expandKey(t,e),u=0;u<64;u++)m.push(t.getInt16Le());r?(i=function(t){for(u=0;u<4;u++)t[u]+=m[l]+(t[(u+3)%4]&t[(u+2)%4])+(~t[(u+3)%4]&t[(u+1)%4]),t[u]=o(t[u],s[u]),l++},c=function(t){for(u=0;u<4;u++)t[u]+=m[63&t[(u+3)%4]]}):(i=function(t){for(u=3;u>=0;u--)t[u]=a(t[u],s[u]),t[u]-=m[l]+(t[(u+3)%4]&t[(u+2)%4])+(~t[(u+3)%4]&t[(u+1)%4]),l--},c=function(t){for(u=3;u>=0;u--)t[u]-=m[63&t[(u+3)%4]]});var g=function(t){var e=[];for(u=0;u<4;u++){var n=f.getInt16Le();null!==p&&(r?n^=p.getInt16Le():p.putInt16Le(n)),e.push(65535&n)}l=r?0:63;for(var i=0;i<t.length;i++)for(var s=0;s<t[i][0];s++)t[i][1](e);for(u=0;u<4;u++)null!==p&&(r?p.putInt16Le(e[u]):e[u]^=p.getInt16Le()),d.putInt16Le(e[u])},y=null;return y={start:function(t,e){t&&"string"==typeof t&&(t=n.util.createBuffer(t)),h=!1,f=n.util.createBuffer(),d=e||new n.util.createBuffer,p=t,y.output=d},update:function(t){for(h||f.putBuffer(t);f.length()>=8;)g([[5,i],[1,c],[6,i],[1,c],[5,i]])},finish:function(t){var e=!0;if(r)if(t)e=t(8,f,!r);else{var n=8===f.length()?8:8-f.length();f.fillWithByte(n,n)}if(e&&(h=!0,y.update()),!r&&(e=0===f.length()))if(t)e=t(8,d,!r);else{var i=d.length(),s=d.at(i-1);s>i?e=!1:d.truncate(s)}return e}}};n.rc2.startEncrypting=function(t,e,r){var i=n.rc2.createEncryptionCipher(t,128);return i.start(e,r),i},n.rc2.createEncryptionCipher=function(t,e){return c(t,e,!0)},n.rc2.startDecrypting=function(t,e,r){var i=n.rc2.createDecryptionCipher(t,128);return i.start(e,r),i},n.rc2.createDecryptionCipher=function(t,e){return c(t,e,!1)}},284:function(t,e,r){var n=r(63170);if(r(1258),r(52468),r(57551),r(11454),r(74155),r(26334),r(57395),void 0===i)var i=n.jsbn.BigInteger;var s=n.util.isNodejs?r(63906):null,o=n.asn1,a=n.util;n.pki=n.pki||{},t.exports=n.pki.rsa=n.rsa=n.rsa||{};var c=n.pki,u=[6,4,2,4,2,4,6,2],l={name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},h={name:"RSAPrivateKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},f={name:"RSAPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},d=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},p=function(t){if(!(t.algorithm in c.oids)){var e=new Error("Unknown message digest algorithm.");throw e.algorithm=t.algorithm,e}var r=o.oidToDer(c.oids[t.algorithm]).getBytes(),n=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),i=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);i.value.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,r)),i.value.push(o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,""));var s=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t.digest().getBytes());return n.value.push(i),n.value.push(s),o.toDer(n).getBytes()},m=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);var s;e.dP||(e.dP=e.d.mod(e.p.subtract(i.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(i.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));do{s=new i(n.util.bytesToHex(n.random.getBytes(e.n.bitLength()/8)),16)}while(s.compareTo(e.n)>=0||!s.gcd(e.n).equals(i.ONE));for(var o=(t=t.multiply(s.modPow(e.e,e.n)).mod(e.n)).mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);o.compareTo(a)<0;)o=o.add(e.p);return o.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a).multiply(s.modInverse(e.n)).mod(e.n)};function g(t,e,r){var i=n.util.createBuffer(),s=Math.ceil(e.n.bitLength()/8);if(t.length>s-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=s-11,o}i.putByte(0),i.putByte(r);var a,c=s-3-t.length;if(0===r||1===r){a=0===r?0:255;for(var u=0;u<c;++u)i.putByte(a)}else for(;c>0;){var l=0,h=n.random.getBytes(c);for(u=0;u<c;++u)0===(a=h.charCodeAt(u))?++l:i.putByte(a);c=l}return i.putByte(0),i.putBytes(t),i}function y(t,e,r,i){var s=Math.ceil(e.n.bitLength()/8),o=n.util.createBuffer(t),a=o.getByte(),c=o.getByte();if(0!==a||r&&0!==c&&1!==c||!r&&2!=c||r&&0===c&&void 0===i)throw new Error("Encryption block is invalid.");var u=0;if(0===c){u=s-3-i;for(var l=0;l<u;++l)if(0!==o.getByte())throw new Error("Encryption block is invalid.")}else if(1===c)for(u=0;o.length()>1;){if(255!==o.getByte()){--o.read;break}++u}else if(2===c)for(u=0;o.length()>1;){if(0===o.getByte()){--o.read;break}++u}if(0!==o.getByte()||u!==s-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function v(t,e,r){"function"==typeof e&&(r=e,e={});var s={algorithm:{name:(e=e||{}).algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};function o(){a(t.pBits,function(e,n){return e?r(e):(t.p=n,null!==t.q?u(e,t.q):void a(t.qBits,u))})}function a(t,e){n.prime.generateProbablePrime(t,s,e)}function u(e,n){if(e)return r(e);if(t.q=n,t.p.compareTo(t.q)<0){var s=t.p;t.p=t.q,t.q=s}if(0!==t.p.subtract(i.ONE).gcd(t.e).compareTo(i.ONE))return t.p=null,void o();if(0!==t.q.subtract(i.ONE).gcd(t.e).compareTo(i.ONE))return t.q=null,void a(t.qBits,u);if(t.p1=t.p.subtract(i.ONE),t.q1=t.q.subtract(i.ONE),t.phi=t.p1.multiply(t.q1),0!==t.phi.gcd(t.e).compareTo(i.ONE))return t.p=t.q=null,void o();if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits)return t.q=null,void a(t.qBits,u);var l=t.e.modInverse(t.phi);t.keys={privateKey:c.rsa.setPrivateKey(t.n,t.e,l,t.p,t.q,l.mod(t.p1),l.mod(t.q1),t.q.modInverse(t.p)),publicKey:c.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}"prng"in e&&(s.prng=e.prng),o()}function b(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=n.util.hexToBytes(e);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function _(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function w(t){return n.util.isNodejs&&"function"==typeof s[t]}function S(t){return void 0!==a.globalScope&&"object"==typeof a.globalScope.crypto&&"object"==typeof a.globalScope.crypto.subtle&&"function"==typeof a.globalScope.crypto.subtle[t]}function E(t){return void 0!==a.globalScope&&"object"==typeof a.globalScope.msCrypto&&"object"==typeof a.globalScope.msCrypto.subtle&&"function"==typeof a.globalScope.msCrypto.subtle[t]}function C(t){for(var e=n.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),i=0;i<e.length;++i)r[i]=e.charCodeAt(i);return r}c.rsa.encrypt=function(t,e,r){var s,o=r,a=Math.ceil(e.n.bitLength()/8);!1!==r&&!0!==r?(o=2===r,s=g(t,e,r)):(s=n.util.createBuffer()).putBytes(t);for(var c=new i(s.toHex(),16),u=m(c,e,o).toString(16),l=n.util.createBuffer(),h=a-Math.ceil(u.length/2);h>0;)l.putByte(0),--h;return l.putBytes(n.util.hexToBytes(u)),l.getBytes()},c.rsa.decrypt=function(t,e,r,s){var o=Math.ceil(e.n.bitLength()/8);if(t.length!==o){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=o,a}var c=new i(n.util.createBuffer(t).toHex(),16);if(c.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var u=m(c,e,r).toString(16),l=n.util.createBuffer(),h=o-Math.ceil(u.length/2);h>0;)l.putByte(0),--h;return l.putBytes(n.util.hexToBytes(u)),!1!==s?y(l.getBytes(),e,r):l.getBytes()},c.rsa.createKeyPairGenerationState=function(t,e,r){"string"==typeof t&&(t=parseInt(t,10)),t=t||2048;var s,o=(r=r||{}).prng||n.random,a={nextBytes:function(t){for(var e=o.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}},c=r.algorithm||"PRIMEINC";if("PRIMEINC"!==c)throw new Error("Invalid key generation algorithm: "+c);return(s={algorithm:c,state:0,bits:t,rng:a,eInt:e||65537,e:new i(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null}).e.fromInt(s.eInt),s},c.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new i(null);r.fromInt(30);for(var n,s=0,o=function(t,e){return t|e},a=+new Date,l=0;null===t.keys&&(e<=0||l<e);){if(0===t.state){var h=null===t.p?t.pBits:t.qBits,f=h-1;0===t.pqState?(t.num=new i(h,t.rng),t.num.testBit(f)||t.num.bitwiseTo(i.ONE.shiftLeft(f),o,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),s=0,++t.pqState):1===t.pqState?t.num.bitLength()>h?t.pqState=0:t.num.isProbablePrime(_(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(u[s++%8],0):2===t.pqState?t.pqState=0===t.num.subtract(i.ONE).gcd(t.e).compareTo(i.ONE)?3:0:3===t.pqState&&(t.pqState=0,null===t.p?t.p=t.num:t.q=t.num,null!==t.p&&null!==t.q&&++t.state,t.num=null)}else if(1===t.state)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(2===t.state)t.p1=t.p.subtract(i.ONE),t.q1=t.q.subtract(i.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(3===t.state)0===t.phi.gcd(t.e).compareTo(i.ONE)?++t.state:(t.p=null,t.q=null,t.state=0);else if(4===t.state)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(5===t.state){var d=t.e.modInverse(t.phi);t.keys={privateKey:c.rsa.setPrivateKey(t.n,t.e,d,t.p,t.q,d.mod(t.p1),d.mod(t.q1),t.q.modInverse(t.p)),publicKey:c.rsa.setPublicKey(t.n,t.e)}}l+=(n=+new Date)-a,a=n}return null!==t.keys},c.rsa.generateKeyPair=function(t,e,r,i){if(1===arguments.length?"object"==typeof t?(r=t,t=void 0):"function"==typeof t&&(i=t,t=void 0):2===arguments.length?"number"==typeof t?"function"==typeof e?(i=e,e=void 0):"number"!=typeof e&&(r=e,e=void 0):(r=t,i=e,t=void 0,e=void 0):3===arguments.length&&("number"==typeof e?"function"==typeof r&&(i=r,r=void 0):(i=r,r=e,e=void 0)),r=r||{},void 0===t&&(t=r.bits||2048),void 0===e&&(e=r.e||65537),!n.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(65537===e||3===e))if(i){if(w("generateKeyPair"))return s.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(t,e,r){if(t)return i(t);i(null,{privateKey:c.privateKeyFromPem(r),publicKey:c.publicKeyFromPem(e)})});if(S("generateKey")&&S("exportKey"))return a.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:C(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(t){return a.globalScope.crypto.subtle.exportKey("pkcs8",t.privateKey)}).then(void 0,function(t){i(t)}).then(function(t){if(t){var e=c.privateKeyFromAsn1(o.fromDer(n.util.createBuffer(t)));i(null,{privateKey:e,publicKey:c.setRsaPublicKey(e.n,e.e)})}});if(E("generateKey")&&E("exportKey")){var u=a.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:C(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);return u.oncomplete=function(t){var e=a.globalScope.msCrypto.subtle.exportKey("pkcs8",t.target.result.privateKey);e.oncomplete=function(t){var e=c.privateKeyFromAsn1(o.fromDer(n.util.createBuffer(t.target.result)));i(null,{privateKey:e,publicKey:c.setRsaPublicKey(e.n,e.e)})},e.onerror=function(t){i(t)}},void(u.onerror=function(t){i(t)})}}else if(w("generateKeyPairSync")){var l=s.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c.privateKeyFromPem(l.privateKey),publicKey:c.publicKeyFromPem(l.publicKey)}}var h=c.rsa.createKeyPairGenerationState(t,e,r);if(!i)return c.rsa.stepKeyPairGenerationState(h,0),h.keys;v(h,r,i)},c.setRsaPublicKey=c.rsa.setPublicKey=function(t,e){var r={n:t,e:e,encrypt:function(t,e,i){if("string"==typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===e)e={encode:function(t,e,r){return g(t,e,2).getBytes()}};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={encode:function(t,e){return n.pkcs1.encode_rsa_oaep(e,t,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(e))e={encode:function(t){return t}};else if("string"==typeof e)throw new Error('Unsupported encryption scheme: "'+e+'".');var s=e.encode(t,r,!0);return c.rsa.encrypt(s,r,!0)},verify:function(t,e,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(t,e){return e=y(e,r,!0),t===o.fromDer(e).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(t,e){return t===y(e,r,!0)}});var i=c.rsa.decrypt(e,r,!0,!1);return n.verify(t,i,r.n.bitLength())}};return r},c.setRsaPrivateKey=c.rsa.setPrivateKey=function(t,e,r,i,s,o,a,u){var l={n:t,e:e,d:r,p:i,q:s,dP:o,dQ:a,qInv:u,decrypt:function(t,e,r){"string"==typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5");var i=c.rsa.decrypt(t,l,!1,!1);if("RSAES-PKCS1-V1_5"===e)e={decode:y};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={decode:function(t,e){return n.pkcs1.decode_rsa_oaep(e,t,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(e))throw new Error('Unsupported encryption scheme: "'+e+'".');e={decode:function(t){return t}}}return e.decode(i,l,!1)},sign:function(t,e){var r=!1;"string"==typeof e&&(e=e.toUpperCase()),void 0===e||"RSASSA-PKCS1-V1_5"===e?(e={encode:p},r=1):"NONE"!==e&&"NULL"!==e&&null!==e||(e={encode:function(){return t}},r=1);var n=e.encode(t,l.n.bitLength());return c.rsa.encrypt(n,l,r)}};return l},c.wrapRsaPrivateKey=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(c.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(t).getBytes())])},c.privateKeyFromAsn1=function(t){var e,r,s,a,u,f,d,p,m={},g=[];if(o.validate(t,l,m,g)&&(t=o.fromDer(n.util.createBuffer(m.privateKey))),!o.validate(t,h,m={},g=[])){var y=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw y.errors=g,y}return e=n.util.createBuffer(m.privateKeyModulus).toHex(),r=n.util.createBuffer(m.privateKeyPublicExponent).toHex(),s=n.util.createBuffer(m.privateKeyPrivateExponent).toHex(),a=n.util.createBuffer(m.privateKeyPrime1).toHex(),u=n.util.createBuffer(m.privateKeyPrime2).toHex(),f=n.util.createBuffer(m.privateKeyExponent1).toHex(),d=n.util.createBuffer(m.privateKeyExponent2).toHex(),p=n.util.createBuffer(m.privateKeyCoefficient).toHex(),c.setRsaPrivateKey(new i(e,16),new i(r,16),new i(s,16),new i(a,16),new i(u,16),new i(f,16),new i(d,16),new i(p,16))},c.privateKeyToAsn1=c.privateKeyToRSAPrivateKey=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.e)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.d)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.p)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.q)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.dP)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.dQ)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.qInv))])},c.publicKeyFromAsn1=function(t){var e={},r=[];if(o.validate(t,d,e,r)){var s,a=o.derToOid(e.publicKeyOid);if(a!==c.oids.rsaEncryption)throw(s=new Error("Cannot read public key. Unknown OID.")).oid=a,s;t=e.rsaPublicKey}if(!o.validate(t,f,e,r=[]))throw(s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,s;var u=n.util.createBuffer(e.publicKeyModulus).toHex(),l=n.util.createBuffer(e.publicKeyExponent).toHex();return c.setRsaPublicKey(new i(u,16),new i(l,16))},c.publicKeyToAsn1=c.publicKeyToSubjectPublicKeyInfo=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(c.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,[c.publicKeyToRSAPublicKey(t)])])},c.publicKeyToRSAPublicKey=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.e))])}},67417:function(t,e,r){var n=r(63170);r(15253),r(57395);var i=t.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){o||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),o=!0);var t=null,e=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(s,o){"utf8"===o&&(s=n.util.encodeUtf8(s));var c=s.length;i.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=c[1],c[1]=c[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,c[0]=c[1]/4294967296>>>0;return e.putBytes(s),a(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var o,c=n.util.createBuffer();c.putBytes(e.bytes()),c.putBytes(s.substr(0,i.blockLength-(i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1)));for(var u=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)c.putInt32((u+=(o=8*i.fullMessageLength[l+1])/4294967296>>>0)>>>0),u=o>>>0;c.putInt32(u);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};a(h,r,c);var f=n.util.createBuffer();return f.putInt32(h.h0),f.putInt32(h.h1),f.putInt32(h.h2),f.putInt32(h.h3),f.putInt32(h.h4),f},i};var s=null,o=!1;function a(t,e,r){for(var n,i,s,o,a,c,u,l=r.length();l>=64;){for(i=t.h0,s=t.h1,o=t.h2,a=t.h3,c=t.h4,u=0;u<16;++u)n=r.getInt32(),e[u]=n,n=(i<<5|i>>>27)+(a^s&(o^a))+c+1518500249+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<20;++u)e[u]=n=(n=e[u-3]^e[u-8]^e[u-14]^e[u-16])<<1|n>>>31,n=(i<<5|i>>>27)+(a^s&(o^a))+c+1518500249+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<32;++u)e[u]=n=(n=e[u-3]^e[u-8]^e[u-14]^e[u-16])<<1|n>>>31,n=(i<<5|i>>>27)+(s^o^a)+c+1859775393+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<40;++u)e[u]=n=(n=e[u-6]^e[u-16]^e[u-28]^e[u-32])<<2|n>>>30,n=(i<<5|i>>>27)+(s^o^a)+c+1859775393+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<60;++u)e[u]=n=(n=e[u-6]^e[u-16]^e[u-28]^e[u-32])<<2|n>>>30,n=(i<<5|i>>>27)+(s&o|a&(s^o))+c+2400959708+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<80;++u)e[u]=n=(n=e[u-6]^e[u-16]^e[u-28]^e[u-32])<<2|n>>>30,n=(i<<5|i>>>27)+(s^o^a)+c+3395469782+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+o|0,t.h3=t.h3+a|0,t.h4=t.h4+c|0,l-=64}}},59940:function(t,e,r){var n=r(63170);r(15253),r(57395);var i=t.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){o||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=!0);var t=null,e=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(s,o){"utf8"===o&&(s=n.util.encodeUtf8(s));var a=s.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=a[1],a[1]=a[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(s),c(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var o,a=n.util.createBuffer();a.putBytes(e.bytes()),a.putBytes(s.substr(0,i.blockLength-(i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1)));for(var u=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)a.putInt32((u+=(o=8*i.fullMessageLength[l+1])/4294967296>>>0)>>>0),u=o>>>0;a.putInt32(u);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};c(h,r,a);var f=n.util.createBuffer();return f.putInt32(h.h0),f.putInt32(h.h1),f.putInt32(h.h2),f.putInt32(h.h3),f.putInt32(h.h4),f.putInt32(h.h5),f.putInt32(h.h6),f.putInt32(h.h7),f},i};var s=null,o=!1,a=null;function c(t,e,r){for(var n,i,s,o,c,u,l,h,f,d,p,m,g=r.length();g>=64;){for(o=0;o<16;++o)e[o]=r.getInt32();for(;o<64;++o)e[o]=(n=((n=e[o-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10)+e[o-7]+(i=((i=e[o-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)+e[o-16]|0;for(c=t.h0,u=t.h1,l=t.h2,h=t.h3,f=t.h4,d=t.h5,p=t.h6,m=t.h7,o=0;o<64;++o)s=c&u|l&(c^u),n=m+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(p^f&(d^p))+a[o]+e[o],m=p,p=d,d=f,f=h+n>>>0,h=l,l=u,u=c,c=n+(i=((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+s)>>>0;t.h0=t.h0+c|0,t.h1=t.h1+u|0,t.h2=t.h2+l|0,t.h3=t.h3+h|0,t.h4=t.h4+f|0,t.h5=t.h5+d|0,t.h6=t.h6+p|0,t.h7=t.h7+m|0,g-=64}}},50375:function(t,e,r){var n=r(63170);r(15253),r(57395);var i=t.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var s=n.sha384=n.sha512.sha384=n.sha512.sha384||{};s.create=function(){return i.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=s,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,i.create=function(t){if(a||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),128),c=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(u={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],u["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],u["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],u["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],a=!0),void 0===t&&(t="SHA-512"),!(t in u))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=u[t],r=null,i=n.util.createBuffer(),s=new Array(80),h=0;h<80;++h)s[h]=new Array(2);var f=64;switch(t){case"SHA-384":f=48;break;case"SHA-512/256":f=32;break;case"SHA-512/224":f=28}var d={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:f,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){d.messageLength=0,d.fullMessageLength=d.messageLength128=[];for(var t=d.messageLengthSize/4,s=0;s<t;++s)d.fullMessageLength.push(0);for(i=n.util.createBuffer(),r=new Array(e.length),s=0;s<e.length;++s)r[s]=e[s].slice(0);return d}};return d.start(),d.update=function(t,e){"utf8"===e&&(t=n.util.encodeUtf8(t));var o=t.length;d.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=d.fullMessageLength.length-1;a>=0;--a)d.fullMessageLength[a]+=o[1],o[1]=o[0]+(d.fullMessageLength[a]/4294967296>>>0),d.fullMessageLength[a]=d.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return i.putBytes(t),l(r,s,i),(i.read>2048||0===i.length())&&i.compact(),d},d.digest=function(){var e,a=n.util.createBuffer();a.putBytes(i.bytes()),a.putBytes(o.substr(0,d.blockLength-(d.fullMessageLength[d.fullMessageLength.length-1]+d.messageLengthSize&d.blockLength-1)));for(var c=8*d.fullMessageLength[0],u=0;u<d.fullMessageLength.length-1;++u)a.putInt32((c+=(e=8*d.fullMessageLength[u+1])/4294967296>>>0)>>>0),c=e>>>0;a.putInt32(c);var h=new Array(r.length);for(u=0;u<r.length;++u)h[u]=r[u].slice(0);l(h,s,a);var f,p=n.util.createBuffer();for(f="SHA-512"===t?h.length:"SHA-384"===t?h.length-2:h.length-4,u=0;u<f;++u)p.putInt32(h[u][0]),u===f-1&&"SHA-512/224"===t||p.putInt32(h[u][1]);return p},d};var o=null,a=!1,c=null,u=null;function l(t,e,r){for(var n,i,s,o,a,u,l,h,f,d,p,m,g,y,v,b,_,w,S,E,C,k,A,x,T,I,R,P=r.length();P>=128;){for(C=0;C<16;++C)e[C][0]=r.getInt32()>>>0,e[C][1]=r.getInt32()>>>0;for(;C<80;++C)i=(((k=(x=e[C-2])[0])<<13|(A=x[1])>>>19)^(A<<3|k>>>29)^(k<<26|A>>>6))>>>0,e[C][0]=(n=((k>>>19|A<<13)^(A>>>29|k<<3)^k>>>6)>>>0)+(T=e[C-7])[0]+(s=(((k=(I=e[C-15])[0])>>>1|(A=I[1])<<31)^(k>>>8|A<<24)^k>>>7)>>>0)+(R=e[C-16])[0]+((A=i+T[1]+(o=((k<<31|A>>>1)^(k<<24|A>>>8)^(k<<25|A>>>7))>>>0)+R[1])/4294967296>>>0)>>>0,e[C][1]=A>>>0;for(a=t[0][0],u=t[0][1],l=t[1][0],h=t[1][1],f=t[2][0],d=t[2][1],p=t[3][0],m=t[3][1],g=t[4][0],y=t[4][1],v=t[5][0],b=t[5][1],_=t[6][0],w=t[6][1],S=t[7][0],E=t[7][1],C=0;C<80;++C)n=S+(((g>>>14|y<<18)^(g>>>18|y<<14)^(y>>>9|g<<23))>>>0)+((_^g&(v^_))>>>0)+c[C][0]+e[C][0]+((A=E+(((g<<18|y>>>14)^(g<<14|y>>>18)^(y<<23|g>>>9))>>>0)+((w^y&(b^w))>>>0)+c[C][1]+e[C][1])/4294967296>>>0)>>>0,i=A>>>0,s=(((a>>>28|u<<4)^(u>>>2|a<<30)^(u>>>7|a<<25))>>>0)+((a&l|f&(a^l))>>>0)+((A=(((a<<4|u>>>28)^(u<<30|a>>>2)^(u<<25|a>>>7))>>>0)+((u&h|d&(u^h))>>>0))/4294967296>>>0)>>>0,o=A>>>0,S=_,E=w,_=v,w=b,v=g,b=y,g=p+n+((A=m+i)/4294967296>>>0)>>>0,y=A>>>0,p=f,m=d,f=l,d=h,l=a,h=u,a=n+s+((A=i+o)/4294967296>>>0)>>>0,u=A>>>0;t[0][0]=t[0][0]+a+((A=t[0][1]+u)/4294967296>>>0)>>>0,t[0][1]=A>>>0,t[1][0]=t[1][0]+l+((A=t[1][1]+h)/4294967296>>>0)>>>0,t[1][1]=A>>>0,t[2][0]=t[2][0]+f+((A=t[2][1]+d)/4294967296>>>0)>>>0,t[2][1]=A>>>0,t[3][0]=t[3][0]+p+((A=t[3][1]+m)/4294967296>>>0)>>>0,t[3][1]=A>>>0,t[4][0]=t[4][0]+g+((A=t[4][1]+y)/4294967296>>>0)>>>0,t[4][1]=A>>>0,t[5][0]=t[5][0]+v+((A=t[5][1]+b)/4294967296>>>0)>>>0,t[5][1]=A>>>0,t[6][0]=t[6][0]+_+((A=t[6][1]+w)/4294967296>>>0)>>>0,t[6][1]=A>>>0,t[7][0]=t[7][0]+S+((A=t[7][1]+E)/4294967296>>>0)>>>0,t[7][1]=A>>>0,P-=128}}},57395:function(t,e,r){var n=r(63170),i=r(25457),s=t.exports=n.util=n.util||{};function o(t){if(8!==t&&16!==t&&24!==t&&32!==t)throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}function a(t){if(this.data="",this.read=0,"string"==typeof t)this.data=t;else if(s.isArrayBuffer(t)||s.isArrayBufferView(t))if("undefined"!=typeof Buffer&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(n){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof a||"object"==typeof t&&"string"==typeof t.data&&"number"==typeof t.read)&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}!function(){if("undefined"!=typeof process&&process.nextTick&&!process.browser)return s.nextTick=process.nextTick,void(s.setImmediate="function"==typeof setImmediate?setImmediate:s.nextTick);if("function"==typeof setImmediate)return s.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(s.nextTick=function(t){return setImmediate(t)});if(s.setImmediate=function(t){setTimeout(t,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var t="forge.setImmediate",e=[];s.setImmediate=function(r){e.push(r),1===e.length&&window.postMessage(t,"*")},window.addEventListener("message",function(r){if(r.source===window&&r.data===t){r.stopPropagation();var n=e.slice();e.length=0,n.forEach(function(t){t()})}},!0)}if("undefined"!=typeof MutationObserver){var r=Date.now(),n=!0,i=document.createElement("div");e=[],new MutationObserver(function(){var t=e.slice();e.length=0,t.forEach(function(t){t()})}).observe(i,{attributes:!0});var o=s.setImmediate;s.setImmediate=function(t){Date.now()-r>15?(r=Date.now(),o(t)):(e.push(t),1===e.length&&i.setAttribute("a",n=!n))}}s.nextTick=s.setImmediate}(),s.isNodejs="undefined"!=typeof process&&process.versions&&process.versions.node,s.globalScope=s.isNodejs?global:"undefined"==typeof self?window:self,s.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s.isArrayBuffer=function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer},s.isArrayBufferView=function(t){return t&&s.isArrayBuffer(t.buffer)&&void 0!==t.byteLength},s.ByteBuffer=a,s.ByteStringBuffer=a,s.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))},s.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this},s.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this},s.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(s.encodeUtf8(t))},s.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},s.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},s.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},s.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))},s.ByteStringBuffer.prototype.putInt=function(t,e){o(e);var r="";do{e-=8,r+=String.fromCharCode(t>>e&255)}while(e>0);return this.putBytes(r)},s.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},s.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t},s.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t},s.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t},s.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t},s.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t},s.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t},s.ByteStringBuffer.prototype.getInt=function(t){o(t);var e=0;do{e=(e<<8)+this.data.charCodeAt(this.read++),t-=8}while(t>0);return e},s.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},s.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},s.ByteStringBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},s.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)},s.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var t=s.createBuffer(this.data);return t.read=this.read,t},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())},s.DataBuffer=function(t,e){this.read=(e=e||{}).readOffset||0,this.growSize=e.growSize||1024;var r=s.isArrayBuffer(t),n=s.isArrayBufferView(t);if(r||n)return this.data=r?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),void(this.write="writeOffset"in e?e.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=t&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)},s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this},s.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this},s.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this},s.DataBuffer.prototype.putBytes=function(t,e){if(s.isArrayBufferView(t)){var r=(n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(s.isArrayBuffer(t)){var n=new Uint8Array(t);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(t instanceof s.DataBuffer||"object"==typeof t&&"number"==typeof t.read&&"number"==typeof t.write&&s.isArrayBufferView(t.data))return n=new Uint8Array(t.data.byteLength,t.read,t.length()),this.accommodate(n.byteLength),new Uint8Array(t.data.byteLength,this.write).set(n),this.write+=n.byteLength,this;if(t instanceof s.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary","string"==typeof t){var i;if("hex"===e)return this.accommodate(Math.ceil(t.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(t,i,this.write),this;if("base64"===e)return this.accommodate(3*Math.ceil(t.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(t,i,this.write),this;if("utf8"===e&&(t=s.encodeUtf8(t),e="binary"),"binary"===e||"raw"===e)return this.accommodate(t.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(i),this;if("utf16"===e)return this.accommodate(2*t.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)},s.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this},s.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")},s.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(t,e){o(e),this.accommodate(e/8);do{e-=8,this.data.setInt8(this.write++,t>>e&255)}while(e>0);return this},s.DataBuffer.prototype.putSignedInt=function(t,e){return o(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t},s.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t},s.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t},s.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t},s.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t},s.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t},s.DataBuffer.prototype.getInt=function(t){o(t);var e=0;do{e=(e<<8)+this.data.getInt8(this.read++),t-=8}while(t>0);return e},s.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},s.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},s.DataBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},s.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)},s.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t},s.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if("binary"===(t=t||"utf8")||"raw"===t)return s.binary.raw.encode(e);if("hex"===t)return s.binary.hex.encode(e);if("base64"===t)return s.binary.base64.encode(e);if("utf8"===t)return s.text.utf8.decode(e);if("utf16"===t)return s.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)},s.createBuffer=function(t,e){return e=e||"raw",void 0!==t&&"utf8"===e&&(t=s.encodeUtf8(t)),new s.ByteBuffer(t)},s.fillString=function(t,e){for(var r="";e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return r},s.xorBytes=function(t,e,r){for(var n="",i="",s="",o=0,a=0;r>0;--r,++o)i=t.charCodeAt(o)^e.charCodeAt(o),a>=10&&(n+=s,s="",a=0),s+=String.fromCharCode(i),++a;return n+s},s.hexToBytes=function(t){var e="",r=0;for(!0&t.length&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},s.bytesToHex=function(t){return s.createBuffer(t).toHex()},s.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)};var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],l="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(t,e){for(var r,n,i,s="",o="",a=0;a<t.length;)r=t.charCodeAt(a++),n=t.charCodeAt(a++),i=t.charCodeAt(a++),s+=c.charAt(r>>2),s+=c.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=c.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":c.charAt(63&i)),e&&s.length>e&&(o+=s.substr(0,e)+"\r\n",s=s.substr(e));return o+s},s.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e,r,n,i,s="",o=0;o<t.length;)e=u[t.charCodeAt(o++)-43],r=u[t.charCodeAt(o++)-43],n=u[t.charCodeAt(o++)-43],i=u[t.charCodeAt(o++)-43],s+=String.fromCharCode(e<<2|r>>4),64!==n&&(s+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(s+=String.fromCharCode((3&n)<<6|i)));return s},s.encodeUtf8=function(t){return unescape(encodeURIComponent(t))},s.decodeUtf8=function(t){return decodeURIComponent(escape(t))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:i.encode,decode:i.decode}},s.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)},s.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2)));var i=0,s=r=r||0;for(1&t.length&&(i=1,n[s++]=parseInt(t[0],16));i<t.length;i+=2)n[s++]=parseInt(t.substr(i,2),16);return e?s-r:n},s.binary.base64.encode=function(t,e){for(var r,n,i,s="",o="",a=0;a<t.byteLength;)r=t[a++],n=t[a++],i=t[a++],s+=c.charAt(r>>2),s+=c.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=c.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":c.charAt(63&i)),e&&s.length>e&&(o+=s.substr(0,e)+"\r\n",s=s.substr(e));return o+s},s.binary.base64.decode=function(t,e,r){var n,i,s,o,a=e;a||(a=new Uint8Array(3*Math.ceil(t.length/4))),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var c=0,l=r=r||0;c<t.length;)n=u[t.charCodeAt(c++)-43],i=u[t.charCodeAt(c++)-43],s=u[t.charCodeAt(c++)-43],o=u[t.charCodeAt(c++)-43],a[l++]=n<<2|i>>4,64!==s&&(a[l++]=(15&i)<<4|s>>2,64!==o&&(a[l++]=(3&s)<<6|o));return e?l-r:a.subarray(0,l)},s.binary.base58.encode=function(t,e){return s.binary.baseN.encode(t,l,e)},s.binary.base58.decode=function(t,e){return s.binary.baseN.decode(t,l,e)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(t,e,r){t=s.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n},s.text.utf8.decode=function(t){return s.decodeUtf8(String.fromCharCode.apply(null,t))},s.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(2*t.length));for(var i=new Uint16Array(n.buffer),s=r=r||0,o=r,a=0;a<t.length;++a)i[o++]=t.charCodeAt(a),s+=2;return e?s-r:n},s.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},s.deflate=function(t,e,r){if(e=s.decode64(t.deflate(s.encode64(e)).rval),r){var n=2;32&e.charCodeAt(1)&&(n=6),e=e.substring(n,e.length-4)}return e},s.inflate=function(t,e,r){var n=t.inflate(s.encode64(e)).rval;return null===n?null:s.decode64(n)};var h=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(null===r?n=t.removeItem(e):(r=s.encode64(JSON.stringify(r)),n=t.setItem(e,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},f=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(s.decode64(r))),r},d=function(t,e,r,n){var i=f(t,e);null===i&&(i={}),i[r]=n,h(t,e,i)},p=function(t,e,r){var n=f(t,e);return null!==n&&(n=r in n?n[r]:null),n},m=function(t,e,r){var n=f(t,e);if(null!==n&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),h(t,e,n)}},g=function(t,e){h(t,e,null)},y=function(t,e,r){var n,i=null;void 0===r&&(r=["web","flash"]);var s=!1,o=null;for(var a in r){n=r[a];try{if("flash"===n||"both"===n){if(null===e[0])throw new Error("Flash local storage not available.");i=t.apply(this,e),s="flash"===n}"web"!==n&&"both"!==n||(e[0]=localStorage,i=t.apply(this,e),s=!0)}catch(c){o=c}if(s)break}if(!s)throw o;return i};s.setItem=function(t,e,r,n,i){y(d,arguments,i)},s.getItem=function(t,e,r,n){return y(p,arguments,n)},s.removeItem=function(t,e,r,n){y(m,arguments,n)},s.clearItems=function(t,e,r){y(g,arguments,r)},s.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=null===r?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(80!==n.port&&"http"===n.scheme||443!==n.port&&"https"===n.scheme)&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var v=null;s.getQueryVariables=function(t){var e,r=function(t){for(var e={},r=t.split("&"),n=0;n<r.length;n++){var i,s,o=r[n].indexOf("=");o>0?(i=r[n].substring(0,o),s=r[n].substring(o+1)):(i=r[n],s=null),i in e||(e[i]=[]),i in Object.prototype||null===s||e[i].push(unescape(s))}return e};return void 0===t?(null===v&&(v="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),e=v):e=r(t),e},s.parseFragment=function(t){var e=t,r="",n=t.indexOf("?");n>0&&(e=t.substring(0,n),r=t.substring(n+1));var i=e.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:e,queryString:r,path:i,query:""===r?{}:s.getQueryVariables(r)}},s.makeRequest=function(t){var e=s.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(t){return void 0===t?e.path:e.path[t]},getQuery:function(t,r){var n;return void 0===t?n=e.query:(n=e.query[t])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(t,e){var n=r.getQuery(t);return n?n[n.length-1]:e}};return r},s.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return t+(n.length>0?"?"+n:"")+((r=r||"").length>0?"#"+r:"")},s.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},s.format=function(t){for(var e,r,n=/%./g,i=0,s=[],o=0;e=n.exec(t);){(r=t.substring(o,n.lastIndex-2)).length>0&&s.push(r),o=n.lastIndex;var a=e[0][1];switch(a){case"s":case"o":s.push(i<arguments.length?arguments[1+i++]:"<?>");break;case"%":s.push("%");break;default:s.push("<%"+a+"?>")}}return s.push(t.substring(o)),s.join("")},s.formatNumber=function(t,e,r,n){var i=t,s=isNaN(e=Math.abs(e))?2:e,o=void 0===r?",":r,a=void 0===n?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",l=u.length>3?u.length%3:0;return c+(l?u.substr(0,l)+a:"")+u.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+a)+(s?o+Math.abs(i-u).toFixed(s).slice(2):"")},s.formatSize=function(t){return t>=1073741824?s.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?s.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?s.formatNumber(t/1024,0)+" KiB":s.formatNumber(t,0)+" bytes"},s.bytesFromIP=function(t){return-1!==t.indexOf(".")?s.bytesFromIPv4(t):-1!==t.indexOf(":")?s.bytesFromIPv6(t):null},s.bytesFromIPv4=function(t){if(4!==(t=t.split(".")).length)return null;for(var e=s.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()},s.bytesFromIPv6=function(t){for(var e=0,r=2*(8-(t=t.split(":").filter(function(t){return 0===t.length&&++e,!0})).length+e),n=s.createBuffer(),i=0;i<8;++i)if(t[i]&&0!==t[i].length){var o=s.hexToBytes(t[i]);o.length<2&&n.putByte(0),n.putBytes(o)}else n.fillWithByte(0,r),r=0;return n.getBytes()},s.bytesToIP=function(t){return 4===t.length?s.bytesToIPv4(t):16===t.length?s.bytesToIPv6(t):null},s.bytesToIPv4=function(t){if(4!==t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")},s.bytesToIPv6=function(t){if(16!==t.length)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var o=s.bytesToHex(t[i]+t[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var a=r[r.length-1],c=e.length;a&&c===a.end+1?(a.end=c,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:c,end:c})}e.push(o)}if(r.length>0){var u=r[n];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),0===u.start&&e.unshift(""),7===u.end&&e.push(""))}return e.join(":")},s.estimateCores=function(t,e){if("function"==typeof t&&(e=t,t={}),t=t||{},"cores"in s&&!t.update)return e(null,s.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,e(null,s.cores);if("undefined"==typeof Worker)return s.cores=1,e(null,s.cores);if("undefined"==typeof Blob)return s.cores=2,e(null,s.cores);var r=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(t){for(var e=Date.now(),r=e+4;Date.now()<r;);self.postMessage({st:e,et:r})})}).toString(),")()"],{type:"application/javascript"}));!function t(n,i,o){if(0===i){var a=Math.floor(n.reduce(function(t,e){return t+e},0)/n.length);return s.cores=Math.max(1,a),URL.revokeObjectURL(r),e(null,s.cores)}!function(t,e){for(var n=[],i=[],s=0;s<t;++s){var o=new Worker(r);o.addEventListener("message",function(r){if(i.push(r.data),i.length===t){for(var s=0;s<t;++s)n[s].terminate();e(0,i)}}),n.push(o)}for(s=0;s<t;++s)n[s].postMessage(s)}(o,function(e,r){n.push(function(t,e){for(var r=[],n=0;n<t;++n)for(var i=e[n],s=r[n]=[],o=0;o<t;++o)if(n!==o){var a=e[o];(i.st>a.st&&i.st<a.et||a.st>i.st&&a.st<i.et)&&s.push(o)}return r.reduce(function(t,e){return Math.max(t,e.length)},0)}(o,r)),t(n,i-1,o)})}([],5,16)}},19913:function(t,e,r){var n=r(63170);r(2189),r(1258),r(96160),r(15253),r(41672),r(57551),r(72805),r(93766),r(284),r(57395);var i=n.asn1,s=t.exports=n.pki=n.pki||{},o=s.oids,a={};a.CN=o.commonName,a.commonName="CN",a.C=o.countryName,a.countryName="C",a.L=o.localityName,a.localityName="L",a.ST=o.stateOrProvinceName,a.stateOrProvinceName="ST",a.O=o.organizationName,a.organizationName="O",a.OU=o.organizationalUnitName,a.organizationalUnitName="OU",a.E=o.emailAddress,a.emailAddress="E";var c=n.pki.rsa.publicKeyValidator,u={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},l={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},h={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function f(t,e){"string"==typeof e&&(e={shortName:e});for(var r,n=null,i=0;null===n&&i<t.attributes.length;++i)r=t.attributes[i],(e.type&&e.type===r.type||e.name&&e.name===r.name||e.shortName&&e.shortName===r.shortName)&&(n=r);return n}s.RDNAttributesAsArray=function(t,e){for(var r,n,s,c=[],u=0;u<t.value.length;++u){r=t.value[u];for(var l=0;l<r.value.length;++l)(s={}).type=i.derToOid((n=r.value[l]).value[0].value),s.value=n.value[1].value,s.valueTagClass=n.value[1].type,s.type in o&&(s.name=o[s.type],s.name in a&&(s.shortName=a[s.name])),e&&(e.update(s.type),e.update(s.value)),c.push(s)}return c},s.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],c=i.derToOid(n.value[0].value),u=n.value[1].value,l=0;l<u.length;++l){var h={};if(h.type=c,h.value=u[l].value,h.valueTagClass=u[l].type,h.type in o&&(h.name=o[h.type],h.name in a&&(h.shortName=a[h.name])),h.type===o.extensionRequest){h.extensions=[];for(var f=0;f<h.value.length;++f)h.extensions.push(s.certificateExtensionFromAsn1(h.value[f]))}e.push(h)}return e};var d=function(t,e,r){var n={};if(t!==o["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:o.sha1},mgf:{algorithmOid:o.mgf1,hash:{algorithmOid:o.sha1}},saltLength:20});var s={},a=[];if(!i.validate(e,l,s,a)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=a,c}return void 0!==s.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=i.derToOid(s.hashOid)),void 0!==s.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=i.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=i.derToOid(s.maskGenHashOid)),void 0!==s.saltLength&&(n.saltLength=s.saltLength.charCodeAt(0)),n};function p(t){for(var e,r,s=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),o=t.attributes,a=0;a<o.length;++a){var c=(e=o[a]).value,u=i.Type.PRINTABLESTRING;"valueTagClass"in e&&(u=e.valueTagClass)===i.Type.UTF8&&(c=n.util.encodeUtf8(c)),r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,u,!1,c)])]),s.value.push(r)}return s}function m(t){for(var e,r=0;r<t.length;++r){if(void 0===(e=t[r]).name&&(e.type&&e.type in s.oids?e.name=s.oids[e.type]:e.shortName&&e.shortName in a&&(e.name=s.oids[a[e.shortName]])),void 0===e.type){if(!e.name||!(e.name in s.oids))throw(c=new Error("Attribute type not specified.")).attribute=e,c;e.type=s.oids[e.name]}if(void 0===e.shortName&&e.name&&e.name in a&&(e.shortName=a[e.name]),e.type===o.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=i.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var n=0;n<e.extensions.length;++n)e.value.push(s.certificateExtensionToAsn1(g(e.extensions[n])))}var c;if(void 0===e.value)throw(c=new Error("Attribute value not specified.")).attribute=e,c}}function g(t,e){if(e=e||{},void 0===t.name&&t.id&&t.id in s.oids&&(t.name=s.oids[t.id]),void 0===t.id){if(!t.name||!(t.name in s.oids))throw(w=new Error("Extension ID not specified.")).extension=t,w;t.id=s.oids[t.name]}if(void 0!==t.value)return t;if("keyUsage"===t.name){var r=0,a=0,c=0;t.digitalSignature&&(a|=128,r=7),t.nonRepudiation&&(a|=64,r=6),t.keyEncipherment&&(a|=32,r=5),t.dataEncipherment&&(a|=16,r=4),t.keyAgreement&&(a|=8,r=3),t.keyCertSign&&(a|=4,r=2),t.cRLSign&&(a|=2,r=1),t.encipherOnly&&(a|=1,r=0),t.decipherOnly&&(c|=128,r=7);var u=String.fromCharCode(r);0!==c?u+=String.fromCharCode(a)+String.fromCharCode(c):0!==a&&(u+=String.fromCharCode(a)),t.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,u)}else if("basicConstraints"===t.name)t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in t&&t.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.pathLenConstraint).getBytes()));else if("extKeyUsage"===t.name){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var l=t.value.value;for(var h in t)!0===t[h]&&(h in o?l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o[h]).getBytes())):-1!==h.indexOf(".")&&l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(h).getBytes())))}else if("nsCertType"===t.name)r=0,a=0,t.client&&(a|=128,r=7),t.server&&(a|=64,r=6),t.email&&(a|=32,r=5),t.objsign&&(a|=16,r=4),t.reserved&&(a|=8,r=3),t.sslCA&&(a|=4,r=2),t.emailCA&&(a|=2,r=1),t.objCA&&(a|=1,r=0),u=String.fromCharCode(r),0!==a&&(u+=String.fromCharCode(a)),t.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,u);else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var f=0;f<t.altNames.length;++f){if(u=(v=t.altNames[f]).value,7===v.type&&v.ip){if(null===(u=n.util.bytesFromIP(v.ip)))throw(w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=t,w}else 8===v.type&&(u=i.oidToDer(v.oid?i.oidToDer(v.oid):u));t.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,v.type,!1,u))}}else if("nsComment"===t.name&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=i.create(i.Class.UNIVERSAL,i.Type.IA5STRING,!1,t.comment)}else if("subjectKeyIdentifier"===t.name&&e.cert){var d=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=d.toHex(),t.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,d.getBytes())}else if("authorityKeyIdentifier"===t.name&&e.cert){if(t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),l=t.value.value,t.keyIdentifier){var m=!0===t.keyIdentifier?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;l.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,m))}if(t.authorityCertIssuer){var g=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[p(!0===t.authorityCertIssuer?e.cert.issuer:t.authorityCertIssuer)])];l.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,g))}if(t.serialNumber){var y=n.util.hexToBytes(!0===t.serialNumber?e.cert.serialNumber:t.serialNumber);l.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if("cRLDistributionPoints"===t.name){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),l=t.value.value;var v,b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),_=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(f=0;f<t.altNames.length;++f){if(u=(v=t.altNames[f]).value,7===v.type&&v.ip){if(null===(u=n.util.bytesFromIP(v.ip)))throw(w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=t,w}else 8===v.type&&(u=i.oidToDer(v.oid?i.oidToDer(v.oid):u));_.value.push(i.create(i.Class.CONTEXT_SPECIFIC,v.type,!1,u))}b.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[_])),l.push(b)}var w;if(void 0===t.value)throw(w=new Error("Extension value not specified.")).extension=t,w;return t}function y(t,e){switch(t){case o["RSASSA-PSS"]:var r=[];return void 0!==e.hash.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),void 0!==e.mgf.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),void 0!==e.saltLength&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,r);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}}function v(t){var e=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===t.attributes.length)return e;for(var r=t.attributes,s=0;s<r.length;++s){var o=r[s],a=o.value,c=i.Type.UTF8;"valueTagClass"in o&&(c=o.valueTagClass),c===i.Type.UTF8&&(a=n.util.encodeUtf8(a));var u=!1;"valueConstructed"in o&&(u=o.valueConstructed);var l=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,c,u,a)])]);e.value.push(l)}return e}s.certificateFromPem=function(t,e,r){var o=n.pem.decode(t)[0];if("CERTIFICATE"!==o.type&&"X509 CERTIFICATE"!==o.type&&"TRUSTED CERTIFICATE"!==o.type){var a=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw a.headerType=o.type,a}if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=i.fromDer(o.body,r);return s.certificateFromAsn1(c,e)},s.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:i.toDer(s.certificateToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},s.publicKeyFromPem=function(t){var e=n.pem.decode(t)[0];if("PUBLIC KEY"!==e.type&&"RSA PUBLIC KEY"!==e.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var o=i.fromDer(e.body);return s.publicKeyFromAsn1(o)},s.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:i.toDer(s.publicKeyToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},s.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:i.toDer(s.publicKeyToRSAPublicKey(t)).getBytes()};return n.pem.encode(r,{maxline:e})},s.getPublicKeyFingerprint=function(t,e){var r,o=(e=e||{}).md||n.md.sha1.create();switch(e.type||"RSAPublicKey"){case"RSAPublicKey":r=i.toDer(s.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":r=i.toDer(s.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}o.start(),o.update(r);var a=o.digest();if("hex"===e.encoding){var c=a.toHex();return e.delimiter?c.match(/.{2}/g).join(e.delimiter):c}if("binary"===e.encoding)return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".');return a},s.certificationRequestFromPem=function(t,e,r){var o=n.pem.decode(t)[0];if("CERTIFICATE REQUEST"!==o.type){var a=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw a.headerType=o.type,a}if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var c=i.fromDer(o.body,r);return s.certificationRequestFromAsn1(c,e)},s.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:i.toDer(s.certificationRequestToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},s.createCertificate=function(){var t={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return f(t.issuer,e)},t.issuer.addField=function(e){m([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return f(t.subject,e)},t.subject.addField=function(e){m([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){m(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){m(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)g(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){"string"==typeof e&&(e={name:e});for(var r,n=null,i=0;null===n&&i<t.extensions.length;++i)r=t.extensions[i],(e.id&&r.id===e.id||e.name&&r.name===e.name)&&(n=r);return n},t.sign=function(e,r){t.md=r||n.md.sha1.create();var a=o[t.md.algorithm+"WithRSAEncryption"];if(!a){var c=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw c.algorithm=t.md.algorithm,c}t.signatureOid=t.siginfo.algorithmOid=a,t.tbsCertificate=s.getTBSCertificate(t);var u=i.toDer(t.tbsCertificate);t.md.update(u.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var a=e.issuer,c=t.subject;throw(m=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=a.attributes,m.actualIssuer=c.attributes,m}var u=e.md;if(null===u){if(e.signatureOid in o)switch(o[e.signatureOid]){case"sha1WithRSAEncryption":u=n.md.sha1.create();break;case"md5WithRSAEncryption":u=n.md.md5.create();break;case"sha256WithRSAEncryption":u=n.md.sha256.create();break;case"sha384WithRSAEncryption":u=n.md.sha384.create();break;case"sha512WithRSAEncryption":u=n.md.sha512.create();break;case"RSASSA-PSS":u=n.md.sha256.create()}if(null===u)throw(m=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=e.signatureOid,m;var l=e.tbsCertificate||s.getTBSCertificate(e),h=i.toDer(l);u.update(h.getBytes())}if(null!==u){var f;switch(e.signatureOid){case o.sha1WithRSAEncryption:f=void 0;break;case o["RSASSA-PSS"]:var d,p,m;if(void 0===(d=o[e.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[d])throw(m=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,m.name=d,m;if(void 0===(p=o[e.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[p])throw(m=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,m.name=p,m;if(p=n.mgf[p].create(n.md[d].create()),void 0===(d=o[e.signatureParameters.hash.algorithmOid])||void 0===n.md[d])throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:d};f=n.pss.create(n.md[d].create(),p,e.signatureParameters.saltLength)}r=t.publicKey.verify(u.digest().getBytes(),e.signature,f)}return r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var s,o;r=!0;for(var a=0;r&&a<n.attributes.length;++a)(s=n.attributes[a]).type===(o=i.attributes[a]).type&&s.value===o.value||(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=o.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var i=t.extensions[r];if(i.id===e){var s=t.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(i.subjectKeyIdentifier)===s}}return!1},t},s.certificateFromAsn1=function(t,e){var r={},a=[];if(!i.validate(t,u,r,a))throw(p=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=a,p;if(i.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=s.createCertificate();c.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=n.util.createBuffer(r.certSerialNumber);c.serialNumber=l.toHex(),c.signatureOid=n.asn1.derToOid(r.certSignatureOid),c.signatureParameters=d(c.signatureOid,r.certSignatureParams,!0),c.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),c.siginfo.parameters=d(c.siginfo.algorithmOid,r.certinfoSignatureParams,!1),c.signature=r.certSignature;var h=[];if(void 0!==r.certValidity1UTCTime&&h.push(i.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&h.push(i.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&h.push(i.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&h.push(i.generalizedTimeToDate(r.certValidity4GeneralizedTime)),h.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(h.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=h[0],c.validity.notAfter=h[1],c.tbsCertificate=r.tbsCertificate,e){var p;if(c.md=null,c.signatureOid in o)switch(o[c.signatureOid]){case"sha1WithRSAEncryption":c.md=n.md.sha1.create();break;case"md5WithRSAEncryption":c.md=n.md.md5.create();break;case"sha256WithRSAEncryption":c.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=n.md.sha512.create();break;case"RSASSA-PSS":c.md=n.md.sha256.create()}if(null===c.md)throw(p=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=c.signatureOid,p;var g=i.toDer(c.tbsCertificate);c.md.update(g.getBytes())}var y=n.md.sha1.create();c.issuer.getField=function(t){return f(c.issuer,t)},c.issuer.addField=function(t){m([t]),c.issuer.attributes.push(t)},c.issuer.attributes=s.RDNAttributesAsArray(r.certIssuer,y),r.certIssuerUniqueId&&(c.issuer.uniqueId=r.certIssuerUniqueId),c.issuer.hash=y.digest().toHex();var v=n.md.sha1.create();return c.subject.getField=function(t){return f(c.subject,t)},c.subject.addField=function(t){m([t]),c.subject.attributes.push(t)},c.subject.attributes=s.RDNAttributesAsArray(r.certSubject,v),r.certSubjectUniqueId&&(c.subject.uniqueId=r.certSubjectUniqueId),c.subject.hash=v.digest().toHex(),c.extensions=r.certExtensions?s.certificateExtensionsFromAsn1(r.certExtensions):[],c.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),c},s.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(s.certificateExtensionFromAsn1(n.value[i]));return e},s.certificateExtensionFromAsn1=function(t){var e={};if(e.id=i.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===i.Type.BOOLEAN?(e.critical=0!==t.value[1].value.charCodeAt(0),e.value=t.value[2].value):e.value=t.value[1].value,e.id in o)if(e.name=o[e.id],"keyUsage"===e.name){var r=0,s=0;(a=i.fromDer(e.value)).value.length>1&&(r=a.value.charCodeAt(1),s=a.value.length>2?a.value.charCodeAt(2):0),e.digitalSignature=128==(128&r),e.nonRepudiation=64==(64&r),e.keyEncipherment=32==(32&r),e.dataEncipherment=16==(16&r),e.keyAgreement=8==(8&r),e.keyCertSign=4==(4&r),e.cRLSign=2==(2&r),e.encipherOnly=1==(1&r),e.decipherOnly=128==(128&s)}else if("basicConstraints"===e.name){var a=i.fromDer(e.value);e.cA=a.value.length>0&&a.value[0].type===i.Type.BOOLEAN&&0!==a.value[0].value.charCodeAt(0);var c=null;a.value.length>0&&a.value[0].type===i.Type.INTEGER?c=a.value[0].value:a.value.length>1&&(c=a.value[1].value),null!==c&&(e.pathLenConstraint=i.derToInteger(c))}else if("extKeyUsage"===e.name){a=i.fromDer(e.value);for(var u=0;u<a.value.length;++u){var l=i.derToOid(a.value[u].value);l in o?e[o[l]]=!0:e[l]=!0}}else if("nsCertType"===e.name)r=0,(a=i.fromDer(e.value)).value.length>1&&(r=a.value.charCodeAt(1)),e.client=128==(128&r),e.server=64==(64&r),e.email=32==(32&r),e.objsign=16==(16&r),e.reserved=8==(8&r),e.sslCA=4==(4&r),e.emailCA=2==(2&r),e.objCA=1==(1&r);else if("subjectAltName"===e.name||"issuerAltName"===e.name){var h;e.altNames=[],a=i.fromDer(e.value);for(var f=0;f<a.value.length;++f){var d={type:(h=a.value[f]).type,value:h.value};switch(e.altNames.push(d),h.type){case 1:case 2:case 6:break;case 7:d.ip=n.util.bytesToIP(h.value);break;case 8:d.oid=i.derToOid(h.value)}}}else"subjectKeyIdentifier"===e.name&&(a=i.fromDer(e.value),e.subjectKeyIdentifier=n.util.bytesToHex(a.value));return e},s.certificationRequestFromAsn1=function(t,e){var r={},a=[];if(!i.validate(t,h,r,a))throw(u=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=a,u;if(i.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=s.createCertificationRequest();if(c.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,c.signatureOid=n.asn1.derToOid(r.csrSignatureOid),c.signatureParameters=d(c.signatureOid,r.csrSignatureParams,!0),c.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),c.siginfo.parameters=d(c.siginfo.algorithmOid,r.csrSignatureParams,!1),c.signature=r.csrSignature,c.certificationRequestInfo=r.certificationRequestInfo,e){var u;if(c.md=null,c.signatureOid in o)switch(o[c.signatureOid]){case"sha1WithRSAEncryption":c.md=n.md.sha1.create();break;case"md5WithRSAEncryption":c.md=n.md.md5.create();break;case"sha256WithRSAEncryption":c.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=n.md.sha512.create();break;case"RSASSA-PSS":c.md=n.md.sha256.create()}if(null===c.md)throw(u=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=c.signatureOid,u;var l=i.toDer(c.certificationRequestInfo);c.md.update(l.getBytes())}var p=n.md.sha1.create();return c.subject.getField=function(t){return f(c.subject,t)},c.subject.addField=function(t){m([t]),c.subject.attributes.push(t)},c.subject.attributes=s.RDNAttributesAsArray(r.certificationRequestInfoSubject,p),c.subject.hash=p.digest().toHex(),c.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),c.getAttribute=function(t){return f(c,t)},c.addAttribute=function(t){m([t]),c.attributes.push(t)},c.attributes=s.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),c},s.createCertificationRequest=function(){var t={version:0,signatureOid:null,signature:null,siginfo:{}};return t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return f(t.subject,e)},t.subject.addField=function(e){m([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return f(t,e)},t.addAttribute=function(e){m([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){m(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){m(e),t.attributes=e},t.sign=function(e,r){t.md=r||n.md.sha1.create();var a=o[t.md.algorithm+"WithRSAEncryption"];if(!a){var c=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw c.algorithm=t.md.algorithm,c}t.signatureOid=t.siginfo.algorithmOid=a,t.certificationRequestInfo=s.getCertificationRequestInfo(t);var u=i.toDer(t.certificationRequestInfo);t.md.update(u.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(null===r){if(t.signatureOid in o)switch(o[t.signatureOid]){case"sha1WithRSAEncryption":r=n.md.sha1.create();break;case"md5WithRSAEncryption":r=n.md.md5.create();break;case"sha256WithRSAEncryption":r=n.md.sha256.create();break;case"sha384WithRSAEncryption":r=n.md.sha384.create();break;case"sha512WithRSAEncryption":r=n.md.sha512.create();break;case"RSASSA-PSS":r=n.md.sha256.create()}if(null===r)throw(f=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=t.signatureOid,f;var a=t.certificationRequestInfo||s.getCertificationRequestInfo(t),c=i.toDer(a);r.update(c.getBytes())}if(null!==r){var u;switch(t.signatureOid){case o.sha1WithRSAEncryption:break;case o["RSASSA-PSS"]:var l,h,f;if(void 0===(l=o[t.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[l])throw(f=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,f.name=l,f;if(void 0===(h=o[t.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[h])throw(f=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,f.name=h,f;if(h=n.mgf[h].create(n.md[l].create()),void 0===(l=o[t.signatureParameters.hash.algorithmOid])||void 0===n.md[l])throw(f=new Error("Unsupported RSASSA-PSS hash function.")).oid=t.signatureParameters.hash.algorithmOid,f.name=l,f;u=n.pss.create(n.md[l].create(),h,t.signatureParameters.saltLength)}e=t.publicKey.verify(r.digest().getBytes(),t.signature,u)}return e},t};var b=new Date("1950-01-01T00:00:00Z"),_=new Date("2050-01-01T00:00:00Z");function w(t){return t>=b&&t<_?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(t)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(t))}s.getTBSCertificate=function(t){var e=w(t.validity.notBefore),r=w(t.validity.notAfter),o=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.siginfo.algorithmOid).getBytes()),y(t.siginfo.algorithmOid,t.siginfo.parameters)]),p(t.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[e,r]),p(t.subject),s.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&o.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.issuer.uniqueId)])),t.subject.uniqueId&&o.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.subject.uniqueId)])),t.extensions.length>0&&o.value.push(s.certificateExtensionsToAsn1(t.extensions)),o},s.getCertificationRequestInfo=function(t){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),p(t.subject),s.publicKeyToAsn1(t.publicKey),v(t)])},s.distinguishedNameToAsn1=function(t){return p(t)},s.certificateToAsn1=function(t){var e=t.tbsCertificate||s.getTBSCertificate(t);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[e,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.signatureOid).getBytes()),y(t.signatureOid,t.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},s.certificateExtensionsToAsn1=function(t){var e=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(s.certificateExtensionToAsn1(t[n]));return e},s.certificateExtensionToAsn1=function(t){var e=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);e.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.id).getBytes())),t.critical&&e.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=t.value;return"string"!=typeof t.value&&(r=i.toDer(r).getBytes()),e.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)),e},s.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||s.getCertificationRequestInfo(t);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[e,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.signatureOid).getBytes()),y(t.signatureOid,t.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},s.createCaStore=function(t){var e={certs:{}};function r(t){return o(t),e.certs[t.hash]||null}function o(t){if(!t.hash){var e=n.md.sha1.create();t.attributes=s.RDNAttributesAsArray(p(t),e),t.hash=e.digest().toHex()}}if(e.getIssuer=function(t){return r(t.issuer)},e.addCertificate=function(t){if("string"==typeof t&&(t=n.pki.certificateFromPem(t)),o(t.subject),!e.hasCertificate(t))if(t.subject.hash in e.certs){var r=e.certs[t.subject.hash];n.util.isArray(r)||(r=[r]),r.push(t),e.certs[t.subject.hash]=r}else e.certs[t.subject.hash]=t},e.hasCertificate=function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t));var e=r(t.subject);if(!e)return!1;n.util.isArray(e)||(e=[e]);for(var o=i.toDer(s.certificateToAsn1(t)).getBytes(),a=0;a<e.length;++a)if(o===i.toDer(s.certificateToAsn1(e[a])).getBytes())return!0;return!1},e.listAllCertificates=function(){var t=[];for(var r in e.certs)if(e.certs.hasOwnProperty(r)){var i=e.certs[r];if(n.util.isArray(i))for(var s=0;s<i.length;++s)t.push(i[s]);else t.push(i)}return t},e.removeCertificate=function(t){var a;if("string"==typeof t&&(t=n.pki.certificateFromPem(t)),o(t.subject),!e.hasCertificate(t))return null;var c=r(t.subject);if(!n.util.isArray(c))return a=e.certs[t.subject.hash],delete e.certs[t.subject.hash],a;for(var u=i.toDer(s.certificateToAsn1(t)).getBytes(),l=0;l<c.length;++l)u===i.toDer(s.certificateToAsn1(c[l])).getBytes()&&(a=c[l],c.splice(l,1));return 0===c.length&&delete e.certs[t.subject.hash],a},t)for(var a=0;a<t.length;++a)e.addCertificate(t[a]);return e},s.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},s.verifyCertificateChain=function(t,e,r){"function"==typeof r&&(r={verify:r}),r=r||{};var i=(e=e.slice(0)).slice(0),o=r.validityCheckDate;void 0===o&&(o=new Date);var a=!0,c=null,u=0;do{var l=e.shift(),h=null,f=!1;if(o&&(o<l.validity.notBefore||o>l.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:s.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:o}),null===c){if(null===(h=e[0]||t.getIssuer(l))&&l.isIssuer(l)&&(f=!0,h=l),h){var d=h;n.util.isArray(d)||(d=[d]);for(var p=!1;!p&&d.length>0;){h=d.shift();try{p=h.verify(l)}catch(S){}}p||(c={message:"Certificate signature is invalid.",error:s.certificateError.bad_certificate})}null!==c||h&&!f||t.hasCertificate(l)||(c={message:"Certificate is not trusted.",error:s.certificateError.unknown_ca})}if(null===c&&h&&!l.isIssuer(h)&&(c={message:"Certificate issuer is invalid.",error:s.certificateError.bad_certificate}),null===c)for(var m={keyUsage:!0,basicConstraints:!0},g=0;null===c&&g<l.extensions.length;++g){var y=l.extensions[g];y.critical&&!(y.name in m)&&(c={message:"Certificate has an unsupported critical extension.",error:s.certificateError.unsupported_certificate})}if(null===c&&(!a||0===e.length&&(!h||f))){var v=l.getExtension("basicConstraints"),b=l.getExtension("keyUsage");null!==b&&(b.keyCertSign&&null!==v||(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:s.certificateError.bad_certificate})),null!==c||null===v||v.cA||(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:s.certificateError.bad_certificate}),null===c&&null!==b&&"pathLenConstraint"in v&&u-1>v.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:s.certificateError.bad_certificate})}var _=null===c||c.error,w=r.verify?r.verify(_,u,i):_;if(!0!==w)throw!0===_&&(c={message:"The application rejected the certificate.",error:s.certificateError.bad_certificate}),(w||0===w)&&("object"!=typeof w||n.util.isArray(w)?"string"==typeof w&&(c.error=w):(w.message&&(c.message=w.message),w.error&&(c.error=w.error))),c;c=null,a=!1,++u}while(e.length>0);return!0}},91761:function(t,e,r){"use strict";
/*!
 * algorithms/aes-cbc-hmac-sha2.js - AES-CBC-HMAC-SHA2 Composited Encryption
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(48543),i=r(61504),s=r(92932),o=r(17337),a=r(78346),c=r(16829);function u(t){if(16!==t.length)throw new Error("invalid iv")}function l(t){return n.setupFallback(function(e,r,i){try{u(i)}catch(s){return Promise.reject(s)}return Promise.resolve(r).then(function(r){var s=n.nodeCrypto.createCipheriv("AES-"+t+"-CBC",e,i);return Buffer.concat([s.update(r),s.final()])})},function(t,e,r){try{u(r)}catch(s){return Promise.reject(s)}var i=Promise.resolve();return(i=(i=i.then(function(){return n.subtleCrypto.importKey("raw",t,{name:"AES-CBC"},!0,["encrypt"])})).then(function(t){return n.subtleCrypto.encrypt({name:"AES-CBC",iv:r},t,e)})).then(function(t){return Buffer.from(t)})},function(t,e,r){try{u(r)}catch(n){return Promise.reject(n)}return Promise.resolve().then(function(){var n=o.cipher.createCipher("AES-CBC",new a(t));return n.start({iv:new a(r)}),n.update(new a(e)),n.finish()?Buffer.from(n.output.bytes(),"binary"):Promise.reject(new Error("encryption failed"))})})}function h(t){return n.setupFallback(function(e,r,i){try{u(i)}catch(s){return Promise.reject(s)}return Promise.resolve().then(function(){var s=n.nodeCrypto.createDecipheriv("AES-"+t+"-CBC",e,i);return Buffer.concat([s.update(r),s.final()])})},function(t,e,r){try{u(r)}catch(s){return Promise.reject(s)}var i=Promise.resolve();return(i=(i=i.then(function(){return n.subtleCrypto.importKey("raw",t,{name:"AES-CBC"},!0,["decrypt"])})).then(function(t){return n.subtleCrypto.decrypt({name:"AES-CBC",iv:r},t,e)})).then(function(t){return Buffer.from(t)})},function(t,e,r){try{u(r)}catch(n){return Promise.reject(n)}return Promise.resolve().then(function(){var n=o.cipher.createDecipher("AES-CBC",new a(t));return n.start({iv:new a(r)}),n.update(new a(e)),n.finish()?Buffer.from(n.output.bytes(),"binary"):Promise.reject(new Error("encryption failed"))})})}function f(t,e){if(e<<1!=t.length<<3)throw new Error("invalid encryption key size")}function d(t){var e=l(t);return function(r,s,o){try{f(r,t)}catch(h){return Promise.reject(h)}var a=r.slice(t/8),c=r.slice(0,t/8),u=o.iv||Buffer.alloc(0),l=o.aad||o.adata||Buffer.alloc(0);return e(a,s,u).then(function(e){var r=Buffer.concat([l,u,e,n.int64ToBuffer(8*l.length)]);return i["HS"+2*t].sign(c,r,{length:t}).then(function(r){var n=r.mac.slice(0,t/8);return{data:e,tag:n}})})}}function p(t){var e=h(t);return function(r,s,o){try{f(r,t)}catch(p){return Promise.reject(p)}var a=r.slice(t/8),c=r.slice(0,t/8),u=o.iv||Buffer.alloc(0),l=o.aad||o.adata||Buffer.alloc(0),h=o.tag||o.mac||Buffer.alloc(0),d=Promise.resolve();return(d=d.then(function(){var e=Buffer.concat([l,u,s,n.int64ToBuffer(8*l.length)]);return i["HS"+2*t].verify(c,e,h,{length:t}).then(function(){return s},function(){throw new Error("mac check failed")})})).then(function(){return e(a,s,u)})}}var m=Buffer.from("Encryption","utf8"),g=Buffer.from("Integrity","utf8"),y=Buffer.from(".","utf8");function v(t,e,r,i){var o=8*t.length,a=o/2,c=Promise.resolve();return c=(c=c.then(function(){return Buffer.concat([n.int32ToBuffer(1),t,n.int32ToBuffer(a),Buffer.from(e,"utf8"),r,i,m])})).then(function(t){return s["SHA-"+o].digest(t).then(function(t){return t.slice(0,a/8)})}),Promise.resolve(c)}function b(t,e,r,i){var o=8*t.length,a=o,c=Promise.resolve();return c=(c=c.then(function(){return Buffer.concat([n.int32ToBuffer(1),t,n.int32ToBuffer(a),Buffer.from(e,"utf8"),r,i,g])})).then(function(t){return s["SHA-"+o].digest(t).then(function(t){return t.slice(0,a/8)})}),Promise.resolve(c)}function _(t,e){var r=l(t);return function(s,o,a){var u,l,h=a.epu||n.int32ToBuffer(0),f=a.epv||n.int32ToBuffer(0),d=a.iv||Buffer.alloc(0),p=a.aad||a.adata||Buffer.alloc(0),m=a.kdata||Buffer.alloc(0),g=[v(s,e,h,f),b(s,e,h,f)],_=Promise.all(g).then(function(t){u=t[0],l=t[1]});return(_=(_=_.then(function(){return r(u,o,d)})).then(function(e){var r=Buffer.concat([p,y,Buffer.from(m),y,Buffer.from(c.base64url.encode(d),"utf8"),y,Buffer.from(c.base64url.encode(e),"utf8")]);return Promise.all([Promise.resolve(e),i["HS"+2*t].sign(l,r,{length:t})])})).then(function(t){return{data:t[0],tag:t[1].mac}})}}function w(t,e){var r=h(t);return function(s,o,a){var u,l,h=a.epu||n.int32ToBuffer(0),f=a.epv||n.int32ToBuffer(0),d=a.iv||Buffer.alloc(0),p=a.aad||a.adata||Buffer.alloc(0),m=a.kdata||Buffer.alloc(0),g=a.tag||a.mac||Buffer.alloc(0),_=[v(s,e,h,f),b(s,e,h,f)],w=Promise.all(_).then(function(t){u=t[0],l=t[1]});return(w=w.then(function(){var e=Buffer.concat([p,y,Buffer.from(m),y,Buffer.from(c.base64url.encode(d),"utf8"),y,Buffer.from(c.base64url.encode(o),"utf8")]);try{return i["HS"+2*t].verify(l,e,g,{loose:!1})}catch(r){throw new Error("mac check failed")}})).then(function(){return r(u,o,d)})}}var S={};["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach(function(t){var e=parseInt(/A(\d+)CBC-HS(\d+)?/g.exec(t)[1]);S[t]={encrypt:d(e),decrypt:p(e)}}),["A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"].forEach(function(t){var e=parseInt(/A(\d+)CBC\+HS(\d+)?/g.exec(t)[1]);S[t]={encrypt:_(e,t),decrypt:w(e,t)}}),t.exports=S},43623:function(t,e,r){"use strict";
/*!
 * algorithms/aes-gcm.js - AES-GCM Encryption and Key-Wrapping
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(48543),i=r(16829),s=r(10200),o=r(63874);function a(t,e){function r(r,n){if(t!==r.length<<3)throw new Error("invalid key size");if(!n&&!e)throw new Error("invalid iv");if(n&&12!==n.length)throw new Error("invalid iv")}function a(t){if(e){var r=i.base64url.encode(t.iv),n=i.base64url.encode(t.tag);t={data:t.data,header:{iv:r,tag:n}}}return t}return n.setupFallback(function(t,e,s){var o=s.iv,c=s.aad||s.adata||Buffer.alloc(0);try{r(t,o)}catch(h){return Promise.reject(h)}o=o||i.randomBytes(12);var u,l="aes-"+8*t.length+"-gcm";try{u=n.nodeCrypto.createCipheriv(l,t,o)}catch(h){throw new Error("unsupported algorithm: "+l)}if("function"!=typeof u.setAAD)throw new Error("unsupported algorithm: "+l);return c.length&&u.setAAD(c),a({data:Buffer.concat([u.update(e),u.final()]),iv:o,tag:u.getAuthTag()})},function(t,e,s){var o=s.iv,c=s.aad||s.adata||Buffer.alloc(0);try{r(t,o)}catch(l){return Promise.reject(l)}o=o||i.randomBytes(12);var u={name:"AES-GCM"};return n.subtleCrypto.importKey("raw",t,u,!0,["encrypt"]).then(function(t){return u.iv=o,u.tagLength=128,c.length&&(u.additionalData=c),n.subtleCrypto.encrypt(u,t,e)}).then(function(t){var e=t.byteLength-16,r=t.slice(e);r=Buffer.from(r);var n=t.slice(0,e);return a({data:n=Buffer.from(n),iv:o,tag:r})})},function(t,e,n){var c,u,l=n.iv,h=n.aad||n.adata||Buffer.alloc(0);try{r(t,l)}catch(f){return Promise.reject(f)}return l=l||i.randomBytes(12),c=o.createCipher({key:t,iv:l,additionalData:h}),u=Buffer.alloc(e.length),new Promise(function(t,r){var n=s.CHUNK_SIZE,i=0,o=0;!function s(){var h=Math.min(n,e.length-o);i+=c.update(e,o,h,u,i),e.length>(o+=h)?setTimeout(s,0):(i+=c.finish(u,i))===e.length?t(a({data:u,iv:l,tag:c.tag})):r(new Error("encryption failed"))}()})})}function c(t){function e(e,r,n){if(t!==e.length<<3)throw new Error("invalid key size");if(12!==r.length)throw new Error("invalid iv");if(16!==n.length)throw new Error("invalid tag length")}return n.setupFallback(function(t,r,i){var s=i.aad||i.adata||Buffer.alloc(0),o=i.iv||Buffer.alloc(0),a=i.tag||i.mac||Buffer.alloc(0);try{e(t,o,a)}catch(l){return Promise.reject(l)}var c,u="aes-"+8*t.length+"-gcm";try{c=n.nodeCrypto.createDecipheriv(u,t,o)}catch(l){throw new Error("unsupported algorithm: "+u)}if("function"!=typeof c.setAAD)throw new Error("unsupported algorithm: "+u);c.setAuthTag(a),s.length&&c.setAAD(s);try{return Buffer.concat([c.update(r),c.final()])}catch(l){throw new Error("decryption failed")}},function(t,r,i){var s=i.aad||i.adata||Buffer.alloc(0),o=i.iv||Buffer.alloc(0),a=i.tag||i.mac||Buffer.alloc(0);try{e(t,o,a)}catch(u){return Promise.reject(u)}var c={name:"AES-GCM"};return n.subtleCrypto.importKey("raw",t,c,!0,["decrypt"]).then(function(t){return c.iv=o,c.tagLength=128,s.length&&(c.additionalData=s),r=Buffer.concat([r,a],r.length+a.length),n.subtleCrypto.decrypt(c,t,r)}).then(function(t){return Buffer.from(t)})},function(t,r,n){var i,a,c=n.aad||n.adata||Buffer.alloc(0),u=n.iv||Buffer.alloc(0),l=n.tag||n.mac||Buffer.alloc(0);try{e(t,u,l)}catch(h){return Promise.reject(h)}return i=o.createDecipher({key:t,iv:u,additionalData:c,tag:l}),a=Buffer.alloc(r.length),new Promise(function(t,e){var n=s.CHUNK_SIZE,o=0,c=0;!function s(){var u=Math.min(n,r.length-c);if(o+=i.update(r,c,u,a,o),r.length>(c+=u))setTimeout(s,0);else{try{o+=i.finish(a,o)}catch(h){return void e(new Error("decryption failed"))}o===r.length?t(a):e(new Error("decryption failed"))}}()})})}var u={};["A128GCM","A192GCM","A256GCM","A128GCMKW","A192GCMKW","A256GCMKW"].forEach(function(t){var e=/A(\d+)GCM(KW)?/g.exec(t),r=parseInt(e[1]);u[t]={encrypt:a(r,"KW"===e[2]),decrypt:c(r)}}),t.exports=u},25608:function(t,e,r){"use strict";
/*!
 * algorithms/aes-kw.js - AES-KW Key-Wrapping
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(48543),i=r(17337),s=r(78346),o=Buffer.from("a6a6a6a6a6a6a6a6","hex");function a(t,e){for(var r=Math.max(t.length,e.length),n=Buffer.alloc(r),i=0;r>i;i++)n[i]=(t[i]||0)^(e[i]||0);return n}function c(t,e){for(var r=[],n=0;t.length>n;n+=e)r.push(t.slice(n,n+e));return r}function u(t){var e=Math.floor(t/4294967296),r=t%4294967296,n=Buffer.alloc(8);return n[0]=255&e>>>24,n[1]=255&e>>>16,n[2]=255&e>>>8,n[3]=255&e>>>0,n[4]=255&r>>>24,n[5]=255&r>>>16,n[6]=255&r>>>8,n[7]=255&r>>>0,n}function l(t){function e(e,r){if(t!==e.length<<3)throw new Error("invalid key size");if(0<r.length&&0!=r.length%8)throw new Error("invalid data length")}return n.setupFallback(function(r,i){try{e(r,i)}catch(y){return Promise.reject(y)}var s,l,h,f=c(i,8),d=Buffer.alloc(16);s=o;for(var p=0;6>p;p++)for(var m=0;f.length>m;m++)h=f.length*p+m+1,l=Buffer.concat([s,f[m]]),s=a((l=n.nodeCrypto.createCipheriv("AES"+t,r,d).update(l)).slice(0,8),u(h)),f[m]=l.slice(8,16);f=[s].concat(f);var g=Buffer.concat(f);return Promise.resolve({data:g})},function(t,r){try{e(t,r)}catch(o){return Promise.reject(o)}var i={name:"AES-KW"},s=[n.subtleCrypto.importKey("raw",r,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),n.subtleCrypto.importKey("raw",t,i,!0,["wrapKey"])];return(s=(s=Promise.all(s)).then(function(t){return n.subtleCrypto.wrapKey("raw",t[0],t[1],i)})).then(function(t){return{data:t=Buffer.from(t)}})},function(t,r){try{e(t,r)}catch(y){return Promise.reject(y)}var n,l,h,f=i.cipher.createCipher("AES",new s(t)),d=c(r,8);n=o;for(var p=0;6>p;p++)for(var m=0;d.length>m;m++)h=d.length*p+m+1,l=Buffer.concat([n,d[m]]),f.start(),f.update(new s(l)),f.finish(),n=a((l=Buffer.from(f.output.bytes(),"binary")).slice(0,8),u(h)),d[m]=l.slice(8,16);d=[n].concat(d);var g=Buffer.concat(d);return Promise.resolve({data:g})})}function h(t){function e(e,r){if(t!==e.length<<3)throw new Error("invalid key size");if(0<r.length-8&&0!=r.length%8)throw new Error("invalid data length")}return n.setupFallback(function(r,i){try{e(r,i)}catch(g){return Promise.reject(g)}var s,l,h=c(i,8),f=Buffer.alloc(16);s=h[0],h=h.slice(1);for(var d=5;0<=d;--d)for(var p=h.length-1;0<=p;--p)l=a(s,u(h.length*d+p+1)),l=Buffer.concat([l,h[p],f]),s=(l=n.nodeCrypto.createDecipheriv("AES"+t,r,f).update(l)).slice(0,8),h[p]=l.slice(8,16);if(s.toString()!==o.toString())return Promise.reject(new Error("decryption failed"));var m=Buffer.concat(h);return Promise.resolve(m)},function(t,r){try{e(t,r)}catch(o){return Promise.reject(o)}var i={name:"AES-KW"},s=n.subtleCrypto.importKey("raw",t,i,!0,["unwrapKey"]);return(s=(s=s.then(function(t){return n.subtleCrypto.unwrapKey("raw",r,t,i,{name:"HMAC",hash:"SHA-256"},!0,["sign"])})).then(function(t){return n.subtleCrypto.exportKey("raw",t)})).then(function(t){return Buffer.from(t)})},function(t,r){try{e(t,r)}catch(g){return Promise.reject(g)}var n,l,h=i.cipher.createDecipher("AES",new s(t)),f=c(r,8);n=f[0],f=f.slice(1);for(var d=5;0<=d;--d)for(var p=f.length-1;0<=p;--p)l=a(n,u(f.length*d+p+1)),l=Buffer.concat([l,f[p]]),h.start(),h.update(new s(l)),h.finish(),n=(l=Buffer.from(h.output.bytes(),"binary")).slice(0,8),f[p]=l.slice(8,16);if(n.toString()!==o.toString())return Promise.reject(new Error("decryption failed"));var m=Buffer.concat(f);return Promise.resolve(m)})}var f={};["A128KW","A192KW","A256KW"].forEach(function(t){var e=parseInt(/A(\d+)KW/g.exec(t)[1]);f[t]={encrypt:l(e),decrypt:h(e)}}),t.exports=f},91871:function(t,e,r){"use strict";
/*!
 * algorithms/concat.js - Concat Key Derivation
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(10200),i=r(92932);function s(t){return t=t.replace("CONCAT-",""),function(e,r){var s=(r=r||{}).length,o=n.HASHLENGTH[t];if(!s)return Promise.reject(new Error("invalid key length"));if(!r.otherInfo)return Promise.reject(new Error("invalid otherInfo"));var a=r.otherInfo,c=i[t].digest,u=Math.ceil(s/o),l=0,h=[];return function t(){if(u===l++)return Buffer.concat(h).slice(0,s);var r=Buffer.alloc(4+e.length+a.length);return r.writeUInt32BE(l,0),e.copy(r,4),a.copy(r,4+e.length),c(r).then(function(e){return h.push(e),t()})}()}}var o={};["CONCAT-SHA-1","CONCAT-SHA-256","CONCAT-SHA-384","CONCAT-SHA-512"].forEach(function(t){o[t]={derive:s(t)}}),t.exports=o},10200:function(t){"use strict";
/*!
 * algorithms/constants.js - Constants used in Cryptographic Algorithms
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */t.exports={CHUNK_SIZE:1024,HASHLENGTH:{"SHA-1":160,"SHA-256":256,"SHA-384":384,"SHA-512":512},ENCLENGTH:{"AES-128-CBC":128,"AES-192-CBC":192,"AES-256-CBC":256,"AES-128-KW":128,"AES-192-KW":192,"AES-256-KW":256},KEYLENGTH:{"A128CBC-HS256":256,"A192CBC-HS384":384,"A256CBC-HS512":512,"A128CBC+HS256":256,"A192CBC+HS384":384,"A256CBC+HS512":512,A128GCM:128,A192GCM:192,A256GCM:256,A128KW:128,A192KW:192,A256KW:256,"ECDH-ES+A128KW":128,"ECDH-ES+A192KW":192,"ECDH-ES+A256KW":256},NONCELENGTH:{"A128CBC-HS256":128,"A192CBC-HS384":128,"A256CBC-HS512":128,"A128CBC+HS256":128,"A192CBC+HS384":128,"A256CBC+HS512":128,A128GCM:96,A192GCM:96,A256GCM:96}}},95165:function(t){"use strict";
/*!
 * algorithms/dir.js - Direct key mode
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */t.exports={dir:{encrypt:function(t){return Promise.resolve({data:t,once:!0,direct:!0})},decrypt:function(t){return Promise.resolve(t)}}}},39902:function(t,e,r){"use strict";
/*!
 * algorithms/ec-util.js - Elliptic Curve Utility Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(29986),i=r(28946),s=r(17337),o=r(16829),a={"P-256":256,"P-384":384,"P-521":521};function c(t,e){var r=n(t);return(e?["x","y"]:["d"]).forEach(function(t){r[t]=o.asBuffer(r[t],"base64url")}),r}var u=Buffer.from([4]),l="1.2.840.10045.2.1",h="Could not extract parameters from DER signature";function f(t,e,r){for(var n=0;e+n<r&&0===t[e+n];)++n;return t[e+n]>=128&&--n,n}t.exports={convertToForge:function(t,e){var r=e?["x","y"]:["d"];return r=r.map(function(e){return new s.jsbn.BigInteger(t[e].toString("hex"),16)}),r=[t.crv].concat(r),(e?i.asPublicKey:i.asPrivateKey).apply(i,r)},convertToJWK:function(t,e){var r=n(t);return(e?["x","y"]:["x","y","d"]).forEach(function(t){r[t]=o.base64url.encode(r[t])}),delete r.key_ops,delete r.use,delete r.alg,e&&delete r.d,r},convertToObj:c,convertToBuffer:function(t,e){return t=c(t,e),e?Buffer.concat([u,t.x,t.y]):t.d},curveSize:function(t){return a[t||""]||NaN},derToConcat:function(t,e){var r=0;if(48!==t[r++])throw new Error(h);var n=t[r++];if(129===n&&(n=t[r++]),n>t.length-r)throw new Error(h);if(2!==t[r++])throw new Error(h);var i=t[r++];if(i>t.length-r-2)throw new Error(h);if(i>e+1)throw new Error(h);var s=r;if(r+=i,2!==t[r++])throw new Error(h);var o=t[r++];if(o!==t.length-r)throw new Error(h);if(o>e+1)throw new Error(h);var a=r;if((r+=o)!==t.length)throw new Error(h);var c=e-i,u=e-o,l=Buffer.alloc(c+i+u+o);for(r=0;r<c;++r)l[r]=0;var f=Math.max(-c,0);t.copy(l,r,s+f,s+i);for(var d=r=e;r<d+u;++r)l[r]=0;var p=Math.max(-u,0);return t.copy(l,r,a+p,a+o),l},concatToDer:function(t,e){var r=f(t,0,e),n=f(t,e,t.length),i=e-r,s=e-n,o=i+s+4,a=o<128,c=Buffer.alloc((a?2:3)+o),u=0;return c[u++]=48,a?c[u++]=o:(c[u++]=129,c[u++]=255&o),c[u++]=2,c[u++]=i,r<0?(c[u++]=0,u+=t.copy(c,u,0,e)):u+=t.copy(c,u,r,e),c[u++]=2,c[u++]=s,n<0?(c[u++]=0,t.copy(c,u,e)):t.copy(c,u,e+n),c},convertToPEM:function(t,e){var r,n,i,o=t.crv;return o=function(t){switch(t){case"P-256":return"1.2.840.10045.3.1.7";case"P-384":return"1.3.132.0.34";case"P-521":return"1.3.132.0.35";default:return null}}(o),o=s.asn1.oidToDer(o),e?(r="EC PRIVATE KEY",n=Buffer.concat([Buffer.from([0,4]),t.x,t.y]).toString("binary"),t=t.d.toString("binary"),i=s.asn1.create(s.asn1.Class.UNIVERSAL,s.asn1.Type.SEQUENCE,!0,[s.asn1.create(s.asn1.Class.UNIVERSAL,s.asn1.Type.INTEGER,!1,"\x01"),s.asn1.create(s.asn1.Class.UNIVERSAL,s.asn1.Type.OCTETSTRING,!1,t),s.asn1.create(s.asn1.Class.CONTEXT_SPECIFIC,0,!0,[s.asn1.create(s.asn1.Class.UNIVERSAL,s.asn1.Type.OID,!1,o.bytes())]),s.asn1.create(s.asn1.Class.CONTEXT_SPECIFIC,1,!0,[s.asn1.create(s.asn1.Class.UNIVERSAL,s.asn1.Type.BITSTRING,!1,n)])])):(r="PUBLIC KEY",t=Buffer.concat([Buffer.from([0,4]),t.x,t.y]).toString("binary"),i=s.asn1.create(s.asn1.Class.UNIVERSAL,s.asn1.Type.SEQUENCE,!0,[s.asn1.create(s.asn1.Class.UNIVERSAL,s.asn1.Type.SEQUENCE,!0,[s.asn1.create(s.asn1.Class.UNIVERSAL,s.asn1.Type.OID,!1,s.asn1.oidToDer(l).bytes()),s.asn1.create(s.asn1.Class.UNIVERSAL,s.asn1.Type.OID,!1,o.bytes())]),s.asn1.create(s.asn1.Class.UNIVERSAL,s.asn1.Type.BITSTRING,!1,t)])),i=s.asn1.toDer(i).bytes(),s.pem.encode({type:r,body:i})},EC_OID:l}},56692:function(t,e,r){"use strict";
/*!
 * algorithms/ecdh.js - Elliptic Curve Diffie-Hellman algorithms
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(31661),i=r(16829),s=r(39902),o=r(27295),a=r(91871),c=r(25608),u=r(48543),l=r(10200),h=r(29986),f=r(27675),d=r(56071);function p(t){switch(t){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Error("unsupported curve: "+t)}}var m=t.exports={};function g(t,e,r){function n(t){return Buffer.concat([u.int32ToBuffer(t.length),t])}var s=r.algorithm||"",o=l.KEYLENGTH[s],a=i.asBuffer(r.apu||"","base64url"),c=i.asBuffer(r.apv||"","base64url"),h=Buffer.concat([n(Buffer.from(s,"utf8")),n(a),n(c),u.int32ToBuffer(o)]);return m["ECDH-CONCAT"].derive(t,{public:e,length:o/8,hash:"SHA-256",otherInfo:h})}["ECDH","ECDH-HKDF","ECDH-CONCAT"].forEach(function(t){var e,r,i=/^ECDH(?:-(\w+))?$/g.exec(t||"")[1],c=m[t]=m[t]||{};switch(i||""){case"CONCAT":c.derive=function(t,e){var r;e=e||{};try{if(!(r=e.hash||p(t.crv)))throw new Error("invalid hash: "+r);r.toUpperCase()}catch(i){return Promise.reject(i)}var n=["public"];return m.ECDH.derive(t,d(e,n)).then(function(t){return a["CONCAT-"+r].derive(t,f(e,n))})};break;case"HKDF":c.derive=function(t,e){var r;e=e||{};try{if(!(r=e.hash||p(t.crv)))throw new Error("invalid hash: "+r);r.toUpperCase()}catch(i){return Promise.reject(i)}var n=["public"];return m.ECDH.derive(t,d(e,n)).then(function(t){return o["HKDF-"+r].derive(t,f(e,n))})};break;case"":c.derive=(e={name:"ECDH"},r=function(t,e){var r=t&&s.convertToForge(t,!0);if(!r||!r.isValid())return Promise.reject(new Error("invalid EC public key"));switch(e){case"jwk":r=s.convertToJWK(t,!0);break;case"buffer":r=s.convertToBuffer(t,!0)}return Promise.resolve(r)},u.setupFallback(function(t,e){if("function"!=typeof u.nodeCrypto.createECDH)throw new Error("unsupported algorithm: ECDH");var n,i=(e=e||{}).length||0;switch(t.crv){case"P-256":n="prime256v1";break;case"P-384":n="secp384r1";break;case"P-521":n="secp521r1";break;default:return Promise.reject(new Error("invalid curve: "+n))}var o=s.convertToBuffer(t,!1);return r(e.public,"buffer").then(function(t){var e=u.nodeCrypto.createECDH(n);e.setPrivateKey(o);var r=e.computeSecret(t);if(i){if(r.length<i)return Promise.reject(new Error("key length too large: "+i));r=r.slice(0,i)}return r})},function(t,i){t=t||{};var o=(i=i||{}).length||0,a=n(h(e),{namedCurve:t.crv});o||(o=t.d.length);var c=s.convertToJWK(t,!1);c=u.subtleCrypto.importKey("jwk",c,a,!1,["deriveBits"]);var l=r(i.public,"jwk");l=l.then(function(t){return u.subtleCrypto.importKey("jwk",t,a,!1,[])});var f=Promise.all([c,l]);return(f=f.then(function(t){var r=t[0],i=t[1],s=n(h(e),{public:i});return u.subtleCrypto.deriveBits(s,r,8*o)})).then(function(t){return Buffer.from(t)})},function(t,e){var n=(e=e||{}).length||0,i=s.convertToForge(t,!1);return r(e.public,"forge").then(function(t){var e=i.computeSecret(t);if(n){if(e.length<n)return Promise.reject(new Error("key length too large: "+n));e=e.slice(0,n)}return e})}));break;default:c.derive=null}}),["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach(function(t){var e,r,n=/^ECDH-ES(?:\+(.+))?/g.exec(t||"")[1],i=m[t]=m[t]||{};n?(n=c[n])?(i.encrypt=(r=n.encrypt,function(t,e,n){if(!(n=n||{}).epk||!n.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var i=s.convertToObj(n.epk,!1);return t&&t.x&&t.y?g(i,s.convertToObj(t,!0),{algorithm:n.alg,apu:n.apu,apv:n.apv}).then(function(t){return r(t,e)}):Promise.reject(new Error("missing static public key"))}),i.decrypt=(e=n.decrypt,function(t,r,n){if(!(n=n||{}).epk||!n.epk.x||!n.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var i=s.convertToObj(n.epk,!0);return t&&t.d?g(s.convertToObj(t,!1),i,{algorithm:n.alg,apu:n.apu,apv:n.apv}).then(function(t){return e(t,r)}):Promise.reject(new Error("missing static private key"))})):i.ecrypt=i.decrypt=null:(i.encrypt=function(t,e,r){if(!(r=r||{}).epk||!r.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var n=s.convertToObj(r.epk,!1);return t&&t.x&&t.y?g(n,s.convertToObj(t,!0),{algorithm:r.enc,apu:r.apu,apv:r.apv}).then(function(t){return{data:t,once:!0,direct:!0}}):Promise.reject(new Error("missing static public key"))},i.decrypt=function(t,e,r){if(!(r=r||{}).epk||!r.epk.x||!r.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var n=s.convertToObj(r.epk,!0);return t&&t.d?g(s.convertToObj(t,!1),n,{algorithm:r.enc,apu:r.apu,apv:r.apv}).then(function(t){return t}):Promise.reject(new Error("missing static private key"))})})},50056:function(t,e,r){"use strict";
/*!
 * algorithms/ecdsa.js - Elliptic Curve Digitial Signature Algorithms
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(39902),i=r(48543),s=r(92932);function o(t){switch(t){case"SHA-256":return"P-256";case"SHA-384":return"P-384";case"SHA-512":return"P-521";default:throw new Error("unsupported hash: "+t)}}function a(t){var e,r=o(t),a=t.toLowerCase().replace("-","");return i.nodeCrypto&&i.nodeCrypto.getHashes().indexOf(a)>-1&&(e=function(t,e){if(r!==t.crv)return Promise.reject(new Error("invalid curve"));var s,o;switch(s=(s=Promise.resolve(i.nodeCrypto.createSign(a))).then(function(t){return t.update(e),t}),a.slice(-3)){case"384":o=48;break;case"512":o=66;break;default:o=32}return(s=s.then(function(e){return n.derToConcat(e.sign(n.convertToPEM(t,!0)),o)})).then(function(t){return{data:e,mac:t}})}),i.setupFallback(e,function(e,s){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var o=n.convertToJWK(e,!1),a={name:"ECDSA",namedCurve:o.crv,hash:{name:t}};return i.subtleCrypto.importKey("jwk",o,a,!0,["sign"]).then(function(t){return i.subtleCrypto.sign(a,t,s)}).then(function(t){return t=Buffer.from(t),{data:s,mac:t}})},function(e,i){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var o=n.convertToForge(e,!1);return s[t].digest(i).then(function(t){return t=o.sign(t),t=Buffer.concat([t.r,t.s]),{data:i,mac:t}})})}function c(t){var e,r=o(t),a=t.toLowerCase().replace("-","");return i.nodeCrypto&&i.nodeCrypto.getHashes().indexOf(a)>-1&&(e=function(t,e,s){if(r!==t.crv)return Promise.reject(new Error("invalid curve"));var o;switch(a.slice(-3)){case"384":o=48;break;case"512":o=66;break;default:o=32}return Promise.resolve(i.nodeCrypto.createVerify(a)).then(function(r){return r.update(e),r.end(),r.verify(n.convertToPEM(t,!1),n.concatToDer(s,o))}).then(function(t){if(!t)throw new Error("verification failed");return{data:e,mac:s,valid:!0}})}),i.setupFallback(e,function(e,s,o){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var a=n.convertToJWK(e,!0),c={name:"ECDSA",namedCurve:a.crv,hash:{name:t}};return i.subtleCrypto.importKey("jwk",a,c,!0,["verify"]).then(function(t){return i.subtleCrypto.verify(c,t,o,s)}).then(function(t){return t?{data:s,mac:o,valid:!0}:Promise.reject(new Error("verification failed"))})},function(e,i,o){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var a=n.convertToForge(e,!0);return s[t].digest(i).then(function(t){var e=o.length/2,r={r:o.slice(0,e),s:o.slice(e)};return a.verify(t,r)?{data:i,mac:o,valid:!0}:Promise.reject(new Error("verification failed"))})})}var u={};["ES256","ES384","ES512"].forEach(function(t){var e=t.replace(/ES(\d+)/g,function(t,e){return"SHA-"+e});u[t]={sign:a(e),verify:c(e)}}),t.exports=u},48543:function(t,e,r){"use strict";
/*!
 * algorithms/helpers.js - Internal functions and fields used in Cryptographic
 * Algorithms
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */"undefined"==typeof Promise&&r(33933).polyfill(),e.int32ToBuffer=function(t,e){return(e=e||Buffer.alloc(4))[0]=t>>>24&255,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=255&t,e};var n=Math.pow(2,32);e.int64ToBuffer=function(t,r){r=r||Buffer.alloc(8);var i=Math.floor(t/n),s=t%n;return i=e.int32ToBuffer(i),s=e.int32ToBuffer(s),Buffer.concat([i,s])};var i={};Object.defineProperty(e,"subtleCrypto",{get:function(){return"subtleCrypto"in i?i.subtleCrypto:i.subtleCrypto=function(){if("undefined"!=typeof crypto&&void 0!==crypto.subtle)return crypto.subtle}()},enumerable:!0}),Object.defineProperty(e,"nodeCrypto",{get:function(){return"nodeCrypto"in i?i.nodeCrypto:i.nodeCrypto=function(){var t;try{t=r(63906)}catch(e){return}if(Object.keys(t).length)return t}()},enumerable:!0}),e.setupFallback=function(t,r,n){return t&&e.nodeCrypto?function(){var e,r=arguments;function i(t){return 0===t.message.indexOf("unsupported algorithm:")?n.apply(null,r):Promise.reject(t)}try{e=Promise.resolve(t.apply(null,r))}catch(s){e=i(s)}return e}:r&&e.subtleCrypto?function(){var t,e=arguments;function i(t){return t.code!==DOMException.NOT_SUPPORTED_ERR&&"Only ArrayBuffer and ArrayBufferView objects can be passed as CryptoOperationData"!==t.message&&t instanceof Error?Promise.reject(t):n.apply(null,e)}try{t=(t=r.apply(null,e)).catch(i)}catch(s){t=i(s)}return t}:n}},27295:function(t,e,r){"use strict";
/*!
 * algorithms/hkdf.js - HMAC-based Extract-and-Expand Key Derivation
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(10200),i=r(61504);function s(t){var e=t.replace("HKDF-",""),r=t.replace("HKDF-SHA-","HS");return function(t,s){var o=n.HASHLENGTH[e]/8;"string"==typeof r&&(r=i[r].sign);var a=(s=s||{}).salt;a&&0!==a.length||(a=Buffer.alloc(o));var c=s.info||Buffer.alloc(0),u=s.length||o,l=Math.ceil(u/o),h=[],f=0;function d(t,e){return l===f++?Buffer.concat(h).slice(0,u):(e||(e=Buffer.alloc(0)),e=Buffer.concat([e,c,Buffer.from([f])]),e=(e=r(t,e)).then(function(r){return h.push(e=r.mac),d(t,e)}))}return r(a,t,{length:8*a.length}).then(function(t){return d(t.mac)})}}var o={};["HKDF-SHA-1","HKDF-SHA-256","HKDF-SHA-384","HKDF-SHA-512"].forEach(function(t){o[t]={derive:s(t)}}),t.exports=o},61504:function(t,e,r){"use strict";
/*!
 * algorithms/hmac.js - HMAC-based "signatures"
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(10200),i=r(17337),s=r(78346),o=r(48543);function a(t){var e=t.replace("HS","SHA").toLowerCase(),r=t.replace("HS","SHA-");function s(t,e){return(t=(t||n.HASHLENGTH[r])/8)>e.length?Promise.reject(new Error("invalid key length")):Promise.resolve(e)}return o.setupFallback(function(t,r,n){return s((n=n||{}).length,t).then(function(){var n=o.nodeCrypto.createHmac(e,t);n.update(r);var i=n.digest();return{data:r,mac:i}})},function(t,e,n){var i={name:"HMAC",hash:{name:r}};return s((n=n||{}).length,t).then(function(){return o.subtleCrypto.importKey("raw",t,i,!0,["sign"])}).then(function(t){return o.subtleCrypto.sign(i,t,e)}).then(function(t){var r=Buffer.from(t);return{data:e,mac:r}})},function(t,r,n){return s((n=n||{}).length,t).then(function(){var n=i.hmac.create();return n.start(e,t.toString("binary")),n.update(r.toString("binary")),n=Buffer.from(n.digest().bytes(),"binary"),{data:r,mac:n}})})}function c(t){var e=t.replace("HS","SHA").toLowerCase(),r=t.replace("HS","SHA-");function a(t,e,i){t=(t||n.HASHLENGTH[r])/8;for(var s=!0,o=0;t>o;o++)s=s&&e[o]===i[o];return s}return o.setupFallback(function(t,r,n,i){i=i||{};var s=o.nodeCrypto.createHmac(e,t);s.update(r);var c=s.digest();if(!a(i.length,n,c))throw new Error("verification failed");return{data:r,mac:c,valid:!0}},function(t,e,n,i){var s={name:"HMAC",hash:{name:r}};return((i=i||{}).length?o.subtleCrypto.importKey("raw",t,s,!0,["sign"]).then(function(t){return o.subtleCrypto.sign(s,t,e)}).then(function(t){var e=Buffer.from(t);return a(i.length,n,e)}):o.subtleCrypto.importKey("raw",t,s,!0,["verify"]).then(function(t){return o.subtleCrypto.verify(s,t,n,e)})).then(function(t){return t?{data:e,mac:n,valid:!0}:Promise.reject(new Error("verifaction failed"))})},function(t,r,n,o){o=o||{};var c=i.hmac.create();return c.start(e,new s(t)),c.update(r.toString("binary")),c=Buffer.from(c.digest().bytes(),"binary"),a(o.length,n,c)?Promise.resolve({data:r,mac:n,valid:!0}):Promise.reject(new Error("verification failed"))})}var u={};["HS1","HS256","HS384","HS512"].forEach(function(t){u[t]={sign:a(t),verify:c(t)}}),t.exports=u},50362:function(t,e,r){"use strict";
/*!
 * algorithms/index.js - Cryptographic Algorithms Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=[r(91761),r(43623),r(25608),r(91871),r(95165),r(56692),r(50056),r(27295),r(61504),r(80205),r(67009),r(35916),r(92932)],i={},s={},o={},a={},c={},u={};n.forEach(function(t){Object.keys(t).forEach(function(e){var r=t[e];"function"==typeof r.encrypt&&(c[e]=r.encrypt),"function"==typeof r.decrypt&&(u[e]=r.decrypt),"function"==typeof r.sign&&(o[e]=r.sign),"function"==typeof r.verify&&(a[e]=r.verify),"function"==typeof r.digest&&(i[e]=r.digest),"function"==typeof r.derive&&(s[e]=r.derive)})}),e.digest=function(t,e,r){var n=i[t];return n?n(e,r):Promise.reject(new Error("unsupported algorithm: "+t))},e.derive=function(t,e,r){var n=s[t];return n?n(e,r):Promise.reject(new Error("unsupported algorithm: "+t))},e.sign=function(t,e,r,n){var i=o[t];return i?i(e,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+t))},e.verify=function(t,e,r,n,i){var s=a[t];return s?s(e,r,n,i||{}):Promise.reject(new Error("unsupported algorithm: "+t))},e.encrypt=function(t,e,r,n){var i=c[t];return i?i(e,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+t))},e.decrypt=function(t,e,r,n){var i=u[t];return i?i(e,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+t))}},80205:function(t,e,r){"use strict";
/*!
 * algorithms/pbes2.js - Password-Based Encryption (v2) Algorithms
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(17337),i=r(31661),s=r(16829),o=r(48543),a=r(10200),c=r(25608),u=Buffer.from([0]);function l(t,e,r){var n=[Buffer.from("PBES2-"+t+"+"+e,"utf8"),u,r];return Buffer.concat(n)}function h(t){function e(t){var e=(t=t||{}).length||0,r=s.asBuffer(t.salt||Buffer.alloc(0),"base64u4l"),n=t.iterations||0;if(0>=e)throw new Error("invalid key length");if(0>=n)throw new Error("invalid iteration count");return t.length=e,t.salt=r,t.iterations=n,t}return o.setupFallback(function(r,n){if(6>o.nodeCrypto.pbkdf2.length)throw new Error("unsupported algorithm: PBKDF2-"+t);try{n=e(n)}catch(u){return Promise.reject(u)}var i=n.length,s=n.salt,a=n.iterations,c=t.replace("-","");return new Promise(function(t,e){o.nodeCrypto.pbkdf2(r,s,a,i,c,function(r,n){r?e(r):t(n)})})},function(r,n){try{n=e(n)}catch(l){return Promise.reject(l)}var i=n.length,a=n.salt,c=n.iterations,u=Promise.resolve(r);return(u=(u=u.then(function(t){return o.subtleCrypto.importKey("raw",t,"PBKDF2",!1,["deriveBits"])})).then(function(e){var r={name:"PBKDF2",salt:new Uint8Array(a),iterations:c,hash:t};return o.subtleCrypto.deriveBits(r,e,8*i)})).then(function(t){return s.asBuffer(t)})},function(r,i){try{i=e(i)}catch(c){return Promise.reject(c)}var s=i.length,o=i.salt,a=i.iterations;return new Promise(function(e,i){var c=n.md[t.replace("-","").toLowerCase()].create();n.pkcs5.pbkdf2(r.toString("binary"),o.toString("binary"),a,s,c,function(t,r){t?i(t):(r=Buffer.from(r,"binary"),e(r))})})})}function f(t,e){var r="PBKDF2-"+t.replace("HS","SHA-"),n=a.KEYLENGTH[e]/8;return function(o,a,u){var h=s.asBuffer((u=u||{}).p2s||Buffer.alloc(0),"base64url"),f=u.p2c||8192;if(0>=f)throw new Error("invalid iteration count");if(0===h.length)h=s.randomBytes(16);else if(8>h.length)throw new Error("salt too small");var d={p2s:s.base64url.encode(h),p2c:f};h=l(t,e,h),u=i(u,{salt:h,iterations:f,length:n});var m=Promise.resolve(o);return(m=(m=m.then(function(t){return p[r].derive(t,u)})).then(function(t){return c[e].encrypt(t,a)})).then(function(t){return t.header=i(t.header||{},d),t})}}function d(t,e){var r="PBKDF2-"+t.replace("HS","SHA-"),n=a.KEYLENGTH[e]/8;return function(o,a,u){var h=s.asBuffer((u=u||{}).p2s||Buffer.alloc(0),"base64url"),f=u.p2c||0;if(0>=f)return Promise.reject(new Error("invalid iteration count"));if(8>h.length)return Promise.reject(new Error("salt too small"));h=l(t,e,h),u=i(u,{salt:h,iterations:f,length:n});var d=Promise.resolve(o);return(d=d.then(function(t){return p[r].derive(t,u)})).then(function(t){return c[e].decrypt(t,a)})}}var p={};["PBKDF2-SHA-256","PBKDF2-SHA-384","PBKDF2-SHA-512"].forEach(function(t){var e=t.replace("PBKDF2-","");p[t]={derive:h(e)}}),["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach(function(t){var e=/PBES2-(HS\d+)\+(A\d+KW)/g.exec(t),r=e[1],n=e[2];p[t]={encrypt:f(r,n),decrypt:d(r,n)}}),t.exports=p},75447:function(t,e,r){"use strict";
/*!
 * algorithms/rsa-util.js - RSA Utility Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(29986),i=r(17337),s=r(16829);function o(t,e){var r=e?["n","e"]:["n","e","d","p","q","dp","dq","qi"];return r=r.map(function(e){return new i.jsbn.BigInteger(t[e].toString("hex"),16)}),(e?i.pki.rsa.setPublicKey:i.pki.rsa.setPrivateKey).apply(i.pki.rsa,r)}t.exports={convertToForge:o,convertToJWK:function(t,e){var r=n(t);return(e?["n","e"]:["n","e","d","p","q","dp","dq","qi"]).forEach(function(t){r[t]=s.base64url.encode(r[t])}),delete r.key_ops,delete r.use,delete r.alg,e&&(delete r.d,delete r.p,delete r.q,delete r.dp,delete r.dq,delete r.qi),r},convertToPem:function(t,e){var r,n=e?"__cachedPublicPem":"__cachedPrivatePem";return t[n]?t[n]:(r=e?i.pki.publicKeyToPem(o(t,e)):i.pki.privateKeyToPem(o(t,e)),Object.defineProperty(t,n,{value:r}),r)}}},67009:function(t,e,r){"use strict";
/*!
 * algorithms/rsaes.js - RSA Signatures
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(17337),i=r(48543),s=r(78346),o=r(75447),a={"RSA-OAEP":"RSA_PKCS1_OAEP_PADDING",RSA1_5:"RSA_PKCS1_PADDING"};function c(t){return i.nodeCrypto&&i.nodeCrypto.constants&&-1!==Object.keys(a).indexOf(t)}function u(t){var e,r,u={name:t};return"RSA-OAEP-256"===t?(u.name="RSA-OAEP",u.hash={name:"SHA-256"}):"RSA-OAEP"===t?u.hash={name:"SHA-1"}:u.name="RSAES-PKCS1-v1_5",e="RSAES-PKCS1-v1_5"!==u.name?function(t,e){return t=o.convertToJWK(t,!0),i.subtleCrypto.importKey("jwk",t,u,!0,["encrypt"]).then(function(t){return i.subtleCrypto.encrypt(u,t,e)}).then(function(t){return{data:Buffer.from(t)}})}:null,c(t)&&(r=function(e,r){return e=o.convertToPem(e,!0),{data:i.nodeCrypto.publicEncrypt({key:e,padding:i.nodeCrypto.constants[a[t]]},r)}}),i.setupFallback(r,e,function(t,e){e=new s(e).bytes();var r=o.convertToForge(t,!0),i={};"RSA-OAEP"===u.name&&(i.md=u.hash.name.toLowerCase().replace(/-/g,""),i.md=n.md[i.md].create());var a=r.encrypt(e,u.name.toUpperCase(),i);return a=new s(a).native(),Promise.resolve({data:a})})}function l(t){var e,r,u={name:t};return"RSA-OAEP-256"===t?(u.name="RSA-OAEP",u.hash={name:"SHA-256"}):"RSA-OAEP"===t?u.hash={name:"SHA-1"}:u.name="RSAES-PKCS1-v1_5",e="RSAES-PKCS1-v1_5"!==u.name?function(t,e){return t=o.convertToJWK(t,!1),i.subtleCrypto.importKey("jwk",t,u,!0,["decrypt"]).then(function(t){return i.subtleCrypto.decrypt(u,t,e)}).then(function(t){return Buffer.from(t)})}:null,c(t)?r=function(e,r){return e=o.convertToPem(e,!1),i.nodeCrypto.privateDecrypt({key:e,padding:i.nodeCrypto.constants[a[t]]},r)}:i.nodeCrypto&&"RSA-OAEP"===t&&(r=function(t,e){return t=o.convertToPem(t,!1),i.nodeCrypto.privateDecrypt(t,e)}),i.setupFallback(r,e,function(t,e){e=new s(e).bytes();var r=o.convertToForge(t,!1),i={};"RSA-OAEP"===u.name&&(i.md=u.hash.name.toLowerCase().replace(/-/g,""),i.md=n.md[i.md].create());var a=r.decrypt(e,u.name.toUpperCase(),i);return a=new s(a).native(),Promise.resolve(a)})}var h={};["RSA-OAEP","RSA-OAEP-256","RSA1_5"].forEach(function(t){h[t]={encrypt:u(t),decrypt:l(t)}}),t.exports=h},35916:function(t,e,r){"use strict";
/*!
 * algorithms/rsassa.js - RSA Signatures
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(17337),i=r(10200),s=r(48543),o=r(75447);function a(){return s.nodeCrypto&&s.nodeCrypto.constants&&s.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST}function c(t){var e,r=t.replace("RS","SHA").toLowerCase(),i=t.replace("RS","SHA-"),a={name:"RSASSA-PKCS1-V1_5",hash:{name:i}},c="RSA-"+i.replace("-","");return s.nodeCrypto&&s.nodeCrypto.getHashes().indexOf(c)>-1&&(e=function(t,e){var r=s.nodeCrypto.createSign(c);return r.update(e),{data:e,mac:r.sign(o.convertToPem(t,!1))}}),s.setupFallback(e,function(t,e){return t=o.convertToJWK(t,!1),s.subtleCrypto.importKey("jwk",t,a,!0,["sign"]).then(function(t){return s.subtleCrypto.sign(a,t,e)}).then(function(t){var r=Buffer.from(t);return{data:e,mac:r}})},function(t,e){var i=n.md[r].create();i.start(),i.update(e);var s=o.convertToForge(t,!1).sign(i,"RSASSA-PKCS1-V1_5");return s=Buffer.from(s,"binary"),Promise.resolve({data:e,mac:s})})}function u(t){var e,r=t.replace("RS","SHA").toLowerCase(),i={name:"RSASSA-PKCS1-V1_5",hash:{name:t.replace("RS","SHA-")}};return s.nodeCrypto&&s.nodeCrypto.getHashes().indexOf(r)>-1&&(e=function(t,e,n){var i=s.nodeCrypto.createVerify(r);return i.update(e),i.end(),i.verify(o.convertToPem(t,!0),n)?{data:e,mac:n,valid:!0}:Promise.reject(new Error("verification failed"))}),s.setupFallback(e,function(t,e,r){return t=o.convertToJWK(t,!0),s.subtleCrypto.importKey("jwk",t,i,!0,["verify"]).then(function(t){return s.subtleCrypto.verify(i,t,r,e)}).then(function(t){return t?{data:e,mac:r,valid:!0}:Promise.reject(new Error("verification failed"))})},function(t,e,i){var s=n.md[r].create();s.start(),s.update(e),s=s.digest().bytes();var a=o.convertToForge(t,!0),c=i.toString("binary");return a.verify(s,c,"RSASSA-PKCS1-V1_5")?Promise.resolve({data:e,mac:i,valid:!0}):Promise.reject(new Error("verification failed"))})}function l(t){var e,r=t.replace("PS","SHA").toLowerCase(),c=t.replace("PS","SHA-"),u={name:"RSA-PSS",hash:{name:c},saltLength:i.HASHLENGTH[c]/8},l="RSA-"+c.replace("-","");return a()&&(e=function(t,e){var r=s.nodeCrypto.createSign(l);return r.update(e),{data:e,mac:r.sign({key:o.convertToPem(t,!1),padding:s.nodeCrypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST})}}),s.setupFallback(e,function(t,e){return t=o.convertToJWK(t,!1),s.subtleCrypto.importKey("jwk",t,u,!0,["sign"]).then(function(t){return s.subtleCrypto.sign(u,t,e)}).then(function(t){var r=Buffer.from(t);return{data:e,mac:r}})},function(t,e){var s=n.md[r].create();s.start(),s.update(e);var a=n.pss.create({md:n.md[r].create(),mgf:n.mgf.mgf1.create(n.md[r].create()),saltLength:i.HASHLENGTH[c]/8}),u=o.convertToForge(t,!1).sign(s,a);return u=Buffer.from(u,"binary"),Promise.resolve({data:e,mac:u})})}function h(t){var e,r=t.replace("PS","SHA").toLowerCase(),c=t.replace("PS","SHA-"),u={name:"RSA-PSS",hash:{name:c},saltLength:i.HASHLENGTH[c]/8};return a()&&(e=function(t,e,n){var i=s.nodeCrypto.createVerify(r);return i.update(e),i.end(),i.verify({key:o.convertToPem(t,!0),padding:s.nodeCrypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST},n)?{data:e,mac:n,valid:!0}:Promise.reject(new Error("verification failed"))}),s.setupFallback(e,function(t,e,r){return t=o.convertToJWK(t,!0),s.subtleCrypto.importKey("jwk",t,u,!0,["verify"]).then(function(t){return s.subtleCrypto.verify(u,t,r,e)}).then(function(t){return t?{data:e,mac:r,valid:!0}:Promise.reject(new Error("verification failed"))})},function(t,e,s){var a=n.md[r].create();a.start(),a.update(e),a=a.digest().bytes();var u=n.pss.create({md:n.md[r].create(),mgf:n.mgf.mgf1.create(n.md[r].create()),saltLength:i.HASHLENGTH[c]/8}),l=o.convertToForge(t,!0),h=s.toString("binary");return l.verify(a,h,u)?Promise.resolve({data:e,mac:s,valid:!0}):Promise.reject(new Error("verification failed"))})}var f={};["PS256","PS384","PS512"].forEach(function(t){f[t]={sign:l(t),verify:h(t)}}),["RS256","RS384","RS512"].forEach(function(t){f[t]={sign:c(t),verify:u(t)}}),t.exports=f},92932:function(t,e,r){"use strict";
/*!
 * algorithms/sha.js - Cryptographic Secure Hash Algorithms, versions 1 and 2
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(17337),i=r(48543),s={};["SHA-1","SHA-256","SHA-384","SHA-512"].forEach(function(t){var e,r,o;s[t]={digest:(e=t,r=e.replace("SHA-","SHA").toLowerCase(),o={name:e},i.setupFallback(function(t){var e=i.nodeCrypto.createHash(r);return e.update(t),e.digest()},function(t){return i.subtleCrypto.digest(o,t).then(function(t){return Buffer.from(t)})},function(t){var e=n.md[r].create();return e.update(t.toString("binary")),e=Buffer.from(e.digest().bytes(),"binary"),Promise.resolve(e)}))}}),t.exports=s},31650:function(t,e,r){"use strict";
/*!
 * deps/ciphermodes/gcm/helpers.js - AES-GCM Helper Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(64561),i=r(8537),s=r(14122),o=3774873600,a=new n(o>>8),c=t.exports={E1:o,E1B:225,E1L:a,LOOKUP:function(){for(var t=[],e=0;e<256;++e){for(var r=0,n=7;n>=0;--n)0!=(e&1<<n)&&(r^=o>>>7-n);t.push(r)}return t}(),arrayCopy:function(t,e,r,n,i){if(e<0||n<0||i<0)throw new TypeError("Invalid input.");if(r instanceof Uint8Array){if(n>=r.length||n+i>r.length)throw new TypeError("Invalid input.");(0!==e||i<t.length)&&(t=t instanceof Uint8Array?t.subarray(e,e+i):t.slice(e,e+i)),r.set(t,n)}else for(var s=0;s<i;++s)r[n+s]=t[e+s]},arrayEqual:function(t,e){t=t||[],e=e||[];for(var r=Math.min(t.length,e.length),n=t.length===e.length,i=0;i<r;i++)n=n&&void 0!==t[i]&&void 0!==e[i]&&t[i]===e[i];return n},asBytes:function(t,e){switch(arguments.length){case 1:return e=Buffer.alloc(16),s.intToBigEndian(t,e,0),e;case 2:s.intToBigEndian(t,e,0);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},asInts:function(t,e){switch(arguments.length){case 1:return i(e=[],0,0,4),s.bigEndianToInt(t,0,e),e;case 2:s.bigEndianToInt(t,0,e);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},oneAsInts:function(){for(var t=[],e=0;e<4;++e)t.push(1<<31);return t},shiftRight:function(t,e){var r,n;switch(arguments.length){case 1:return t[0]=(r=t[0])>>>1,n=r<<31,t[1]=(r=t[1])>>>1|n,n=r<<31,t[2]=(r=t[2])>>>1|n,n=r<<31,t[3]=(r=t[3])>>>1|n,r<<31&4294967295;case 2:return e[0]=(r=t[0])>>>1,n=r<<31,e[1]=(r=t[1])>>>1|n,n=r<<31,e[2]=(r=t[2])>>>1|n,n=r<<31,e[3]=(r=t[3])>>>1|n,r<<31&4294967295;default:throw new TypeError("Expected 1 or 2 arguments.")}},shiftRightN:function(t,e,r){var n,i,s;switch(arguments.length){case 2:return n=32-e,t[0]=(i=t[0])>>>e,s=i<<n,t[1]=(i=t[1])>>>e|s,s=i<<n,t[2]=(i=t[2])>>>e|s,s=i<<n,t[3]=(i=t[3])>>>e|s,i<<n;case 3:return n=32-e,r[0]=(i=t[0])>>>e,s=i<<n,r[1]=(i=t[1])>>>e|s,s=i<<n,r[2]=(i=t[2])>>>e|s,s=i<<n,r[3]=(i=t[3])>>>e|s,i<<n;default:throw new TypeError("Expected 2 or 3 arguments.")}},xor:function(t,e,r){switch(arguments.length){case 2:t[0]^=e[0],t[1]^=e[1],t[2]^=e[2],t[3]^=e[3];break;case 3:r[0]=t[0]^e[0],r[1]=t[1]^e[1],r[2]=t[2]^e[2],r[3]=t[3]^e[3];break;default:throw new TypeError("Expected 2 or 3 arguments.")}},multiply:function(t,e){for(var r=t.slice(),n=[],i=0;i<4;++i)for(var s=e[i],o=31;o>=0;--o)0!=(s&1<<o)&&c.xor(n,r),0!==c.shiftRight(r)&&(r[0]^=c.E1);c.arrayCopy(n,0,t,0,4)},multiplyP:function(t,e){switch(arguments.length){case 1:0!==c.shiftRight(t)&&(t[0]^=c.E1);break;case 2:0!==c.shiftRight(t,e)&&(e[0]^=c.E1);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},multiplyP8:function(t,e){var r;switch(arguments.length){case 1:r=c.shiftRightN(t,8),t[0]^=c.LOOKUP[r>>>24];break;case 2:r=c.shiftRightN(t,8,e),e[0]^=c.LOOKUP[r>>>24];break;default:throw new TypeError("Expected 1 or 2 arguments.")}}}},63874:function(t,e,r){"use strict";
/*!
 * deps/ciphermodes/gcm/index.js - AES-GCM implementation Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(64561),i=r(17337),s=r(41346),o=r(31650),a=r(14122),c=r(78346),u=r(89989);function l(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=this.blockSize||16}t.exports={createCipher:function(t){var e=new i.aes.Algorithm("AES-GCM",l);return e.initialize({key:new c(t.key)}),e.mode.start(t),e.mode},createDecipher:function(t){var e=new i.aes.Algorithm("AES-GCM",l);return e.initialize({key:new c(t.key)}),e.mode._decrypt=!0,e.mode.start(t),e.mode}},l.prototype.start=function(t){if(this.tag=null,!("iv"in(t=t||{})))throw new Error("Gcm needs ParametersWithIV or AEADParameters");if(this.nonce=t.iv,null==this.nonce||this.nonce.length<1)throw new Error("IV must be at least 1 byte");this.tagLength=16,"tag"in t&&(this.tag=Buffer.from(t.tag)),this.bufBlock=Buffer.alloc(this._decrypt?this.blockSize+this.tagLength:this.blockSize);var e=t.multiplier;if(null==e&&(e=new s["8k"]),this.multiplier=e,this.H=this.zeroBlock(),u.encrypt(this.cipher,this.H,0,this.H,0),this.multiplier.init(this.H),this.exp=null,this.J0=this.zeroBlock(),12===this.nonce.length)this.nonce.copy(this.J0,0,0,this.nonce.length),this.J0[this.blockSize-1]=1;else{this.gHASH(this.J0,this.nonce,this.nonce.length);var r=this.zeroBlock();a.longToBigEndian(new n(this.nonce.length).multiply(8),r,8),this.gHASHBlock(this.J0,r)}this.S=this.zeroBlock(),this.SAt=this.zeroBlock(),this.SAtPre=this.zeroBlock(),this.atBlock=this.zeroBlock(),this.atBlockPos=0,this.atLength=n.ZERO,this.atLengthPre=n.ZERO,this.counter=Buffer.from(this.J0),this.bufOff=0,this.totalLength=n.ZERO,"additionalData"in t&&this.processAADBytes(t.additionalData,0,t.additionalData.length)},l.prototype.update=function(t,e,r,n,i){for(var s=0;r>0;){var o=Math.min(r,this.bufBlock.length-this.bufOff);t.copy(this.bufBlock,this.bufOff,e,e+o),r-=o,e+=o,this.bufOff+=o,this.bufOff===this.bufBlock.length&&(this.outputBlock(n,i+s),s+=this.blockSize)}return s},l.prototype.finish=function(t,e){var r=0;this._decrypt&&(r+=this.update(this.tag,0,this.tag.length,t,e)),this.totalLength.isZero()&&this.initCipher();var n=this.bufOff;if(this._decrypt){if(n<this.tagLength)throw new Error("data too short");n-=this.tagLength}n>0&&(this.gCTRPartial(this.bufBlock,0,n,t,e+r),r+=n),this.atLength=this.atLength.add(this.atBlockPos);var i=this.zeroBlock();a.longToBigEndian(this.atLength.multiply(8),i,0),a.longToBigEndian(this.totalLength.multiply(8),i,8),this.gHASHBlock(this.S,i);var s=Buffer.alloc(this.blockSize);if(u.encrypt(this.cipher,this.J0,0,s,0),this.xor(s,this.S),this._decrypt){if(!o.arrayEqual(this.tag,s))throw new Error("mac check in Gcm failed")}else this.tag=Buffer.alloc(this.tagLength),s.copy(this.tag,0,0,this.tagLength);return r},l.prototype.initCipher=function(){this.atLength.greaterThan(n.ZERO)&&(this.SAt.copy(this.SAtPre,0,0,this.blockSize),this.atLengthPre=this.atLength.add(n.ZERO)),this.atBlockPos>0&&(this.gHASHPartial(this.SAtPre,this.atBlock,0,this.atBlockPos),this.atLengthPre=this.atLengthPre.add(this.atBlockPos)),this.atLengthPre.greaterThan(n.ZERO)&&this.SAtPre.copy(this.S,0,0,this.blockSize)},l.prototype.outputBlock=function(t,e){this.totalLength.isZero()&&this.initCipher(),this.gCTRBlock(this.bufBlock,t,e),this._decrypt?(this.bufBlock.copy(this.bufBlock,0,this.blockSize,this.blockSize+this.tagLength),this.bufOff=this.tagLength):this.bufOff=0},l.prototype.processAADBytes=function(t,e,r){for(var n=0;n<r;++n)this.atBlock[this.atBlockPos]=t[e+n],++this.atBlockPos===this.blockSize&&(this.gHASHBlock(this.SAt,this.atBlock),this.atBlockPos=0,this.atLength=this.atLength.add(this.blockSize))},l.prototype.getNextCounterBlock=function(){for(var t=15;t>=12;--t){var e=this.counter[t]+1&255;if(this.counter[t]=e,0!==e)break}var r=Buffer.alloc(this.blockSize);return u.encrypt(this.cipher,this.counter,0,r,0),r},l.prototype.gCTRBlock=function(t,e,r){var n=this.getNextCounterBlock();this.xor(n,t),n.copy(e,r,0,this.blockSize),this.gHASHBlock(this.S,this._decrypt?t:n),this.totalLength=this.totalLength.add(this.blockSize)},l.prototype.gCTRPartial=function(t,e,r,n,i){var s=this.getNextCounterBlock();this.xor(s,t,e,r),s.copy(n,i,0,r),this.gHASHPartial(this.S,this._decrypt?t:s,0,r),this.totalLength=this.totalLength.add(r)},l.prototype.gHASHBlock=function(t,e){this.xor(t,e),this.multiplier.multiplyH(t)},l.prototype.gHASHPartial=function(t,e,r,n){this.xor(t,e,r,n),this.multiplier.multiplyH(t)},l.prototype.xor=function(t,e,r,n){switch(arguments.length){case 2:for(var i=15;i>=0;--i)t[i]^=e[i];break;case 4:for(;n-- >0;)t[n]^=e[r+n];break;default:throw new TypeError("Expected 2 or 4 arguments.")}return t},l.prototype.zeroBlock=function(){return Buffer.alloc(16)}},41346:function(t,e,r){"use strict";
/*!
 * deps/ciphermodes/gcm/multipliers.js - AES-GCM Multipliers
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(31650),i=r(14122);function s(){this.H=[],this.M=null}s.prototype.init=function(t){var e,r,i;if(null==this.M)for(this.M=[],e=0;e<32;++e)for(this.M[e]=[],r=0;r<16;++r)for(this.M[e][r]=[],i=0;i<4;++i)this.M[e][r][i]=0;else if(n.arrayEqual(this.H,t))return;for(this.H=t.slice(),n.asInts(t,this.M[1][8]),r=4;r>=1;r>>=1)n.multiplyP(this.M[1][r+r],this.M[1][r]);for(n.multiplyP(this.M[1][1],this.M[0][8]),r=4;r>=1;r>>=1)n.multiplyP(this.M[0][r+r],this.M[0][r]);for(e=0;;){for(r=2;r<16;r+=r)for(i=1;i<r;++i)n.xor(this.M[e][r],this.M[e][i],this.M[e][r+i]);if(32==++e)return;if(e>1)for(r=8;r>0;r>>=1)n.multiplyP8(this.M[e-2][r],this.M[e][r])}},s.prototype.multiplyH=function(t){for(var e=[],r=15;r>=0;--r){var n=this.M[r+r][15&t[r]];e[0]^=n[0],e[1]^=n[1],e[2]^=n[2],e[3]^=n[3],e[0]^=(n=this.M[r+r+1][(240&t[r])>>>4])[0],e[1]^=n[1],e[2]^=n[2],e[3]^=n[3]}i.intToBigEndian(e,t,0)},t.exports={"8k":s}},89989:function(t,e,r){"use strict";
/*!
 * deps/ciphermodes/helpers.js - Cipher Helper Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(14122);t.exports={encrypt:function(t,e,r,i,s){var o=new Array(4),a=new Array(4);n.bigEndianToInt(e,r,o),t.encrypt(o,a),n.intToBigEndian(a,i,s)}}},14122:function(t,e,r){"use strict";
/*!
 * deps/ciphermodes/pack.js - Pack/Unpack Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(64561),i=t.exports={intToBigEndian:function(t,e,r){if("number"==typeof t)switch(arguments.length){case 1:e=Buffer.alloc(4),i.intToBigEndian(t,e,0);break;case 3:e[r]=255&t>>>24,e[++r]=255&t>>>16,e[++r]=255&t>>>8,e[++r]=255&t;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:e=Buffer.alloc(4*t.length),i.intToBigEndian(t,e,0);break;case 3:for(var n=0;n<t.length;++n)i.intToBigEndian(t[n],e,r),r+=4;break;default:throw new TypeError("Expected 1 or 3 arguments.")}return e},longToBigEndian:function(t,e,r){if(Array.isArray(t))switch(arguments.length){case 1:e=Buffer.alloc(8*t.length),i.longToBigEndian(t,e,0);break;case 3:for(var n=0;n<t.length;++n)i.longToBigEndian(t[n],e,r),r+=8;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:e=Buffer.alloc(8),i.longToBigEndian(t,e,0);break;case 3:var s=t.low,o=t.high;i.intToBigEndian(o,e,r),i.intToBigEndian(s,e,r+4);break;default:throw new TypeError("Expected 1 or 3 arguments.")}return e},bigEndianToInt:function(t,e,r){switch(arguments.length){case 2:var n=t[e]<<24;return n|=(255&t[++e])<<16,(n|=(255&t[++e])<<8)|255&t[++e];case 3:for(var s=0;s<r.length;++s)r[s]=i.bigEndianToInt(t,e),e+=4;break;default:throw new TypeError("Expected 2 or 3 arguments.")}},bigEndianToLong:function(t,e,r){switch(arguments.length){case 2:var s=i.bigEndianToInt(t,e),o=i.bigEndianToInt(t,e+4),a=new n(o,s);return a;case 3:for(var c=0;c<r.length;++c)r[c]=i.bigEndianToLong(t,e),e+=8;break;default:throw new TypeError("Expected 2 or 3 arguments.")}}}},57116:function(t,e,r){"use strict";var n=r(17337).jsbn.BigInteger,i=r(13551);function s(t,e,r,n){this.curve=t,this.g=e,this.n=r,this.h=n}function o(t){return new n(t,16)}s.prototype.getCurve=function(){return this.curve},s.prototype.getG=function(){return this.g},s.prototype.getN=function(){return this.n},s.prototype.getH=function(){return this.h};var a,c,u,l,h,f,d,p=t.exports={secp256r1:(a=o("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),c=o("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),u=o("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),l=o("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),h=n.ONE,f=new i.ECCurveFp(a,c,u),d=f.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5"),new s(f,d,l,h)),secp384r1:function(){var t=o("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF"),e=o("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC"),r=o("B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF"),a=o("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973"),c=n.ONE,u=new i.ECCurveFp(t,e,r),l=u.decodePointHex("04AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB73617DE4A96262C6F5D9E98BF9292DC29F8F41DBD289A147CE9DA3113B5F0B8C00A60B1CE1D7E819D7A431D7C90EA0E5F");return new s(u,l,a,c)}(),secp521r1:function(){var t=o("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"),e=o("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC"),r=o("0051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00"),a=o("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409"),c=n.ONE,u=new i.ECCurveFp(t,e,r),l=u.decodePointHex("0400C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66011839296A789A3BC0045C8A5FB42C7D1BD998F54449579B446817AFBD17273E662C97EE72995EF42640C550B9013FAD0761353C7086A272C24088BE94769FD16650");return new s(u,l,a,c)}()};p["P-256"]=p.secp256r1,p["P-384"]=p.secp384r1,p["P-521"]=p.secp521r1},28946:function(t,e,r){"use strict";var n=r(17337),i=n.jsbn.BigInteger,s=r(13551),o=r(57116);function a(t){return new i(t,16)}function c(t,e){e||(e=Math.ceil(t.bitLength()/8)),e*=2;var r=t.toString(16);for(r=r.substring(Math.max(r.length-e,0));e>r.length;)r="0"+r;return Buffer.from(r,"hex")}function u(t){return"string"==typeof t&&(t=Buffer.from(t,"binary")),a(t.toString("hex"))}function l(t){return Math.ceil(t.getN().bitLength()/8)}function h(t){var e=o[t];if(!e)throw new TypeError("unsupported named curve: "+t);return e}function f(t,e){var r=t.getN().bitLength(),n=8*e.length,i=u(e);return r<n&&(i=i.shiftRight(n-r)),i}function d(t,e,r){var n=h(t),i=n.getCurve(),o=new s.ECPointFp(i,i.fromBigInteger(e),i.fromBigInteger(r));this.curve=t,this.params=n,this.point=o;var a=l(n);this.x=c(e,a),this.y=c(r,a)}function p(t,e){var r=h(t);this.curve=t,this.params=r;var n=l(r);this.d=c(e,n)}d.prototype.isValid=function(){return this.params.curve.contains(this.point)},d.prototype.verify=function(t,e){var r=this.params.getN(),n=this.params.getG(),s=u(e.r),o=u(e.s);if(s.compareTo(i.ONE)<0||s.compareTo(r)>=0)return!1;if(o.compareTo(i.ONE)<0||s.compareTo(r)>=0)return!1;var a=f(this.params,t),c=o.modInverse(r),l=a.multiply(c).mod(r),h=s.multiply(c).mod(r),d=n.multiplyTwo(l,this.point,h).getX().toBigInteger();return(d=d.mod(r)).equals(s)},p.prototype.toPublicKey=function(){var t=u(this.d),e=this.params.getG().multiply(t);return new d(this.curve,e.getX().toBigInteger(),e.getY().toBigInteger())},p.prototype.sign=function(t){var e,r,s,o,a=l(this.params),h=this.params.getN(),d=this.params.getG(),p=f(this.params,t),m=u(this.d);do{do{do{s=u(n.random.getBytes(a))}while(s.equals(i.ZERO)||s.compareTo(h)>=0);e=d.multiply(s).getX().toBigInteger().mod(h)}while(e.equals(i.ZERO));o=m.multiply(e),o=p.add(o),r=s.modInverse(h).multiply(o).mod(h)}while(r.equals(i.ONE));var g=l(this.params);return{r:e=c(e,g),s:r=c(r,g)}},p.prototype.isValid=function(){var t=u(this.d),e=this.params.getN().subtract(i.ONE);return t.compareTo(i.ONE)>=0&&t.compareTo(e)<0},p.prototype.computeSecret=function(t){var e=u(this.d);return c(t.point.multiply(e).getX().toBigInteger(),l(this.params))},e.generateKeyPair=function(t){var e=h(t),r=e.getN(),s=n.random.getBytes(l(e));s=u(s);var o=r.subtract(i.ONE),a=new p(t,s.mod(o).add(i.ONE)),c=a.toPublicKey();return{private:a,public:c}},e.asPublicKey=function(t,e,r){return"string"==typeof e?e=a(e):Buffer.isBuffer(e)&&(e=u(e)),"string"==typeof r?r=a(r):Buffer.isBuffer(r)&&(r=u(r)),new d(t,e,r)},e.asPrivateKey=function(t,e){return"string"==typeof e?e=a(e):Buffer.isBuffer(e)&&(e=u(e)),new p(t,e)}},13551:function(t,e,r){"use strict";var n=r(17337).jsbn.BigInteger;function i(){return new n(null)}function s(t){this.r2=i(),this.q3=i(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function o(t,e){this.x=e,this.p=t}function a(t,e,r,i){this.curve=t,this.x=e,this.y=r,this.z=i||n.ONE,this.zinv=null}function c(t,e,r){this.p=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(r),this.infinity=new a(this,null,null),this.reducer=new s(this.p)}s.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=i();return t.copyTo(e),this.reduce(e),e},s.prototype.revert=function(t){return t},s.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},s.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},s.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},o.prototype.equals=function(t){return t===this||this.p.equals(t.p)&&this.x.equals(t.x)},o.prototype.toBigInteger=function(){return this.x},o.prototype.negate=function(){return new o(this.p,this.x.negate().mod(this.p))},o.prototype.add=function(t){return new o(this.p,this.x.add(t.toBigInteger()).mod(this.p))},o.prototype.subtract=function(t){return new o(this.p,this.x.subtract(t.toBigInteger()).mod(this.p))},o.prototype.multiply=function(t){return new o(this.p,this.x.multiply(t.toBigInteger()).mod(this.p))},o.prototype.square=function(){return new o(this.p,this.x.pow(2).mod(this.p))},o.prototype.divide=function(t){return new o(this.p,this.x.multiply(t.toBigInteger().modInverse(this.p)).mod(this.p))},a.prototype.getX=function(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var t=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)},a.prototype.getY=function(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var t=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)},a.prototype.equals=function(t){return t===this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.p).equals(n.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.p).equals(n.ZERO))},a.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(n.ZERO)&&!this.y.toBigInteger().equals(n.ZERO)},a.prototype.negate=function(){return new a(this.curve,this.x,this.y.negate(),this.z)},a.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.p),r=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.p);if(n.ZERO.equals(r))return n.ZERO.equals(e)?this.twice():this.curve.getInfinity();var i=new n("3"),s=this.x.toBigInteger(),o=this.y.toBigInteger(),c=r.pow(2),u=c.multiply(r),l=s.multiply(c),h=e.pow(2).multiply(this.z),f=h.subtract(l.shiftLeft(1)).multiply(t.z).subtract(u).multiply(r).mod(this.curve.p),d=l.multiply(i).multiply(e).subtract(o.multiply(u)).subtract(h.multiply(e)).multiply(t.z).add(e.multiply(u)).mod(this.curve.p),p=u.multiply(this.z).multiply(t.z).mod(this.curve.p);return new a(this.curve,this.curve.fromBigInteger(f),this.curve.fromBigInteger(d),p)},a.prototype.twice=function(){if(this.isInfinity())return this;if(0===this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new n("3"),e=this.x.toBigInteger(),r=this.y.toBigInteger(),i=r.multiply(this.z),s=i.multiply(r).mod(this.curve.p),o=this.curve.a.toBigInteger(),c=e.pow(2).multiply(t);n.ZERO.equals(o)||(c=c.add(this.z.pow(2).multiply(o)));var u=(c=c.mod(this.curve.p)).pow(2).subtract(e.shiftLeft(3).multiply(s)).shiftLeft(1).multiply(i).mod(this.curve.p),l=c.multiply(t).multiply(e).subtract(s.shiftLeft(1)).shiftLeft(2).multiply(s).subtract(c.pow(2).multiply(c)).mod(this.curve.p),h=i.pow(2).multiply(i).shiftLeft(3).mod(this.curve.p);return new a(this.curve,this.curve.fromBigInteger(u),this.curve.fromBigInteger(l),h)},a.prototype.multiply=function(t){if(this.isInfinity())return this;if(0===t.signum())return this.curve.getInfinity();var e,r=t,i=r.multiply(new n("3")),s=this.negate(),o=this;for(e=i.bitLength()-2;e>0;--e){o=o.twice();var a=i.testBit(e);a!==r.testBit(e)&&(o=o.add(a?this:s))}return o},a.prototype.multiplyTwo=function(t,e,r){var n;n=t.bitLength()>r.bitLength()?t.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),s=this.add(e);n>=0;)i=i.twice(),t.testBit(n)?i=r.testBit(n)?i.add(s):i.add(this):r.testBit(n)&&(i=i.add(e)),--n;return i},c.prototype.getP=function(){return this.p},c.prototype.getA=function(){return this.a},c.prototype.getB=function(){return this.b},c.prototype.equals=function(t){return t===this||this.p.equals(t.p)&&this.a.equals(t.a)&&this.b.equals(t.b)},c.prototype.contains=function(t){var e=t.getX().toBigInteger(),r=t.getY().toBigInteger(),n=this.a.toBigInteger(),i=this.b.toBigInteger(),s=this.p,o=r.pow(2).mod(s),a=e.pow(3).add(n.multiply(e)).add(i).mod(s);return o.equals(a)},c.prototype.getInfinity=function(){return this.infinity},c.prototype.fromBigInteger=function(t){return new o(this.p,t)},c.prototype.reduce=function(t){this.reducer.reduce(t)},c.prototype.decodePointHex=function(t){switch(parseInt(t.substring(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(t.length-2)/2,r=t.substr(2,e),i=t.substr(e+2,e);return new a(this,this.fromBigInteger(new n(r,16)),this.fromBigInteger(new n(i,16)));default:return null}},c.prototype.encodePointHex=function(t){if(t.isInfinity())return"00";var e=t.getX().toBigInteger().toString(16),r=t.getY().toBigInteger().toString(16),n=this.getP().toString(16).length;for(n%2!=0&&n++;e.length<n;)e="0"+e;for(;r.length<n;)r="0"+r;return"04"+e+r},t.exports={ECFieldElementFp:o,ECPointFp:a,ECCurveFp:c}},17337:function(t,e,r){"use strict";
/*!
 * deps/forge.js - Forge Package Customization
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n,i,s=r(63170);function o(t){t=t||{},this.name="",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=new Array(this._blocks),this._outBlock=new Array(this._blocks)}r(2189),r(1258),r(69133),r(33546),r(66065),r(49307),r(72805),r(11454),r(79117),r(38942),r(74155),r(81604),r(93766),r(26334),r(67417),r(59940),r(50375),r(57395),o.prototype.start=function(){},o.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;var n;for(n=0;n<this._blocks;++n)this._inBlock[n]=t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._blocks;++n)e.putInt32(this._outBlock[n])},o.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;var n;for(n=0;n<this._blocks;++n)this._inBlock[n]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._blocks;++n)e.putInt32(this._outBlock[n])},i=o,n=function(){return new s.aes.Algorithm("AES",i)},s.cipher.registerAlgorithm("AES",n),t.exports=s},24350:function(t,e,r){"use strict";
/*!
 * index.js - Main Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */"undefined"==typeof Promise&&r(33933).polyfill(),"undefined"==typeof Buffer&&((global||window).Buffer=r(73433).lW),"undefined"==typeof process&&((global||window).process=r(66320)),process.version||(process.version="");var n=r(55448);t.exports={JWA:r(50362),JWE:r(34481),JWK:r(36499),JWS:n,util:r(16829),parse:r(93156),canYouSee:n.createVerify}},9744:function(t,e,r){"use strict";
/*!
 * jwe/decrypt.js - Decrypt from a JWE
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(17969),i=r(33119),s=r(36499),o=r(31661),a=r(91811),c={algorithms:"*"};function u(t,e){var r,u;if(s.isKey(t))u=(r=t).keystore;else{if(!s.isKeyStore(t))throw new TypeError("Keystore must be provided");u=t}e=o(c,e),Object.defineProperty(this,"decrypt",{value:function(t,c){var l,h,f,d,p,m=(c=o({},e,c||{})).handlers||{},g=Object.keys(m),y=new i(c.algorithms);if("string"==typeof t)t={protected:(t=t.split("."))[0],recipients:[{encrypted_key:t[1]}],iv:t[2],ciphertext:t[3],tag:t[4]};else if(!t||"object"!=typeof t)throw new Error("invalid input");return"encrypted_key"in t&&(t.recipients=[{encrypted_key:t.encrypted_key}]),Promise.resolve(t.recipients||[{}]).then(function(e){if(t.protected){h=n.decode(t.protected).toString("utf8");var r=(h=JSON.parse(h)).crit;if(r){if(!Array.isArray(r))return Promise.reject(new Error("Invalid 'crit' header"));for(var i=0;r.length>i;i++)if(-1===g.indexOf(r[i]))return Promise.reject(new Error("Critical extension is not supported: "+r[i]))}l=h,h=Object.keys(h)}else l={},h=[];return l=o(t.unprotected||{},l),e=e.map(function(t){var e=Promise.resolve(),r=t.header||{};return r=o(r,l),t.header=r,t.protected=h,y.match(r.alg)||(e=e.then(function(){return Promise.reject(new Error("Algorithm not allowed: "+r.alg))})),y.match(r.enc)||(e=e.then(function(){return Promise.reject(new Error("Algorithm not allowed: "+r.enc))})),r.epk&&(e=(e=e.then(function(){return s.asKey(r.epk)})).then(function(t){r.epk=t.toObject(!1)})),e.then(function(){return t})}),Promise.all(e)}).then(function(t){var e={};return new Promise(function(i,o){var a=function(){var c=t.shift();if(c){var l=Promise.resolve(c);(l=(l=l.then(function(t){var e=p=t.encrypted_key||"";return e=n.decode(e),(f=r||u.get({use:"enc",alg:t.header.alg,kid:t.header.kid}))?f.unwrap(t.header.alg,e,t.header):Promise.reject()})).then(function(t){d={kty:"oct",k:n.encode(t)},d=s.asKey(d),e.key=f,e.header=c.header,e.protected=c.protected,i(e)})).catch(a)}else o(new Error("no key found"))};a()})}).then(function(e){return e.iv=t.iv,e.tag=t.tag,e.ciphertext=t.ciphertext,e}).then(function(t){var e=[];return g.forEach(function(r){var n;"function"==typeof(r=m[r])?n=r(t):"object"==typeof r&&"function"==typeof r.prepare&&(n=r.prepare(t)),n&&e.push(Promise.resolve(n))}),Promise.all(e).then(function(){return t})}).then(function(t){return Buffer.isBuffer(t.ciphertext)||(t.ciphertext=n.decode(t.ciphertext)),t}).then(function(e){var r=t.protected;"aad"in t&&null!=t.aad&&(r+="."+t.aad);var n={iv:e.iv,adata:r,tag:e.tag,kdata:p,epu:e.epu,epv:e.epv},i=e.ciphertext;return delete e.iv,delete e.tag,delete e.ciphertext,d.then(function(t){return t.decrypt(e.header.enc,i,n).then(function(t){return e.payload=e.plaintext=t,e})})}).then(function(t){return"DEF"===t.header.zip?new Promise(function(e,r){try{var n=a.inflateRaw(Buffer.from(t.plaintext));t.payload=t.plaintext=Buffer.from(n),e(t)}catch(i){r(i)}}):t}).then(function(t){var e=[];return g.forEach(function(r){var n;"object"==typeof(r=m[r])&&"function"==typeof r.complete&&(n=r.complete(t)),n&&e.push(Promise.resolve(n))}),Promise.all(e).then(function(){return t})})}})}t.exports={decrypter:u,createDecrypt:function(t,e){return new u(t,e)}}},95273:function(t){"use strict";
/*!
 * jwe/defaults.js - Defaults for JWEs
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */t.exports={zip:!1,format:"general",contentAlg:"A128CBC-HS256",protect:"*"}},34781:function(t,e,r){"use strict";
/*!
 * jwe/encrypt.js - Encrypt to a JWE
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(16829),i=r(15431).generateCEK,s=r(36499),o=r(15431).slice,a=r(91811),c=r(10200),u=r(49598),l=r(29986),h=r(95273);function f(t,e,r){var o=!1,h=t.format||"general",f=!!t.protectAll,d=Buffer.alloc(0);Object.defineProperty(this,"zip",{get:function(){return e.zip||""},enumerable:!0}),Object.defineProperty(this,"compact",{get:function(){return"compact"===h},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return h},enumerable:!0}),Object.defineProperty(this,"protected",{get:function(){return l(t.protect)},enumerable:!0}),Object.defineProperty(this,"header",{get:function(){return l(e)},enumerable:!0}),Object.defineProperty(this,"update",{value:function(t,e){if(o)throw new Error("already final");return null!=t&&(t=n.asBuffer(t,e),d=d.length?Buffer.concat([d,t],d.length+t.length):t),this}}),Object.defineProperty(this,"final",{value:function(p,m){if(o)return Promise.reject(new Error("already final"));this.update(p,m),o=!0;var g,y=Promise.resolve({}),v=e.enc;y=(y=y.then(function(e){return t.cek&&(g=s.asKey(t.cek)),e})).then(function(o){var a=Promise.all(r);return(a=a.then(function(r){var o=1===r.length;return r=r.map(function(r){return function(r,o){var a={};a=u(a,e),a=u(a,r.header);var c,h,f=r.key,d=a.alg;return 0===(a.alg||"").indexOf("ECDH-ES")?(c=f.keystore.temp(),h=r.epk?Promise.resolve(r.epk).then(function(t){r.header.epk=t.toJSON(!1,["kid"]),a.epk=t.toObject(!0,["kid"])}):c.generate("EC",f.get("crv")).then(function(t){r.header.epk=t.toJSON(!1,["kid"]),a.epk=t.toObject(!0,["kid"])})):h=Promise.resolve(),(h=h.then(function(){var r,n;return"dir"===d&&o?n=(g=Promise.resolve(f)).then(function(t){return v||(a.enc=e.enc=v=t.algorithms(s.MODE_ENCRYPT)[0]),{once:!0,direct:!0}}):(g||(v||(a.enc=e.enc=v=t.contentAlg),g=i(v)),n=(n=g.then(function(t){return r=t.get("k",!0),f})).then(function(t){return t.wrap(d,r,a)})),n})).then(function(t){if(t.once&&!o)return Promise.reject(new Error("cannot use 'alg':'"+d+"' with multiple recipients"));var e,i={};return t.data&&(e=n.base64url.encode(e=t.data)),t.direct&&e?g=s.asKey({kty:"oct",k:e}):e&&(i.encrypted_key=e),r.header&&Object.keys(r.header).length&&(i.header=l(r.header||{})),t.header&&(i.header=u(i.header||{},t.header)),i})}(r,o)}),Promise.all(r)})).then(function(t){return o.recipients=t.filter(function(t){return!!t}),o})});var b={};switch(y=(y=(y=y.then(function(r){var i,s,o,a;return o=l(e),f&&1===r.recipients.length||"compact"===h?(i={},i=u({},o,r.recipients[0].header),s=Object.keys(i).length,o=void 0,a=0,delete r.recipients[0].header,0===Object.keys(r.recipients[0]).length&&r.recipients.splice(0,1)):(i={},s=0,a=Object.keys(o).length,t.protect.forEach(function(t){t in o&&(i[t]=o[t],s++,delete o[t],a--)}),r.recipients=(r.recipients||[]).map(function(t){var e=(t=t||{}).header;return e&&(Object.keys(e).forEach(function(t){t in i&&delete e[t]}),Object.keys(e).length||delete t.header),t})),r.recipients&&0!==r.recipients.length||delete r.recipients,o&&a>0&&(b=u(b,o),r.unprotected=o),i&&s>0&&(b=u(b,i),i=JSON.stringify(i),r.protected=n.base64url.encode(i,"utf8")),r})).then(function(t){var e=d;return b.zip?"DEF"===b.zip?new Promise(function(r,n){try{var i=a.deflateRaw(Buffer.from(e,"binary"));t.plaintext=i,r(t)}catch(s){n(s)}}):Promise.reject(new Error("unsupported 'zip' mode")):(t.plaintext=e,t)})).then(function(e){b.adata=e.protected,"aad"in t&&null!=t.aad&&(b.adata+="."+t.aad,b.adata=Buffer.from(b.adata,"utf8"));var r=t.iv||n.randomBytes(c.NONCELENGTH[v]/8);"string"==typeof r&&(r=n.base64url.decode(r)),b.iv=r,"recipients"in e&&1===e.recipients.length&&(b.kdata=e.recipients[0].encrypted_key),"epu"in t&&null!=t.epu&&(b.epu=t.epu),"epv"in t&&null!=t.epv&&(b.epv=t.epv);var i=e.plaintext;return delete e.plaintext,g.then(function(s){return s.encrypt(v,i,b).then(function(i){return e.iv=n.base64url.encode(r,"binary"),"aad"in t&&null!=t.aad&&(e.aad=t.aad),e.ciphertext=n.base64url.encode(i.data,"binary"),e.tag=n.base64url.encode(i.tag,"binary"),e})})}),h){case"compact":y=y.then(function(t){var e=new Array(5);return e[0]=t.protected,t.recipients&&t.recipients[0]&&(e[1]=t.recipients[0].encrypted_key),e[2]=t.iv,e[3]=t.ciphertext,e[4]=t.tag,e.join(".")});break;case"flattened":y=y.then(function(t){var e={},r=t.recipients&&t.recipients[0];return t.protected&&(e.protected=t.protected),t.unprotected&&(e.unprotected=t.unprotected),["header","encrypted_key"].forEach(function(t){r&&t in r&&r[t]&&("object"!=typeof r[t]||Object.keys(r[t]).length)&&(e[t]=r[t])}),t.aad&&(e.aad=t.aad),e.iv=t.iv,e.ciphertext=t.ciphertext,e.tag=t.tag,e});break;case"general":y=y.then(function(t){var e=t.recipients||[];return(e=(e=e.map(function(t){if(Object.keys(t).length)return t})).filter(function(t){return!!t})).length?t.recipients=e:delete t.recipients,t})}return y}})}t.exports={encrypter:f,createEncrypt:function(t,e){var r=t,i=1,a=e;if(0===arguments.length)throw new Error("at least one recipient must be provided");1===arguments.length||s.isKey(t)||t&&"kty"in t||t&&"key"in t&&(s.isKey(t.key)||"kty"in t.key)?(a=t,i=0,r={}):r=l(t),Array.isArray(a)||(a=o(arguments,i)),r=u(l(h),r);var c=l(r.fields||{});switch(r.zip&&(c.zip="boolean"==typeof r.zip?!!r.zip&&"DEF":r.zip),r.format=(r.compact?"compact":r.format)||"general",r.format){case"compact":if("aad"in t)throw new Error("additional authenticated data cannot be used for compact serialization");case"flattened":if(a.length>1)throw new Error("too many recipients for compact serialization")}var d=!1;if("compact"===r.format||"*"===r.protect)d=!0,r.protect=Object.keys(c).concat("enc");else if("string"==typeof r.protect)r.protect=[r.protect];else if(Array.isArray(r.protect))r.protect=r.protect.concat();else{if(r.protect)throw new Error("protect must be a list of fields");r.protect=[]}if(d&&1<a.length)throw new Error("too many recipients to protect all header parameters");a=a.map(function(t,e){var r;return r=t&&"kty"in t?(r=s.asKey(t)).then(function(t){return{key:t}}):t?(r=s.asKey(t.key)).then(function(e){return{header:t.header,reference:t.reference,key:e}}):Promise.reject(new Error("missing key for recipient "+e)),t.epk&&(r=r.then(function(e){return s.asKey(t.epk).then(function(t){return e.epk=t,e})})),r.then(function(t){var r=t.key,n=t.header||{};t.header=n;var i={};if(i=u(i,c),(i=u(i,t.header)).alg||(i.alg=r.algorithms(s.MODE_WRAP)[0],n.alg=i.alg),!i.alg)return Promise.reject(new Error("key not valid for encrypting to recipient "+e));n.alg=i.alg;var o,a=t.reference;if(delete t.reference,void 0===a?a=(a=["kid","jku","x5c","x5t","x5u"].some(function(t){return t in n}))?null:"kid":"boolean"==typeof a&&(a=a?"kid":null),a)if(o=r.toJSON(),"jwk"===a){if("oct"===r.kty)return Promise.reject(new Error("cannot embed key"));n.jwk=o}else a in o&&(n[a]=o[a]);return Object.freeze(t)})});var p={aad:"aad"in r?n.base64url.encode(r.aad||""):null,contentAlg:r.contentAlg,format:r.format,protect:r.protect,cek:r.cek,iv:r.iv,protectAll:d},m=new f(p,c,a);return m}}},15431:function(t,e,r){"use strict";
/*!
 * jwe/helpers.js - JWE Internal Helper Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(10200),i=r(36499);t.exports={slice:function(t,e){return Array.prototype.slice.call(t,e||0)},generateCEK:function(t){var e=i.createKeyStore(),r=n.KEYLENGTH[t];if(r)return e.generate("oct",r);throw new Error("unsupported encryption algorithm")}}},34481:function(t,e,r){"use strict";
/*!
 * jwe/index.js - JSON Web Encryption (JWE) Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n={createEncrypt:r(34781).createEncrypt,createDecrypt:r(9744).createDecrypt};t.exports=n},16030:function(t,e,r){"use strict";
/*!
 * jwk/basekey.js - JWK Key Base Class Implementation
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(31661),i=r(71351),s=r(49598),o=r(29986),a=r(73680),c=r(10631),u=r(27675),l=r(56071),h=r(35243),f=r(50362),d=r(30238),p=r(92767),m=r(16829);t.exports=function(t,e,r,g){if(!t)throw new Error("kty cannot be null");if(!e)throw new Error("keystore cannot be null");if(!r)throw new Error("props cannot be null");if("string"==typeof r&&(r=JSON.parse(r)),!g)throw new Error("cfg cannot be null");var y,v,b=[],_={},w={};r=o(r),y=s({},r[p.INTERNALS.THUMBPRINT_KEY]||{}),delete r[p.INTERNALS.THUMBPRINT_KEY],Object.keys(y).forEach(function(t){var e=y[t];v||(v=e,Buffer.isBuffer(v)&&(v=m.base64url.encode(v))),Buffer.isBuffer(e)||(e=m.base64url.decode(e),y[t]=e)}),r.kty=t,r.kid=r.kid||v||i();var S,E=Object.keys(p.COMMON_PROPS).map(function(t){return p.COMMON_PROPS[t].name});w.base=l(r,E),b=b.concat(Object.keys(w.base)),w.public=o(r),_.public=g.publicKey(w.public),_.public&&(b=b.concat(Object.keys(w.public))),w.private=o(r),_.private=g.privateKey(w.private),_.private&&(b=b.concat(Object.keys(w.private))),w.extra=u(r,b),S=_.public&&"length"in _.public?_.public.length:_.private&&"length"in _.private?_.private.length:NaN,Object.defineProperty(this,"keystore",{value:e,enumerable:!0}),Object.defineProperty(this,"length",{value:S,enumerable:!0}),Object.defineProperty(this,"kty",{value:t,enumerable:!0}),Object.defineProperty(this,"kid",{value:w.base.kid,enumerable:!0}),Object.defineProperty(this,"use",{value:w.base.use||"",enumerable:!0}),Object.defineProperty(this,"alg",{value:w.base.alg||"",enumerable:!0}),Object.defineProperty(this,"thumbprint",{value:function(t){return t=(t||p.INTERNALS.THUMBPRINT_HASH).toUpperCase(),y[t]?Promise.resolve(y[t]):p.thumbprint(g,w,t).then(function(e){return e&&(y[t]=e),e})}}),Object.defineProperty(this,"algorithms",{value:function(e){var r=[];this.use&&"sig"!==this.use||(e&&d.MODE_SIGN!==e||r.push(d.MODE_SIGN),e&&d.MODE_VERIFY!==e||r.push(d.MODE_VERIFY)),this.use&&"enc"!==this.use||(e&&d.MODE_ENCRYPT!==e||r.push(d.MODE_ENCRYPT),e&&d.MODE_DECRYPT!==e||r.push(d.MODE_DECRYPT),e&&d.MODE_WRAP!==e||r.push(d.MODE_WRAP),e&&d.MODE_UNWRAP!==e||r.push(d.MODE_UNWRAP));var n=this,i=r.map(function(t){return g.algorithms.call(n,_,t)});return i=a(i),i=h(i),this.alg&&(i=c(i,"oct"===t?[this.alg,"dir"]:[this.alg])),i}}),Object.defineProperty(this,"supports",{value:function(t,e){return-1!==this.algorithms(e).indexOf(t)}}),Object.defineProperty(this,"has",{value:function(t,e){var r=!1;return(r=(r=(r=r||!(!w.base||!(t in w.base)))||!(!_.public||!(t in _.public)))||!(!w.extra||!(t in w.extra)))||!!(e&&_.private&&t in _.private)}}),Object.defineProperty(this,"get",{value:function(t,e){var r;return w.base&&t in w.base?r=w.base:_.public&&t in _.public?r=_.public:w.extra&&t in w.extra?r=w.extra:e&&_.private&&t in _.private&&(r=_.private),r&&r[t]||null}}),Object.defineProperty(this,"toJSON",{value:function(t,e){Array.isArray(t)&&(e=t,t=!1);var r={};return r=n(r,w.base,w.public,"boolean"==typeof t&&t?w.private:{},w.extra),u(r,e||[])}}),Object.defineProperty(this,"toPEM",{value:function(t){if(null===t&&(t=!1),!g.convertToPEM)throw new Error("Unsupported key type for PEM encoding");var e=t?_.private:_.public;if(!e)throw new Error("Invalid key");return g.convertToPEM.call(this,e,t)}}),Object.defineProperty(this,"toObject",{value:function(t,e){Array.isArray(t)&&(e=t,t=!1);var r={};return r=n(r,w.base,_.public,"boolean"==typeof t&&t?_.private:{},w.extra),u(r,(e||[]).concat("length"))}}),Object.defineProperty(this,"sign",{value:function(t,e,r){if(-1===this.algorithms("sign").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var i=g.signKey.call(this,t,_);return i?(r=r?o(r):{},g.signProps&&(r=n(r,g.signProps.call(this,t,r))),f.sign(t,i,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"verify",{value:function(t,e,r,i){if(-1===this.algorithms("verify").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var s=g.verifyKey.call(this,t,_);return s?(i=i?o(i):{},g.verifyProps&&(i=n(i,g.verifyProps.call(this,t,i))),f.verify(t,s,e,r,i)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"encrypt",{value:function(t,e,r){if(-1===this.algorithms("encrypt").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var i=g.encryptKey.call(this,t,_);return i?(r=r?o(r):{},g.encryptProps&&(r=n(r,g.encryptProps.call(this,t,r))),f.encrypt(t,i,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"decrypt",{value:function(t,e,r){if(-1===this.algorithms("decrypt").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var i=g.decryptKey.call(this,t,_);return i?(r=r?o(r):{},g.decryptProps&&(r=n(r,g.decryptProps.call(this,t,r))),f.decrypt(t,i,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"wrap",{value:function(t,e,r){if(-1===this.algorithms("wrap").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var i=g.wrapKey.call(this,t,_);return i?(r=r?o(r):{},g.wrapProps&&(r=n(r,g.wrapProps.call(this,t,r))),f.encrypt(t,i,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"unwrap",{value:function(t,e,r){if(-1===this.algorithms("unwrap").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var i=g.unwrapKey.call(this,t,_);return i?(r=r?o(r):{},g.unwrapProps&&(r=n(r,g.unwrapProps.call(this,t,r))),f.decrypt(t,i,e,r)):Promise.reject(new Error("improper key"))}})}},30238:function(t){"use strict";
/*!
 * jwk/constants.js - Constants for JWKs
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */t.exports={MODE_SIGN:"sign",MODE_VERIFY:"verify",MODE_ENCRYPT:"encrypt",MODE_DECRYPT:"decrypt",MODE_WRAP:"wrap",MODE_UNWRAP:"unwrap"}},27152:function(t,e,r){"use strict";
/*!
 * jwk/rsa.js - RSA Key Representation
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(39902),i=r(17337),s=r(28946),o={BaseKey:r(16030),helpers:r(92767)},a=["ES256","ES384","ES512"],c=["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"],u=n.EC_OID;function l(t){switch(t){case"1.2.840.10045.3.1.7":return"P-256";case"1.3.132.0.34":return"P-384";case"1.3.132.0.35":return"P-521";default:return null}}var h={publicKey:function(t){var e=o.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"}]),r=o.helpers.unpackProps(t,e);return r&&r.crv&&r.x&&r.y?r.length=n.curveSize(r.crv):(delete r.crv,delete r.x,delete r.y),r},privateKey:function(t){var e=o.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"},{name:"d",type:"binary"}]),r=o.helpers.unpackProps(t,e);return r&&r.crv&&r.x&&r.y&&r.d?r.length=n.curveSize(r.crv):r=void 0,r},thumbprint:function(t){return t.public&&(t=t.public),{crv:t.crv,kty:"EC",x:t.x,y:t.y}},algorithms:function(t,e){var r=t.public&&t.public.length||t.private&&t.private.length||0;switch(521===r&&(r=512),e){case"encrypt":case"decrypt":return[];case"wrap":return t.public&&c||[];case"unwrap":return t.private&&c||[];case"sign":return t.private?a.filter(function(t){return t==="ES"+r}):[];case"verify":return t.public?a.filter(function(t){return t==="ES"+r}):[]}},encryptKey:function(t,e){return e.public},decryptKey:function(t,e){return e.private},wrapKey:function(t,e){return e.public},unwrapKey:function(t,e){return e.private},signKey:function(t,e){return e.private},verifyKey:function(t,e){return e.public}};h.convertToPEM=n.convertToPEM;var f={oid:u,privateKey:{name:"ECPrivateKey",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{tagClass:i.asn1.Class.CONTEXT_SPECIFIC,name:"ECPrivateKey.parameters",constructed:!0,value:[{name:"ECPrivateKey.namedCurve",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.OID,constructed:!1,capture:"crv"}]},{name:"ECPrivateKey.publicKey",tagClass:i.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]},embeddedPrivateKey:{name:"ECPrivateKey",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{name:"ECPrivateKey.publicKey",tagClass:i.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]}},d={kty:"EC",validators:f,prepare:function(t){var e=h,r=Promise.resolve(t);return(r=r.then(function(t){return o.helpers.thumbprint(e,t)})).then(function(r){var n={};return n[o.helpers.INTERNALS.THUMBPRINT_HASH]=r,t[o.helpers.INTERNALS.THUMBPRINT_KEY]=n,e})},generate:function(t){var e=s.generateKeyPair(t);return Promise.resolve({crv:t,x:e.public.x,y:e.public.y,d:e.private.d})},import:function(t){if(f.oid!==t.keyOid)return null;var e;if(t.keyParams&&i.asn1.Type.OID===t.keyParams.type?e=l(e=i.asn1.derToOid(t.keyParams.value)):t.crv&&(e=l(e=i.asn1.derToOid(t.crv))),!e)return null;if(!t.parsed){var r={};if("private"===t.type){if("string"==typeof t.keyValue?t.keyValue=i.asn1.fromDer(t.keyValue):Array.isArray(t.keyValue)&&(t.keyValue=t.keyValue[0]),!i.asn1.validate(t.keyValue,f.embeddedPrivateKey,r,[]))return null}else r.point=t.keyValue;t=r}var n={kty:"EC",crv:e};if(t.d&&(n.d=Buffer.from(t.d,"binary")),t.point){var s=Buffer.from(t.point,"binary");if(4!==s.readUInt16BE(0))return null;var o=(s=s.slice(2)).length/2;n.x=s.slice(0,o),n.y=s.slice(o)}return n}};t.exports=Object.freeze({config:h,factory:d}),r(54211).registry.register(d)},92767:function(t,e,r){"use strict";
/*!
 * jwk/helpers.js - JWK Internal Helper Functions and Constants
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(29986),i=r(16829),s=r(17337),o=r(50362),a={name:"SubjectPublicKeyInfo",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.BITSTRING,constructed:!1,capture:"keyValue"}]},c={THUMBPRINT_KEY:"internal\0thumbprint",THUMBPRINT_HASH:"SHA-256"};t.exports={validators:{privateKey:{name:"PrivateKeyInfo",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.INTEGER,constructed:!1,capture:"keyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"PrivateKeyInfo",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.OCTETSTRING,constructed:!1,capture:"keyValue"}]},publicKey:a,certificate:{name:"Certificate",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:s.asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:s.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},a,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:s.asn1.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.BITSTRING,constructed:!1,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:s.asn1.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.BITSTRING,constructed:!1,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:s.asn1.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:s.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.BITSTRING,constructed:!1,capture:"certSignature"}]}},thumbprint:function(t,e,r){if("function"!=typeof t.thumbprint)return Promise.reject(new Error("thumbprint not supported"));r=(r||c.THUMBPRINT_HASH).toUpperCase();var n=t.thumbprint(e),s=Object.keys(n).sort().map(function(t){var e=n[t];return Buffer.isBuffer(e)&&(e=i.base64url.encode(e)),JSON.stringify(t)+":"+JSON.stringify(e)});s="{"+s.join(",")+"}";try{return o.digest(r,Buffer.from(s,"utf8"))}catch(a){return Promise.reject(a)}},unpackProps:function(t,e){var r;e.forEach(function(e){if(e.name in t){r=r||{};var s=t[e.name];switch(e.type){case"binary":Buffer.isBuffer(s)?t[e.name]=i.base64url.encode(s):s=i.base64url.decode(s);break;case"string":case"number":case"boolean":break;case"array":s=[].concat(s);break;case"object":s=n(s)}r[e.name]=s}});var s=r||{};return Object.keys(t).forEach(function(e){e in s||delete t[e]}),r},COMMON_PROPS:[{name:"kty",type:"string"},{name:"kid",type:"string"},{name:"use",type:"string"},{name:"alg",type:"string"},{name:"x5c",type:"array"},{name:"x5t",type:"binary"},{name:"x5u",type:"string"},{name:"key_ops",type:"array"}],INTERNALS:c}},36499:function(t,e,r){"use strict";
/*!
 * jwk/index.js - JSON Web Key (JWK) Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(54211);Object.keys(n.KeyStore).forEach(function(t){e[t]=n.KeyStore[t]});var i=r(30238);Object.keys(i).forEach(function(t){e[t]=i[t]}),r(69742),r(19807),r(27152)},54211:function(t,e,r){"use strict";
/*!
 * jwk/keystore.js - JWK KeyStore Implementation
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(29986),i=r(31661),s=r(17337),o=r(16829),a={BaseKey:r(16030),helpers:r(92767)},c=function(){var t={};Object.defineProperty(this,"register",{value:function(e){if(!e||"string"!=typeof e.kty||!e.kty)throw new Error("invalid Key factory");return t[e.kty]=e,this}}),Object.defineProperty(this,"unregister",{value:function(e){if(!e||"string"!=typeof e.kty||!e.kty)throw new Error("invalid Key factory");var r=e.kty;return e===t[r]&&delete t[r],this}}),Object.defineProperty(this,"get",{value:function(e){return t[e||""]||void 0}}),Object.defineProperty(this,"all",{value:function(){return Object.keys(t).map(function(e){return t[e]})}})},u=new c,l=function(t,e){var r={};Object.defineProperty(this,"generate",{value:function(e,r,s){var o=t.get(e);if(!o)return Promise.reject(new Error("unsupported key type"));(s=n(s||{})).kty=e;var a=this;return o.generate(r).then(function(t){return t=i(s,t,{kty:e}),a.add(t)})}}),Object.defineProperty(this,"add",{value:function(e,i,c){var h;if(c=c||{},Buffer.isBuffer(e)||"string"==typeof e)if("json"===(i=(i||"json").toLowerCase()))e=JSON.parse(e.toString("utf8"));else try{if(h="pem"===i?function(t){var e={};if(!s.pem.decode(t).some(function(t){switch(t.type){case"CERTIFICATE":e.form="pkix";break;case"PUBLIC KEY":e.form="spki";break;case"PRIVATE KEY":e.form="pkcs8";break;case"EC PRIVATE KEY":case"RSA PRIVATE KEY":e.form="private";break;default:return!1}return e.body=t.body,!0}))throw new Error("supported PEM type not found");return e}(e):{body:e.toString("binary"),form:i},!(e=function(t,e){var r,n={},i=[],c=e.form,l=e.body,h=null;switch(e=s.asn1.fromDer(l),c){case"private":t.all().some(function(t){if(r)return!1;if(!t.validators)return!1;var o=t.validators.oid,a=t.validators.privateKey;return!!a&&((r=s.asn1.validate(e,a,n={},i=[]))&&(n.keyOid=s.asn1.oidToDer(o),n.parsed=!0),r)}),n.type="private";break;case"pkcs8":r=s.asn1.validate(e,a.helpers.validators.privateKey,n,i),n.type="private";break;case"public":case"spki":r=s.asn1.validate(e,a.helpers.validators.publicKey,n,i),n.type="public";break;case"pkix":case"x509":if(r=s.asn1.validate(e,a.helpers.validators.certificate,n,i)){n=function(t){return["certIssuer","certSubject"].forEach(function(e){var r=s.pki.RDNAttributesAsArray(t[e]),n=t[e]={};r.forEach(function(t){n[t.name||t.type]=t.value})}),t}(n);var f=s.md.sha1.create();f.update(l),h=o.base64url.encode(Buffer.from(f.digest().toHex(),"hex"))}n.type="public"}return r?(n.keyOid&&(n.keyOid=s.asn1.derToOid(n.keyOid)),r=null,u.all().forEach(function(t){r||t&&"function"==typeof t.import&&(r=t.import(n))}),r&&n.certSubject&&n.certSubject.commonName&&(r.kid=n.certSubject.commonName),r&&h&&(r.x5t=h),r):null}(t,h)))throw new Error("no importer for key");Object.keys(c).forEach(function(t){e[t]=c[t]})}catch(p){return Promise.reject(p)}else e=l.isKey(e)?e.toJSON(!0):n(e);var f=t.get(e.kty);if(!f)return Promise.reject(new Error("unsupported key type"));var d=this;return f.prepare(e).then(function(t){return new a.BaseKey(e.kty,d,e,t)}).then(function(t){var e=t.kid||"";return(r[e]=r[e]||[]).push(t),t})}}),Object.defineProperty(this,"remove",{value:function(t){if(t){var e=r[t.kid];if(e){var n=e.indexOf(t);-1!==n&&(e.splice(n,1),e.length||delete r[t.kid])}}}}),Object.defineProperty(this,"all",{value:function(t,n){null!=(t=t||{}).kid&&"string"!=typeof t.kid&&(t.kid=String(t.kid));var i=[],s=function(e){return(!t.kty||!e.kty||t.kty===e.kty)&&(!t.use||!e.use||t.use===e.use)&&(!t.alg||("dir"===t.alg||!e.alg||t.alg===e.alg)&&e.supports(t.alg))};return Object.keys(r).forEach(function(e){if(!t.kid||t.kid===e){var n=r[e].filter(s);n.length&&(i=i.concat(n))}}),!n&&e&&(i=i.concat(e.all(t))),i}}),Object.defineProperty(this,"get",{value:function(t,r,n){"boolean"==typeof t?(n=t,r=t=null):"object"==typeof t&&(n=r,r=t,t=null),r=r||{},t&&(r.kid=t),null!=r.kid&&"string"!=typeof r.kid&&(r.kid=String(r.kid));var i=this.all(r,!0);return i.length||!e||n||(i=e.get(r,n)),i[0]||null}}),Object.defineProperty(this,"temp",{value:function(){return new l(t,this)}}),Object.defineProperty(this,"toJSON",{value:function(t){var e=[];return Object.keys(r).forEach(function(n){var i=r[n].map(function(e){return e.toJSON(t)});e=e.concat(i)}),{keys:e}}})};l.isKeyStore=function(t){return!!t&&"object"==typeof t&&"function"==typeof t.get&&"function"==typeof t.all&&"function"==typeof t.generate&&"function"==typeof t.add&&"function"==typeof t.remove},l.createKeyStore=function(){return new l(u)},l.asKeyStore=function(t){if(l.isKeyStore(t))return Promise.resolve(t);var e,r=l.createKeyStore();if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t))e=t;else{if(!("keys"in t))return Promise.reject(new Error("invalid keystore"));e=t.keys}return e=e.map(function(t){return r.add(t)}),Promise.all(e).then(function(){return r})},l.isKey=function(t){return!!t&&"object"==typeof t&&!!l.isKeyStore(t.keystore)&&"string"==typeof t.kty&&"number"==typeof t.length&&"function"==typeof t.algorithms&&"function"==typeof t.supports&&"function"==typeof t.encrypt&&"function"==typeof t.decrypt&&"function"==typeof t.wrap&&"function"==typeof t.unwrap&&"function"==typeof t.sign&&"function"==typeof t.verify},l.createKey=function(t,e,r){return l.createKeyStore().generate(t,e,r)},l.asKey=function(t,e,r){return l.isKey(t)?Promise.resolve(t):t=l.createKeyStore().add(t,e,r)},t.exports={KeyRegistry:c,KeyStore:l,registry:u}},69742:function(t,e,r){"use strict";
/*!
 * jwk/octkey.js - Symmetric Octet Key Representation
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(16829),i={BaseKey:r(16030),helpers:r(92767)},s=["HS256","HS384","HS512"],o=["A128GCM","A192GCM","A256GCM","A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"],a=["A128KW","A192KW","A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW","dir"];function c(t,e){return"iv"in e&&(e.iv=Buffer.isBuffer(e.iv)?e.iv:n.base64url.decode(e.iv||"")),"adata"in e&&(e.adata=Buffer.isBuffer(e.adata)?e.adata:Buffer.from(e.adata||"","utf8")),"mac"in e&&(e.mac=Buffer.isBuffer(e.mac)?e.mac:n.base64url.decode(e.mac||"")),"tag"in e&&(e.tag=Buffer.isBuffer(e.tag)?e.tag:n.base64url.decode(e.tag||"")),e}function u(t,e){return"iv"in e&&(e.iv=Buffer.isBuffer(e.iv)?e.iv:n.base64url.decode(e.iv||"")),"adata"in e&&(e.adata=Buffer.isBuffer(e.adata)?e.adata:Buffer.from(e.adata||"","utf8")),e}var l={publicKey:function(t){var e=i.helpers.COMMON_PROPS.concat([]);return i.helpers.unpackProps(t,e)},privateKey:function(t){var e,r=i.helpers.COMMON_PROPS.concat([{name:"k",type:"binary"}]);return(e=i.helpers.unpackProps(t,r))&&e.k?e.length=8*e.k.length:e=void 0,e},thumbprint:function(t){return t.private&&(t=t.private),{k:t.k||"",kty:"oct"}},algorithms:function(t,e){var r=t.private&&8*t.private.k.length,n=[256,384,512];if(!r)return[];switch(e){case"encrypt":case"decrypt":return o.filter(function(t){return t==="A"+r/2+"CBC-HS"+r||t==="A"+r/2+"CBC+HS"+r||t==="A"+r+"GCM"});case"sign":case"verify":return s.filter(function(t){var e=!1;return n.forEach(function(n){n>r||(e|=t==="HS"+n)}),e});case"wrap":case"unwrap":return a.filter(function(t){return t==="A"+r+"KW"||t==="A"+r+"GCMKW"||0===t.indexOf("PBES2-")||"dir"===t})}return[]},encryptKey:function(t,e){return e.private&&e.private.k},encryptProps:u,decryptKey:function(t,e){return e.private&&e.private.k},decryptProps:c,wrapKey:function(t,e){return e.private&&e.private.k},wrapProps:u,unwrapKey:function(t,e){return e.private&&e.private.k},unwrapProps:c,signKey:function(t,e){return e.private&&e.private.k},verifyKey:function(t,e){return e.private&&e.private.k}},h={kty:"oct",prepare:function(t){var e=l,r=Promise.resolve(t);return(r=r.then(function(t){return i.helpers.thumbprint(e,t)})).then(function(r){var n={};return n[i.helpers.INTERNALS.THUMBPRINT_HASH]=r,t[i.helpers.INTERNALS.THUMBPRINT_KEY]=n,e})},generate:function(t){var e=n.randomBytes(t/8);return Promise.resolve({k:e})}};t.exports=Object.freeze({config:l,factory:h}),r(54211).registry.register(h)},19807:function(t,e,r){"use strict";
/*!
 * jwk/rsa.js - RSA Key Representation
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(17337),i=r(75447),s=r(48543).nodeCrypto,o={BaseKey:r(16030),helpers:r(92767)},a=["RS256","RS384","RS512","PS256","PS384","PS512"],c=["RSA-OAEP","RSA-OAEP-256","RSA1_5"],u={publicKey:function(t){var e,r=o.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"}]);return(e=o.helpers.unpackProps(t,r))&&e.n&&e.e?e.length=8*e.n.length:(delete e.e,delete e.n),e},privateKey:function(t){var e,r=o.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"},{name:"d",type:"binary"},{name:"p",type:"binary"},{name:"q",type:"binary"},{name:"dp",type:"binary"},{name:"dq",type:"binary"},{name:"qi",type:"binary"}]);return(e=o.helpers.unpackProps(t,r))&&e.d&&e.n&&e.e&&e.p&&e.q&&e.dp&&e.dq&&e.qi?e.length=8*e.d.length:e=void 0,e},thumbprint:function(t){return t.public&&(t=t.public),{e:t.e,kty:"RSA",n:t.n}},algorithms:function(t,e){switch(e){case"encrypt":case"decrypt":return[];case"wrap":return t.public&&c.slice()||[];case"unwrap":return t.private&&c.slice()||[];case"sign":return t.private&&a.slice()||[];case"verify":return t.public&&a.slice()||[]}return[]},wrapKey:function(t,e){return e.public},unwrapKey:function(t,e){return e.private},signKey:function(t,e){return e.private},verifyKey:function(t,e){return e.public},convertToPEM:function(t,e){var r=i.convertToForge(t,!e);return e?n.pki.privateKeyToPem(r):n.pki.publicKeyToPem(r)}},l={oid:"1.2.840.113549.1.1.1",privateKey:{name:"RSAPrivateKey",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"version"},{name:"RSAPrivateKey.modulus",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPrivateKey.publicExponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"e"},{name:"RSAPrivateKey.privateExponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"d"},{name:"RSAPrivateKey.prime1",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"p"},{name:"RSAPrivateKey.prime2",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"q"},{name:"RSAPrivateKey.exponent1",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"dp"},{name:"RSAPrivateKey.exponent2",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"dq"},{name:"RSAPrivateKey.coefficient",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"qi"}]},publicKey:{name:"RSAPublicKey",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPublicKey.exponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"e"}]}},h={kty:"RSA",validators:l,prepare:function(t){var e=u,r=Promise.resolve(t);return(r=r.then(function(t){return o.helpers.thumbprint(e,t)})).then(function(r){var n={};return n[o.helpers.INTERNALS.THUMBPRINT_HASH]=r,t[o.helpers.INTERNALS.THUMBPRINT_KEY]=n,e})},generate:function(t){var e;if(s)e=new Promise(function(e,r){n.pki.rsa.generateKeyPair({bits:t,e:65537},function(t,n){if(t)return r(t);e(n.privateKey)})});else{var r=n.pki.rsa.generateKeyPair({bits:t,e:65537});e=Promise.resolve(r.privateKey)}return e.then(function(t){var e={};return["e","n","d","p","q",{incoming:"dP",outgoing:"dp"},{incoming:"dQ",outgoing:"dq"},{incoming:"qInv",outgoing:"qi"}].forEach(function(r){var n,i,s;"string"==typeof r?n=i=r:(n=r.incoming,i=r.outgoing),n in t&&(e[i]=((s=(s=t[n]).toString(16)).length%2&&(s="0"+s),Buffer.from(s,"hex")))}),e})},import:function(t){if(l.oid!==t.keyOid)return null;if(!t.parsed){"string"==typeof t.keyValue?t.keyValue=n.asn1.fromDer(t.keyValue):Array.isArray(t.keyValue)&&(t.keyValue=t.keyValue[0]);var e={};if(!n.asn1.validate(t.keyValue,"private"===t.type?l.privateKey:l.publicKey,e,[]))return null;t=e}var r={kty:"RSA"};return["n","e","d","p","q","dp","dq","qi"].forEach(function(e){if(e in t){var n=Buffer.from(t[e],"binary");0===n[0]&&(n=n.slice(1)),r[e]=n}}),r}};t.exports=Object.freeze({config:u,factory:h}),r(54211).registry.register(h)},2982:function(t){"use strict";
/*!
 * jws/defaults.js - Defaults for JWSs
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */t.exports={compact:!1,protect:"*"}},31400:function(t){"use strict";
/*!
 * jws/helpers.js - JWS Internal Helper Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */t.exports={slice:function(t,e){return Array.prototype.slice.call(t,e||0)}}},55448:function(t,e,r){"use strict";
/*!
 * jws/index.js - JSON Web Signature (JWS) Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n={createSign:r(20664).createSign,createVerify:r(42795).createVerify};t.exports=n},20664:function(t,e,r){"use strict";
/*!
 * jws/sign.js - Sign to JWS
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(31661),i=r(16829),s=r(36499),o=r(31400).slice,a=r(29986),c=r(35243),u=r(2982),l=function(t,e){var r=!1,n=t.format||"general",s=Buffer.alloc(0);Object.defineProperty(this,"compact",{get:function(){return"compact"===n},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return n},enumerable:!0}),Object.defineProperty(this,"update",{value:function(t,e){if(r)throw new Error("already final");return null!=t&&(t=i.asBuffer(t,e),s=s.length?Buffer.concat([s,t],s.length+t.length):t),this}}),Object.defineProperty(this,"final",{value:function(t,o){if(r)return Promise.reject(new Error("already final"));var c;switch(this.update(t,o),r=!0,c=(c=(c=Promise.all(e)).then(function(t){return s=i.base64url.encode(s),t=t.map(function(t){var e={},r=0,n=a(t.header),o=Object.keys(n).length;t.protected.forEach(function(t){t in n&&(e[t]=n[t],r++,delete n[t],o--)}),r>0?(e=JSON.stringify(e),e=i.base64url.encode(e)):e="";var c=Buffer.from(e+"."+s,"ascii");return(t=t.key.sign(t.header.alg,c,t.header)).then(function(t){var s={};return 0<r&&(s.protected=e),0<o&&(s.header=n),s.signature=i.base64url.encode(t.mac),s})}),t=[Promise.resolve(s)].concat(t),Promise.all(t)})).then(function(t){return{payload:t[0],signatures:t.slice(1)}}),n){case"compact":c=c.then(function(t){return[t.signatures[0].protected,t.payload,t.signatures[0].signature].join(".")});break;case"flattened":c=c.then(function(t){var e={};e.payload=t.payload;var r=t.signatures[0];return r.protected&&(e.protected=r.protected),r.header&&(e.header=r.header),e.signature=r.signature,e})}return c}})};t.exports={signer:l,createSign:function(t,e){var r=t,i=1,h=e;if(0===arguments.length)throw new Error("at least one signatory must be provided");1===arguments.length||s.isKey(t)||t&&"kty"in t||t&&"key"in t&&(s.isKey(t.key)||"kty"in t.key)?(h=t,i=0,r={}):r=a(t),Array.isArray(h)||(h=o(arguments,i));var f=(r=n(a(u),r)).fields||{},d=r.format;if(d||(d=r.compact?"compact":"general"),("compact"===d||"flattened"===d)&&1<h.length)throw new Error("too many signatories for compact or flattened JSON serialization");var p="*"===r.protect;r.compact&&(p=!0),h=h.map(function(t,e){return(t&&"kty"in t?s.asKey(t).then(function(t){return{key:t}}):t?s.asKey(t.key).then(function(e){return{header:t.header,reference:t.reference,protect:t.protect,key:e}}):Promise.reject(new Error("missing key for signatory "+e))).then(function(t){var e=t.key,r=t.header||{};r=n(n({},f),r),t.header=r,r.alg||(r.alg=e.algorithms(s.MODE_SIGN)[0]||"");var i,o=t.reference;if(delete t.reference,void 0===o?o=(o=["kid","jku","x5c","x5t","x5u"].some(function(t){return t in r}))?null:"kid":"boolean"==typeof o&&(o=o?"kid":null),o)if(i=e.toJSON(),"jwk"===o){if("oct"===e.kty)return Promise.reject(new Error("cannot embed key"));r.jwk=i}else o in i&&(r[o]=i[o]);var a=t.protect;if(p||"*"===a)a=Object.keys(r);else if("string"===a)a=[a];else if(Array.isArray(a))a=a.concat();else{if(a)return Promise.reject(new Error("protect must be a list of fields"));a=[]}return a=c(a),t.protected=a,Object.freeze(t)})});var m={format:d};return new l(m,h)}}},42795:function(t,e,r){"use strict";
/*!
 * jws/verify.js - Verifies from a JWS
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(29986),i=r(31661),s=r(17969),o=r(33119),a=r(36499),c={algorithms:"*",allowEmbeddedKey:!1},u=function(t,e){var r,u;u=a.isKey(t)?(r=t).keystore:a.isKeyStore(t)?t:a.createKeyStore(),e=i(c,e),Object.defineProperty(this,"defaultKey",{value:r||void 0,enumerable:!0}),Object.defineProperty(this,"keystore",{value:u,enumerable:!0}),Object.defineProperty(this,"verify",{value:function(t,c){var l=(c=i({},e,c||{})).handlers||{},h=Object.keys(l),f=new o(c.algorithms);if("string"==typeof t)t={payload:(t=t.split("."))[1],signatures:[{protected:t[0],signature:t[2]}]};else if(!t||"object"!=typeof t)throw new Error("invalid input");t.signature&&(t.signatures=[{protected:t.protected||void 0,header:t.header||void 0,signature:t.signature}]);var d=t.signatures||[{}];return d=d.map(function(t){var e=n(t.header||{}),r=t.protected?JSON.parse(s.decode(t.protected,"utf8")):{};e=i(e,r);var o=s.decode(t.signature);if(!f.match(e.alg))return Promise.reject(new Error("Algorithm not allowed: "+e.alg));var a=r.crit;if(a){if(!Array.isArray(a))return Promise.reject(new Error("Invalid 'crit' header"));for(var c=0;a.length>c;c++)if(-1===h.indexOf(a[c]))return Promise.reject(new Error("Critical extension is not supported: "+a[c]))}return r=Object.keys(r),Promise.resolve({protected:r,aad:t.protected||"",header:e,signature:o})}),Promise.all(d).then(function(e){return new Promise(function(n,o){var f=function(){var d=e.shift();if(d){d=i({},d,{payload:t.payload});var p=Promise.resolve(d);(p=(p=(p=(p=(p=(p=p.then(function(t){var e;return c.allowEmbeddedKey&&t.header.jwk?e=a.asKey(t.header.jwk):c.allowEmbeddedKey&&t.header.x5c?(e=t.header.x5c[0],e=Buffer.from(e,"base64"),e=a.asKey(e,"pkix")):e=Promise.resolve(r||u.get({use:"sig",alg:t.header.alg,kid:t.header.kid})),e.then(function(e){return e?(t.key=e,t):Promise.reject(new Error("key does not match"))})})).then(function(t){var e=[];return h.forEach(function(r){var n;"function"==typeof(r=l[r])?n=r(t):"object"==typeof r&&"function"==typeof r.prepare&&(n=r.prepare(t)),n&&e.push(Promise.resolve(n))}),Promise.all(e).then(function(){return t})})).then(function(t){var e=t.aad||"",r=t.payload||"",n=Buffer.alloc(1+e.length+r.length),i=0;return n.write(e,i,"ascii"),n.write(".",i+=e.length,"ascii"),i++,Buffer.isBuffer(r)?r.copy(n,i):n.write(r,i,"binary"),t.content=n,t})).then(function(t){return t.key.verify(t.header.alg,t.content,t.signature)})).then(function(t){var e=d.payload;return e=s.decode(e),{protected:d.protected,header:d.header,payload:e,signature:t.mac,key:d.key}})).then(function(t){var e=[];return h.forEach(function(r){var n;"object"==typeof(r=l[r])&&"function"==typeof r.complete&&(n=r.complete(t)),n&&e.push(Promise.resolve(n))}),Promise.all(e).then(function(){return t})})).then(n,f)}else o(new Error("no key found"))};f()})})}})};t.exports={verifier:u,createVerify:function(t,e){return new u(t,e)}}},28725:function(t,e,r){"use strict";
/*!
 * parse/compact.js - JOSE Compact Serialization Parser
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n={JWE:r(34481),JWS:r(55448),util:r(16829)};t.exports=function(t){var e,r,i,s=t.split(".");if(3===s.length)e="JWS",r=function(e,r){return n.JWS.createVerify(e).verify(t,r)};else{if(5!==s.length)throw new TypeError("invalid jose serialization");e="JWE",r=function(e,r){return n.JWE.createDecrypt(e).decrypt(t,r)}}return i=n.util.base64url.decode(s[0],"utf8"),i=JSON.parse(i),{type:e,format:"compact",input:t,header:i,perform:r}}},93156:function(t,e,r){"use strict";
/*!
 * parse/index.js - JOSE Parser Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(28725),i=r(85069),s=t.exports=function(t){if(Buffer.isBuffer(t))return n(t.toString("ascii"));if("string"==typeof t)return n(t);if(t)return i(t);throw new TypeError("invalid input")};s.compact=n,s.json=i},85069:function(t,e,r){"use strict";
/*!
 * parse/compact.js - JOSE JSON Serialization Parser
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(31661),i={JWE:r(34481),JWS:r(55448),util:r(16829)};t.exports=function(t){var e,r,s;if("signatures"in t||"signature"in t)e="JWS",r=function(e,r){return i.JWS.createVerify(e).verify(t,r)},s=(s=t.signatures||[{protected:t.protected,header:t.header,signature:t.signature}]).map(function(t){var e,r={};return t.header&&(r=n(r,t.header)),t.protected&&(e=i.util.base64url.decode(e=t.protected,"utf8"),e=JSON.parse(e),r=n(r,e)),r});else if("ciphertext"in t){e="JWE",r=function(e,r){return i.JWE.createDecrypt(e).decrypt(t,r)};var o={};t.protected&&(o.protected=t.protected,o.protected=i.util.base64url.decode(o.protected,"utf8"),o.protected=JSON.parse(o.protected)),t.unprotected&&(o.unprotected=t.unprotected),s=(s=t.recipients||[{}]).map(function(t){var e={};return t.header&&(e=n(e,t.header)),o.unprotected&&(e=n(e,o.unprotected)),o.protected&&(e=n(e,o.protected)),e})}return{type:e,format:"json",input:t,all:s,perform:r}}},33119:function(t){"use strict";
/*!
 * util/algconfig.js - Functions for managing algorithm set options
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */function e(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}t.exports=function(t){t?"string"==typeof t&&(t=t.split(" ")):t=[];var r,n=[],i=[],s=[],o=[],a=/^(!)?([^*]*)(\*?)([^*]*)$/;t.forEach(function(t){if(t){a.lastIndex=0;var c=a.exec(t);c&&(r="("+function(t,r,n){var i=[];return i.push("^"),t&&(t=e(t),i.push(t)),r&&i.push(t||n?".*":".+"),n&&(n=e(n),i.push(n)),i.push("$"),i.join("")}(c[2],c[3],c[4])+")",c[1]?(o.push(r),i.push(c[0])):(s.push(r),n.push(c[0])))}}),s=s.length?new RegExp(s.join("|")):null,o=o.length?new RegExp(o.join("|")):null,n.length||(n=["*"]),Object.defineProperty(this,"spec",{value:n.join(" ")+" "+i.join(" "),enumerable:!0}),Object.defineProperty(this,"match",{value:function(t){var e=Boolean(t);return e&&s&&(s.lastIndex=0,e=s.test(t)),e&&o&&(o.lastIndex=0,e=!o.test(t)),e}})}},17969:function(t,e,r){"use strict";
/*!
 * util/base64url.js - Implementation of web-safe Base64 Encoder/Decoder
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(1899);t.exports={encode:function(t,e){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),Buffer.isBuffer(t)||(t=Buffer.from(t,e)),n.encode(t)},decode:n.toBuffer}},78346:function(t,e,r){"use strict";
/*!
 * util/databuffer.js - Forge-compatible Buffer based on Node.js Buffers
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(17337),i=r(17969);function s(t,e){e=e||{},Buffer.isBuffer(t)?this.data=t:n.util.isArrayBuffer(t)?(t=new Uint8Array(t),this.data=Buffer.from(t)):n.util.isArrayBufferView(t)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),this.data=Buffer.from(t)),this.data&&(this.write=this.data.length,t=void 0),this.growSize=e.growSize||s.DEFAULT_GROW_SIZE,this.write=this.write||0,this.read=this.read||0,t?this.putBytes(t):this.data||this.accommodate(0),e.readOffset="readOffset"in e?e.readOffset:this.read,this.write="writeOffset"in e?e.writeOffset:this.write,this.read=Math.min(e.readOffset,this.write)}s.DEFAULT_GROW_SIZE=16,s.prototype.length=function(){return this.write-this.read},s.prototype.available=function(){return this.data.length-this.write},s.prototype.isEmpty=function(){return this.length()<=0},s.prototype.accommodate=function(t){if(this.data){if(this.available()<t){t=Math.max(t,this.growSize);var e=this.data,r=Buffer.alloc(e.length+t);e.copy(r,0),this.data=r}}else t=Math.max(this.write+t,this.growSize),this.data=Buffer.alloc(t);return this.data.fill(0,this.write),this},s.prototype.clear=function(){return this.read=this.write=0,this.data=Buffer.alloc(0),this},s.prototype.truncate=function(t){return this.write=this.read+Math.max(0,this.length()-t),this.data.fill(0,this.write),this},s.prototype.compact=function(){return this.read>0&&(this.write===this.read?this.read=this.write=0:(this.data.copy(this.data,0,this.read,this.write),this.write=this.write-this.read,this.read=0),this.data.fill(0,this.write)),this},s.prototype.copy=function(){return new s(this,{readOffset:this.read,writeOffset:this.write,growSize:this.growSize})},s.prototype.equals=function(t){if(!s.isBuffer(t))return!1;if(t.length()!==this.length())return!1;for(var e=!0,r=this.read-t.read,n=t.read;t.write>n;n++)e=e&&this.data[n+r]===t.data[n];return e},s.prototype.at=function(t){return this.data[this.read+t]},s.prototype.setAt=function(t,e){return this.data[this.read+t]=e,this},s.prototype.last=function(){return this.data[this.write-1]},s.prototype.bytes=function(t){var e;if(void 0===t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)e="";else{var r=this.read,n=this.data.slice(r,r+t);e=String.fromCharCode.apply(null,n)}return e},s.prototype.buffer=function(t){var e;if(void 0===t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)e=new ArrayBuffer(0);else{var r=this.read,n=r+t,i=this.data.slice(r,n);(e=new Uint8Array(n-r)).set(i)}return e},s.prototype.native=function(t){var e;if(void 0===t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)e=Buffer.alloc(0);else{var r=this.read;e=this.data.slice(r,r+t)}return e},s.prototype.toHex=function(){return this.toString("hex")},s.prototype.toString=function(t){if(0===this.length())return"";var e=this.data.slice(this.read,this.write);switch(t=t||"utf8"){case"raw":return e.toString("binary");case"base64url":return i.encode(e);case"utf16":return e.toString("ucs2");default:return e.toString(t)}},s.prototype.fillWithByte=function(t,e){return e||(e=this.available()),this.accommodate(e),this.data.fill(t,this.write,this.write+e),this.write+=e,this},s.prototype.getBuffer=function(t){var e=this.buffer(t);return this.read+=e.byteLength,e},s.prototype.putBuffer=function(t){return this.putBytes(t)},s.prototype.getBytes=function(t){var e=this.bytes(t);return this.read+=e.length,e},s.prototype.putBytes=function(t,e){if("string"==typeof t){switch(e=e||"binary"){case"utf16":e="ucs-2";break;case"raw":e="binary";break;case"base64url":t=i.decode(t)}Buffer.isBuffer(t)||(t=Buffer.from(t,e))}var r;if(t instanceof s){var o=t;t=o.data.slice(o.read,o.write),o.read=o.write}else t instanceof n.util.ByteStringBuffer&&(t=t.getBytes());if(Buffer.isBuffer(t))r=t;else if(Array.isArray(t))r=Buffer.from(t);else if(n.util.isArrayBuffer(t))r=new Uint8Array(t),r=Buffer.from(r);else{if(!n.util.isArrayBufferView(t))throw new TypeError("invalid source type");r=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),r=Buffer.from(r)}return this.accommodate(r.length),r.copy(this.data,this.write),this.write+=r.length,this},s.prototype.getNative=function(t){var e=this.native(t);return this.read+=e.length,e},s.prototype.putNative=s.prototype.putBuffer,s.prototype.getByte=function(){var t=this.data[this.read];return this.read=Math.min(this.read+1,this.write),t},s.prototype.putByte=function(t){return this.accommodate(1),this.data[this.write]=255&t,this.write++,this},s.prototype.getInt16=function(){var t=this.data[this.read]<<8^this.data[this.read+1];return this.read=Math.min(this.read+2,this.write),t},s.prototype.putInt16=function(t){return this.accommodate(2),this.data[this.write]=t>>>8&255,this.data[this.write+1]=255&t,this.write+=2,this},s.prototype.getInt24=function(){var t=this.data[this.read]<<16^this.data[this.read+1]<<8^this.data[this.read+2];return this.read=Math.min(this.read+3,this.write),t},s.prototype.putInt24=function(t){return this.accommodate(3),this.data[this.write]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write+2]=255&t,this.write+=3,this},s.prototype.getInt32=function(){var t=this.data[this.read]<<24^this.data[this.read+1]<<16^this.data[this.read+2]<<8^this.data[this.read+3];return this.read=Math.min(this.read+4,this.write),t},s.prototype.putInt32=function(t){return this.accommodate(4),this.data[this.write]=t>>>24&255,this.data[this.write+1]=t>>>16&255,this.data[this.write+2]=t>>>8&255,this.data[this.write+3]=255&t,this.write+=4,this},s.prototype.getInt16Le=function(){var t=this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+2,this.write),t},s.prototype.putInt16Le=function(t){return this.accommodate(2),this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=2,this},s.prototype.getInt24Le=function(){var t=this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+3,this.write),t},s.prototype.putInt24Le=function(t){return this.accommodate(3),this.data[this.write+2]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=3,this},s.prototype.getInt32Le=function(){var t=this.data[this.read+3]<<24^this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+4,this.write),t},s.prototype.putInt32Le=function(t){return this.accommodate(4),this.data[this.write+3]=t>>>24&255,this.data[this.write+2]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=4,this},s.prototype.getInt=function(t){var e=0;do{e=e<<8|this.getByte(),t-=8}while(t>0);return e},s.prototype.putInt=function(t,e){this.accommodate(Math.ceil(e/8));do{this.putByte(t>>(e-=8)&255)}while(e>0);return this},s.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},s.prototype.putString=function(t){return this.putBytes(t,"utf16")},s.isBuffer=function(t){return t instanceof s},s.asBuffer=function(t){return s.isBuffer(t)?t:t?new s(t):new s},t.exports=s},16829:function(t,e,r){"use strict";
/*!
 * util/index.js - Utilities Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n,i=r(17337);n={base64url:r(17969),utf8:r(34059),asBuffer:function(t,e){return Buffer.isBuffer(t)?t:"string"==typeof t?"base64url"===(e=e||"binary")?n.base64url.decode(t):Buffer.from(t,e):(i.util.isArrayBufferView(t)?t=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteOffset+t.byteLength):i.util.isArrayBuffer(t)&&(t=new Uint8Array(t)),Buffer.from(t))},randomBytes:function(t){return Buffer.from(i.random.getBytes(t),"binary")}},t.exports=n},31661:function(t,e,r){"use strict";
/*!
 * util/utf8.js - Implementation of UTF-8 Encoder/Decoder
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n,i=r(26017),s=r(8669),o=(n=[],"undefined"!=typeof Uint8ClampedArray&&n.push(Uint8ClampedArray),"undefined"!=typeof Uint8Array&&n.push(Uint8Array),"undefined"!=typeof Uint16Array&&n.push(Uint16Array),"undefined"!=typeof Uint32Array&&n.push(Uint32Array),"undefined"!=typeof Float32Array&&n.push(Float32Array),"undefined"!=typeof Float64Array&&n.push(Float64Array),n);t.exports=i(s,function(t,e){if(Buffer.isBuffer(e))e=Buffer.from(e);else{var r=function(t){for(var e,r=0;!e&&o.length>r;r++)t instanceof o[r]&&(e=o[r]);return e}(e);e=r?new r(e,e.byteOffset,e.byteLength):void 0}return e})},34059:function(t,e){"use strict";
/*!
 * util/utf8.js - Implementation of UTF-8 Encoder/Decoder
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var r=e;r.encode=function(t){return encodeURIComponent(t||"").replace(/%([0-9a-fA-F]{2})/g,function(t,e){return e=parseInt(e,16),String.fromCharCode(e)})},r.decode=function(t){var e=(t||"").replace(/[\u0080-\u00ff]/g,function(t){return"%"+(256|t.charCodeAt(0)).toString(16).substring(1)});return decodeURIComponent(e)}},73433:function(t,e,r){"use strict";var n=r(73777),i=r(48938),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */e.lW=c,e.h2=50;var o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|m(t,e),n=a(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(V(t,Uint8Array)){var e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(V(t,ArrayBuffer)||t&&V(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(V(t,SharedArrayBuffer)||t&&V(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return c.from(n,e,r);var i=function(t){if(c.isBuffer(t)){var e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||H(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function f(t){for(var e=t.length<0?0:0|p(t.length),r=a(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,c.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||V(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(t).length;default:if(i)return n?-1:L(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return k(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){var s,o=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var l=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===c)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){for(var h=!0,f=0;f<c;f++)if(u(t,s+f)!==u(e,f)){h=!1;break}if(h)return s}return-1}function _(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(H(a))return o;t[r+o]=a}return o}function w(t,e,r,n){return U(L(e,t.length-r),t,r,n)}function S(t,e,r,n){return U(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function E(t,e,r,n){return U(j(e),t,r,n)}function C(t,e,r,n){return U(function(t,e){for(var r,n,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,t.length-r),t,r,n)}function k(t,e,r){return n.fromByteArray(0===e&&r===t.length?t:t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,c,u=t[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(s=t[i+1]))&&(c=(31&u)<<6|63&s)>127&&(l=c);break;case 3:o=t[i+2],128==(192&(s=t[i+1]))&&128==(192&o)&&(c=(15&u)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+2],a=t[i+3],128==(192&(s=t[i+1]))&&128==(192&o)&&128==(192&a)&&(c=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(n.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=x));return r}(n)}(c.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(r){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(V(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),V(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=c.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(V(s,Uint8Array))i+s.length>n.length?c.from(s).copy(n,i):Uint8Array.prototype.set.call(n,s,i);else{if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i)}i+=s.length}return n},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):g.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.h2;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(t,e,r,n,i){if(V(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),a=Math.min(s,o),u=this.slice(n,i),l=t.slice(e,r),h=0;h<a;++h)if(u[h]!==l[h]){s=u[h],o=l[h];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return S(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=q[t[s]];return i}function P(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function F(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,n,i,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function M(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,n,s){return e=+e,r>>>=0,s||M(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function N(t,e,r,n,s){return e=+e,r>>>=0,s||M(t,0,r,8),i.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||F(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||F(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||F(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);for(var n=e,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return t>>>=0,e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||F(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||F(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return t>>>=0,e||F(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||F(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||F(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||F(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||O(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||O(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,t,e,r,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<r&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,t,e,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return N(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return N(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=e;s<r;++s)this[s]=t;else{var o=c.isBuffer(t)?t:c.from(t,n),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<r-e;++s)this[s+e]=o[s%a]}return this};var D=/[^+/0-9A-Za-z-_]/g;function L(t,e){var r;e=e||1/0;for(var n=t.length,i=null,s=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function j(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function V(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function H(t){return t!=t}var q=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},69805:function(t){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,(function(e){return t[e]}).bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=22)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},s=void 0,o=void 0;(e.Log=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.reset=function(){o=3,s=i},t.debug=function(){if(o>=4){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];s.debug.apply(s,Array.from(e))}},t.info=function(){if(o>=3){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];s.info.apply(s,Array.from(e))}},t.warn=function(){if(o>=2){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];s.warn.apply(s,Array.from(e))}},t.error=function(){if(o>=1){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];s.error.apply(s,Array.from(e))}},n(t,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return o},set:function(t){if(!(0<=t&&t<=4))throw new Error("Invalid log level");o=t}},{key:"logger",get:function(){return s},set:function(t){if(!t.debug&&t.info&&(t.debug=t.info),!(t.debug&&t.info&&t.warn&&t.error))throw new Error("Invalid logger");s=t}}]),t}()).reset()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i={setInterval:function(t){function e(e,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){return setInterval(t,e)}),clearInterval:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return clearInterval(t)})},s=!1,o=null;e.Global=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t._testing=function(){s=!0},t.setXMLHttpRequest=function(t){o=t},n(t,null,[{key:"location",get:function(){if(!s)return location}},{key:"localStorage",get:function(){if(!s&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!s&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!s&&"undefined"!=typeof window)return o||XMLHttpRequest}},{key:"timer",get:function(){if(!s)return i}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),s=r(7);e.MetadataService=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.JsonService;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=e,this._jsonService=new r(["application/jwk-set+json"])}return t.prototype.getMetadata=function(){var t=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(e){return i.Log.debug("MetadataService.getMetadata: json received"),t._settings.metadata=e,e})):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},t.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},t.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},t.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},t.prototype.getTokenEndpoint=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",t)},t.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},t.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},t.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},t.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},t.prototype._getMetadataProperty=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+t),this.getMetadata().then(function(r){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===r[t]){if(!0===e)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+t);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+t),new Error("Metadata does not contain property "+t)}return r[t]})},t.prototype.getSigningKeys=function(){var t=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(e){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",e),t._jsonService.getJson(e).then(function(e){if(i.Log.debug("MetadataService.getSigningKeys: key set received",e),!e.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return t._settings.signingKeys=e.keys,t._settings.signingKeys})})},n(t,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(".well-known/openid-configuration")<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=".well-known/openid-configuration"))),this._metadataUrl}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UrlUtility=void 0;var n=r(0),i=r(1);e.UrlUtility=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.addQueryParam=function(t,e,r){return t.indexOf("?")<0&&(t+="?"),"?"!==t[t.length-1]&&(t+="&"),t+=encodeURIComponent(e),(t+="=")+encodeURIComponent(r)},t.parseUrlFragment=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;"string"!=typeof t&&(t=r.location.href);var s=t.lastIndexOf(e);s>=0&&(t=t.substr(s+1)),"?"===e&&(s=t.indexOf("#"))>=0&&(t=t.substr(0,s));for(var o,a={},c=/([^&=]+)=([^&]*)/g,u=0;o=c.exec(t);)if(a[decodeURIComponent(o[1])]=decodeURIComponent(o[2]),u++>50)return n.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",t),{error:"Response exceeded expected number of parameters"};for(var l in a)return a;return{}},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JoseUtil=void 0;var n=r(25),i=function(t){return t&&t.__esModule?t:{default:t}}(r(32));e.JoseUtil=(0,i.default)({jws:n.jws,KeyUtil:n.KeyUtil,X509:n.X509,crypto:n.crypto,hextob64u:n.hextob64u,b64tohex:n.b64tohex,AllowedSigningAlgs:n.AllowedSigningAlgs})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OidcClientSettings=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(0),o=r(6),a=r(23),c=r(2),u="id_token",l="openid";e.OidcClientSettings=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.authority,i=e.metadataUrl,s=e.metadata,h=e.signingKeys,f=e.client_id,d=e.client_secret,p=e.response_type,m=void 0===p?u:p,g=e.scope,y=void 0===g?l:g,v=e.redirect_uri,b=e.post_logout_redirect_uri,_=e.prompt,w=e.display,S=e.max_age,E=e.ui_locales,C=e.acr_values,k=e.resource,A=e.response_mode,x=e.filterProtocolClaims,T=void 0===x||x,I=e.loadUserInfo,R=void 0===I||I,P=e.staleStateAge,F=void 0===P?900:P,O=e.clockSkew,M=void 0===O?300:O,B=e.userInfoJwtIssuer,N=void 0===B?"OP":B,D=e.stateStore,L=void 0===D?new o.WebStorageStateStore:D,j=e.ResponseValidatorCtor,U=void 0===j?a.ResponseValidator:j,V=e.MetadataServiceCtor,H=void 0===V?c.MetadataService:V,q=e.extraQueryParams,K=void 0===q?{}:q,z=e.extraTokenParams,W=void 0===z?{}:z;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._authority=r,this._metadataUrl=i,this._metadata=s,this._signingKeys=h,this._client_id=f,this._client_secret=d,this._response_type=m,this._scope=y,this._redirect_uri=v,this._post_logout_redirect_uri=b,this._prompt=_,this._display=w,this._max_age=S,this._ui_locales=E,this._acr_values=C,this._resource=k,this._response_mode=A,this._filterProtocolClaims=!!T,this._loadUserInfo=!!R,this._staleStateAge=F,this._clockSkew=M,this._userInfoJwtIssuer=N,this._stateStore=L,this._validator=new U(this),this._metadataService=new H(this),this._extraQueryParams="object"===(void 0===K?"undefined":n(K))?K:{},this._extraTokenParams="object"===(void 0===W?"undefined":n(W))?W:{}}return i(t,[{key:"client_id",get:function(){return this._client_id},set:function(t){if(this._client_id)throw s.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=t}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(t){if(this._authority)throw s.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=t}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(".well-known/openid-configuration")<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=".well-known/openid-configuration")),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(t){this._metadata=t}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(t){this._signingKeys=t}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(t){this._extraQueryParams="object"===(void 0===t?"undefined":n(t))?t:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(t){this._extraTokenParams="object"===(void 0===t?"undefined":n(t))?t:{}}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebStorageStateStore=void 0;var n=r(0),i=r(1);e.WebStorageStateStore=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.prefix,n=void 0===r?"oidc.":r,s=e.store,o=void 0===s?i.Global.localStorage:s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._store=o,this._prefix=n}return t.prototype.set=function(t,e){return n.Log.debug("WebStorageStateStore.set",t),this._store.setItem(t=this._prefix+t,e),Promise.resolve()},t.prototype.get=function(t){n.Log.debug("WebStorageStateStore.get",t);var e=this._store.getItem(t=this._prefix+t);return Promise.resolve(e)},t.prototype.remove=function(t){n.Log.debug("WebStorageStateStore.remove",t);var e=this._store.getItem(t=this._prefix+t);return this._store.removeItem(t),Promise.resolve(e)},t.prototype.getAllKeys=function(){n.Log.debug("WebStorageStateStore.getAllKeys");for(var t=[],e=0;e<this._store.length;e++){var r=this._store.key(e);0===r.indexOf(this._prefix)&&t.push(r.substr(this._prefix.length))}return Promise.resolve(t)},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonService=void 0;var n=r(0),i=r(1);e.JsonService=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._contentTypes=e&&Array.isArray(e)?e.slice():[],this._contentTypes.push("application/json"),n&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=r,this._jwtHandler=n}return t.prototype.getJson=function(t,e){var r=this;if(!t)throw n.Log.error("JsonService.getJson: No url passed"),new Error("url");return n.Log.debug("JsonService.getJson, url: ",t),new Promise(function(i,s){var o=new r._XMLHttpRequest;o.open("GET",t);var a=r._contentTypes,c=r._jwtHandler;o.onload=function(){if(n.Log.debug("JsonService.getJson: HTTP response received, status",o.status),200===o.status){var e=o.getResponseHeader("Content-Type");if(e){var r=a.find(function(t){if(e.startsWith(t))return!0});if("application/jwt"==r)return void c(o).then(i,s);if(r)try{return void i(JSON.parse(o.responseText))}catch(i){return n.Log.error("JsonService.getJson: Error parsing JSON response",i.message),void s(i)}}s(Error("Invalid response Content-Type: "+e+", from URL: "+t))}else s(Error(o.statusText+" ("+o.status+")"))},o.onerror=function(){n.Log.error("JsonService.getJson: network error"),s(Error("Network Error"))},e&&(n.Log.debug("JsonService.getJson: token passed, setting Authorization header"),o.setRequestHeader("Authorization","Bearer "+e)),o.send()})},t.prototype.postForm=function(t,e){var r=this;if(!t)throw n.Log.error("JsonService.postForm: No url passed"),new Error("url");return n.Log.debug("JsonService.postForm, url: ",t),new Promise(function(i,s){var o=new r._XMLHttpRequest;o.open("POST",t);var a=r._contentTypes;o.onload=function(){if(n.Log.debug("JsonService.postForm: HTTP response received, status",o.status),200!==o.status){if(400===o.status&&(r=o.getResponseHeader("Content-Type"))&&a.find(function(t){if(r.startsWith(t))return!0}))try{var e=JSON.parse(o.responseText);if(e&&e.error)return n.Log.error("JsonService.postForm: Error from server: ",e.error),void s(new Error(e.error))}catch(i){return n.Log.error("JsonService.postForm: Error parsing JSON response",i.message),void s(i)}s(Error(o.statusText+" ("+o.status+")"))}else{var r;if((r=o.getResponseHeader("Content-Type"))&&a.find(function(t){if(r.startsWith(t))return!0}))try{return void i(JSON.parse(o.responseText))}catch(i){return n.Log.error("JsonService.postForm: Error parsing JSON response",i.message),void s(i)}s(Error("Invalid response Content-Type: "+r+", from URL: "+t))}},o.onerror=function(){n.Log.error("JsonService.postForm: network error"),s(Error("Network Error"))};var c="";for(var u in e){var l=e[u];l&&(c.length>0&&(c+="&"),c+=encodeURIComponent(u),c+="=",c+=encodeURIComponent(l))}o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(c)})},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.State=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),s=function(t){return t&&t.__esModule?t:{default:t}}(r(14));e.State=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,n=e.data,i=e.created,o=e.request_type;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=r||(0,s.default)(),this._data=n,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=o}return t.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},t.fromStorageString=function(e){return i.Log.debug("State.fromStorageString"),new t(JSON.parse(e))},t.clearStaleState=function(e,r){var n=Date.now()/1e3-r;return e.getAllKeys().then(function(r){i.Log.debug("State.clearStaleState: got keys",r);for(var s=[],o=function(o){var a=r[o];c=e.get(a).then(function(r){var s=!1;if(r)try{var o=t.fromStorageString(r);i.Log.debug("State.clearStaleState: got item from key: ",a,o.created),o.created<=n&&(s=!0)}catch(t){i.Log.error("State.clearStaleState: Error parsing state for key",a,t.message),s=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",a),s=!0;if(s)return i.Log.debug("State.clearStaleState: removed item for key: ",a),e.remove(a)}),s.push(c)},a=0;a<r.length;a++){var c;o(a)}return i.Log.debug("State.clearStaleState: waiting on promise count:",s.length),Promise.all(s)})},n(t,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OidcClient=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),s=r(5),o=r(11),a=r(12),c=r(36),u=r(37),l=r(38),h=r(13),f=r(8);e.OidcClient=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._settings=e instanceof s.OidcClientSettings?e:new s.OidcClientSettings(e)}return t.prototype.createSigninRequest=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.response_type,n=e.scope,s=e.redirect_uri,o=e.data,c=e.state,u=e.prompt,l=e.display,h=e.max_age,f=e.ui_locales,d=e.id_token_hint,p=e.login_hint,m=e.acr_values,g=e.resource,y=e.request,v=e.request_uri,b=e.response_mode,_=e.extraQueryParams,w=e.extraTokenParams,S=e.request_type,E=e.skipUserInfo,C=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var k=this._settings.client_id;n=n||this._settings.scope,s=s||this._settings.redirect_uri,u=u||this._settings.prompt,l=l||this._settings.display,h=h||this._settings.max_age,f=f||this._settings.ui_locales,m=m||this._settings.acr_values,g=g||this._settings.resource,b=b||this._settings.response_mode,_=_||this._settings.extraQueryParams,w=w||this._settings.extraTokenParams;var A=this._settings.authority;return a.SigninRequest.isCode(r=r||this._settings.response_type)&&"code"!==r?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(e){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",e);var x=new a.SigninRequest({url:e,client_id:k,redirect_uri:s,response_type:r,scope:n,data:o||c,authority:A,prompt:u,display:l,max_age:h,ui_locales:f,id_token_hint:d,login_hint:p,acr_values:m,resource:g,request:y,request_uri:v,extraQueryParams:_,extraTokenParams:w,request_type:S,response_mode:b,client_secret:t._settings.client_secret,skipUserInfo:E}),T=x.state;return(C=C||t._stateStore).set(T.id,T.toStorageString()).then(function(){return x})})},t.prototype.readSigninResponseState=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var n="query"===this._settings.response_mode||!this._settings.response_mode&&a.SigninRequest.isCode(this._settings.response_type)?"?":"#",s=new c.SigninResponse(t,n);return s.state?(e=e||this._stateStore,(r?e.remove.bind(e):e.get.bind(e))(s.state).then(function(t){if(!t)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:h.SigninState.fromStorageString(t),response:s}})):(i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},t.prototype.processSigninResponse=function(t,e){var r=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(t,e,!0).then(function(t){var e=t.state,n=t.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),r._validator.validateSigninResponse(e,n)})},t.prototype.createSignoutRequest=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id_token_hint,n=e.data,s=e.state,o=e.post_logout_redirect_uri,a=e.extraQueryParams,c=e.request_type,l=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),o=o||this._settings.post_logout_redirect_uri,a=a||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(e){if(!e)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",e);var h=new u.SignoutRequest({url:e,id_token_hint:r,post_logout_redirect_uri:o,data:n||s,extraQueryParams:a,request_type:c}),f=h.state;return f&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(l=l||t._stateStore).set(f.id,f.toStorageString())),h})},t.prototype.readSignoutResponseState=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var n=new l.SignoutResponse(t);if(!n.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),n.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",n.error),Promise.reject(new o.ErrorResponse(n))):Promise.resolve({undefined:void 0,response:n});var s=n.state;return e=e||this._stateStore,(r?e.remove.bind(e):e.get.bind(e))(s).then(function(t){if(!t)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:f.State.fromStorageString(t),response:n}})},t.prototype.processSignoutResponse=function(t,e){var r=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(t,e,!0).then(function(t){var e=t.state,n=t.response;return e?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),r._validator.validateSignoutResponse(e,n)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),n)})},t.prototype.clearStaleState=function(t){return i.Log.debug("OidcClient.clearStaleState"),f.State.clearStaleState(t=t||this._stateStore,this.settings.staleStateAge)},n(t,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenClient=void 0;var n=r(7),i=r(2),s=r(0);e.TokenClient=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw s.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=e,this._jsonService=new r,this._metadataService=new o(this._settings)}return t.prototype.exchangeCode=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=Object.assign({},e)).grant_type=e.grant_type||"authorization_code",e.client_id=e.client_id||this._settings.client_id,e.redirect_uri=e.redirect_uri||this._settings.redirect_uri,e.code?e.redirect_uri?e.code_verifier?e.client_id?this._metadataService.getTokenEndpoint(!1).then(function(r){return s.Log.debug("TokenClient.exchangeCode: Received token endpoint"),t._jsonService.postForm(r,e).then(function(t){return s.Log.debug("TokenClient.exchangeCode: response received"),t})}):(s.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(s.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(s.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},t.prototype.exchangeRefreshToken=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=Object.assign({},e)).grant_type=e.grant_type||"refresh_token",e.client_id=e.client_id||this._settings.client_id,e.client_secret=e.client_secret||this._settings.client_secret,e.refresh_token?e.client_id?this._metadataService.getTokenEndpoint(!1).then(function(r){return s.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),t._jsonService.postForm(r,e).then(function(t){return s.Log.debug("TokenClient.exchangeRefreshToken: response received"),t})}):(s.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorResponse=void 0;var n=r(0);e.ErrorResponse=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.error,s=r.error_description,o=r.error_uri,a=r.state,c=r.session_state;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!i)throw n.Log.error("No error passed to ErrorResponse"),new Error("error");var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,s||i));return u.name="ErrorResponse",u.error=i,u.error_description=s,u.error_uri=o,u.state=a,u.session_state=c,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(Error)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SigninRequest=void 0;var n=r(0),i=r(3),s=r(13);e.SigninRequest=function(){function t(e){var r=e.url,o=e.client_id,a=e.redirect_uri,c=e.response_type,u=e.scope,l=e.authority,h=e.data,f=e.prompt,d=e.display,p=e.max_age,m=e.ui_locales,g=e.id_token_hint,y=e.login_hint,v=e.acr_values,b=e.resource,_=e.response_mode,w=e.request,S=e.request_uri,E=e.extraQueryParams,C=e.request_type,k=e.client_secret,A=e.extraTokenParams,x=e.skipUserInfo;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!r)throw n.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!o)throw n.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!a)throw n.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!c)throw n.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!u)throw n.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!l)throw n.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var T=t.isOidc(c),I=t.isCode(c);_||(_=t.isCode(c)?"query":null),this.state=new s.SigninState({nonce:T,data:h,client_id:o,authority:l,redirect_uri:a,code_verifier:I,request_type:C,response_mode:_,client_secret:k,scope:u,extraTokenParams:A,skipUserInfo:x}),r=i.UrlUtility.addQueryParam(r,"client_id",o),r=i.UrlUtility.addQueryParam(r,"redirect_uri",a),r=i.UrlUtility.addQueryParam(r,"response_type",c),r=i.UrlUtility.addQueryParam(r,"scope",u),r=i.UrlUtility.addQueryParam(r,"state",this.state.id),T&&(r=i.UrlUtility.addQueryParam(r,"nonce",this.state.nonce)),I&&(r=i.UrlUtility.addQueryParam(r,"code_challenge",this.state.code_challenge),r=i.UrlUtility.addQueryParam(r,"code_challenge_method","S256"));var R={prompt:f,display:d,max_age:p,ui_locales:m,id_token_hint:g,login_hint:y,acr_values:v,resource:b,request:w,request_uri:S,response_mode:_};for(var P in R)R[P]&&(r=i.UrlUtility.addQueryParam(r,P,R[P]));for(var F in E)r=i.UrlUtility.addQueryParam(r,F,E[F]);this.url=r}return t.isOidc=function(t){return!!t.split(/\s+/g).filter(function(t){return"id_token"===t})[0]},t.isOAuth=function(t){return!!t.split(/\s+/g).filter(function(t){return"token"===t})[0]},t.isCode=function(t){return!!t.split(/\s+/g).filter(function(t){return"code"===t})[0]},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SigninState=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),s=r(8),o=r(4),a=function(t){return t&&t.__esModule?t:{default:t}}(r(14));e.SigninState=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.nonce,i=r.authority,s=r.client_id,c=r.redirect_uri,u=r.code_verifier,l=r.response_mode,h=r.client_secret,f=r.scope,d=r.extraTokenParams,p=r.skipUserInfo;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var m=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,arguments[0]));if(!0===n?m._nonce=(0,a.default)():n&&(m._nonce=n),!0===u?m._code_verifier=(0,a.default)()+(0,a.default)()+(0,a.default)():u&&(m._code_verifier=u),m.code_verifier){var g=o.JoseUtil.hashString(m.code_verifier,"SHA256");m._code_challenge=o.JoseUtil.hexToBase64Url(g)}return m._redirect_uri=c,m._authority=i,m._client_id=s,m._response_mode=l,m._client_secret=h,m._scope=f,m._extraTokenParams=d,m._skipUserInfo=p,m}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},e.fromStorageString=function(t){return i.Log.debug("SigninState.fromStorageString"),new e(JSON.parse(t))},n(e,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),e}(s.State)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,n.default)().replace(/-/g,"")};var n=function(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.User=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.User=function(){function t(e){var r=e.id_token,n=e.session_state,i=e.access_token,s=e.refresh_token,o=e.token_type,a=e.scope,c=e.profile,u=e.expires_at,l=e.state;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id_token=r,this.session_state=n,this.access_token=i,this.refresh_token=s,this.token_type=o,this.scope=a,this.profile=c,this.expires_at=u,this.state=l}return t.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},t.fromStorageString=function(e){return i.Log.debug("User.fromStorageString"),new t(JSON.parse(e))},n(t,[{key:"expires_in",get:function(){if(this.expires_at){var t=parseInt(Date.now()/1e3);return this.expires_at-t}},set:function(t){var e=parseInt(t);if("number"==typeof e&&e>0){var r=parseInt(Date.now()/1e3);this.expires_at=r+e}}},{key:"expired",get:function(){var t=this.expires_in;if(void 0!==t)return t<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessTokenEvents=void 0;var n=r(0),i=r(48);e.AccessTokenEvents=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.accessTokenExpiringNotificationTime,n=void 0===r?60:r,s=e.accessTokenExpiringTimer,o=void 0===s?new i.Timer("Access token expiring"):s,a=e.accessTokenExpiredTimer,c=void 0===a?new i.Timer("Access token expired"):a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._accessTokenExpiringNotificationTime=n,this._accessTokenExpiring=o,this._accessTokenExpired=c}return t.prototype.load=function(t){if(t.access_token&&void 0!==t.expires_in){var e=t.expires_in;if(n.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",e),e>0){var r=e-this._accessTokenExpiringNotificationTime;r<=0&&(r=1),n.Log.debug("AccessTokenEvents.load: registering expiring timer in:",r),this._accessTokenExpiring.init(r)}else n.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var i=e+1;n.Log.debug("AccessTokenEvents.load: registering expired timer in:",i),this._accessTokenExpired.init(i)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},t.prototype.unload=function(){n.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},t.prototype.addAccessTokenExpiring=function(t){this._accessTokenExpiring.addHandler(t)},t.prototype.removeAccessTokenExpiring=function(t){this._accessTokenExpiring.removeHandler(t)},t.prototype.addAccessTokenExpired=function(t){this._accessTokenExpired.addHandler(t)},t.prototype.removeAccessTokenExpired=function(t){this._accessTokenExpired.removeHandler(t)},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0;var n=r(0);e.Event=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e,this._callbacks=[]}return t.prototype.addHandler=function(t){this._callbacks.push(t)},t.prototype.removeHandler=function(t){var e=this._callbacks.findIndex(function(e){return e===t});e>=0&&this._callbacks.splice(e,1)},t.prototype.raise=function(){n.Log.debug("Event: Raising event: "+this._name);for(var t=0;t<this._callbacks.length;t++){var e;(e=this._callbacks)[t].apply(e,arguments)}},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SessionMonitor=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),s=r(19),o=r(1);e.SessionMonitor=function(){function t(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.CheckSessionIFrame,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Global.timer;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=e,this._CheckSessionIFrameCtor=n,this._timer=a,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),this._userManager.getUser().then(function(t){t?r._start(t):r._settings.monitorAnonymousSession&&r._userManager.querySessionStatus().then(function(t){var e={session_state:t.session_state};t.sub&&t.sid&&(e.profile={sub:t.sub,sid:t.sid}),r._start(e)}).catch(function(t){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",t.message)})}).catch(function(t){i.Log.error("SessionMonitor ctor: error from getUser:",t.message)})}return t.prototype._start=function(t){var e=this,r=t.session_state;r&&(t.profile?(this._sub=t.profile.sub,this._sid=t.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",r,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",r,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(r):this._metadataService.getCheckSessionIframe().then(function(t){if(t){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var n=e._client_id,s=e._checkSessionInterval,o=e._stopCheckSessionOnError;e._checkSessionIFrame=new e._CheckSessionIFrameCtor(e._callback.bind(e),n,t,s,o),e._checkSessionIFrame.load().then(function(){e._checkSessionIFrame.start(r)})}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(t){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",t.message)}))},t.prototype._stop=function(){var t=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var e=this._timer.setInterval(function(){t._timer.clearInterval(e),t._userManager.querySessionStatus().then(function(e){var r={session_state:e.session_state};e.sub&&e.sid&&(r.profile={sub:e.sub,sid:e.sid}),t._start(r)}).catch(function(t){i.Log.error("SessionMonitor: error from querySessionStatus:",t.message)})},1e3)},t.prototype._callback=function(){var t=this;this._userManager.querySessionStatus().then(function(e){var r=!0;e?e.sub===t._sub?(r=!1,t._checkSessionIFrame.start(e.session_state),e.sid===t._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",e.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",e.session_state),t._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",e.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),r&&(t._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),t._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),t._userManager.events._raiseUserSignedIn()))}).catch(function(e){t._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",e.message),t._userManager.events._raiseUserSignedOut())})},n(t,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CheckSessionIFrame=void 0;var n=r(0);e.CheckSessionIFrame=function(){function t(e,r,n,i){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._callback=e,this._client_id=r,this._url=n,this._interval=i||2e3,this._stopOnError=s;var o=n.indexOf("/",n.indexOf("//")+2);this._frame_origin=n.substr(0,o),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.style.width=0,this._frame.style.height=0,this._frame.src=n}return t.prototype.load=function(){var t=this;return new Promise(function(e){t._frame.onload=function(){e()},window.document.body.appendChild(t._frame),t._boundMessageEvent=t._message.bind(t),window.addEventListener("message",t._boundMessageEvent,!1)})},t.prototype._message=function(t){t.origin===this._frame_origin&&t.source===this._frame.contentWindow&&("error"===t.data?(n.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===t.data?(n.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):n.Log.debug("CheckSessionIFrame: "+t.data+" message from check session op iframe"))},t.prototype.start=function(t){var e=this;if(this._session_state!==t){n.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=t;var r=function(){e._frame.contentWindow.postMessage(e._client_id+" "+e._session_state,e._frame_origin)};r(),this._timer=window.setInterval(r,this._interval)}},t.prototype.stop=function(){this._session_state=null,this._timer&&(n.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenRevocationClient=void 0;var n=r(0),i=r(2),s=r(1);e.TokenRevocationClient=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Global.XMLHttpRequest,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw n.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=e,this._XMLHttpRequestCtor=r,this._metadataService=new o(this._settings)}return t.prototype.revoke=function(t,e){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!t)throw n.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==i&&"refresh_token"!=i)throw n.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(s){if(s)return n.Log.debug("TokenRevocationClient.revoke: Revoking "+i),r._revoke(s,r._settings.client_id,r._settings.client_secret,t,i);if(e)throw n.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},t.prototype._revoke=function(t,e,r,i,s){var o=this;return new Promise(function(a,c){var u=new o._XMLHttpRequestCtor;u.open("POST",t),u.onload=function(){n.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",u.status),200===u.status?a():c(Error(u.statusText+" ("+u.status+")"))},u.onerror=function(){n.Log.debug("TokenRevocationClient.revoke: Network Error."),c("Network Error")};var l="client_id="+encodeURIComponent(e);r&&(l+="&client_secret="+encodeURIComponent(r)),l+="&token_type_hint="+encodeURIComponent(s),l+="&token="+encodeURIComponent(i),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(l)})},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CordovaPopupWindow=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.CordovaPopupWindow=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e}),this.features=e.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=e.popupWindowTarget||"_blank",this.redirect_uri=e.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return t.prototype._isInAppBrowserInstalled=function(t){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(e){return t.hasOwnProperty(e)})},t.prototype.navigate=function(t){if(t&&t.url){if(!window.cordova)return this._error("cordova is undefined");var e=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(e))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(t.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},t.prototype._loadStartCallback=function(t){0===t.url.indexOf(this.redirect_uri)&&this._success({url:t.url})},t.prototype._exitCallback=function(t){this._error(t)},t.prototype._success=function(t){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(t)},t.prototype._error=function(t){this._cleanup(),i.Log.error(t),this._reject(new Error(t))},t.prototype.close=function(){this._cleanup()},t.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},n(t,[{key:"promise",get:function(){return this._promise}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(9),s=r(5),o=r(6),a=r(39),c=r(40),u=r(16),l=r(2),h=r(50),f=r(51),d=r(19),p=r(20),m=r(18),g=r(1),y=r(15),v=r(52);e.default={Version:v.Version,Log:n.Log,OidcClient:i.OidcClient,OidcClientSettings:s.OidcClientSettings,WebStorageStateStore:o.WebStorageStateStore,InMemoryWebStorage:a.InMemoryWebStorage,UserManager:c.UserManager,AccessTokenEvents:u.AccessTokenEvents,MetadataService:l.MetadataService,CordovaPopupNavigator:h.CordovaPopupNavigator,CordovaIFrameNavigator:f.CordovaIFrameNavigator,CheckSessionIFrame:d.CheckSessionIFrame,TokenRevocationClient:p.TokenRevocationClient,SessionMonitor:m.SessionMonitor,Global:g.Global,User:y.User},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResponseValidator=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(0),s=r(2),o=r(24),a=r(10),c=r(11),u=r(4),l=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];e.ResponseValidator=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.MetadataService,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UserInfoService,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.JoseUtil,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.TokenClient;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=e,this._metadataService=new r(this._settings),this._userInfoService=new n(this._settings),this._joseUtil=c,this._tokenClient=new l(this._settings)}return t.prototype.validateSigninResponse=function(t,e){var r=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(t,e).then(function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),r._validateTokens(t,e).then(function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),r._processClaims(t,e).then(function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),t})})})},t.prototype.validateSignoutResponse=function(t,e){return t.id!==e.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),e.state=t.data,e.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",e.error),Promise.reject(new c.ErrorResponse(e))):Promise.resolve(e))},t.prototype._processSigninParams=function(t,e){if(t.id!==e.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!t.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!t.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==t.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=t.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==t.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=t.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),e.state=t.data,e.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",e.error),Promise.reject(new c.ErrorResponse(e))):t.nonce&&!e.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!t.nonce&&e.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):t.code_verifier&&!e.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!t.code_verifier&&e.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(e.scope||(e.scope=t.scope),Promise.resolve(e))},t.prototype._processClaims=function(t,e){var r=this;if(e.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),e.profile=this._filterProtocolClaims(e.profile),!0!==t.skipUserInfo&&this._settings.loadUserInfo&&e.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(e.access_token).then(function(t){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),t.sub!==e.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in access_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in access_token"))):(e.profile=r._mergeClaims(e.profile,t),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",e.profile),e)});i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(e)},t.prototype._mergeClaims=function(t,e){var r=Object.assign({},t);for(var i in e){var s=e[i];Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var a=s[o];r[i]?Array.isArray(r[i])?r[i].indexOf(a)<0&&r[i].push(a):r[i]!==a&&(r[i]="object"===(void 0===a?"undefined":n(a))?this._mergeClaims(r[i],a):[r[i],a]):r[i]=a}}return r},t.prototype._filterProtocolClaims=function(t){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",t);var e=Object.assign({},t);return this._settings._filterProtocolClaims?(l.forEach(function(t){delete e[t]}),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",e)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),e},t.prototype._validateTokens=function(t,e){return e.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(t,e)):e.id_token?e.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(t,e)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(t,e)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(e))},t.prototype._processCode=function(t,e){var r=this,s={client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier};return t.extraTokenParams&&"object"===n(t.extraTokenParams)&&Object.assign(s,t.extraTokenParams),this._tokenClient.exchangeCode(s).then(function(n){for(var s in n)e[s]=n[s];return e.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),r._validateIdTokenAttributes(t,e)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),e)})},t.prototype._validateIdTokenAttributes=function(t,e){var r=this;return this._metadataService.getIssuer().then(function(n){var s=t.client_id,o=r._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",o),r._joseUtil.validateJwtAttributes(e.id_token,n,s,o).then(function(r){return t.nonce&&t.nonce!==r.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):r.sub?(e.profile=r,e):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})},t.prototype._validateIdTokenAndAccessToken=function(t,e){var r=this;return this._validateIdToken(t,e).then(function(t){return r._validateAccessToken(t)})},t.prototype._validateIdToken=function(t,e){var r=this;if(!t.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var n=this._joseUtil.parseJwt(e.id_token);if(!n||!n.header||!n.payload)return i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",n),Promise.reject(new Error("Failed to parse id_token"));if(t.nonce!==n.payload.nonce)return i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"));var s=n.header.kid;return this._metadataService.getIssuer().then(function(o){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),r._metadataService.getSigningKeys().then(function(a){if(!a)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var c=void 0;if(s)c=a.filter(function(t){return t.kid===s})[0];else{if((a=r._filterByAlg(a,n.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));c=a[0]}if(!c)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var u=t.client_id,l=r._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",l),r._joseUtil.validateJwt(e.id_token,c,o,u,l).then(function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),n.payload.sub?(e.profile=n.payload,e):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},t.prototype._filterByAlg=function(t,e){var r=null;if(e.startsWith("RS"))r="RSA";else if(e.startsWith("PS"))r="PS";else{if(!e.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",e),[];r="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",r),t=t.filter(function(t){return t.kty===r}),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",r,t.length),t},t.prototype._validateAccessToken=function(t){if(!t.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!t.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!t.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var e=this._joseUtil.parseJwt(t.id_token);if(!e||!e.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",e),Promise.reject(new Error("Failed to parse id_token"));var r=e.header.alg;if(!r||5!==r.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r),Promise.reject(new Error("Unsupported alg: "+r));var n=r.substr(2,3);if(!n)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r,n),Promise.reject(new Error("Unsupported alg: "+r));if(256!==(n=parseInt(n))&&384!==n&&512!==n)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r,n),Promise.reject(new Error("Unsupported alg: "+r));var s="sha"+n,o=this._joseUtil.hashString(t.access_token,s);if(!o)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",s),Promise.reject(new Error("Failed to validate at_hash"));var a=o.substr(0,o.length/2),c=this._joseUtil.hexToBase64Url(a);return c!==t.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",c,t.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(t))},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserInfoService=void 0;var n=r(7),i=r(2),s=r(0),o=r(4);e.UserInfoService=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.JoseUtil;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw s.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=e,this._jsonService=new r(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new a(this._settings),this._joseUtil=c}return t.prototype.getClaims=function(t){var e=this;return t?this._metadataService.getUserInfoEndpoint().then(function(r){return s.Log.debug("UserInfoService.getClaims: received userinfo url",r),e._jsonService.getJson(r,t).then(function(t){return s.Log.debug("UserInfoService.getClaims: claims received",t),t})}):(s.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},t.prototype._getClaimsFromJwt=function t(e){var r=this;try{var n=this._joseUtil.parseJwt(e.responseText);if(!n||!n.header||!n.payload)return s.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",n),Promise.reject(new Error("Failed to parse id_token"));var i=n.header.kid,o=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":o=this._metadataService.getIssuer();break;case"ANY":o=Promise.resolve(n.payload.iss);break;default:o=Promise.resolve(this._settings.userInfoJwtIssuer)}return o.then(function(t){return s.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+t),r._metadataService.getSigningKeys().then(function(o){if(!o)return s.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var a=void 0;if(i)a=o.filter(function(t){return t.kid===i})[0];else{if((o=r._filterByAlg(o,n.header.alg)).length>1)return s.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));a=o[0]}if(!a)return s.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var c=r._settings.client_id,u=r._settings.clockSkew;return s.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",u),r._joseUtil.validateJwt(e.responseText,a,t,c,u,void 0,!0).then(function(){return s.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),n.payload})})})}catch(t){return s.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",t.message),void reject(t)}},t.prototype._filterByAlg=function(t,e){var r=null;if(e.startsWith("RS"))r="RSA";else if(e.startsWith("PS"))r="PS";else{if(!e.startsWith("ES"))return s.Log.debug("UserInfoService._filterByAlg: alg not supported: ",e),[];r="EC"}return s.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",r),t=t.filter(function(t){return t.kty===r}),s.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",r,t.length),t},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AllowedSigningAlgs=e.b64tohex=e.hextob64u=e.crypto=e.X509=e.KeyUtil=e.jws=void 0;var n=r(26);e.jws=n.jws,e.KeyUtil=n.KEYUTIL,e.X509=n.X509,e.crypto=n.crypto,e.hextob64u=n.hextob64u,e.b64tohex=n.b64tohex,e.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n={userAgent:!1},i={};
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/if(void 0===s)var s={};s.lang={extend:function(e,r,i){if(!r||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var s=function(){};if(s.prototype=r.prototype,e.prototype=new s,e.prototype.constructor=e,e.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),i){var o;for(o in i)e.prototype[o]=i[o];var a=function(){},c=["toString","valueOf"];try{/MSIE/.test(n.userAgent)&&(a=function(t,e){for(o=0;o<c.length;o+=1){var r=c[o],n=e[r];"function"==typeof n&&n!=Object.prototype[r]&&(t[r]=n)}})}catch(t){}a(e.prototype,i)}}};
/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */
var o,a,c,u,l,h,f,d,p,m,g,y=y||(o=Math,c=(a={}).lib={},u=c.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var r=new t;return e&&r.mixIn(e),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=c.WordArray=u.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||f).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var s=0;s<i;s++)e[n+s>>>2]|=(r[s>>>2]>>>24-s%4*8&255)<<24-(n+s)%4*8;else for(s=0;s<i;s+=4)e[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=o.ceil(e/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(4294967296*o.random()|0);return new l.init(e,t)}}),h=a.enc={},f=h.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var s=e[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new l.init(r,e/2)}},d=h.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new l.init(r,e)}},p=h.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},m=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,r=e.words,n=e.sigBytes,i=this.blockSize,s=n/(4*i),a=(s=t?o.ceil(s):o.max((0|s)-this._minBufferSize,0))*i,c=o.min(4*a,n);if(a){for(var u=0;u<a;u+=i)this._doProcessBlock(r,u);var h=r.splice(0,a);e.sigBytes-=c}return new l.init(h,c)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),c.Hasher=m.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new g.HMAC.init(t,r).finalize(e)}}}),g=a.algo={},a);!function(t){var e,r=(e=y).lib,n=r.Base,i=r.WordArray;(e=e.x64={}).Word=n.extend({init:function(t,e){this.high=t,this.low=e}}),e.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var s=t[n];r.push(s.high),r.push(s.low)}return i.create(r,this.sigBytes)},clone:function(){for(var t=n.clone.call(this),e=t.words=this.words.slice(0),r=e.length,i=0;i<r;i++)e[i]=e[i].clone();return t}})}(),function(){var t=y.lib.WordArray;y.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp(),t=[];for(var i=0;i<r;i+=3)for(var s=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<r;o++)t.push(n.charAt(s>>>6*(3-o)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(e){var r=e.length,n=this._map;(i=n.charAt(64))&&-1!=(i=e.indexOf(i))&&(r=i);for(var i=[],s=0,o=0;o<r;o++)if(o%4){var a=n.indexOf(e.charAt(o-1))<<o%4*2,c=n.indexOf(e.charAt(o))>>>6-o%4*2;i[s>>>2]|=(a|c)<<24-s%4*8,s++}return t.create(i,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){for(var e=y,r=(i=e.lib).WordArray,n=i.Hasher,i=e.algo,s=[],o=[],a=function(t){return 4294967296*(t-(0|t))|0},c=2,u=0;64>u;){var l;t:{for(var h=t.sqrt(l=c),f=2;f<=h;f++)if(!(l%f)){l=!1;break t}l=!0}l&&(8>u&&(s[u]=a(t.pow(c,.5))),o[u]=a(t.pow(c,1/3)),u++),c++}var d=[];i=i.SHA256=n.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],a=r[3],c=r[4],u=r[5],l=r[6],h=r[7],f=0;64>f;f++){if(16>f)d[f]=0|t[e+f];else{var p=d[f-15],m=d[f-2];d[f]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+d[f-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+d[f-16]}p=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&l)+o[f]+d[f],m=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&i^n&s^i&s),h=l,l=u,u=c,c=a+p|0,a=s,s=i,i=n,n=p+m|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+a|0,r[4]=r[4]+c|0,r[5]=r[5]+u|0,r[6]=r[6]+l|0,r[7]=r[7]+h|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA256=n._createHelper(i),e.HmacSHA256=n._createHmacHelper(i)}(Math),function(){function t(){return n.create.apply(n,arguments)}for(var e=y,r=e.lib.Hasher,n=(s=e.x64).Word,i=s.WordArray,s=e.algo,o=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],a=[],c=0;80>c;c++)a[c]=t();s=s.SHA512=r.extend({_doReset:function(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=(h=this._hash.words)[0],n=h[1],i=h[2],s=h[3],c=h[4],u=h[5],l=h[6],h=h[7],f=r.high,d=r.low,p=n.high,m=n.low,g=i.high,y=i.low,v=s.high,b=s.low,_=c.high,w=c.low,S=u.high,E=u.low,C=l.high,k=l.low,A=h.high,x=h.low,T=f,I=d,R=p,P=m,F=g,O=y,M=v,B=b,N=_,D=w,L=S,j=E,U=C,V=k,H=A,q=x,K=0;80>K;K++){var z=a[K];if(16>K)var W=z.high=0|t[e+2*K],$=z.low=0|t[e+2*K+1];else{W=(($=(W=a[K-15]).high)>>>1|(G=W.low)<<31)^($>>>8|G<<24)^$>>>7;var G=(G>>>1|$<<31)^(G>>>8|$<<24)^(G>>>7|$<<25),Q=(($=(Q=a[K-2]).high)>>>19|(J=Q.low)<<13)^($<<3|J>>>29)^$>>>6,J=(J>>>19|$<<13)^(J<<3|$>>>29)^(J>>>6|$<<26),Z=($=a[K-7]).high,Y=(X=a[K-16]).high,X=X.low;W=(W=(W=W+Z+(($=G+$.low)>>>0<G>>>0?1:0))+Q+(($+=J)>>>0<J>>>0?1:0))+Y+(($+=X)>>>0<X>>>0?1:0),z.high=W,z.low=$}z=T&R^T&F^R&F;var tt=I&P^I&O^P&O,et=(G=(T>>>28|I<<4)^(T<<30|I>>>2)^(T<<25|I>>>7),Q=(I>>>28|T<<4)^(I<<30|T>>>2)^(I<<25|T>>>7),(J=o[K]).high),rt=J.low;Y=(Y=(Y=(Y=H+((N>>>14|D<<18)^(N>>>18|D<<14)^(N<<23|D>>>9))+((J=q+((D>>>14|N<<18)^(D>>>18|N<<14)^(D<<23|N>>>9)))>>>0<q>>>0?1:0))+(Z=N&L^~N&U)+((J+=X=D&j^~D&V)>>>0<X>>>0?1:0))+et+((J+=rt)>>>0<rt>>>0?1:0))+W+((J+=$)>>>0<$>>>0?1:0),H=U,q=V,U=L,V=j,L=N,j=D,N=M+Y+((D=B+J|0)>>>0<B>>>0?1:0)|0,M=F,B=O,F=R,O=P,R=T,P=I,T=Y+(z=G+z+(($=Q+tt)>>>0<Q>>>0?1:0))+((I=J+$|0)>>>0<J>>>0?1:0)|0}d=r.low=d+I,r.high=f+T+(d>>>0<I>>>0?1:0),m=n.low=m+P,n.high=p+R+(m>>>0<P>>>0?1:0),y=i.low=y+O,i.high=g+F+(y>>>0<O>>>0?1:0),b=s.low=b+B,s.high=v+M+(b>>>0<B>>>0?1:0),w=c.low=w+D,c.high=_+N+(w>>>0<D>>>0?1:0),E=u.low=E+j,u.high=S+L+(E>>>0<j>>>0?1:0),k=l.low=k+V,l.high=C+U+(k>>>0<V>>>0?1:0),x=h.low=x+q,h.high=A+H+(x>>>0<q>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),e.SHA512=r._createHelper(s),e.HmacSHA512=r._createHmacHelper(s)}(),function(){var t=y,e=(i=t.x64).Word,r=i.WordArray,n=(i=t.algo).SHA512,i=i.SHA384=n.extend({_doReset:function(){this._hash=new r.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function(){var t=n._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=n._createHelper(i),t.HmacSHA384=n._createHmacHelper(i)}();
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
var v,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function _(t){var e,r,n="";for(e=0;e+3<=t.length;e+=3)r=parseInt(t.substring(e,e+3),16),n+=b.charAt(r>>6)+b.charAt(63&r);for(e+1==t.length?(r=parseInt(t.substring(e,e+1),16),n+=b.charAt(r<<2)):e+2==t.length&&(r=parseInt(t.substring(e,e+2),16),n+=b.charAt(r>>2)+b.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}function w(t){var e,r,n,i="",s=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e)(n=b.indexOf(t.charAt(e)))<0||(0==s?(i+=T(n>>2),r=3&n,s=1):1==s?(i+=T(r<<2|n>>4),r=15&n,s=2):2==s?(i+=T(r),i+=T(n>>2),r=3&n,s=3):(i+=T(r<<2|n>>4),i+=T(15&n),s=0));return 1==s&&(i+=T(r<<2)),i}function S(t){var e,r=w(t),n=new Array;for(e=0;2*e<r.length;++e)n[e]=parseInt(r.substring(2*e,2*e+2),16);return n}function E(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):this.fromString(t,null==e&&"string"!=typeof t?256:e))}function C(){return new E(null)}"Microsoft Internet Explorer"==n.appName?(E.prototype.am=function(t,e,r,n,i,s){for(var o=32767&e,a=e>>15;--s>=0;){var c=32767&this[t],u=this[t++]>>15,l=a*c+u*o;i=((c=o*c+((32767&l)<<15)+r[n]+(1073741823&i))>>>30)+(l>>>15)+a*u+(i>>>30),r[n++]=1073741823&c}return i},v=30):"Netscape"!=n.appName?(E.prototype.am=function(t,e,r,n,i,s){for(;--s>=0;){var o=e*this[t++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=67108863&o}return i},v=26):(E.prototype.am=function(t,e,r,n,i,s){for(var o=16383&e,a=e>>14;--s>=0;){var c=16383&this[t],u=this[t++]>>14,l=a*c+u*o;i=((c=o*c+((16383&l)<<14)+r[n]+i)>>28)+(l>>14)+a*u,r[n++]=268435455&c}return i},v=28),E.prototype.DB=v,E.prototype.DM=(1<<v)-1,E.prototype.DV=1<<v,E.prototype.FV=Math.pow(2,52),E.prototype.F1=52-v,E.prototype.F2=2*v-52;var k,A,x=new Array;for(k="0".charCodeAt(0),A=0;A<=9;++A)x[k++]=A;for(k="a".charCodeAt(0),A=10;A<36;++A)x[k++]=A;for(k="A".charCodeAt(0),A=10;A<36;++A)x[k++]=A;function T(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function I(t,e){var r=x[t.charCodeAt(e)];return null==r?-1:r}function R(t){var e=C();return e.fromInt(t),e}function P(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function F(t){this.m=t}function O(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function M(t,e){return t&e}function B(t,e){return t|e}function N(t,e){return t^e}function D(t,e){return t&~e}function L(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function j(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function U(){}function V(t){return t}function H(t){this.r2=C(),this.q3=C(),E.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}F.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},F.prototype.revert=function(t){return t},F.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},F.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},F.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},O.prototype.convert=function(t){var e=C();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(E.ZERO)>0&&this.m.subTo(e,e),e},O.prototype.revert=function(t){var e=C();return t.copyTo(e),this.reduce(e),e},O.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},O.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},O.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},E.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},E.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},E.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var o=8==r?255&t[n]:I(t,n);o<0?"-"==t.charAt(n)&&(i=!0):(i=!1,0==s?this[this.t++]=o:s+r>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&E.ZERO.subTo(this,this)},E.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},E.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},E.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},E.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,s=(1<<i)-1,o=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+o+1]=this[r]>>i|a,a=(this[r]&s)<<n;for(r=o-1;r>=0;--r)e[r]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},E.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)e[o-r-1]|=(this[o]&s)<<i,e[o-r]=this[o]>>n;n>0&&(e[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}},E.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},E.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&E.ZERO.subTo(e,e)},E.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},E.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=C());var s=C(),o=this.s,a=t.s,c=this.DB-P(n[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var u=s.t,l=s[u-1];if(0!=l){var h=l*(1<<this.F1)+(u>1?s[u-2]>>this.F2:0),f=this.FV/h,d=(1<<this.F1)/h,p=1<<this.F2,m=r.t,g=m-u,y=null==e?C():e;for(s.dlShiftTo(g,y),r.compareTo(y)>=0&&(r[r.t++]=1,r.subTo(y,r)),E.ONE.dlShiftTo(u,y),y.subTo(s,s);s.t<u;)s[s.t++]=0;for(;--g>=0;){var v=r[--m]==l?this.DM:Math.floor(r[m]*f+(r[m-1]+p)*d);if((r[m]+=s.am(0,v,r,g,0,u))<v)for(s.dlShiftTo(g,y),r.subTo(y,r);r[m]<--v;)r.subTo(y,r)}null!=e&&(r.drShiftTo(u,e),o!=a&&E.ZERO.subTo(e,e)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),o<0&&E.ZERO.subTo(r,r)}}},E.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},E.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},E.prototype.exp=function(t,e){if(t>4294967295||t<1)return E.ONE;var r=C(),n=C(),i=e.convert(this),s=P(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var o=r;r=n,n=o}return e.revert(r)},E.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(r=this[o]>>a)>0&&(i=!0,s=T(r));o>=0;)a<e?(r=(this[o]&(1<<a)-1)<<e-a,r|=this[--o]>>(a+=this.DB-e)):(r=this[o]>>(a-=e)&n,a<=0&&(a+=this.DB,--o)),r>0&&(i=!0),i&&(s+=T(r));return i?s:"0"},E.prototype.negate=function(){var t=C();return E.ZERO.subTo(this,t),t},E.prototype.abs=function(){return this.s<0?this.negate():this},E.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},E.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+P(this[this.t-1]^this.s&this.DM)},E.prototype.mod=function(t){var e=C();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(E.ZERO)>0&&t.subTo(e,e),e},E.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new F(e):new O(e),this.exp(t,r)},E.ZERO=R(0),E.ONE=R(1),U.prototype.convert=V,U.prototype.revert=V,U.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},U.prototype.sqrTo=function(t,e){t.squareTo(e)},H.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=C();return t.copyTo(e),this.reduce(e),e},H.prototype.revert=function(t){return t},H.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},H.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},H.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var q,K,z,W=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],$=(1<<26)/W[W.length-1];
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function G(){this.i=0,this.j=0,this.S=new Array}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function Q(){!function(t){K[z++]^=255&t,K[z++]^=t>>8&255,K[z++]^=t>>16&255,K[z++]^=t>>24&255,z>=256&&(z-=256)}((new Date).getTime())}if(E.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},E.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=R(r),i=C(),s=C(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(t).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(t)+o},E.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,s=0,o=0,a=0;a<t.length;++a){var c=I(t,a);c<0?"-"==t.charAt(a)&&0==this.signum()&&(i=!0):(o=e*o+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(o,0)),i&&E.ZERO.subTo(this,this)},E.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(E.ONE.shiftLeft(t-1),B,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(E.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},E.prototype.bitwiseTo=function(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},E.prototype.changeBit=function(t,e){var r=E.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},E.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},E.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},E.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},E.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,t[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t[i],r,i,0,e-i);r.clamp()},E.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},E.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},E.prototype.millerRabin=function(t){var e=this.subtract(E.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);(t=t+1>>1)>W.length&&(t=W.length);for(var i=C(),s=0;s<t;++s){i.fromInt(W[Math.floor(Math.random()*W.length)]);var o=i.modPow(n,this);if(0!=o.compareTo(E.ONE)&&0!=o.compareTo(e)){for(var a=1;a++<r&&0!=o.compareTo(e);)if(0==(o=o.modPowInt(2,this)).compareTo(E.ONE))return!1;if(0!=o.compareTo(e))return!1}}return!0},E.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function(){var t=C();return this.copyTo(t),t},E.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},E.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},E.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},E.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},E.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},E.prototype.equals=function(t){return 0==this.compareTo(t)},E.prototype.min=function(t){return this.compareTo(t)<0?this:t},E.prototype.max=function(t){return this.compareTo(t)>0?this:t},E.prototype.and=function(t){var e=C();return this.bitwiseTo(t,M,e),e},E.prototype.or=function(t){var e=C();return this.bitwiseTo(t,B,e),e},E.prototype.xor=function(t){var e=C();return this.bitwiseTo(t,N,e),e},E.prototype.andNot=function(t){var e=C();return this.bitwiseTo(t,D,e),e},E.prototype.not=function(){for(var t=C(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},E.prototype.shiftLeft=function(t){var e=C();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},E.prototype.shiftRight=function(t){var e=C();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},E.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+L(this[t]);return this.s<0?this.t*this.DB:-1},E.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=j(this[r]^e);return t},E.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},E.prototype.setBit=function(t){return this.changeBit(t,B)},E.prototype.clearBit=function(t){return this.changeBit(t,D)},E.prototype.flipBit=function(t){return this.changeBit(t,N)},E.prototype.add=function(t){var e=C();return this.addTo(t,e),e},E.prototype.subtract=function(t){var e=C();return this.subTo(t,e),e},E.prototype.multiply=function(t){var e=C();return this.multiplyTo(t,e),e},E.prototype.divide=function(t){var e=C();return this.divRemTo(t,e,null),e},E.prototype.remainder=function(t){var e=C();return this.divRemTo(t,null,e),e},E.prototype.divideAndRemainder=function(t){var e=C(),r=C();return this.divRemTo(t,e,r),new Array(e,r)},E.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),s=R(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new F(e):e.isEven()?new H(e):new O(e);var o=new Array,a=3,c=r-1,u=(1<<r)-1;if(o[1]=n.convert(this),r>1){var l=C();for(n.sqrTo(o[1],l);a<=u;)o[a]=C(),n.mulTo(l,o[a-2],o[a]),a+=2}var h,f,d=t.t-1,p=!0,m=C();for(i=P(t[d])-1;d>=0;){for(i>=c?h=t[d]>>i-c&u:(h=(t[d]&(1<<i+1)-1)<<c-i,d>0&&(h|=t[d-1]>>this.DB+i-c)),a=r;0==(1&h);)h>>=1,--a;if((i-=a)<0&&(i+=this.DB,--d),p)o[h].copyTo(s),p=!1;else{for(;a>1;)n.sqrTo(s,m),n.sqrTo(m,s),a-=2;a>0?n.sqrTo(s,m):(f=s,s=m,m=f),n.mulTo(m,o[h],s)}for(;d>=0&&0==(t[d]&1<<i);)n.sqrTo(s,m),f=s,s=m,m=f,--i<0&&(i=this.DB-1,--d)}return n.revert(s)},E.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return E.ZERO;for(var r=t.clone(),n=this.clone(),i=R(1),s=R(0),o=R(0),a=R(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),e&&o.subTo(i,o),a.subTo(s,a))}return 0!=n.compareTo(E.ONE)?E.ZERO:a.compareTo(t)>=0?a.subtract(t):a.signum()<0?(a.addTo(t,a),a.signum()<0?a.add(t):a):a},E.prototype.pow=function(t){return this.exp(t,new U)},E.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},E.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=W[W.length-1]){for(e=0;e<W.length;++e)if(r[0]==W[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<W.length;){for(var n=W[e],i=e+1;i<W.length&&n<$;)n*=W[i++];for(n=r.modInt(n);e<i;)if(n%W[e++]==0)return!1}return r.millerRabin(t)},E.prototype.square=function(){var t=C();return this.squareTo(t),t},G.prototype.init=function(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)n=this.S[e],this.S[e]=this.S[r=r+this.S[e]+t[e%t.length]&255],this.S[r]=n;this.i=0,this.j=0},G.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},null==K){var J;if(K=new Array,z=0,void 0!==i&&(void 0!==i.crypto||void 0!==i.msCrypto)){var Z=i.crypto||i.msCrypto;if(Z.getRandomValues){var Y=new Uint8Array(32);for(Z.getRandomValues(Y),J=0;J<32;++J)K[z++]=Y[J]}else if("Netscape"==n.appName&&n.appVersion<"5"){var X=i.crypto.random(32);for(J=0;J<X.length;++J)K[z++]=255&X.charCodeAt(J)}}for(;z<256;)J=Math.floor(65536*Math.random()),K[z++]=J>>>8,K[z++]=255&J;z=0,Q()}function tt(){if(null==q){for(Q(),(q=new G).init(K),z=0;z<K.length;++z)K[z]=0;z=0}return q.next()}function et(){}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function rt(t,e){return new E(t,e)}function nt(t,e,r){for(var n="",i=0;n.length<e;)n+=r(String.fromCharCode.apply(String,t.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return n}function it(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function st(t,e){this.x=e,this.q=t}function ot(t,e,r,n){this.curve=t,this.x=e,this.y=r,this.z=null==n?E.ONE:n,this.zinv=null}function at(t,e,r){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(r),this.infinity=new ot(this,null,null)}et.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=tt()},it.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},it.prototype.setPublic=function(t,e){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof t)this.n=t,this.e=e;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA public key";this.n=rt(t,16),this.e=parseInt(e,16)}},it.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)throw"Message too long for RSA";for(var r=new Array,n=t.length-1;n>=0&&e>0;){var i=t.charCodeAt(n--);i<128?r[--e]=i:i>127&&i<2048?(r[--e]=63&i|128,r[--e]=i>>6|192):(r[--e]=63&i|128,r[--e]=i>>6&63|128,r[--e]=i>>12|224)}r[--e]=0;for(var s=new et,o=new Array;e>2;){for(o[0]=0;0==o[0];)s.nextBytes(o);r[--e]=o[0]}return r[--e]=2,r[--e]=0,new E(r)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var r=this.doPublic(e);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},it.prototype.encryptOAEP=function(t,e,r){var n=function(t,e,r,n){var i=ut.crypto.MessageDigest,s=ut.crypto.Util,o=null;if(r||(r="sha1"),"string"==typeof r&&(o=i.getCanonicalAlgName(r),n=i.getHashLength(o),r=function(t){return Et(s.hashHex(Ct(t),o))}),t.length+2*n+2>e)throw"Message too long for RSA";var a,c="";for(a=0;a<e-t.length-2*n-2;a+=1)c+="\0";var u=r("")+c+"\x01"+t,l=new Array(n);(new et).nextBytes(l);var h=nt(l,u.length,r),f=[];for(a=0;a<u.length;a+=1)f[a]=u.charCodeAt(a)^h.charCodeAt(a);var d=nt(f,l.length,r),p=[0];for(a=0;a<l.length;a+=1)p[a+1]=l[a]^d.charCodeAt(a);return new E(p.concat(f))}(t,this.n.bitLength()+7>>3,e,r);if(null==n)return null;var i=this.doPublic(n);if(null==i)return null;var s=i.toString(16);return 0==(1&s.length)?s:"0"+s},it.prototype.type="RSA",st.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},st.prototype.toBigInteger=function(){return this.x},st.prototype.negate=function(){return new st(this.q,this.x.negate().mod(this.q))},st.prototype.add=function(t){return new st(this.q,this.x.add(t.toBigInteger()).mod(this.q))},st.prototype.subtract=function(t){return new st(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},st.prototype.multiply=function(t){return new st(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},st.prototype.square=function(){return new st(this.q,this.x.square().mod(this.q))},st.prototype.divide=function(t){return new st(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},ot.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ot.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ot.prototype.equals=function(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(E.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(E.ZERO))},ot.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(E.ZERO)&&!this.y.toBigInteger().equals(E.ZERO)},ot.prototype.negate=function(){return new ot(this.curve,this.x,this.y.negate(),this.z)},ot.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),r=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(E.ZERO.equals(r))return E.ZERO.equals(e)?this.twice():this.curve.getInfinity();var n=new E("3"),i=this.x.toBigInteger(),s=this.y.toBigInteger(),o=(t.x.toBigInteger(),t.y.toBigInteger(),r.square()),a=o.multiply(r),c=i.multiply(o),u=e.square().multiply(this.z),l=u.subtract(c.shiftLeft(1)).multiply(t.z).subtract(a).multiply(r).mod(this.curve.q),h=c.multiply(n).multiply(e).subtract(s.multiply(a)).subtract(u.multiply(e)).multiply(t.z).add(e.multiply(a)).mod(this.curve.q),f=a.multiply(this.z).multiply(t.z).mod(this.curve.q);return new ot(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(h),f)},ot.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new E("3"),e=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),s=this.curve.a.toBigInteger(),o=e.square().multiply(t);E.ZERO.equals(s)||(o=o.add(this.z.square().multiply(s)));var a=(o=o.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),c=o.multiply(t).multiply(e).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(o.square().multiply(o)).mod(this.curve.q),u=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new ot(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(c),u)},ot.prototype.multiply=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new E("3")),i=this.negate(),s=this;for(e=n.bitLength()-2;e>0;--e){s=s.twice();var o=n.testBit(e);o!=r.testBit(e)&&(s=s.add(o?this:i))}return s},ot.prototype.multiplyTwo=function(t,e,r){var n;n=t.bitLength()>r.bitLength()?t.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),s=this.add(e);n>=0;)i=i.twice(),t.testBit(n)?i=r.testBit(n)?i.add(s):i.add(this):r.testBit(n)&&(i=i.add(e)),--n;return i},at.prototype.getQ=function(){return this.q},at.prototype.getA=function(){return this.a},at.prototype.getB=function(){return this.b},at.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},at.prototype.getInfinity=function(){return this.infinity},at.prototype.fromBigInteger=function(t){return new st(this.q,t)},at.prototype.decodePointHex=function(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(t.length-2)/2,r=t.substr(2,e),n=t.substr(e+2,e);return new ot(this,this.fromBigInteger(new E(r,16)),this.fromBigInteger(new E(n,16)));default:return null}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */
st.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ot.prototype.getEncoded=function(t){var e=function(t,e){var r=t.toByteArrayUnsigned();if(e<r.length)r=r.slice(r.length-e);else for(;e>r.length;)r.unshift(0);return r},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),i=e(r,32);return t?n.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(e(n,32))),i},ot.decodeFrom=function(t,e){var r=e.length-1,n=e.slice(1,1+r/2),i=e.slice(1+r/2,1+r);n.unshift(0),i.unshift(0);var s=new E(n),o=new E(i);return new ot(t,t.fromBigInteger(s),t.fromBigInteger(o))},ot.decodeFromHex=function(t,e){e.substr(0,2);var r=e.length-2,n=e.substr(2,r/2),i=e.substr(2+r/2,r/2),s=new E(n,16),o=new E(i,16);return new ot(t,t.fromBigInteger(s),t.fromBigInteger(o))},ot.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),r=t.y.subtract(this.y).divide(e),n=r.square().subtract(this.x).subtract(t.x),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new ot(this.curve,n,i)},ot.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(E.valueOf(2)),e=this.curve.fromBigInteger(E.valueOf(3)),r=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),n=r.square().subtract(this.x.multiply(t)),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new ot(this.curve,n,i)},ot.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new E("3")),i=this.negate(),s=this;for(e=n.bitLength()-2;e>0;--e){s=s.twice();var o=n.testBit(e);o!=r.testBit(e)&&(s=s.add2D(o?this:i))}return s},ot.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),i=this.curve.getQ(),s=e.multiply(e).mod(i),o=t.multiply(t).multiply(t).add(r.multiply(t)).add(n).mod(i);return s.equals(o)},ot.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ot.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var e=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(e.compareTo(E.ONE)<0||e.compareTo(t.subtract(E.ONE))>0)throw new Error("x coordinate out of bounds");if(r.compareTo(E.ONE)<0||r.compareTo(t.subtract(E.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(t).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};
/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */
var ct=function(){var t=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),e=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(t,e,r){return e?n[e]:String.fromCharCode(parseInt(r,16))}var s=new String(""),o=Object.hasOwnProperty;return function(n,a){var c,u,l=n.match(t),h=l[0],f=!1;"{"===h?c={}:"["===h?c=[]:(c=[],f=!0);for(var d=[c],p=1-f,m=l.length;p<m;++p){var g;switch((h=l[p]).charCodeAt(0)){default:(g=d[0])[u||g.length]=+h,u=void 0;break;case 34:if(-1!==(h=h.substring(1,h.length-1)).indexOf("\\")&&(h=h.replace(e,i)),g=d[0],!u){if(!(g instanceof Array)){u=h||s;break}u=g.length}g[u]=h,u=void 0;break;case 91:d.unshift((g=d[0])[u||g.length]=[]),u=void 0;break;case 93:d.shift();break;case 102:(g=d[0])[u||g.length]=!1,u=void 0;break;case 110:(g=d[0])[u||g.length]=null,u=void 0;break;case 116:(g=d[0])[u||g.length]=!0,u=void 0;break;case 123:d.unshift((g=d[0])[u||g.length]={}),u=void 0;break;case 125:d.shift()}}if(f){if(1!==d.length)throw new Error;c=c[0]}else if(d.length)throw new Error;return a&&(c=function t(e,n){var i=e[n];if(i&&"object"===(void 0===i?"undefined":r(i))){var s=null;for(var c in i)if(o.call(i,c)&&i!==e){var u=t(i,c);void 0!==u?i[c]=u:(s||(s=[]),s.push(c))}if(s)for(var l=s.length;--l>=0;)delete i[s[l]]}return a.call(e,n,i)}({"":c},"")),c}}();void 0!==ut&&ut||(e.KJUR=ut={}),void 0!==ut.asn1&&ut.asn1||(ut.asn1={}),ut.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var r=e.substr(1).length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var n="",i=0;i<r;i++)n+="f";e=new E(n,16).xor(t).add(E.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return Tt(t,e)},this.newObject=function(t){var e=ut.asn1,r=e.DERBoolean,n=e.DERInteger,i=e.DERBitString,s=e.DEROctetString,o=e.DERNull,a=e.DERObjectIdentifier,c=e.DEREnumerated,u=e.DERUTF8String,l=e.DERNumericString,h=e.DERPrintableString,f=e.DERTeletexString,d=e.DERIA5String,p=e.DERUTCTime,m=e.DERGeneralizedTime,g=e.DERSequence,y=e.DERSet,v=e.DERTaggedObject,b=e.ASN1Util.newObject,_=Object.keys(t);if(1!=_.length)throw"key of param shall be only one.";var w=_[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+w+":"))throw"undefined key: "+w;if("bool"==w)return new r(t[w]);if("int"==w)return new n(t[w]);if("bitstr"==w)return new i(t[w]);if("octstr"==w)return new s(t[w]);if("null"==w)return new o(t[w]);if("oid"==w)return new a(t[w]);if("enum"==w)return new c(t[w]);if("utf8str"==w)return new u(t[w]);if("numstr"==w)return new l(t[w]);if("prnstr"==w)return new h(t[w]);if("telstr"==w)return new f(t[w]);if("ia5str"==w)return new d(t[w]);if("utctime"==w)return new p(t[w]);if("gentime"==w)return new m(t[w]);if("seq"==w){for(var S=t[w],E=[],C=0;C<S.length;C++){var k=b(S[C]);E.push(k)}return new g({array:E})}if("set"==w){for(S=t[w],E=[],C=0;C<S.length;C++)k=b(S[C]),E.push(k);return new y({array:E})}if("tag"==w){var A=t[w];if("[object Array]"===Object.prototype.toString.call(A)&&3==A.length){var x=b(A[2]);return new v({tag:A[0],explicit:A[1],obj:x})}var T={};if(void 0!==A.explicit&&(T.explicit=A.explicit),void 0!==A.tag&&(T.tag=A.tag),void 0===A.obj)throw"obj shall be specified for 'tag'.";return T.obj=b(A.obj),new v(T)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},ut.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=(e=Math.floor(r/40)+"."+r%40,""),i=2;i<t.length;i+=2){var s=("00000000"+parseInt(t.substr(i,2),16).toString(2)).slice(-8);n+=s.substr(1,7),"0"==s.substr(0,1)&&(e=e+"."+new E(n,2).toString(10),n="")}return e},ut.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new E(t,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var s="",o=0;o<i;o++)s+="0";for(n=s+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),r+=e(parseInt(a,2))}return r};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",i=t.split("."),s=40*parseInt(i[0])+parseInt(i[1]);n+=e(s),i.splice(0,2);for(var o=0;o<i.length;o++)n+=r(i[o]);return n},ut.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var r=e.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+r).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},ut.asn1.DERAbstractString=function(t){ut.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=wt(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},s.lang.extend(ut.asn1.DERAbstractString,ut.asn1.ASN1Object),ut.asn1.DERAbstractTime=function(t){ut.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,r){var n=this.zeroPadding,i=this.localDateToUTC(t),s=String(i.getFullYear());"utc"==e&&(s=s.substr(2,2));var o=s+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var a=i.getMilliseconds();if(0!=a){var c=n(String(a),3);o=o+"."+(c=c.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=gt(t)},this.setByDateValue=function(t,e,r,n,i,s){var o=new Date(Date.UTC(t,e-1,r,n,i,s,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},s.lang.extend(ut.asn1.DERAbstractTime,ut.asn1.ASN1Object),ut.asn1.DERAbstractStructured=function(t){ut.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},s.lang.extend(ut.asn1.DERAbstractStructured,ut.asn1.ASN1Object),ut.asn1.DERBoolean=function(){ut.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},s.lang.extend(ut.asn1.DERBoolean,ut.asn1.ASN1Object),ut.asn1.DERInteger=function(t){ut.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=ut.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new E(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},s.lang.extend(ut.asn1.DERInteger,ut.asn1.ASN1Object),ut.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=ut.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}ut.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var r="0"+t;this.hTLV=null,this.isModified=!0,this.hV=r+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var r=0;r<=e;r++)t+="0";var n="";for(r=0;r<t.length-1;r+=8){var i=t.substr(r,8),s=parseInt(i,2).toString(16);1==s.length&&(s="0"+s),n+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+e+n},this.setByBooleanArray=function(t){for(var e="",r=0;r<t.length;r++)e+=1==t[r]?"1":"0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},s.lang.extend(ut.asn1.DERBitString,ut.asn1.ASN1Object),ut.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=ut.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}ut.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},s.lang.extend(ut.asn1.DEROctetString,ut.asn1.DERAbstractString),ut.asn1.DERNull=function(){ut.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},s.lang.extend(ut.asn1.DERNull,ut.asn1.ASN1Object),ut.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new E(t,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var s="",o=0;o<i;o++)s+="0";for(n=s+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),r+=e(parseInt(a,2))}return r};ut.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",i=t.split("."),s=40*parseInt(i[0])+parseInt(i[1]);n+=e(s),i.splice(0,2);for(var o=0;o<i.length;o++)n+=r(i[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(t){var e=ut.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},s.lang.extend(ut.asn1.DERObjectIdentifier,ut.asn1.ASN1Object),ut.asn1.DEREnumerated=function(t){ut.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=ut.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new E(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},s.lang.extend(ut.asn1.DEREnumerated,ut.asn1.ASN1Object),ut.asn1.DERUTF8String=function(t){ut.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},s.lang.extend(ut.asn1.DERUTF8String,ut.asn1.DERAbstractString),ut.asn1.DERNumericString=function(t){ut.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},s.lang.extend(ut.asn1.DERNumericString,ut.asn1.DERAbstractString),ut.asn1.DERPrintableString=function(t){ut.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},s.lang.extend(ut.asn1.DERPrintableString,ut.asn1.DERAbstractString),ut.asn1.DERTeletexString=function(t){ut.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},s.lang.extend(ut.asn1.DERTeletexString,ut.asn1.DERAbstractString),ut.asn1.DERIA5String=function(t){ut.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},s.lang.extend(ut.asn1.DERIA5String,ut.asn1.DERAbstractString),ut.asn1.DERUTCTime=function(t){ut.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=gt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=gt(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},s.lang.extend(ut.asn1.DERUTCTime,ut.asn1.DERAbstractTime),ut.asn1.DERGeneralizedTime=function(t){ut.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=gt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=gt(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},s.lang.extend(ut.asn1.DERGeneralizedTime,ut.asn1.DERAbstractTime),ut.asn1.DERSequence=function(t){ut.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++)t+=this.asn1Array[e].getEncodedHex();return this.hV=t,this.hV}},s.lang.extend(ut.asn1.DERSequence,ut.asn1.DERAbstractStructured),ut.asn1.DERSet=function(t){ut.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++)t.push(this.asn1Array[e].getEncodedHex());return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},s.lang.extend(ut.asn1.DERSet,ut.asn1.DERAbstractStructured),ut.asn1.DERTaggedObject=function(t){ut.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,r){this.hT=e,this.isExplicit=t,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},s.lang.extend(ut.asn1.DERTaggedObject,ut.asn1.ASN1Object);var ut,lt,ht,ft=new function(){};function dt(t){for(var e=new Array,r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function pt(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function mt(t){for(var e="",r=0;r<t.length;r++){var n=t[r].toString(16);1==n.length&&(n="0"+n),e+=n}return e}function gt(t){return mt(dt(t))}function yt(t){return(t=(t=t.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function vt(t){return t.length%4==2?t+="==":t.length%4==3&&(t+="="),(t=t.replace(/-/g,"+")).replace(/_/g,"/")}function bt(t){return t.length%2==1&&(t="0"+t),yt(_(t))}function _t(t){return w(vt(t))}function wt(t){return Ft(Dt(t))}function St(t){return decodeURIComponent(Ot(t))}function Et(t){for(var e="",r=0;r<t.length-1;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e}function Ct(t){for(var e="",r=0;r<t.length;r++)e+=("0"+t.charCodeAt(r).toString(16)).slice(-2);return e}function kt(t){return _(t)}function At(t){return kt(t).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function xt(t){return w(t.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Tt(t,e){return"-----BEGIN "+e+"-----\r\n"+At(t)+"\r\n-----END "+e+"-----\r\n"}function It(t,e){if(-1==t.indexOf("-----BEGIN "))throw"can't find PEM header: "+e;return xt(t=void 0!==e?(t=t.replace("-----BEGIN "+e+"-----","")).replace("-----END "+e+"-----",""):(t=t.replace(/-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----/,""))}function Rt(t){var e,r,n,i,s,o,a,c,u,l,h;if(h=t.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return c=h[1],e=parseInt(c),2===c.length&&(50<=e&&e<100?e=1900+e:0<=e&&e<50&&(e=2e3+e)),r=parseInt(h[2])-1,n=parseInt(h[3]),i=parseInt(h[4]),s=parseInt(h[5]),o=parseInt(h[6]),a=0,""!==(u=h[7])&&(l=(u.substr(1)+"00").substr(0,3),a=parseInt(l)),Date.UTC(e,r,n,i,s,o,a);throw"unsupported zulu format: "+t}function Pt(t){return~~(Rt(t)/1e3)}function Ft(t){return t.replace(/%/g,"")}function Ot(t){return t.replace(/(..)/g,"%$1")}function Mt(t){var e="malformed IPv6 address";if(!t.match(/^[0-9A-Fa-f:]+$/))throw e;var r=(t=t.toLowerCase()).split(":").length-1;if(r<2)throw e;var n=":".repeat(7-r+2),i=(t=t.replace("::",n)).split(":");if(8!=i.length)throw e;for(var s=0;s<8;s++)i[s]=("0000"+i[s]).slice(-4);return i.join("")}function Bt(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var e=(t=t.toLowerCase()).match(/.{1,4}/g),r=0;r<8;r++)e[r]=e[r].replace(/^0+/,""),""==e[r]&&(e[r]="0");var n=(t=":"+e.join(":")+":").match(/:(0:){2,}/g);if(null===n)return t.slice(1,-1);var i="";for(r=0;r<n.length;r++)n[r].length>i.length&&(i=n[r]);return(t=t.replace(i,"::")).slice(1,-1)}function Nt(t){var e="malformed hex value";if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(8!=t.length)return 32==t.length?Bt(t):t;try{return parseInt(t.substr(0,2),16)+"."+parseInt(t.substr(2,2),16)+"."+parseInt(t.substr(4,2),16)+"."+parseInt(t.substr(6,2),16)}catch(t){throw e}}function Dt(t){for(var e=encodeURIComponent(t),r="",n=0;n<e.length;n++)"%"==e[n]?(r+=e.substr(n,3),n+=2):r=r+"%"+gt(e[n]);return r}function Lt(t){return t.length%2==1?"0"+t:t.substr(0,1)>"7"?"00"+t:t}ft.getLblen=function(t,e){if("8"!=t.substr(e+2,1))return 1;var r=parseInt(t.substr(e+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},ft.getL=function(t,e){var r=ft.getLblen(t,e);return r<1?"":t.substr(e+2,2*r)},ft.getVblen=function(t,e){var r;return""==(r=ft.getL(t,e))?-1:("8"===r.substr(0,1)?new E(r.substr(2),16):new E(r,16)).intValue()},ft.getVidx=function(t,e){var r=ft.getLblen(t,e);return r<0?r:e+2*(r+1)},ft.getV=function(t,e){var r=ft.getVidx(t,e),n=ft.getVblen(t,e);return t.substr(r,2*n)},ft.getTLV=function(t,e){return t.substr(e,2)+ft.getL(t,e)+ft.getV(t,e)},ft.getNextSiblingIdx=function(t,e){return ft.getVidx(t,e)+2*ft.getVblen(t,e)},ft.getChildIdx=function(t,e){var r=ft,n=new Array,i=r.getVidx(t,e);"03"==t.substr(e,2)?n.push(i+2):n.push(i);for(var s=r.getVblen(t,e),o=i,a=0;;){var c=r.getNextSiblingIdx(t,o);if(null==c||c-i>=2*s)break;if(a>=200)break;n.push(c),o=c,a++}return n},ft.getNthChildIdx=function(t,e,r){return ft.getChildIdx(t,e)[r]},ft.getIdxbyList=function(t,e,r,n){var i,s,o=ft;if(0==r.length){if(void 0!==n&&t.substr(e,2)!==n)throw"checking tag doesn't match: "+t.substr(e,2)+"!="+n;return e}return i=r.shift(),s=o.getChildIdx(t,e),o.getIdxbyList(t,s[i],r,n)},ft.getTLVbyList=function(t,e,r,n){var i=ft,s=i.getIdxbyList(t,e,r);if(void 0===s)throw"can't find nthList object";if(void 0!==n&&t.substr(s,2)!=n)throw"checking tag doesn't match: "+t.substr(s,2)+"!="+n;return i.getTLV(t,s)},ft.getVbyList=function(t,e,r,n,i){var s,o,a=ft;if(void 0===(s=a.getIdxbyList(t,e,r,n)))throw"can't find nthList object";return o=a.getV(t,s),!0===i&&(o=o.substr(2)),o},ft.hextooidstr=function(t){var e=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},r=[],n=t.substr(0,2),i=parseInt(n,16);r[0]=new String(Math.floor(i/40)),r[1]=new String(i%40);for(var s=t.substr(2),o=[],a=0;a<s.length/2;a++)o.push(parseInt(s.substr(2*a,2),16));var c=[],u="";for(a=0;a<o.length;a++)128&o[a]?u+=e((127&o[a]).toString(2),7):(u+=e((127&o[a]).toString(2),7),c.push(new String(parseInt(u,2))),u="");var l=r.join(".");return c.length>0&&(l=l+"."+c.join(".")),l},ft.dump=function(t,e,r,n){var i=ft,s=i.getV,o=i.dump,a=i.getChildIdx,c=t;t instanceof ut.asn1.ASN1Object&&(c=t.getEncodedHex());var u=function(t,e){return t.length<=2*e?t:t.substr(0,e)+"..(total "+t.length/2+"bytes).."+t.substr(t.length-e,e)};void 0===e&&(e={ommit_long_octet:32}),void 0===r&&(r=0),void 0===n&&(n="");var l=e.ommit_long_octet;if("01"==c.substr(r,2))return"00"==(h=s(c,r))?n+"BOOLEAN FALSE\n":n+"BOOLEAN TRUE\n";if("02"==c.substr(r,2))return n+"INTEGER "+u(h=s(c,r),l)+"\n";if("03"==c.substr(r,2))return n+"BITSTRING "+u(h=s(c,r),l)+"\n";if("04"==c.substr(r,2)){var h=s(c,r);return i.isASN1HEX(h)?(S=n+"OCTETSTRING, encapsulates\n")+o(h,e,0,n+"  "):n+"OCTETSTRING "+u(h,l)+"\n"}if("05"==c.substr(r,2))return n+"NULL\n";if("06"==c.substr(r,2)){var f=s(c,r),d=ut.asn1.ASN1Util.oidHexToInt(f),p=ut.asn1.x509.OID.oid2name(d),m=d.replace(/\./g," ");return""!=p?n+"ObjectIdentifier "+p+" ("+m+")\n":n+"ObjectIdentifier ("+m+")\n"}if("0c"==c.substr(r,2))return n+"UTF8String '"+St(s(c,r))+"'\n";if("13"==c.substr(r,2))return n+"PrintableString '"+St(s(c,r))+"'\n";if("14"==c.substr(r,2))return n+"TeletexString '"+St(s(c,r))+"'\n";if("16"==c.substr(r,2))return n+"IA5String '"+St(s(c,r))+"'\n";if("17"==c.substr(r,2))return n+"UTCTime "+St(s(c,r))+"\n";if("18"==c.substr(r,2))return n+"GeneralizedTime "+St(s(c,r))+"\n";if("30"==c.substr(r,2)){if("3000"==c.substr(r,4))return n+"SEQUENCE {}\n";S=n+"SEQUENCE\n";var g=e;if((2==(b=a(c,r)).length||3==b.length)&&"06"==c.substr(b[0],2)&&"04"==c.substr(b[b.length-1],2)){p=i.oidname(s(c,b[0]));var y=JSON.parse(JSON.stringify(e));y.x509ExtName=p,g=y}for(var v=0;v<b.length;v++)S+=o(c,g,b[v],n+"  ");return S}if("31"==c.substr(r,2)){S=n+"SET\n";var b=a(c,r);for(v=0;v<b.length;v++)S+=o(c,e,b[v],n+"  ");return S}var _=parseInt(c.substr(r,2),16);if(0!=(128&_)){var w=31&_;if(0!=(32&_)){var S=n+"["+w+"]\n";for(b=a(c,r),v=0;v<b.length;v++)S+=o(c,e,b[v],n+"  ");return S}return"68747470"==(h=s(c,r)).substr(0,8)&&(h=St(h)),"subjectAltName"===e.x509ExtName&&2==w&&(h=St(h)),n+"["+w+"] "+h+"\n"}return n+"UNKNOWN("+c.substr(r,2)+") "+s(c,r)+"\n"},ft.isASN1HEX=function(t){var e=ft;if(t.length%2==1)return!1;var r=e.getVblen(t,0),n=t.substr(0,2),i=e.getL(t,0);return t.length-n.length-i.length==2*r},ft.oidname=function(t){var e=ut.asn1;ut.lang.String.isHex(t)&&(t=e.ASN1Util.oidHexToInt(t));var r=e.x509.OID.oid2name(t);return""===r&&(r=t),r},void 0!==ut&&ut||(e.KJUR=ut={}),void 0!==ut.lang&&ut.lang||(ut.lang={}),ut.lang.String=function(){},"function"==typeof t?(e.utf8tob64u=lt=function(e){return yt(new t(e,"utf8").toString("base64"))},e.b64utoutf8=ht=function(e){return new t(vt(e),"base64").toString("utf8")}):(e.utf8tob64u=lt=function(t){return bt(Ft(Dt(t)))},e.b64utoutf8=ht=function(t){return decodeURIComponent(Ot(_t(t)))}),ut.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},ut.lang.String.isHex=function(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))},ut.lang.String.isBase64=function(t){return!(!(t=t.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||t.length%4!=0)},ut.lang.String.isBase64URL=function(t){return!t.match(/[+/=]/)&&(t=vt(t),ut.lang.String.isBase64(t))},ut.lang.String.isIntegerArray=function(t){return!!(t=t.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},void 0!==ut&&ut||(e.KJUR=ut={}),void 0!==ut.crypto&&ut.crypto||(ut.crypto={}),ut.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:y.algo.MD5,sha1:y.algo.SHA1,sha224:y.algo.SHA224,sha256:y.algo.SHA256,sha384:y.algo.SHA384,sha512:y.algo.SHA512,ripemd160:y.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(void 0===this.DIGESTINFOHEAD[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,r){var n=this.getDigestInfoHex(t,e),i=r/4;if(n.length+22>i)throw"key is too short for SigAlg: keylen="+r+","+e;for(var s="0001",o="00"+n,a="",c=i-s.length-o.length,u=0;u<c;u+=2)a+="ff";return s+a+o},this.hashString=function(t,e){return new ut.crypto.MessageDigest({alg:e}).digestString(t)},this.hashHex=function(t,e){return new ut.crypto.MessageDigest({alg:e}).digestHex(t)},this.sha1=function(t){return new ut.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"}).digestString(t)},this.sha256=function(t){return new ut.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestString(t)},this.sha256Hex=function(t){return new ut.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestHex(t)},this.sha512=function(t){return new ut.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestString(t)},this.sha512Hex=function(t){return new ut.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestHex(t)}},ut.crypto.Util.md5=function(t){return new ut.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(t)},ut.crypto.Util.ripemd160=function(t){return new ut.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(t)},ut.crypto.Util.SECURERANDOMGEN=new et,ut.crypto.Util.getRandomHexOfNbytes=function(t){var e=new Array(t);return ut.crypto.Util.SECURERANDOMGEN.nextBytes(e),mt(e)},ut.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new E(ut.crypto.Util.getRandomHexOfNbytes(t),16)},ut.crypto.Util.getRandomHexOfNbits=function(t){var e=t%8,r=new Array((t-e)/8+1);return ut.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<e&255^255)&r[0],mt(r)},ut.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new E(ut.crypto.Util.getRandomHexOfNbits(t),16)},ut.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var e=t.bitLength();;){var r=ut.crypto.Util.getRandomBigIntegerOfNbits(e);if(-1!=t.compareTo(r))return r}},ut.crypto.Util.getRandomBigIntegerMinToMax=function(t,e){var r=t.compareTo(e);if(1==r)throw"biMin is greater than biMax";if(0==r)return t;var n=e.subtract(t);return ut.crypto.Util.getRandomBigIntegerZeroToMax(n).add(t)},ut.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,e){if(null!==(t=ut.crypto.MessageDigest.getCanonicalAlgName(t))&&void 0===e&&(e=ut.crypto.Util.DEFAULTPROVIDER[t]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==e){try{this.md=ut.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=y.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(y.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=":sha256:".indexOf(t)&&"sjcl"==e){try{this.md=new sjcl.hash.sha256}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=ut.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ut.crypto.MessageDigest.getCanonicalAlgName=function(t){return"string"==typeof t&&(t=(t=t.toLowerCase()).replace(/-/,"")),t},ut.crypto.MessageDigest.getHashLength=function(t){var e=ut.crypto.MessageDigest,r=e.getCanonicalAlgName(t);if(void 0===e.HASHLENGTH[r])throw"not supported algorithm: "+t;return e.HASHLENGTH[r]},ut.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ut.crypto.Mac=function(t){this.setAlgAndProvider=function(t,e){if(null==(t=t.toLowerCase())&&(t="hmacsha1"),"hmac"!=(t=t.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=ut.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+e;var r=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==e){try{this.mac=y.algo.HMAC.create(ut.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r],this.pass)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=y.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(y.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=Ct(t)),void(this.pass=y.enc.Hex.parse(e))}if("object"!=(void 0===t?"undefined":r(t)))throw"KJUR.crypto.Mac unsupported password type: "+t;if(e=null,void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;e=t.hex}if(void 0!==t.utf8&&(e=wt(t.utf8)),void 0!==t.rstr&&(e=Ct(t.rstr)),void 0!==t.b64&&(e=w(t.b64)),void 0!==t.b64u&&(e=_t(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=y.enc.Hex.parse(e)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=ut.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ut.crypto.Signature=function(t){var e=null;if(this._setAlgNames=function(){var t=this.algName.match(/^(.+)with(.+)$/);t&&(this.mdAlgName=t[1].toLowerCase(),this.pubkeyAlgName=t[2].toLowerCase())},this._zeroPaddingOfSignature=function(t,e){for(var r="",n=e/4-t.length,i=0;i<n;i++)r+="0";return r+t},this.setAlgAndProvider=function(t,e){if(this._setAlgNames(),"cryptojs/jsrsa"!=e)throw"provider not supported: "+e;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ut.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+t}this.init=function(t,e){var r=null;try{r=void 0===e?jt.getKey(t):jt.getKey(t,e)}catch(t){throw"init failed:"+t}if(!0===r.isPrivate)this.prvKey=r,this.state="SIGN";else{if(!0!==r.isPublic)throw"init failed.:"+r;this.pubKey=r,this.state="VERIFY"}},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var t=new ut.crypto.ECDSA({curve:this.eccurvename});this.hSign=t.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof it&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof it&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ut.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ut.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename)return new ut.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,t,this.ecpubhex);if(this.pubKey instanceof it&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof it&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==ut.crypto.ECDSA&&this.pubKey instanceof ut.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==ut.crypto.DSA&&this.pubKey instanceof ut.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(t){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(t){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,this.provName=void 0===t.prov?ut.crypto.Util.DEFAULTPROVIDER[this.algName]:t.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{e=jt.getKey(t.prvkeypem),this.init(e)}catch(t){throw"fatal error to load pem private key: "+t}}},ut.crypto.Cipher=function(t){},ut.crypto.Cipher.encrypt=function(t,e,r){if(e instanceof it&&e.isPublic){var n=ut.crypto.Cipher.getAlgByKeyAndName(e,r);if("RSA"===n)return e.encrypt(t);if("RSAOAEP"===n)return e.encryptOAEP(t,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(null!==i)return e.encryptOAEP(t,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.encrypt: unsupported key or algorithm"},ut.crypto.Cipher.decrypt=function(t,e,r){if(e instanceof it&&e.isPrivate){var n=ut.crypto.Cipher.getAlgByKeyAndName(e,r);if("RSA"===n)return e.decrypt(t);if("RSAOAEP"===n)return e.decryptOAEP(t,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(null!==i)return e.decryptOAEP(t,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.decrypt: unsupported key or algorithm"},ut.crypto.Cipher.getAlgByKeyAndName=function(t,e){if(t instanceof it){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(e))return e;if(null==e)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+e}throw"getAlgByKeyAndName: not supported algorithm name: "+e},ut.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ut&&ut||(e.KJUR=ut={}),void 0!==ut.crypto&&ut.crypto||(ut.crypto={}),ut.crypto.ECDSA=function(t){var e=new et;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(t){return new E(t.bitLength(),e).mod(t.subtract(E.ONE)).add(E.ONE)},this.setNamedCurve=function(t){this.ecparams=ut.crypto.ECParameterDB.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if("04"!==t.substr(0,2))throw"this method supports uncompressed format(04) only";var e=this.ecparams.keylen/4;if(t.length!==2+2*e)throw"malformed public key hex length";var r={};return r.x=t.substr(2,e),r.y=t.substr(2+e),r},this.getShortNISTPCurveName=function(){var t=this.curveName;return"secp256r1"===t||"NIST P-256"===t||"P-256"===t||"prime256v1"===t?"P-256":"secp384r1"===t||"NIST P-384"===t||"P-384"===t?"P-384":null},this.generateKeyPairHex=function(){var t=this.getBigRandom(this.ecparams.n),e=this.ecparams.G.multiply(t),r=e.getX().toBigInteger(),n=e.getY().toBigInteger(),i=this.ecparams.keylen/4,s=("0000000000"+t.toString(16)).slice(-i),o="04"+("0000000000"+r.toString(16)).slice(-i)+("0000000000"+n.toString(16)).slice(-i);return this.setPrivateKeyHex(s),this.setPublicKeyHex(o),{ecprvhex:s,ecpubhex:o}},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,e){var r=new E(e,16),n=this.ecparams.n,i=new E(t,16);do{var s=this.getBigRandom(n),o=this.ecparams.G.multiply(s).getX().toBigInteger().mod(n)}while(o.compareTo(E.ZERO)<=0);var a=s.modInverse(n).multiply(i.add(r.multiply(o))).mod(n);return ut.crypto.ECDSA.biRSSigToASN1Sig(o,a)},this.sign=function(t,e){var r=e,n=this.ecparams.n,i=E.fromByteArrayUnsigned(t);do{var s=this.getBigRandom(n),o=this.ecparams.G.multiply(s).getX().toBigInteger().mod(n)}while(o.compareTo(E.ZERO)<=0);var a=s.modInverse(n).multiply(i.add(r.multiply(o))).mod(n);return this.serializeSig(o,a)},this.verifyWithMessageHash=function(t,e){return this.verifyHex(t,e,this.pubKeyHex)},this.verifyHex=function(t,e,r){var n,i,s,o=ut.crypto.ECDSA.parseSigHex(e);n=o.r,i=o.s,s=ot.decodeFromHex(this.ecparams.curve,r);var a=new E(t,16);return this.verifyRaw(a,n,i,s)},this.verify=function(t,e,n){var i,s,o;if(Bitcoin.Util.isArray(e)){var a=this.parseSig(e);i=a.r,s=a.s}else{if("object"!==(void 0===e?"undefined":r(e))||!e.r||!e.s)throw"Invalid value for signature";i=e.r,s=e.s}if(n instanceof ot)o=n;else{if(!Bitcoin.Util.isArray(n))throw"Invalid format for pubkey value, must be byte array or ECPointFp";o=ot.decodeFrom(this.ecparams.curve,n)}var c=E.fromByteArrayUnsigned(t);return this.verifyRaw(c,i,s,o)},this.verifyRaw=function(t,e,r,n){var i=this.ecparams.n,s=this.ecparams.G;if(e.compareTo(E.ONE)<0||e.compareTo(i)>=0)return!1;if(r.compareTo(E.ONE)<0||r.compareTo(i)>=0)return!1;var o=r.modInverse(i),a=t.multiply(o).mod(i),c=e.multiply(o).mod(i);return s.multiply(a).add(n.multiply(c)).getX().toBigInteger().mod(i).equals(e)},this.serializeSig=function(t,e){var r=t.toByteArraySigned(),n=e.toByteArraySigned(),i=[];return i.push(2),i.push(r.length),(i=i.concat(r)).push(2),i.push(n.length),(i=i.concat(n)).unshift(i.length),i.unshift(48),i},this.parseSig=function(t){var e;if(48!=t[0])throw new Error("Signature not a valid DERSequence");if(2!=t[e=2])throw new Error("First element in signature must be a DERInteger");var r=t.slice(e+2,e+2+t[e+1]);if(2!=t[e+=2+t[e+1]])throw new Error("Second element in signature must be a DERInteger");var n=t.slice(e+2,e+2+t[e+1]);return e+=2+t[e+1],{r:E.fromByteArrayUnsigned(r),s:E.fromByteArrayUnsigned(n)}},this.parseSigCompact=function(t){if(65!==t.length)throw"Signature has the wrong length";var e=t[0]-27;if(e<0||e>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:E.fromByteArrayUnsigned(t.slice(1,33)).mod(r),s:E.fromByteArrayUnsigned(t.slice(33,65)).mod(r),i:e}},this.readPKCS5PrvKeyHex=function(t){var e,r,n,i=ut.crypto.ECDSA.getName,s=ft.getVbyList;if(!1===ft.isASN1HEX(t))throw"not ASN.1 hex string";try{e=s(t,0,[2,0],"06"),r=s(t,0,[1],"04");try{n=s(t,0,[3,0],"03").substr(2)}catch(t){}}catch(t){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=i(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(t){var e,r,n,i=ut.crypto.ECDSA.getName,s=ft.getVbyList;if(!1===ft.isASN1HEX(t))throw"not ASN.1 hex string";try{s(t,0,[1,0],"06"),e=s(t,0,[1,1],"06"),r=s(t,0,[2,0,1],"04");try{n=s(t,0,[2,0,2,0],"03").substr(2)}catch(t){}}catch(t){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=i(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(t){var e,r,n=ut.crypto.ECDSA.getName,i=ft.getVbyList;if(!1===ft.isASN1HEX(t))throw"not ASN.1 hex string";try{i(t,0,[0,0],"06"),e=i(t,0,[0,1],"06"),r=i(t,0,[1],"03").substr(2)}catch(t){throw"malformed PKCS#8 ECC public key"}if(this.curveName=n(e),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(t,e){5!==e&&(e=6);var r,n,i=ut.crypto.ECDSA.getName,s=ft.getVbyList;if(!1===ft.isASN1HEX(t))throw"not ASN.1 hex string";try{r=s(t,0,[0,e,0,1],"06"),n=s(t,0,[0,e,1],"03").substr(2)}catch(t){throw"malformed X.509 certificate ECC public key"}if(this.curveName=i(r),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},ut.crypto.ECDSA.parseSigHex=function(t){var e=ut.crypto.ECDSA.parseSigHexInHexRS(t);return{r:new E(e.r,16),s:new E(e.s,16)}},ut.crypto.ECDSA.parseSigHexInHexRS=function(t){var e=ft.getChildIdx,r=ft.getV;if("30"!=t.substr(0,2))throw"signature is not a ASN.1 sequence";var n=e(t,0);if(2!=n.length)throw"number of signature ASN.1 sequence elements seem wrong";var i=n[0],s=n[1];if("02"!=t.substr(i,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=t.substr(s,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:r(t,i),s:r(t,s)}},ut.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=ut.crypto.ECDSA.parseSigHexInHexRS(t),r=e.r,n=e.s;if("00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),"00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r="00"+r),n.length%32==30&&(n="00"+n),r.length%32!=0)throw"unknown ECDSA sig r length error";if(n.length%32!=0)throw"unknown ECDSA sig s length error";return r+n},ut.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var e=t.substr(0,t.length/2),r=t.substr(t.length/2);return ut.crypto.ECDSA.hexRSSigToASN1Sig(e,r)},ut.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var r=new E(t,16),n=new E(e,16);return ut.crypto.ECDSA.biRSSigToASN1Sig(r,n)},ut.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var r=ut.asn1,n=new r.DERInteger({bigint:t}),i=new r.DERInteger({bigint:e});return new r.DERSequence({array:[n,i]}).getEncodedHex()},ut.crypto.ECDSA.getName=function(t){return"2a8648ce3d030107"===t?"secp256r1":"2b8104000a"===t?"secp256k1":"2b81040022"===t?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(t)?"secp256r1":-1!=="|secp256k1|".indexOf(t)?"secp256k1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(t)?"secp384r1":null},void 0!==ut&&ut||(e.KJUR=ut={}),void 0!==ut.crypto&&ut.crypto||(ut.crypto={}),ut.crypto.ECParameterDB=new function(){var t={},e={};function r(t){return new E(t,16)}this.getByName=function(r){var n=r;if(void 0!==e[n]&&(n=e[r]),void 0!==t[n])return t[n];throw"unregistered EC curve name: "+n},this.regist=function(n,i,s,o,a,c,u,l,h,f,d,p){t[n]={};var m=r(s),g=r(o),y=r(a),v=r(c),b=r(u),_=new at(m,g,y),w=_.decodePointHex("04"+l+h);t[n].name=n,t[n].keylen=i,t[n].curve=_,t[n].G=w,t[n].n=v,t[n].h=b,t[n].oid=d,t[n].info=p;for(var S=0;S<f.length;S++)e[f[S]]=n}},ut.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ut.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ut.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ut.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ut.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ut.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ut.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ut.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ut.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ut.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var jt=function(){var t=function(t,r,n){return e(y.AES,t,r,n)},e=function(t,e,r,n){var i=y.enc.Hex.parse(e),s=y.enc.Hex.parse(r),o=y.enc.Hex.parse(n),a={};a.key=s,a.iv=o,a.ciphertext=i;var c=t.decrypt(a,s,{iv:o});return y.enc.Hex.stringify(c)},r=function(t,e,r){return n(y.AES,t,e,r)},n=function(t,e,r,n){var i=y.enc.Hex.parse(e),s=y.enc.Hex.parse(r),o=y.enc.Hex.parse(n),a=t.encrypt(i,s,{iv:o}),c=y.enc.Hex.parse(a.toString());return y.enc.Base64.stringify(c)},i={"AES-256-CBC":{proc:t,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:t,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:t,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(t,r,n){return e(y.TripleDES,t,r,n)},eproc:function(t,e,r){return n(y.TripleDES,t,e,r)},keylen:24,ivlen:8},"DES-CBC":{proc:function(t,r,n){return e(y.DES,t,r,n)},eproc:function(t,e,r){return n(y.DES,t,e,r)},keylen:8,ivlen:8}},s=function(t){var e={},r=t.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));r&&(e.cipher=r[1],e.ivsalt=r[2]);var n=t.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));n&&(e.type=n[1]);var i=-1,s=0;-1!=t.indexOf("\r\n\r\n")&&(i=t.indexOf("\r\n\r\n"),s=2),-1!=t.indexOf("\n\n")&&(i=t.indexOf("\n\n"),s=1);var o=t.indexOf("-----END");if(-1!=i&&-1!=o){var a=t.substring(i+2*s,o-s);a=a.replace(/\s+/g,""),e.data=a}return e},o=function(t,e,r){for(var n=r.substring(0,16),s=y.enc.Hex.parse(n),o=y.enc.Utf8.parse(e),a=i[t].keylen+i[t].ivlen,c="",u=null;;){var l=y.algo.MD5.create();if(null!=u&&l.update(u),l.update(o),l.update(s),u=l.finalize(),(c+=y.enc.Hex.stringify(u)).length>=2*a)break}var h={};return h.keyhex=c.substr(0,2*i[t].keylen),h.ivhex=c.substr(2*i[t].keylen,2*i[t].ivlen),h},a=function(t,e,r,n){var s=y.enc.Base64.parse(t),o=y.enc.Hex.stringify(s);return(0,i[e].proc)(o,r,n)};return{version:"1.0.0",parsePKCS5PEM:function(t){return s(t)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(t,e,r){return o(t,e,r)},decryptKeyB64:function(t,e,r,n){return a(t,e,r,n)},getDecryptedKeyHex:function(t,e){var r=s(t),n=r.cipher,i=r.ivsalt,c=r.data,u=o(n,e,i).keyhex;return a(c,n,u,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(t,e,r,n,s){var a="";if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===i[n])throw"KEYUTIL unsupported algorithm: "+n;return void 0!==s&&null!=s||(s=function(t){var e=y.lib.WordArray.random(t);return y.enc.Hex.stringify(e)}(i[n].ivlen).toUpperCase()),a="-----BEGIN "+t+" PRIVATE KEY-----\r\n",a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+n+","+s+"\r\n",a+="\r\n",(a+=function(t,e,r,n){return(0,i[e].eproc)(t,r,n)}(e,n,o(n,r,s).keyhex,s).replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+t+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var r=ft.getChildIdx,n=ft.getV,i={},s=r(e,0);if(2!=s.length)throw"malformed format: SEQUENCE(0).items != 2: "+s.length;i.ciphertext=n(e,s[1]);var o=r(e,s[0]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+o.length;if("2a864886f70d01050d"!=n(e,o[0]))throw"this only supports pkcs5PBES2";var a=r(e,o[1]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+a.length;var c=r(e,a[1]);if(2!=c.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+c.length;if("2a864886f70d0307"!=n(e,c[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=n(e,c[1]);var u=r(e,a[0]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length;if("2a864886f70d01050c"!=n(e,u[0]))throw"this only supports pkcs5PBKDF2";var l=r(e,u[1]);if(l.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+l.length;i.pbkdf2Salt=n(e,l[0]);var h=n(e,l[1]);try{i.pbkdf2Iter=parseInt(h,16)}catch(t){throw"malformed format pbkdf2Iter: "+h}return i},getPBKDF2KeyHexFromParam:function(t,e){var r=y.enc.Hex.parse(t.pbkdf2Salt),n=y.PBKDF2(e,r,{keySize:6,iterations:t.pbkdf2Iter});return y.enc.Hex.stringify(n)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(t,e){var r=It(t,"ENCRYPTED PRIVATE KEY"),n=this.parseHexOfEncryptedPKCS8(r),i=jt.getPBKDF2KeyHexFromParam(n,e),s={};s.ciphertext=y.enc.Hex.parse(n.ciphertext);var o=y.enc.Hex.parse(i),a=y.enc.Hex.parse(n.encryptionSchemeIV),c=y.TripleDES.decrypt(s,o,{iv:a});return y.enc.Hex.stringify(c)},getKeyFromEncryptedPKCS8PEM:function(t,e){var r=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(t,e);return this.getKeyFromPlainPrivatePKCS8Hex(r)},parsePlainPrivatePKCS8Hex:function(t){var e=ft,r=e.getChildIdx,n=e.getV,i={algparam:null};if("30"!=t.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var s=r(t,0);if(3!=s.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=t.substr(s[1],2))throw"malformed PKCS8 private key(code:003)";var o=r(t,s[1]);if(2!=o.length)throw"malformed PKCS8 private key(code:004)";if("06"!=t.substr(o[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=n(t,o[0]),"06"==t.substr(o[1],2)&&(i.algparam=n(t,o[1])),"04"!=t.substr(s[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=e.getVidx(t,s[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(t){var e=It(t,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(e)},getKeyFromPlainPrivatePKCS8Hex:function(t){var e,r=this.parsePlainPrivatePKCS8Hex(t);if("2a864886f70d010101"==r.algoid)e=new it;else if("2a8648ce380401"==r.algoid)e=new ut.crypto.DSA;else{if("2a8648ce3d0201"!=r.algoid)throw"unsupported private key algorithm";e=new ut.crypto.ECDSA}return e.readPKCS8PrvKeyHex(t),e},_getKeyFromPublicPKCS8Hex:function(t){var e,r=ft.getVbyList(t,0,[0,0],"06");if("2a864886f70d010101"===r)e=new it;else if("2a8648ce380401"===r)e=new ut.crypto.DSA;else{if("2a8648ce3d0201"!==r)throw"unsupported PKCS#8 public key hex";e=new ut.crypto.ECDSA}return e.readPKCS8PubKeyHex(t),e},parsePublicRawRSAKeyHex:function(t){var e=ft.getChildIdx,r=ft.getV,n={};if("30"!=t.substr(0,2))throw"malformed RSA key(code:001)";var i=e(t,0);if(2!=i.length)throw"malformed RSA key(code:002)";if("02"!=t.substr(i[0],2))throw"malformed RSA key(code:003)";if(n.n=r(t,i[0]),"02"!=t.substr(i[1],2))throw"malformed RSA key(code:004)";return n.e=r(t,i[1]),n},parsePublicPKCS8Hex:function(t){var e=ft,r=e.getChildIdx,n=e.getV,i={algparam:null},s=r(t,0);if(2!=s.length)throw"outer DERSequence shall have 2 elements: "+s.length;var o=s[0];if("30"!=t.substr(o,2))throw"malformed PKCS8 public key(code:001)";var a=r(t,o);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=t.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=n(t,a[0]),"06"==t.substr(a[1],2)?i.algparam=n(t,a[1]):"30"==t.substr(a[1],2)&&(i.algparam={},i.algparam.p=e.getVbyList(t,a[1],[0],"02"),i.algparam.q=e.getVbyList(t,a[1],[1],"02"),i.algparam.g=e.getVbyList(t,a[1],[2],"02")),"03"!=t.substr(s[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=n(t,s[1]).substr(2),i}}}();jt.getKey=function(t,e,r){var n,i=(y=ft).getChildIdx,s=y.getVbyList,o=ut.crypto,a=o.ECDSA,c=o.DSA,u=it,l=It,h=jt;if(void 0!==u&&t instanceof u)return t;if(void 0!==a&&t instanceof a)return t;if(void 0!==c&&t instanceof c)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new a({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new a({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(I=new u).setPublic(t.n,t.e),I;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi)return(I=new u).setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),I;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p)return(I=new u).setPrivate(t.n,t.e,t.d),I;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x)return(I=new c).setPublic(t.p,t.q,t.g,t.y),I;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x)return(I=new c).setPrivate(t.p,t.q,t.g,t.y,t.x),I;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(I=new u).setPublic(_t(t.n),_t(t.e)),I;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi)return(I=new u).setPrivateEx(_t(t.n),_t(t.e),_t(t.d),_t(t.p),_t(t.q),_t(t.dp),_t(t.dq),_t(t.qi)),I;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d)return(I=new u).setPrivate(_t(t.n),_t(t.e),_t(t.d)),I;if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var f=(T=new a({curve:t.crv})).ecparams.keylen/4,d="04"+("0000000000"+_t(t.x)).slice(-f)+("0000000000"+_t(t.y)).slice(-f);return T.setPublicKeyHex(d),T}if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){f=(T=new a({curve:t.crv})).ecparams.keylen/4,d="04"+("0000000000"+_t(t.x)).slice(-f)+("0000000000"+_t(t.y)).slice(-f);var p=("0000000000"+_t(t.d)).slice(-f);return T.setPublicKeyHex(d),T.setPrivateKeyHex(p),T}if("pkcs5prv"===r){var m,g=t,y=ft;if(9===(m=i(g,0)).length)(I=new u).readPKCS5PrvKeyHex(g);else if(6===m.length)(I=new c).readPKCS5PrvKeyHex(g);else{if(!(m.length>2&&"04"===g.substr(m[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(I=new a).readPKCS5PrvKeyHex(g)}return I}if("pkcs8prv"===r)return h.getKeyFromPlainPrivatePKCS8Hex(t);if("pkcs8pub"===r)return h._getKeyFromPublicPKCS8Hex(t);if("x509pub"===r)return Kt.getPublicKeyFromCertHex(t);if(-1!=t.indexOf("-END CERTIFICATE-",0)||-1!=t.indexOf("-END X509 CERTIFICATE-",0)||-1!=t.indexOf("-END TRUSTED CERTIFICATE-",0))return Kt.getPublicKeyFromCertPEM(t);if(-1!=t.indexOf("-END PUBLIC KEY-")){var v=It(t,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(v)}if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var b=l(t,"RSA PRIVATE KEY");return h.getKey(b,null,"pkcs5prv")}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var _=s(n=l(t,"DSA PRIVATE KEY"),0,[1],"02"),w=s(n,0,[2],"02"),S=s(n,0,[3],"02"),C=s(n,0,[4],"02"),k=s(n,0,[5],"02");return(I=new c).setPrivate(new E(_,16),new E(w,16),new E(S,16),new E(C,16),new E(k,16)),I}if(-1!=t.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(t);if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var A=h.getDecryptedKeyHex(t,e),x=new it;return x.readPKCS5PrvKeyHex(A),x}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var T,I=s(n=h.getDecryptedKeyHex(t,e),0,[1],"04"),R=s(n,0,[2,0],"06"),P=s(n,0,[3,0],"03").substr(2);if(void 0===ut.crypto.OID.oidhex2name[R])throw"undefined OID(hex) in KJUR.crypto.OID: "+R;return(T=new a({curve:ut.crypto.OID.oidhex2name[R]})).setPublicKeyHex(P),T.setPrivateKeyHex(I),T.isPublic=!1,T}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED"))return _=s(n=h.getDecryptedKeyHex(t,e),0,[1],"02"),w=s(n,0,[2],"02"),S=s(n,0,[3],"02"),C=s(n,0,[4],"02"),k=s(n,0,[5],"02"),(I=new c).setPrivate(new E(_,16),new E(w,16),new E(S,16),new E(C,16),new E(k,16)),I;if(-1!=t.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(t,e);throw"not supported argument"},jt.generateKeypair=function(t,e){if("RSA"==t){var r=e;(o=new it).generate(r,"10001"),o.isPrivate=!0,o.isPublic=!0;var n=new it,i=o.n.toString(16),s=o.e.toString(16);return n.setPublic(i,s),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=n,a}if("EC"==t){var o,a,c=e,u=new ut.crypto.ECDSA({curve:c}).generateKeyPairHex();return(o=new ut.crypto.ECDSA({curve:c})).setPublicKeyHex(u.ecpubhex),o.setPrivateKeyHex(u.ecprvhex),o.isPrivate=!0,o.isPublic=!1,(n=new ut.crypto.ECDSA({curve:c})).setPublicKeyHex(u.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=n,a}throw"unknown algorithm: "+t},jt.getPEM=function(t,e,r,n,i,s){var o=ut.asn1,a=o.DERObjectIdentifier,c=o.DERInteger,u=o.ASN1Util.newObject,l=ut.crypto,h=l.DSA,f=l.ECDSA,d=it;function p(t){return u({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]})}function m(t){return u({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a0",!0,{oid:{name:t.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]})}function g(t){return u({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]})}if((void 0!==d&&t instanceof d||void 0!==h&&t instanceof h||void 0!==f&&t instanceof f)&&1==t.isPublic&&(void 0===e||"PKCS8PUB"==e))return Tt(w=new(0,o.x509.SubjectPublicKeyInfo)(t).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==e&&void 0!==d&&t instanceof d&&(void 0===r||null==r)&&1==t.isPrivate)return Tt(w=p(t).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==e&&void 0!==f&&t instanceof f&&(void 0===r||null==r)&&1==t.isPrivate){var v=new a({name:t.curveName}).getEncodedHex(),b=m(t).getEncodedHex(),_="";return(_+=Tt(v,"EC PARAMETERS"))+Tt(b,"EC PRIVATE KEY")}if("PKCS1PRV"==e&&void 0!==h&&t instanceof h&&(void 0===r||null==r)&&1==t.isPrivate)return Tt(w=g(t).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==e&&void 0!==d&&t instanceof d&&void 0!==r&&null!=r&&1==t.isPrivate){var w=p(t).getEncodedHex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",w,r,n,s)}if("PKCS5PRV"==e&&void 0!==f&&t instanceof f&&void 0!==r&&null!=r&&1==t.isPrivate)return w=m(t).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",w,r,n,s);if("PKCS5PRV"==e&&void 0!==h&&t instanceof h&&void 0!==r&&null!=r&&1==t.isPrivate)return w=g(t).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",w,r,n,s);var S=function(t,e){var r=E(t,e);return new u({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:r.pbkdf2Salt}},{int:r.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:r.encryptionSchemeIV}}]}]}]},{octstr:{hex:r.ciphertext}}]}).getEncodedHex()},E=function(t,e){var r=y.lib.WordArray.random(8),n=y.lib.WordArray.random(8),i=y.PBKDF2(e,r,{keySize:6,iterations:100}),s=y.enc.Hex.parse(t),o=y.TripleDES.encrypt(s,i,{iv:n})+"",a={};return a.ciphertext=o,a.pbkdf2Salt=y.enc.Hex.stringify(r),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=y.enc.Hex.stringify(n),a};if("PKCS8PRV"==e&&null!=d&&t instanceof d&&1==t.isPrivate){var C=p(t).getEncodedHex();return w=u({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:C}}]}).getEncodedHex(),void 0===r||null==r?Tt(w,"PRIVATE KEY"):Tt(b=S(w,r),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==e&&void 0!==f&&t instanceof f&&1==t.isPrivate)return C=new u({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]}).getEncodedHex(),w=u({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:t.curveName}}]},{octstr:{hex:C}}]}).getEncodedHex(),void 0===r||null==r?Tt(w,"PRIVATE KEY"):Tt(b=S(w,r),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==e&&void 0!==h&&t instanceof h&&1==t.isPrivate)return C=new c({bigint:t.x}).getEncodedHex(),w=u({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:C}}]}).getEncodedHex(),void 0===r||null==r?Tt(w,"PRIVATE KEY"):Tt(b=S(w,r),"ENCRYPTED PRIVATE KEY");throw"unsupported object nor format"},jt.getKeyFromCSRPEM=function(t){var e=It(t,"CERTIFICATE REQUEST");return jt.getKeyFromCSRHex(e)},jt.getKeyFromCSRHex=function(t){var e=jt.parseCSRHex(t);return jt.getKey(e.p8pubkeyhex,null,"pkcs8pub")},jt.parseCSRHex=function(t){var e=ft.getChildIdx,r=ft.getTLV,n={},i=t;if("30"!=i.substr(0,2))throw"malformed CSR(code:001)";var s=e(i,0);if(s.length<1)throw"malformed CSR(code:002)";if("30"!=i.substr(s[0],2))throw"malformed CSR(code:003)";var o=e(i,s[0]);if(o.length<3)throw"malformed CSR(code:004)";return n.p8pubkeyhex=r(i,o[2]),n},jt.getJWKFromKey=function(t){var e={};if(t instanceof it&&t.isPrivate)return e.kty="RSA",e.n=bt(t.n.toString(16)),e.e=bt(t.e.toString(16)),e.d=bt(t.d.toString(16)),e.p=bt(t.p.toString(16)),e.q=bt(t.q.toString(16)),e.dp=bt(t.dmp1.toString(16)),e.dq=bt(t.dmq1.toString(16)),e.qi=bt(t.coeff.toString(16)),e;if(t instanceof it&&t.isPublic)return e.kty="RSA",e.n=bt(t.n.toString(16)),e.e=bt(t.e.toString(16)),e;if(t instanceof ut.crypto.ECDSA&&t.isPrivate){if("P-256"!==(n=t.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var r=t.getPublicKeyXYHex();return e.kty="EC",e.crv=n,e.x=bt(r.x),e.y=bt(r.y),e.d=bt(t.prvKeyHex),e}if(t instanceof ut.crypto.ECDSA&&t.isPublic){var n;if("P-256"!==(n=t.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;return r=t.getPublicKeyXYHex(),e.kty="EC",e.crv=n,e.x=bt(r.x),e.y=bt(r.y),e}throw"not supported key object"},it.getPosArrayOfChildrenFromHex=function(t){return ft.getChildIdx(t,0)},it.getHexValueArrayOfChildrenFromHex=function(t){var e,r=ft.getV,n=r(t,(e=it.getPosArrayOfChildrenFromHex(t))[0]),i=r(t,e[1]),s=r(t,e[2]),o=r(t,e[3]),a=r(t,e[4]),c=r(t,e[5]),u=r(t,e[6]),l=r(t,e[7]),h=r(t,e[8]);return(e=new Array).push(n,i,s,o,a,c,u,l,h),e},it.prototype.readPrivateKeyFromPEMString=function(t){var e=It(t),r=it.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},it.prototype.readPKCS5PrvKeyHex=function(t){var e=it.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},it.prototype.readPKCS8PrvKeyHex=function(t){var e,r,n,i,s,o,a,c,u=ft.getVbyList;if(!1===ft.isASN1HEX(t))throw"not ASN.1 hex string";try{e=u(t,0,[2,0,1],"02"),r=u(t,0,[2,0,2],"02"),n=u(t,0,[2,0,3],"02"),i=u(t,0,[2,0,4],"02"),s=u(t,0,[2,0,5],"02"),o=u(t,0,[2,0,6],"02"),a=u(t,0,[2,0,7],"02"),c=u(t,0,[2,0,8],"02")}catch(t){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(e,r,n,i,s,o,a,c)},it.prototype.readPKCS5PubKeyHex=function(t){var e=ft,r=e.getV;if(!1===e.isASN1HEX(t))throw"keyHex is not ASN.1 hex string";var n=e.getChildIdx(t,0);if(2!==n.length||"02"!==t.substr(n[0],2)||"02"!==t.substr(n[1],2))throw"wrong hex for PKCS#5 public key";var i=r(t,n[0]),s=r(t,n[1]);this.setPublic(i,s)},it.prototype.readPKCS8PubKeyHex=function(t){var e=ft;if(!1===e.isASN1HEX(t))throw"not ASN.1 hex string";if("06092a864886f70d010101"!==e.getTLVbyList(t,0,[0,0]))throw"not PKCS8 RSA public key";var r=e.getTLVbyList(t,0,[1,0]);this.readPKCS5PubKeyHex(r)},it.prototype.readCertPubKeyHex=function(t,e){var r,n;(r=new Kt).readCertHex(t),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};var Ut=new RegExp("");function Vt(t,e){for(var r="",n=e/4-t.length,i=0;i<n;i++)r+="0";return r+t}function Ht(t,e,r){for(var n="",i=0;n.length<e;)n+=Et(r(Ct(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return n}function qt(t){for(var e in ut.crypto.Util.DIGESTINFOHEAD){var r=ut.crypto.Util.DIGESTINFOHEAD[e],n=r.length;if(t.substring(0,n)==r)return[e,t.substring(n)]}return[]}function Kt(){var t=ft,e=t.getChildIdx,r=t.getV,n=t.getTLV,i=t.getVbyList,s=t.getTLVbyList,o=t.getIdxbyList,a=t.getVidx,c=t.oidname,u=Kt,l=It;this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==s(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return i(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){return c(i(this.hex,0,[0,2+this.foffset,0],"06"))},this.getIssuerHex=function(){return s(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return u.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return s(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return u.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var t=i(this.hex,0,[0,4+this.foffset,0]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getNotAfter=function(){var t=i(this.hex,0,[0,4+this.foffset,1]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getPublicKeyHex=function(){return t.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return o(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var t=this.getPublicKeyIdx();return o(this.hex,t,[1,0],"30")},this.getPublicKey=function(){return jt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return c(i(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return i(this.hex,0,[2],"03",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmName(),r=this.getSignatureValueHex(),n=s(this.hex,0,[0],"30"),i=new ut.crypto.Signature({alg:e});return i.init(t),i.updateHex(n),i.verify(r)},this.parseExt=function(){if(3!==this.version)return-1;var r=o(this.hex,0,[0,7,0],"30"),n=e(this.hex,r);this.aExtInfo=new Array;for(var s=0;s<n.length;s++){var c={critical:!1},u=0;3===e(this.hex,n[s]).length&&(c.critical=!0,u=1),c.oid=t.hextooidstr(i(this.hex,n[s],[0],"06"));var l=o(this.hex,n[s],[1+u]);c.vidx=a(this.hex,l),this.aExtInfo.push(c)}},this.getExtInfo=function(t){var e=this.aExtInfo,r=t;if(t.match(/^[0-9.]+$/)||(r=ut.asn1.x509.OID.name2oid(t)),""!==r)for(var n=0;n<e.length;n++)if(e[n].oid===r)return e[n]},this.getExtBasicConstraints=function(){var t=this.getExtInfo("basicConstraints");if(void 0===t)return t;var e=r(this.hex,t.vidx);if(""===e)return{};if("0101ff"===e)return{cA:!0};if("0101ff02"===e.substr(0,8)){var n=r(e,6);return{cA:!0,pathLen:parseInt(n,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";var e=r(this.hex,t.vidx);if(e.length%2!=0||e.length<=2)throw"malformed key usage value";var n=parseInt(e.substr(0,2)),i=parseInt(e.substr(2),16).toString(2);return i.substr(0,i.length-n)},this.getExtKeyUsageString=function(){for(var t=this.getExtKeyUsageBin(),e=new Array,r=0;r<t.length;r++)"1"==t.substr(r,1)&&e.push(Kt.KEYUSAGE_NAME[r]);return e.join(",")},this.getExtSubjectKeyIdentifier=function(){var t=this.getExtInfo("subjectKeyIdentifier");return void 0===t?t:r(this.hex,t.vidx)},this.getExtAuthorityKeyIdentifier=function(){var t=this.getExtInfo("authorityKeyIdentifier");if(void 0===t)return t;for(var i={},s=n(this.hex,t.vidx),o=e(s,0),a=0;a<o.length;a++)"80"===s.substr(o[a],2)&&(i.kid=r(s,o[a]));return i},this.getExtExtKeyUsageName=function(){var t=this.getExtInfo("extKeyUsage");if(void 0===t)return t;var i=new Array,s=n(this.hex,t.vidx);if(""===s)return i;for(var o=e(s,0),a=0;a<o.length;a++)i.push(c(r(s,o[a])));return i},this.getExtSubjectAltName=function(){for(var t=this.getExtSubjectAltName2(),e=new Array,r=0;r<t.length;r++)"DNS"===t[r][0]&&e.push(t[r][1]);return e},this.getExtSubjectAltName2=function(){var t,i,s,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var a=new Array,c=n(this.hex,o.vidx),u=e(c,0),l=0;l<u.length;l++)s=c.substr(u[l],2),t=r(c,u[l]),"81"===s&&(i=St(t),a.push(["MAIL",i])),"82"===s&&(i=St(t),a.push(["DNS",i])),"84"===s&&(i=Kt.hex2dn(t,0),a.push(["DN",i])),"86"===s&&(i=St(t),a.push(["URI",i])),"87"===s&&(i=Nt(t),a.push(["IP",i]));return a},this.getExtCRLDistributionPointsURI=function(){var t=this.getExtInfo("cRLDistributionPoints");if(void 0===t)return t;for(var r=new Array,n=e(this.hex,t.vidx),s=0;s<n.length;s++)try{var o=St(i(this.hex,n[s],[0,0,0],"86"));r.push(o)}catch(t){}return r},this.getExtAIAInfo=function(){var t=this.getExtInfo("authorityInfoAccess");if(void 0===t)return t;for(var r={ocsp:[],caissuer:[]},n=e(this.hex,t.vidx),s=0;s<n.length;s++){var o=i(this.hex,n[s],[0],"06"),a=i(this.hex,n[s],[1],"86");"2b06010505073001"===o&&r.ocsp.push(St(a)),"2b06010505073002"===o&&r.caissuer.push(St(a))}return r},this.getExtCertificatePolicies=function(){var t=this.getExtInfo("certificatePolicies");if(void 0===t)return t;for(var s=n(this.hex,t.vidx),o=[],a=e(s,0),u=0;u<a.length;u++){var l={},h=e(s,a[u]);if(l.id=c(r(s,h[0])),2===h.length)for(var f=e(s,h[1]),d=0;d<f.length;d++){var p=i(s,f[d],[0],"06");"2b06010505070201"===p?l.cps=St(i(s,f[d],[1])):"2b06010505070202"===p&&(l.unotice=St(i(s,f[d],[1,0])))}o.push(l)}return o},this.readCertPEM=function(t){this.readCertHex(l(t))},this.readCertHex=function(t){this.hex=t,this.getVersion();try{o(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getInfo=function(){var t,e,r;if(t="Basic Fields\n",t+="  serial number: "+this.getSerialNumberHex()+"\n",t+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",t+="  issuer: "+this.getIssuerString()+"\n",t+="  notBefore: "+this.getNotBefore()+"\n",t+="  notAfter: "+this.getNotAfter()+"\n",t+="  subject: "+this.getSubjectString()+"\n",t+="  subject public key info: \n",t+="    key algorithm: "+(e=this.getPublicKey()).type+"\n","RSA"===e.type&&(t+="    n="+Lt(e.n.toString(16)).substr(0,16)+"...\n",t+="    e="+Lt(e.e.toString(16))+"\n"),void 0!==(r=this.aExtInfo)&&null!==r){t+="X509v3 Extensions:\n";for(var n=0;n<r.length;n++){var i=r[n],s=ut.asn1.x509.OID.oid2name(i.oid);""===s&&(s=i.oid);var o="";if(!0===i.critical&&(o="CRITICAL"),t+="  "+s+" "+o+":\n","basicConstraints"===s){var a=this.getExtBasicConstraints();void 0===a.cA?t+="    {}\n":(t+="    cA=true",void 0!==a.pathLen&&(t+=", pathLen="+a.pathLen),t+="\n")}else if("keyUsage"===s)t+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===s)t+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===s){var c=this.getExtAuthorityKeyIdentifier();void 0!==c.kid&&(t+="    kid="+c.kid+"\n")}else if("extKeyUsage"===s)t+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===s)t+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===s)t+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===s){var u=this.getExtAIAInfo();void 0!==u.ocsp&&(t+="    ocsp: "+u.ocsp.join(",")+"\n"),void 0!==u.caissuer&&(t+="    caissuer: "+u.caissuer.join(",")+"\n")}else if("certificatePolicies"===s)for(var l=this.getExtCertificatePolicies(),h=0;h<l.length;h++)void 0!==l[h].id&&(t+="    policy oid: "+l[h].id+"\n"),void 0!==l[h].cps&&(t+="    cps: "+l[h].cps+"\n")}}return(t+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}Ut.compile("[^0-9a-f]","gi"),it.prototype.sign=function(t,e){var r=function(t){return ut.crypto.Util.hashString(t,e)}(t);return this.signWithMessageHash(r,e)},it.prototype.signWithMessageHash=function(t,e){var r=rt(ut.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),16);return Vt(this.doPrivate(r).toString(16),this.n.bitLength())},it.prototype.signPSS=function(t,e,r){var n=function(t){return ut.crypto.Util.hashHex(t,e)}(Ct(t));return void 0===r&&(r=-1),this.signWithMessageHashPSS(n,e,r)},it.prototype.signWithMessageHashPSS=function(t,e,r){var n,i=Et(t),s=i.length,o=this.n.bitLength()-1,a=Math.ceil(o/8),c=function(t){return ut.crypto.Util.hashHex(t,e)};if(-1===r||void 0===r)r=s;else if(-2===r)r=a-s-2;else if(r<-2)throw"invalid salt length";if(a<s+r+2)throw"data too long";var u="";r>0&&(u=new Array(r),(new et).nextBytes(u),u=String.fromCharCode.apply(String,u));var l=Et(c(Ct("\0\0\0\0\0\0\0\0"+i+u))),h=[];for(n=0;n<a-r-s-2;n+=1)h[n]=0;var f=String.fromCharCode.apply(String,h)+"\x01"+u,d=Ht(l,f.length,c),p=[];for(n=0;n<f.length;n+=1)p[n]=f.charCodeAt(n)^d.charCodeAt(n);for(p[0]&=~(65280>>8*a-o&255),n=0;n<s;n++)p.push(l.charCodeAt(n));return p.push(188),Vt(this.doPrivate(new E(p)).toString(16),this.n.bitLength())},it.prototype.verify=function(t,e){var r=rt(e=(e=e.replace(Ut,"")).replace(/[ \n]+/g,""),16);if(r.bitLength()>this.n.bitLength())return 0;var n=qt(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(0==n.length)return!1;var i=n[0];return n[1]==function(t){return ut.crypto.Util.hashString(t,i)}(t)},it.prototype.verifyWithMessageHash=function(t,e){var r=rt(e=(e=e.replace(Ut,"")).replace(/[ \n]+/g,""),16);if(r.bitLength()>this.n.bitLength())return 0;var n=qt(this.doPublic(r).toString(16).replace(/^1f+00/,""));return 0!=n.length&&n[1]==t},it.prototype.verifyPSS=function(t,e,r,n){var i=function(t){return ut.crypto.Util.hashHex(t,r)}(Ct(t));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(i,e,r,n)},it.prototype.verifyWithMessageHashPSS=function(t,e,r,n){var i=new E(e,16);if(i.bitLength()>this.n.bitLength())return!1;var s,o=function(t){return ut.crypto.Util.hashHex(t,r)},a=Et(t),c=a.length,u=this.n.bitLength()-1,l=Math.ceil(u/8);if(-1===n||void 0===n)n=c;else if(-2===n)n=l-c-2;else if(n<-2)throw"invalid salt length";if(l<c+n+2)throw"data too long";var h=this.doPublic(i).toByteArray();for(s=0;s<h.length;s+=1)h[s]&=255;for(;h.length<l;)h.unshift(0);if(188!==h[l-1])throw"encoded message does not end in 0xbc";var f=(h=String.fromCharCode.apply(String,h)).substr(0,l-c-1),d=h.substr(f.length,c),p=65280>>8*l-u&255;if(0!=(f.charCodeAt(0)&p))throw"bits beyond keysize not zero";var m=Ht(d,f.length,o),g=[];for(s=0;s<f.length;s+=1)g[s]=f.charCodeAt(s)^m.charCodeAt(s);g[0]&=~p;var y=l-c-n-2;for(s=0;s<y;s+=1)if(0!==g[s])throw"leftmost octets not zero";if(1!==g[y])throw"0x01 marker not found";return d===Et(o(Ct("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,g.slice(-n)))))},it.SALT_LEN_HLEN=-1,it.SALT_LEN_MAX=-2,it.SALT_LEN_RECOVER=-2,Kt.hex2dn=function(t,e){if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw"malformed DN";for(var r=new Array,n=ft.getChildIdx(t,e),i=0;i<n.length;i++)r.push(Kt.hex2rdn(t,n[i]));return"/"+(r=r.map(function(t){return t.replace("/","\\/")})).join("/")},Kt.hex2rdn=function(t,e){if(void 0===e&&(e=0),"31"!==t.substr(e,2))throw"malformed RDN";for(var r=new Array,n=ft.getChildIdx(t,e),i=0;i<n.length;i++)r.push(Kt.hex2attrTypeValue(t,n[i]));return(r=r.map(function(t){return t.replace("+","\\+")})).join("+")},Kt.hex2attrTypeValue=function(t,e){var r=ft,n=r.getV;if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw"malformed attribute type and value";var i=r.getChildIdx(t,e);2!==i.length||t.substr(i[0],2);var s=n(t,i[0]),o=ut.asn1.ASN1Util.oidHexToInt(s);return ut.asn1.x509.OID.oid2atype(o)+"="+Et(n(t,i[1]))},Kt.getPublicKeyFromCertHex=function(t){var e=new Kt;return e.readCertHex(t),e.getPublicKey()},Kt.getPublicKeyFromCertPEM=function(t){var e=new Kt;return e.readCertPEM(t),e.getPublicKey()},Kt.getPublicKeyInfoPropOfCertPEM=function(t){var e,r,n=ft.getVbyList,i={algparam:null};return(e=new Kt).readCertPEM(t),r=e.getPublicKeyHex(),i.keyhex=n(r,0,[1],"03").substr(2),i.algoid=n(r,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=n(r,0,[0,1],"06")),i},Kt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ut&&ut||(e.KJUR=ut={}),void 0!==ut.jws&&ut.jws||(ut.jws={}),ut.jws.JWS=function(){var t=ut.jws.JWS.isSafeJSONString;this.parseJWS=function(e,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var n=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=n[1],s=n[2],o=n[3],a=i+"."+s;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=s,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=a,!r){var c=_t(o),u=rt(c,16);this.parsedJWS.sigvalH=c,this.parsedJWS.sigvalBI=u}var l=ht(i),h=ht(s);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=h,!t(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},ut.jws.JWS.sign=function(t,e,n,i,s){var o,a,c,u=ut.jws.JWS,l=u.readSafeJSONString,h=u.isSafeJSONString,f=ut.crypto,d=f.Mac,p=f.Signature,m=JSON;if("string"!=typeof e&&"object"!=(void 0===e?"undefined":r(e)))throw"spHeader must be JSON string or object: "+e;if("object"==(void 0===e?"undefined":r(e))&&(o=m.stringify(a=e)),"string"==typeof e){if(!h(o=e))throw"JWS Head is not safe JSON string: "+o;a=l(o)}if(c=n,"object"==(void 0===n?"undefined":r(n))&&(c=m.stringify(n)),""!=t&&null!=t||void 0===a.alg||(t=a.alg),""!=t&&null!=t&&void 0===a.alg&&(a.alg=t,o=m.stringify(a)),t!==a.alg)throw"alg and sHeader.alg doesn't match: "+t+"!="+a.alg;var g=null;if(void 0===u.jwsalg2sigalg[t])throw"unsupported alg name: "+t;g=u.jwsalg2sigalg[t];var y=lt(o)+"."+lt(c),v="";if("Hmac"==g.substr(0,4)){if(void 0===i)throw"mac key shall be specified for HS* alg";var b=new d({alg:g,prov:"cryptojs",pass:i});b.updateString(y),v=b.doFinal()}else{var _;-1!=g.indexOf("withECDSA")?((_=new p({alg:g})).init(i,s),_.updateString(y),hASN1Sig=_.sign(),v=ut.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)):"none"!=g&&((_=new p({alg:g})).init(i,s),_.updateString(y),v=_.sign())}return y+"."+bt(v)},ut.jws.JWS.verify=function(t,e,n){var i,s=ut.jws.JWS,o=s.readSafeJSONString,a=ut.crypto,c=a.ECDSA,u=a.Mac,l=a.Signature;void 0!==r(it)&&(i=it);var h=t.split(".");if(3!==h.length)return!1;var f,d=h[0]+"."+h[1],p=_t(h[2]),m=o(ht(h[0])),g=null;if(void 0===m.alg)throw"algorithm not specified in header";if(f=(g=m.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+g+":"))throw"algorithm '"+g+"' not accepted in the list";if("none"!=g&&null===e)throw"key shall be specified to verify.";if("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&(e=jt.getKey(e)),!("RS"!=f&&"PS"!=f||e instanceof i))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==f&&!(e instanceof c))throw"key shall be a ECDSA obj for ES* algs";var y=null;if(void 0===s.jwsalg2sigalg[m.alg])throw"unsupported alg name: "+g;if("none"==(y=s.jwsalg2sigalg[g]))throw"not supported";if("Hmac"==y.substr(0,4)){if(void 0===e)throw"hexadecimal key shall be specified for HMAC";var v=new u({alg:y,pass:e});return v.updateString(d),p==v.doFinal()}if(-1!=y.indexOf("withECDSA")){var b,_=null;try{_=c.concatSigToASN1Sig(p)}catch(t){return!1}return(b=new l({alg:y})).init(e),b.updateString(d),b.verify(_)}return(b=new l({alg:y})).init(e),b.updateString(d),b.verify(p)},ut.jws.JWS.parse=function(t){var e,r,n=t.split("."),i={};if(2!=n.length&&3!=n.length)throw"malformed sJWS: wrong number of '.' splitted elements";return e=n[1],3==n.length&&(r=n[2]),i.headerObj=ut.jws.JWS.readSafeJSONString(ht(n[0])),i.payloadObj=ut.jws.JWS.readSafeJSONString(ht(e)),i.headerPP=JSON.stringify(i.headerObj,null,"  "),i.payloadPP=null==i.payloadObj?ht(e):JSON.stringify(i.payloadObj,null,"  "),void 0!==r&&(i.sigHex=_t(r)),i},ut.jws.JWS.verifyJWT=function(t,e,n){var i=ut.jws,s=i.JWS,o=s.readSafeJSONString,a=s.inArray,c=s.includedArray,u=t.split("."),l=u[0],h=u[1],f=(_t(u[2]),o(ht(l))),d=o(ht(h));if(void 0===f.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!a(f.alg,n.alg))return!1;if(void 0!==d.iss&&"object"===r(n.iss)&&!a(d.iss,n.iss))return!1;if(void 0!==d.sub&&"object"===r(n.sub)&&!a(d.sub,n.sub))return!1;if(void 0!==d.aud&&"object"===r(n.aud))if("string"==typeof d.aud){if(!a(d.aud,n.aud))return!1}else if("object"==r(d.aud)&&!c(d.aud,n.aud))return!1;var p=i.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(p=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==d.exp&&"number"==typeof d.exp&&d.exp+n.gracePeriod<p||void 0!==d.nbf&&"number"==typeof d.nbf&&p<d.nbf-n.gracePeriod||void 0!==d.iat&&"number"==typeof d.iat&&p<d.iat-n.gracePeriod||void 0!==d.jti&&void 0!==n.jti&&d.jti!==n.jti||!s.verify(t,e,n.alg))},ut.jws.JWS.includedArray=function(t,e){var n=ut.jws.JWS.inArray;if(null===t)return!1;if("object"!==(void 0===t?"undefined":r(t)))return!1;if("number"!=typeof t.length)return!1;for(var i=0;i<t.length;i++)if(!n(t[i],e))return!1;return!0},ut.jws.JWS.inArray=function(t,e){if(null===e)return!1;if("object"!==(void 0===e?"undefined":r(e)))return!1;if("number"!=typeof e.length)return!1;for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1},ut.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ut.jws.JWS.isSafeJSONString=function(t,e,n){var i=null;try{return"object"!=(void 0===(i=ct(t))?"undefined":r(i))||i.constructor===Array?0:(e&&(e[n]=i),1)}catch(t){return 0}},ut.jws.JWS.readSafeJSONString=function(t){var e=null;try{return"object"!=(void 0===(e=ct(t))?"undefined":r(e))||e.constructor===Array?null:e}catch(t){return null}},ut.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var e=t.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==e)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return e[1]},ut.jws.JWS.getJWKthumbprint=function(t){if("RSA"!==t.kty&&"EC"!==t.kty&&"oct"!==t.kty)throw"unsupported algorithm for JWK Thumprint";var e="{";if("RSA"===t.kty){if("string"!=typeof t.n||"string"!=typeof t.e)throw"wrong n and e value for RSA key";e+='"e":"'+t.e+'",',e+='"kty":"'+t.kty+'",',e+='"n":"'+t.n+'"}'}else if("EC"===t.kty){if("string"!=typeof t.crv||"string"!=typeof t.x||"string"!=typeof t.y)throw"wrong crv, x and y value for EC key";e+='"crv":"'+t.crv+'",',e+='"kty":"'+t.kty+'",',e+='"x":"'+t.x+'",',e+='"y":"'+t.y+'"}'}else if("oct"===t.kty){if("string"!=typeof t.k)throw"wrong k value for oct(symmetric) key";e+='"kty":"'+t.kty+'",',e+='"k":"'+t.k+'"}'}var r=Ct(e);return bt(ut.crypto.Util.hashHex(r,"sha256"))},ut.jws.IntDate={},ut.jws.IntDate.get=function(t){var e=ut.jws.IntDate,r=e.getNow,n=e.getZulu;if("now"==t)return r();if("now + 1hour"==t)return r()+3600;if("now + 1day"==t)return r()+86400;if("now + 1month"==t)return r()+2592e3;if("now + 1year"==t)return r()+31536e3;if(t.match(/Z$/))return n(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw"unsupported format: "+t},ut.jws.IntDate.getZulu=function(t){return Pt(t)},ut.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ut.jws.IntDate.intDate2UTCString=function(t){return new Date(1e3*t).toUTCString()},ut.jws.IntDate.intDate2Zulu=function(t){var e=new Date(1e3*t);return("0000"+e.getUTCFullYear()).slice(-4)+("00"+(e.getUTCMonth()+1)).slice(-2)+("00"+e.getUTCDate()).slice(-2)+("00"+e.getUTCHours()).slice(-2)+("00"+e.getUTCMinutes()).slice(-2)+("00"+e.getUTCSeconds()).slice(-2)+"Z"},e.SecureRandom=et,e.rng_seed_time=Q,e.BigInteger=E,e.RSAKey=it,e.EDSA=ut.crypto.EDSA,e.DSA=ut.crypto.DSA,e.Signature=ut.crypto.Signature,e.MessageDigest=ut.crypto.MessageDigest,e.Mac=ut.crypto.Mac,e.Cipher=ut.crypto.Cipher,e.KEYUTIL=jt,e.ASN1HEX=ft,e.X509=Kt,e.CryptoJS=y,e.b64tohex=w,e.b64toBA=S,e.stoBA=dt,e.BAtos=pt,e.BAtohex=mt,e.stohex=gt,e.stob64=function(t){return _(gt(t))},e.stob64u=function(t){return yt(_(gt(t)))},e.b64utos=function(t){return pt(S(vt(t)))},e.b64tob64u=yt,e.b64utob64=vt,e.hex2b64=_,e.hextob64u=bt,e.b64utohex=_t,e.utf8tob64u=lt,e.b64utoutf8=ht,e.utf8tob64=function(t){return _(Ft(Dt(t)))},e.b64toutf8=function(t){return decodeURIComponent(Ot(w(t)))},e.utf8tohex=wt,e.hextoutf8=St,e.hextorstr=Et,e.rstrtohex=Ct,e.hextob64=kt,e.hextob64nl=At,e.b64nltohex=xt,e.hextopem=Tt,e.pemtohex=It,e.hextoArrayBuffer=function(t){if(t.length%2!=0)throw"input is not even length";if(null==t.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var e=new ArrayBuffer(t.length/2),r=new DataView(e),n=0;n<t.length/2;n++)r.setUint8(n,parseInt(t.substr(2*n,2),16));return e},e.ArrayBuffertohex=function(t){for(var e="",r=new DataView(t),n=0;n<t.byteLength;n++)e+=("00"+r.getUint8(n).toString(16)).slice(-2);return e},e.zulutomsec=Rt,e.zulutosec=Pt,e.zulutodate=function(t){return new Date(Rt(t))},e.datetozulu=function(t,e,r){var n,i=t.getUTCFullYear();if(e){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;n=(""+i).slice(-2)}else n=("000"+i).slice(-4);if(n+=("0"+(t.getUTCMonth()+1)).slice(-2),n+=("0"+t.getUTCDate()).slice(-2),n+=("0"+t.getUTCHours()).slice(-2),n+=("0"+t.getUTCMinutes()).slice(-2),n+=("0"+t.getUTCSeconds()).slice(-2),r){var s=t.getUTCMilliseconds();0!==s&&(n+="."+(s=(s=("00"+s).slice(-3)).replace(/0+$/g,"")))}return n+"Z"},e.uricmptohex=Ft,e.hextouricmp=Ot,e.ipv6tohex=Mt,e.hextoipv6=Bt,e.hextoip=Nt,e.iptohex=function(t){var e="malformed IP address";if(!(t=t.toLowerCase(t)).match(/^[0-9.]+$/)){if(t.match(/^[0-9a-f:]+$/)&&-1!==t.indexOf(":"))return Mt(t);throw e}var r=t.split(".");if(4!==r.length)throw e;var n="";try{for(var i=0;i<4;i++)n+=("0"+parseInt(r[i]).toString(16)).slice(-2);return n}catch(t){throw e}},e.encodeURIComponentAll=Dt,e.newline_toUnix=function(t){return t.replace(/\r\n/gm,"\n")},e.newline_toDos=function(t){return(t=t.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},e.hextoposhex=Lt,e.intarystrtohex=function(t){t=(t=(t=t.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return t.split(/,/).map(function(t,e,r){var n=parseInt(t);if(n<0||255<n)throw"integer not in range 0-255";return("00"+n.toString(16)).slice(-2)}).join("")}catch(t){throw"malformed integer array string: "+t}},e.strdiffidx=function(t,e){var r=t.length;t.length>e.length&&(r=e.length);for(var n=0;n<r;n++)if(t.charCodeAt(n)!=e.charCodeAt(n))return n;return t.length!=e.length?r:-1},e.KJUR=ut,e.crypto=ut.crypto,e.asn1=ut.asn1,e.jws=ut.jws,e.lang=ut.lang}).call(this,r(27).Buffer)},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(29),i=r(30),s=r(31);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,r)}function u(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e),t}(t,e,r,n):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,r),i=(t=a(t,n)).write(e,r);return i!==n&&(t=t.slice(0,i)),t}(t,e,r):function(t,e){if(c.isBuffer(e)){var r=0|d(e.length);return 0===(t=a(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):f(t,e);if("Buffer"===e.type&&s(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(l(e),t=a(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|d(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){var s,o=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var l=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===c)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){for(var h=!0,f=0;f<c;f++)if(u(t,s+f)!==u(e,f)){h=!1;break}if(h)return s}return-1}function v(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[r+o]=a}return o}function b(t,e,r,n){return H(U(e,t.length-r),t,r,n)}function _(t,e,r,n){return H(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return _(t,e,r,n)}function S(t,e,r,n){return H(V(e),t,r,n)}function E(t,e,r,n){return H(function(t,e){for(var r,n,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,t.length-r),t,r,n)}function C(t,e,r){return n.fromByteArray(0===e&&r===t.length?t:t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,c,u=t[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(s=t[i+1]))&&(c=(31&u)<<6|63&s)>127&&(l=c);break;case 3:o=t[i+2],128==(192&(s=t[i+1]))&&128==(192&o)&&(c=(15&u)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+2],a=t[i+3],128==(192&(s=t[i+1]))&&128==(192&o)&&128==(192&a)&&(c=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(n.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=A));return r}(n)}e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,r){return u(null,t,e,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,r){return function(t,e,r,n){return l(e),e<=0?a(t,e):void 0!==r?"string"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}(null,t,e,r)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=c.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):(function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return x(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return C(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}).apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,r,n,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),a=Math.min(s,o),u=this.slice(n,i),l=t.slice(e,r),h=0;h<a;++h)if(u[h]!==l[h]){s=u[h],o=l[h];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return _(this,t,e,r);case"latin1":case"binary":return w(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function x(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function I(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=j(t[s]);return i}function R(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,r,n,i,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function O(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-r,2);i<s;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function M(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-r,4);i<s;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function B(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(t,e,r,n,s){return s||B(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function D(t,e,r,n,s){return s||B(t,0,r,8),i.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;r=new c(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+t]}return r},c.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||P(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},c.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||P(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},c.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||P(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||P(t,e,this.length);for(var n=e,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||F(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},c.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||F(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},c.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);F(this,t,e,r,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<r&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);F(this,t,e,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,s=n-r;if(this===t&&r<e&&e<n)for(i=s-1;i>=0;--i)t[i+e]=this[i+r];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=e;s<r;++s)this[s]=t;else{var o=c.isBuffer(t)?t:U(new c(t,n).toString()),a=o.length;for(s=0;s<r-e;++s)this[s+e]=o[s%a]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var n=t.length,i=null,s=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function V(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(28))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.byteLength=function(t){var e=u(t),r=e[1];return 3*(e[0]+r)/4-r},e.toByteArray=function(t){for(var e,r=u(t),n=r[0],o=r[1],a=new s(function(t,e,r){return 3*(e+r)/4-r}(0,n,o)),c=0,l=o>0?n-4:n,h=0;h<l;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=255&e;return 2===o&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,a[c++]=255&e),1===o&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,a[c++]=e>>8&255,a[c++]=255&e),a},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,s=[],o=0,a=r-i;o<a;o+=16383)s.push(l(t,o,o+16383>a?a:o+16383));return 1===i?s.push(n[(e=t[r-1])>>2]+n[e<<4&63]+"=="):2===i&&s.push(n[(e=(t[r-2]<<8)+t[r-1])>>10]+n[e>>4&63]+n[e<<2&63]+"="),s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var i,s=[],o=e;o<r;o+=3)s.push(n[(i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=t[e+h];for(h+=f,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+t[e+h],h+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+h],h+=f,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=u}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,c,u=8*s-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*c-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+d]=255&o,d+=p,o/=256,u-=8);t[r+d-p]|=128*m}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.jws,r=t.KeyUtil,i=t.X509,s=t.crypto,o=t.hextob64u,a=t.b64tohex,c=t.AllowedSigningAlgs;return function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.parseJwt=function t(r){n.Log.debug("JoseUtil.parseJwt");try{var i=e.JWS.parse(r);return{header:i.headerObj,payload:i.payloadObj}}catch(t){n.Log.error(t)}},t.validateJwt=function(e,s,o,c,u,l,h){n.Log.debug("JoseUtil.validateJwt");try{if("RSA"===s.kty)if(s.e&&s.n)s=r.getKey(s);else{if(!s.x5c||!s.x5c.length)return n.Log.error("JoseUtil.validateJwt: RSA key missing key material",s),Promise.reject(new Error("RSA key missing key material"));var f=a(s.x5c[0]);s=i.getPublicKeyFromCertHex(f)}else{if("EC"!==s.kty)return n.Log.error("JoseUtil.validateJwt: Unsupported key type",s&&s.kty),Promise.reject(new Error(s.kty));if(!(s.crv&&s.x&&s.y))return n.Log.error("JoseUtil.validateJwt: EC key missing key material",s),Promise.reject(new Error("EC key missing key material"));s=r.getKey(s)}return t._validateJwt(e,s,o,c,u,l,h)}catch(t){return n.Log.error(t&&t.message||t),Promise.reject("JWT validation failed")}},t.validateJwtAttributes=function(e,r,i,s,o,a){s||(s=0),o||(o=parseInt(Date.now()/1e3));var c=t.parseJwt(e).payload;if(!c.iss)return n.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(c.iss!==r)return n.Log.error("JoseUtil._validateJwt: Invalid issuer in token",c.iss),Promise.reject(new Error("Invalid issuer in token: "+c.iss));if(!c.aud)return n.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(c.aud===i||Array.isArray(c.aud)&&c.aud.indexOf(i)>=0))return n.Log.error("JoseUtil._validateJwt: Invalid audience in token",c.aud),Promise.reject(new Error("Invalid audience in token: "+c.aud));if(c.azp&&c.azp!==i)return n.Log.error("JoseUtil._validateJwt: Invalid azp in token",c.azp),Promise.reject(new Error("Invalid azp in token: "+c.azp));if(!a){var u=o+s,l=o-s;if(!c.iat)return n.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(u<c.iat)return n.Log.error("JoseUtil._validateJwt: iat is in the future",c.iat),Promise.reject(new Error("iat is in the future: "+c.iat));if(c.nbf&&u<c.nbf)return n.Log.error("JoseUtil._validateJwt: nbf is in the future",c.nbf),Promise.reject(new Error("nbf is in the future: "+c.nbf));if(!c.exp)return n.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(c.exp<l)return n.Log.error("JoseUtil._validateJwt: exp is in the past",c.exp),Promise.reject(new Error("exp is in the past:"+c.exp))}return Promise.resolve(c)},t._validateJwt=function(r,i,s,o,a,u,l){return t.validateJwtAttributes(r,s,o,a,u,l).then(function(t){try{return e.JWS.verify(r,i,c)?t:(n.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(t){return n.Log.error(t&&t.message||t),Promise.reject(new Error("signature validation failed"))}})},t.hashString=function t(e,r){try{return s.Util.hashString(e,r)}catch(t){n.Log.error(t)}},t.hexToBase64Url=function t(e){try{return o(e)}catch(t){n.Log.error(t)}},t}()};var n=r(0);t.exports=e.default},function(t,e,r){var n=r(34),i=r(35);t.exports=function(t,e,r){var s=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;++a)e[s+a]=o[a];return e||i(o)}},function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function(){return r(n),n}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0;return[r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]]].join("")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SigninResponse=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(3);e.SigninResponse=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=i.UrlUtility.parseUrlFragment(e,r);this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.code=n.code,this.state=n.state,this.id_token=n.id_token,this.session_state=n.session_state,this.access_token=n.access_token,this.token_type=n.token_type,this.scope=n.scope,this.profile=void 0,this.expires_in=n.expires_in}return n(t,[{key:"expires_in",get:function(){if(this.expires_at){var t=parseInt(Date.now()/1e3);return this.expires_at-t}},set:function(t){var e=parseInt(t);if("number"==typeof e&&e>0){var r=parseInt(Date.now()/1e3);this.expires_at=r+e}}},{key:"expired",get:function(){var t=this.expires_in;if(void 0!==t)return t<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignoutRequest=void 0;var n=r(0),i=r(3),s=r(8);e.SignoutRequest=function t(e){var r=e.url,o=e.id_token_hint,a=e.post_logout_redirect_uri,c=e.data,u=e.extraQueryParams,l=e.request_type;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!r)throw n.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var h in o&&(r=i.UrlUtility.addQueryParam(r,"id_token_hint",o)),a&&(r=i.UrlUtility.addQueryParam(r,"post_logout_redirect_uri",a),c&&(this.state=new s.State({data:c,request_type:l}),r=i.UrlUtility.addQueryParam(r,"state",this.state.id))),u)r=i.UrlUtility.addQueryParam(r,h,u[h]);this.url=r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignoutResponse=void 0;var n=r(3);e.SignoutResponse=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n.UrlUtility.parseUrlFragment(e,"?");this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.state=r.state}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryWebStorage=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.InMemoryWebStorage=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data={}}return t.prototype.getItem=function(t){return i.Log.debug("InMemoryWebStorage.getItem",t),this._data[t]},t.prototype.setItem=function(t,e){i.Log.debug("InMemoryWebStorage.setItem",t),this._data[t]=e},t.prototype.removeItem=function(t){i.Log.debug("InMemoryWebStorage.removeItem",t),delete this._data[t]},t.prototype.key=function(t){return Object.getOwnPropertyNames(this._data)[t]},n(t,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserManager=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),s=r(9),o=r(41),a=r(15),c=r(47),u=r(49),l=r(18),h=r(20),f=r(10),d=r(4);e.UserManager=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.SilentRenewService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.SessionMonitor,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.TokenRevocationClient,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f.TokenClient,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:d.JoseUtil;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r instanceof o.UserManagerSettings||(r=new o.UserManagerSettings(r));var g=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return g._events=new c.UserManagerEvents(r),g._silentRenewService=new n(g),g.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),g.startSilentRenew()),g.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),g._sessionMonitor=new s(g)),g._tokenRevocationClient=new a(g._settings),g._tokenClient=new p(g._settings),g._joseUtil=m,g}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getUser=function(){var t=this;return this._loadUser().then(function(e){return e?(i.Log.info("UserManager.getUser: user loaded"),t._events.load(e,!1),e):(i.Log.info("UserManager.getUser: user not found in storage"),null)})},e.prototype.removeUser=function(){var t=this;return this.storeUser(null).then(function(){i.Log.info("UserManager.removeUser: user removed from storage"),t._events.unload()})},e.prototype.signinRedirect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:r";var e={useReplaceToNavigate:t.useReplaceToNavigate};return this._signinStart(t,this._redirectNavigator,e).then(function(){i.Log.info("UserManager.signinRedirect: successful")})},e.prototype.signinRedirectCallback=function(t){return this._signinEnd(t||this._redirectNavigator.url).then(function(t){return t.profile&&t.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),t})},e.prototype.signinPopup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:p";var e=t.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return e?(t.redirect_uri=e,t.display="popup",this._signin(t,this._popupNavigator,{startUrl:e,popupWindowFeatures:t.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:t.popupWindowTarget||this.settings.popupWindowTarget}).then(function(t){return t&&(t.profile&&t.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),t})):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},e.prototype.signinPopupCallback=function(t){return this._signinCallback(t,this._popupNavigator).then(function(t){return t&&(t.profile&&t.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),t}).catch(function(t){i.Log.error(t.message)})},e.prototype.signinSilent=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=Object.assign({},e)).request_type="si:s",this._loadUser().then(function(r){return r&&r.refresh_token?(e.refresh_token=r.refresh_token,t._useRefreshToken(e)):(e.id_token_hint=e.id_token_hint||t.settings.includeIdTokenInSilentRenew&&r&&r.id_token,r&&t._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",r.profile.sub),e.current_sub=r.profile.sub),t._signinSilentIframe(e))})},e.prototype._useRefreshToken=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(e).then(function(e){return e?e.access_token?t._loadUser().then(function(r){if(r){var n=Promise.resolve();return e.id_token&&(n=t._validateIdTokenFromTokenRefreshToken(r.profile,e.id_token)),n.then(function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),r.id_token=e.id_token,r.access_token=e.access_token,r.refresh_token=e.refresh_token||r.refresh_token,r.expires_in=e.expires_in,t.storeUser(r).then(function(){return t._events.load(r),r})})}return null}):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},e.prototype._validateIdTokenFromTokenRefreshToken=function(t,e){var r=this;return this._metadataService.getIssuer().then(function(n){return r._joseUtil.validateJwtAttributes(e,n,r._settings.client_id,r._settings.clockSkew).then(function(e){return e?e.sub!==t.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):e.auth_time&&e.auth_time!==t.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):e.azp&&e.azp!==t.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!e.azp&&t.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})},e.prototype._signinSilentIframe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return e?(t.redirect_uri=e,t.prompt=t.prompt||"none",this._signin(t,this._iframeNavigator,{startUrl:e,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(t){return t&&(t.profile&&t.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),t})):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},e.prototype.signinSilentCallback=function(t){return this._signinCallback(t,this._iframeNavigator).then(function(t){return t&&(t.profile&&t.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),t})},e.prototype.signinCallback=function(t){var e=this;return this.readSigninResponseState(t).then(function(r){var n=r.state;return"si:r"===n.request_type?e.signinRedirectCallback(t):"si:p"===n.request_type?e.signinPopupCallback(t):"si:s"===n.request_type?e.signinSilentCallback(t):Promise.reject(new Error("invalid response_type in state"))})},e.prototype.signoutCallback=function(t,e){var r=this;return this.readSignoutResponseState(t).then(function(n){var i=n.state,s=n.response;return i?"so:r"===i.request_type?r.signoutRedirectCallback(t):"so:p"===i.request_type?r.signoutPopupCallback(t,e):Promise.reject(new Error("invalid response_type in state")):s})},e.prototype.querySessionStatus=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:s";var r=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return r?(e.redirect_uri=r,e.prompt="none",e.response_type=e.response_type||this.settings.query_status_response_type,e.scope=e.scope||"openid",e.skipUserInfo=!0,this._signinStart(e,this._iframeNavigator,{startUrl:r,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(e){return t.processSigninResponse(e.url).then(function(t){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),t.session_state&&t.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",t.profile.sub),{session_state:t.session_state,sub:t.profile.sub,sid:t.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(e){if(e.session_state&&t.settings.monitorAnonymousSession&&("login_required"==e.message||"consent_required"==e.message||"interaction_required"==e.message||"account_selection_required"==e.message))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:e.session_state};throw e})})):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},e.prototype._signin=function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(t,e,n).then(function(e){return r._signinEnd(e.url,t)})},e.prototype._signinStart=function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.prepare(n).then(function(e){return i.Log.debug("UserManager._signinStart: got navigator window handle"),r.createSigninRequest(t).then(function(t){return i.Log.debug("UserManager._signinStart: got signin request"),n.url=t.url,n.id=t.state.id,e.navigate(n)}).catch(function(t){throw e.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),e.close()),t})})},e.prototype._signinEnd=function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(t).then(function(t){i.Log.debug("UserManager._signinEnd: got signin response");var n=new a.User(t);if(r.current_sub){if(r.current_sub!==n.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",n.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return e.storeUser(n).then(function(){return i.Log.debug("UserManager._signinEnd: user stored"),e._events.load(n),n})})},e.prototype._signinCallback=function(t,e){return i.Log.debug("UserManager._signinCallback"),e.callback(t)},e.prototype.signoutRedirect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="so:r";var e=t.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;e&&(t.post_logout_redirect_uri=e);var r={useReplaceToNavigate:t.useReplaceToNavigate};return this._signoutStart(t,this._redirectNavigator,r).then(function(){i.Log.info("UserManager.signoutRedirect: successful")})},e.prototype.signoutRedirectCallback=function(t){return this._signoutEnd(t||this._redirectNavigator.url).then(function(t){return i.Log.info("UserManager.signoutRedirectCallback: successful"),t})},e.prototype.signoutPopup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="so:p";var e=t.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return t.post_logout_redirect_uri=e,t.display="popup",t.post_logout_redirect_uri&&(t.state=t.state||{}),this._signout(t,this._popupNavigator,{startUrl:e,popupWindowFeatures:t.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:t.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){i.Log.info("UserManager.signoutPopup: successful")})},e.prototype.signoutPopupCallback=function(t,e){return void 0===e&&"boolean"==typeof t&&(e=t,t=null),this._popupNavigator.callback(t,e,"?").then(function(){i.Log.info("UserManager.signoutPopupCallback: successful")})},e.prototype._signout=function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(t,e,n).then(function(t){return r._signoutEnd(t.url)})},e.prototype._signoutStart=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,r=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.prepare(n).then(function(r){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),e._loadUser().then(function(s){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(e._settings.revokeAccessTokenOnSignout?e._revokeInternal(s):Promise.resolve()).then(function(){var o=t.id_token_hint||s&&s.id_token;return o&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),t.id_token_hint=o),e.removeUser().then(function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),e.createSignoutRequest(t).then(function(t){return i.Log.debug("UserManager._signoutStart: got signout request"),n.url=t.url,t.state&&(n.id=t.state.id),r.navigate(n)})})})}).catch(function(t){throw r.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),r.close()),t})})},e.prototype._signoutEnd=function(t){return this.processSignoutResponse(t).then(function(t){return i.Log.debug("UserManager._signoutEnd: got signout response"),t})},e.prototype.revokeAccessToken=function(){var t=this;return this._loadUser().then(function(e){return t._revokeInternal(e,!0).then(function(r){if(r)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),e.access_token=null,e.refresh_token=null,e.expires_at=null,e.token_type=null,t.storeUser(e).then(function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),t._events.load(e)})})}).then(function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},e.prototype._revokeInternal=function(t,e){var r=this;if(t){var n=t.refresh_token;return this._revokeAccessTokenInternal(t.access_token,e).then(function(t){return r._revokeRefreshTokenInternal(n,e).then(function(e){return t||e||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),t||e})})}return Promise.resolve(!1)},e.prototype._revokeAccessTokenInternal=function(t,e){return!t||t.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(t,e).then(function(){return!0})},e.prototype._revokeRefreshTokenInternal=function(t,e){return t?this._tokenRevocationClient.revoke(t,e,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},e.prototype.startSilentRenew=function(){this._silentRenewService.start()},e.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},e.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(t){return t?(i.Log.debug("UserManager._loadUser: user storageString loaded"),a.User.fromStorageString(t)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)})},e.prototype.storeUser=function(t){if(t){i.Log.debug("UserManager.storeUser: storing user");var e=t.toStorageString();return this._userStore.set(this._userStoreKey,e)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},n(e,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),e}(s.OidcClient)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserManagerSettings=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=(r(0),r(5)),s=r(42),o=r(43),a=r(45),c=r(6),u=r(1),l=r(12);e.UserManagerSettings=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.popup_redirect_uri,i=r.popup_post_logout_redirect_uri,h=r.popupWindowFeatures,f=r.popupWindowTarget,d=r.silent_redirect_uri,p=r.silentRequestTimeout,m=r.automaticSilentRenew,g=void 0!==m&&m,y=r.validateSubOnSilentRenew,v=void 0!==y&&y,b=r.includeIdTokenInSilentRenew,_=void 0===b||b,w=r.monitorSession,S=void 0===w||w,E=r.monitorAnonymousSession,C=void 0!==E&&E,k=r.checkSessionInterval,A=void 0===k?2e3:k,x=r.stopCheckSessionOnError,T=void 0===x||x,I=r.query_status_response_type,R=r.revokeAccessTokenOnSignout,P=void 0!==R&&R,F=r.accessTokenExpiringNotificationTime,O=void 0===F?60:F,M=r.redirectNavigator,B=void 0===M?new s.RedirectNavigator:M,N=r.popupNavigator,D=void 0===N?new o.PopupNavigator:N,L=r.iframeNavigator,j=void 0===L?new a.IFrameNavigator:L,U=r.userStore,V=void 0===U?new c.WebStorageStateStore({store:u.Global.sessionStorage}):U;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var H=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,arguments[0]));return H._popup_redirect_uri=n,H._popup_post_logout_redirect_uri=i,H._popupWindowFeatures=h,H._popupWindowTarget=f,H._silent_redirect_uri=d,H._silentRequestTimeout=p,H._automaticSilentRenew=g,H._validateSubOnSilentRenew=v,H._includeIdTokenInSilentRenew=_,H._accessTokenExpiringNotificationTime=O,H._monitorSession=S,H._monitorAnonymousSession=C,H._checkSessionInterval=A,H._stopCheckSessionOnError=T,H._query_status_response_type=I||(arguments[0]&&arguments[0].response_type?l.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),H._revokeAccessTokenOnSignout=P,H._redirectNavigator=B,H._popupNavigator=D,H._iframeNavigator=j,H._userStore=V,H}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),e}(i.OidcClientSettings)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RedirectNavigator=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.RedirectNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(){return Promise.resolve(this)},t.prototype.navigate=function(t){return t&&t.url?(t.useReplaceToNavigate?window.location.replace(t.url):window.location=t.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},n(t,[{key:"url",get:function(){return window.location.href}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopupNavigator=void 0;var n=r(0),i=r(44);e.PopupNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){var e=new i.PopupWindow(t);return Promise.resolve(e)},t.prototype.callback=function t(e,r,s){n.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(e,r,s),Promise.resolve()}catch(t){return Promise.reject(t)}},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopupWindow=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),s=r(3);e.PopupWindow=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e}),this._popup=window.open("",e.popupWindowTarget||"_blank",e.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return t.prototype.navigate=function(t){return this._popup?t&&t.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=t.id,this._id&&(window["popupCallback_"+t.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=t.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},t.prototype._success=function(t){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(t)},t.prototype._error=function(t){i.Log.error("PopupWindow.error: ",t),this._cleanup(),this._reject(new Error(t))},t.prototype.close=function(){this._cleanup(!1)},t.prototype._cleanup=function(t){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!t&&this._popup.close(),this._popup=null},t.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},t.prototype._callback=function(t,e){this._cleanup(e),t?(i.Log.debug("PopupWindow.callback success"),this._success({url:t})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},t.notifyOpener=function(t,e,r){if(window.opener){if(t=t||window.location.href){var n=s.UrlUtility.parseUrlFragment(t,r);if(n.state){var o=window.opener["popupCallback_"+n.state];o?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),o(t,e)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},n(t,[{key:"promise",get:function(){return this._promise}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IFrameNavigator=void 0;var n=r(0),i=r(46);e.IFrameNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){var e=new i.IFrameWindow(t);return Promise.resolve(e)},t.prototype.callback=function t(e){n.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(e),Promise.resolve()}catch(t){return Promise.reject(t)}},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IFrameWindow=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.IFrameWindow=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.style.width=0,this._frame.style.height=0,window.document.body.appendChild(this._frame)}return t.prototype.navigate=function(t){if(t&&t.url){var e=t.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",e),this._timer=window.setTimeout(this._timeout.bind(this),e),this._frame.src=t.url}else this._error("No url provided");return this.promise},t.prototype._success=function(t){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(t)},t.prototype._error=function(t){this._cleanup(),i.Log.error(t),this._reject(new Error(t))},t.prototype.close=function(){this._cleanup()},t.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},t.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},t.prototype._message=function(t){if(i.Log.debug("IFrameWindow.message"),this._timer&&t.origin===this._origin&&t.source===this._frame.contentWindow){var e=t.data;e?this._success({url:e}):this._error("Invalid response from frame")}},t.notifyParent=function(t){i.Log.debug("IFrameWindow.notifyParent"),window.frameElement&&(t=t||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(t,location.protocol+"//"+location.host))},n(t,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserManagerEvents=void 0;var n=r(0),i=r(16),s=r(17);e.UserManagerEvents=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n._userLoaded=new s.Event("User loaded"),n._userUnloaded=new s.Event("User unloaded"),n._silentRenewError=new s.Event("Silent renew error"),n._userSignedIn=new s.Event("User signed in"),n._userSignedOut=new s.Event("User signed out"),n._userSessionChanged=new s.Event("User session changed"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.load=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.Log.debug("UserManagerEvents.load"),t.prototype.load.call(this,e),r&&this._userLoaded.raise(e)},e.prototype.unload=function(){n.Log.debug("UserManagerEvents.unload"),t.prototype.unload.call(this),this._userUnloaded.raise()},e.prototype.addUserLoaded=function(t){this._userLoaded.addHandler(t)},e.prototype.removeUserLoaded=function(t){this._userLoaded.removeHandler(t)},e.prototype.addUserUnloaded=function(t){this._userUnloaded.addHandler(t)},e.prototype.removeUserUnloaded=function(t){this._userUnloaded.removeHandler(t)},e.prototype.addSilentRenewError=function(t){this._silentRenewError.addHandler(t)},e.prototype.removeSilentRenewError=function(t){this._silentRenewError.removeHandler(t)},e.prototype._raiseSilentRenewError=function(t){n.Log.debug("UserManagerEvents._raiseSilentRenewError",t.message),this._silentRenewError.raise(t)},e.prototype.addUserSignedIn=function(t){this._userSignedIn.addHandler(t)},e.prototype.removeUserSignedIn=function(t){this._userSignedIn.removeHandler(t)},e.prototype._raiseUserSignedIn=function(){n.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},e.prototype.addUserSignedOut=function(t){this._userSignedOut.addHandler(t)},e.prototype.removeUserSignedOut=function(t){this._userSignedOut.removeHandler(t)},e.prototype._raiseUserSignedOut=function(){n.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},e.prototype.addUserSessionChanged=function(t){this._userSessionChanged.addHandler(t)},e.prototype.removeUserSessionChanged=function(t){this._userSessionChanged.removeHandler(t)},e.prototype._raiseUserSessionChanged=function(){n.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},e}(i.AccessTokenEvents)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timer=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),s=r(1),o=r(17);e.Timer=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return o._timer=n,o._nowFunc=i||function(){return Date.now()/1e3},o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.init=function(t){t<=0&&(t=1),t=parseInt(t);var e=this.now+t;if(this.expiration===e&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",t),this._expiration=e;var r=5;t<r&&(r=t),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*r)}},e.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},e.prototype._callback=function(){i.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),t.prototype.raise.call(this))},n(e,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),e}(o.Event)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SilentRenewService=void 0;var n=r(0);e.SilentRenewService=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userManager=e}return t.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(t){}).catch(function(t){n.Log.error("SilentRenewService.start: Error from getUser:",t.message)}))},t.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},t.prototype._tokenExpiring=function(){var t=this;this._userManager.signinSilent().then(function(t){n.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(e){n.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",e.message),t._userManager.events._raiseSilentRenewError(e)})},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CordovaPopupNavigator=void 0;var n=r(21);e.CordovaPopupNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){var e=new n.CordovaPopupWindow(t);return Promise.resolve(e)},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CordovaIFrameNavigator=void 0;var n=r(21);e.CordovaIFrameNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){t.popupWindowFeatures="hidden=yes";var e=new n.CordovaPopupWindow(t);return Promise.resolve(e)},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Version="1.10.1"}])},91811:function(t,e,r){"use strict";var n={};(0,r(12507).assign)(n,r(56136),r(55079),r(50746)),t.exports=n},56136:function(t,e,r){"use strict";var n=r(88093),i=r(12507),s=r(90491),o=r(25746),a=r(56613),c=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==r)throw new Error(o[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var l;if(l="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(r=n.deflateSetDictionary(this.strm,l)))throw new Error(o[r]);this._dict_set=!0}}function l(t,e){var r=new u(e);if(r.push(t,!0),r.err)throw r.msg||o[r.err];return r.result}u.prototype.push=function(t,e){var r,o,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,a.input="string"==typeof t?s.string2buf(t):"[object ArrayBuffer]"===c.call(t)?new Uint8Array(t):t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(u),a.next_out=0,a.avail_out=u),1!==(r=n.deflate(a,o))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||this.onData("string"===this.options.to?s.buf2binstring(i.shrinkBuf(a.output,a.next_out)):i.shrinkBuf(a.output,a.next_out))}while((a.avail_in>0||0===a.avail_out)&&1!==r);return 4===o?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==o||(this.onEnd(0),a.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=u,e.deflate=l,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,l(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,l(t,e)}},55079:function(t,e,r){"use strict";var n=r(51279),i=r(12507),s=r(90491),o=r(50746),a=r(25746),c=r(56613),u=r(88870),l=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==o.Z_OK)throw new Error(a[r]);if(this.header=new u,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=s.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK))throw new Error(a[r])}function f(t,e){var r=new h(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}h.prototype.push=function(t,e){var r,a,c,u,h,f=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,f.input="string"==typeof t?s.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?new Uint8Array(t):t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(d),f.next_out=0,f.avail_out=d),(r=n.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===o.Z_BUF_ERROR&&!0===m&&(r=o.Z_OK,m=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&r!==o.Z_STREAM_END&&(0!==f.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(c=s.utf8border(f.output,f.next_out),u=f.next_out-c,h=s.buf2string(f.output,c),f.next_out=u,f.avail_out=d-u,u&&i.arraySet(f.output,f.output,c,u,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),f.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===o.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},12507:function(t,e){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(t[i]=r[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var s=0;s<n;s++)t[i+s]=e[r+s]},flattenChunks:function(t){var e,r,n,i,s,o;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(o=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)o.set(s=t[e],i),i+=s.length;return o}},s={arraySet:function(t,e,r,n,i){for(var s=0;s<n;s++)t[i+s]=e[r+s]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(r)},90491:function(t,e,r){"use strict";var n=r(12507),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(u){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){s=!1}for(var o=new n.Buf8(256),a=0;a<256;a++)o[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function c(t,e){if(e<65534&&(t.subarray&&s||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",o=0;o<e;o++)r+=String.fromCharCode(t[o]);return r}o[254]=o[254]=1,e.string2buf=function(t){var e,r,i,s,o,a=t.length,c=0;for(s=0;s<a;s++)55296==(64512&(r=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=t.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),c+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(c),o=0,s=0;o<c;s++)55296==(64512&(r=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=t.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},e.buf2binstring=function(t){return c(t,t.length)},e.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,n,i,s,a=e||t.length,u=new Array(2*a);for(n=0,r=0;r<a;)if((i=t[r++])<128)u[n++]=i;else if((s=o[i])>4)u[n++]=65533,r+=s-1;else{for(i&=2===s?31:3===s?15:7;s>1&&r<a;)i=i<<6|63&t[r++],s--;s>1?u[n++]=65533:i<65536?u[n++]=i:(u[n++]=55296|(i-=65536)>>10&1023,u[n++]=56320|1023&i)}return c(u,n)},e.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+o[t[r]]>e?r:e}},59520:function(t){"use strict";t.exports=function(t,e,r,n){for(var i=65535&t|0,s=t>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{s=s+(i=i+e[n++]|0)|0}while(--o);i%=65521,s%=65521}return i|s<<16|0}},50746:function(t){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},26291:function(t){"use strict";var e=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=function(t,r,n,i){var s=e,o=i+n;t^=-1;for(var a=i;a<o;a++)t=t>>>8^s[255&(t^r[a])];return-1^t}},88093:function(t,e,r){"use strict";var n,i=r(12507),s=r(92641),o=r(59520),a=r(26291),c=r(25746),u=-2,l=258,h=262,f=103,d=113,p=666;function m(t,e){return t.msg=c[e],e}function g(t){return(t<<1)-(t>4?9:0)}function y(t){for(var e=t.length;--e>=0;)t[e]=0}function v(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function b(t,e){s._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,v(t.strm)}function _(t,e){t.pending_buf[t.pending++]=e}function w(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function S(t,e){var r,n,i=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-h?t.strstart-(t.w_size-h):0,u=t.window,f=t.w_mask,d=t.prev,p=t.strstart+l,m=u[s+o-1],g=u[s+o];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(u[(r=e)+o]===g&&u[r+o-1]===m&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<p);if(n=l-(p-s),s=p-l,n>o){if(t.match_start=e,o=n,n>=a)break;m=u[s+o-1],g=u[s+o]}}}while((e=d[e&f])>c&&0!=--i);return o<=t.lookahead?o:t.lookahead}function E(t){var e,r,n,s,c,u,l,f,d,p,m=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=m+(m-h)){i.arraySet(t.window,t.window,m,m,0),t.match_start-=m,t.strstart-=m,t.block_start-=m,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=m?n-m:0}while(--r);e=r=m;do{n=t.prev[--e],t.prev[e]=n>=m?n-m:0}while(--r);s+=m}if(0===t.strm.avail_in)break;if(l=t.window,f=t.strstart+t.lookahead,p=void 0,(p=(u=t.strm).avail_in)>(d=s)&&(p=d),r=0===p?0:(u.avail_in-=p,i.arraySet(l,u.input,u.next_in,p,f),1===u.state.wrap?u.adler=o(u.adler,l,p,f):2===u.state.wrap&&(u.adler=a(u.adler,l,p,f)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=r,t.lookahead+t.insert>=3)for(t.ins_h=t.window[c=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+3-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<h&&0!==t.strm.avail_in)}function C(t,e){for(var r,n;;){if(t.lookahead<h){if(E(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-h&&(t.match_length=S(t,r)),t.match_length>=3)if(n=s._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function k(t,e){for(var r,n,i;;){if(t.lookahead<h){if(E(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-h&&(t.match_length=S(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(b(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=s._tr_tally(t,0,t.window[t.strstart-1]))&&b(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function A(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,s._tr_init(e),0):m(t,u)}function I(t){var e,r=T(t);return 0===r&&((e=t.state).window_size=2*e.w_size,y(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r}function R(t,e,r,n,s,o){if(!t)return u;var a=1;if(-1===e&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>9||8!==r||n<8||n>15||e<0||e>9||o<0||o>4)return m(t,u);8===n&&(n=9);var c=new x;return t.state=c,c.strm=t,c.wrap=a,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=s+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<s+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=o,c.method=r,I(t)}n=[new A(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(E(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,b(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-h&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&b(t,!1),1)}),new A(4,4,8,4,C),new A(4,5,16,8,C),new A(4,6,32,32,C),new A(4,4,16,16,k),new A(8,16,32,32,k),new A(8,16,128,128,k),new A(8,32,128,256,k),new A(32,128,258,1024,k),new A(32,258,258,4096,k)],e.deflateInit=function(t,e){return R(t,e,8,15,8,0)},e.deflateInit2=R,e.deflateReset=I,e.deflateResetKeep=T,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?u:(t.state.gzhead=e,0):u},e.deflate=function(t,e){var r,i,o,c;if(!t||!t.state||e>5||e<0)return t?m(t,u):u;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===p&&4!==e)return m(t,0===t.avail_out?-5:u);if(i.strm=t,r=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,_(i,31),_(i,139),_(i,8),i.gzhead?(_(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),_(i,255&i.gzhead.time),_(i,i.gzhead.time>>8&255),_(i,i.gzhead.time>>16&255),_(i,i.gzhead.time>>24&255),_(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),_(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(_(i,255&i.gzhead.extra.length),_(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=a(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(_(i,0),_(i,0),_(i,0),_(i,0),_(i,0),_(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),_(i,3),i.status=d);else{var h=8+(i.w_bits-8<<4)<<8;h|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=d,w(i,h),0!==i.strstart&&(w(i,t.adler>>>16),w(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(t.adler=a(t.adler,i.pending_buf,i.pending-o,o)),v(t),o=i.pending,i.pending!==i.pending_buf_size));)_(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(t.adler=a(t.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=a(t.adler,i.pending_buf,i.pending-o,o)),v(t),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,_(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(t.adler=a(t.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=a(t.adler,i.pending_buf,i.pending-o,o)),v(t),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,_(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(t.adler=a(t.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.status=f)}else i.status=f;if(i.status===f&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&v(t),i.pending+2<=i.pending_buf_size&&(_(i,255&t.adler),_(i,t.adler>>8&255),t.adler=0,i.status=d)):i.status=d),0!==i.pending){if(v(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&g(e)<=g(r)&&4!==e)return m(t,-5);if(i.status===p&&0!==t.avail_in)return m(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&i.status!==p){var S=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(E(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var r,n,i,o,a=t.window;;){if(t.lookahead<=l){if(E(t),t.lookahead<=l&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=a[i=t.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){o=t.strstart+l;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);t.match_length=l-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=s._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(i,e):n[i.level].func(i,e);if(3!==S&&4!==S||(i.status=p),1===S||3===S)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===S&&(1===e?s._tr_align(i):5!==e&&(s._tr_stored_block(i,0,0,!1),3===e&&(y(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),v(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(_(i,255&t.adler),_(i,t.adler>>8&255),_(i,t.adler>>16&255),_(i,t.adler>>24&255),_(i,255&t.total_in),_(i,t.total_in>>8&255),_(i,t.total_in>>16&255),_(i,t.total_in>>24&255)):(w(i,t.adler>>>16),w(i,65535&t.adler)),v(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&e!==f&&e!==d&&e!==p?m(t,u):(t.state=null,e===d?m(t,-3):0):u},e.deflateSetDictionary=function(t,e){var r,n,s,a,c,l,h,f,d=e.length;if(!t||!t.state)return u;if(2===(a=(r=t.state).wrap)||1===a&&42!==r.status||r.lookahead)return u;for(1===a&&(t.adler=o(t.adler,e,d,0)),r.wrap=0,d>=r.w_size&&(0===a&&(y(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new i.Buf8(r.w_size),i.arraySet(f,e,d-r.w_size,r.w_size,0),e=f,d=r.w_size),c=t.avail_in,l=t.next_in,h=t.input,t.avail_in=d,t.next_in=0,t.input=e,E(r);r.lookahead>=3;){n=r.strstart,s=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--s);r.strstart=n,r.lookahead=2,E(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=l,t.input=h,t.avail_in=c,r.wrap=a,0},e.deflateInfo="pako deflate (from Nodeca project)"},88870:function(t){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},14583:function(t){"use strict";t.exports=function(t,e){var r,n,i,s,o,a,c,u,l,h,f,d,p,m,g,y,v,b,_,w,S,E,C,k,A;k=t.input,i=(n=t.next_in)+(t.avail_in-5),A=t.output,o=(s=t.next_out)-(e-t.avail_out),a=s+(t.avail_out-257),c=(r=t.state).dmax,u=r.wsize,l=r.whave,h=r.wnext,f=r.window,d=r.hold,p=r.bits,m=r.lencode,g=r.distcode,y=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;t:do{p<15&&(d+=k[n++]<<p,d+=k[n++]<<(p+=8),p+=8),b=m[d&y];e:for(;;){if(d>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))A[s++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(d&(1<<_)-1)];continue e}if(32&_){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}w=65535&b,(_&=15)&&(p<_&&(d+=k[n++]<<p,p+=8),w+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=k[n++]<<p,d+=k[n++]<<(p+=8),p+=8),b=g[d&v];r:for(;;){if(d>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(d&(1<<_)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(S=65535&b,p<(_&=15)&&(d+=k[n++]<<p,(p+=8)<_&&(d+=k[n++]<<p,p+=8)),(S+=d&(1<<_)-1)>c){t.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=_,p-=_,S>(_=s-o)){if((_=S-_)>l&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(E=0,C=f,0===h){if(E+=u-_,_<w){w-=_;do{A[s++]=f[E++]}while(--_);E=s-S,C=A}}else if(h<_){if(E+=u+h-_,(_-=h)<w){w-=_;do{A[s++]=f[E++]}while(--_);if(E=0,h<w){w-=_=h;do{A[s++]=f[E++]}while(--_);E=s-S,C=A}}}else if(E+=h-_,_<w){w-=_;do{A[s++]=f[E++]}while(--_);E=s-S,C=A}for(;w>2;)A[s++]=C[E++],A[s++]=C[E++],A[s++]=C[E++],w-=3;w&&(A[s++]=C[E++],w>1&&(A[s++]=C[E++]))}else{E=s-S;do{A[s++]=A[E++],A[s++]=A[E++],A[s++]=A[E++],w-=3}while(w>2);w&&(A[s++]=A[E++],w>1&&(A[s++]=A[E++]))}break}}break}}while(n<i&&s<a);d&=(1<<(p-=(w=p>>3)<<3))-1,t.next_in=n-=w,t.next_out=s,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=s<a?a-s+257:257-(s-a),r.hold=d,r.bits=p}},51279:function(t,e,r){"use strict";var n=r(12507),i=r(59520),s=r(26291),o=r(14583),a=r(71888),c=-2,u=12,l=30;function h(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(t){var e;return t&&t.state?(t.total_in=t.total_out=(e=t.state).total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):c}function p(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,d(t)):c}function m(t,e){var r,n;return t&&t.state?(e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?c:(null!==(n=t.state).window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,p(t))):c}function g(t,e){var r,n;return t?(n=new f,t.state=n,n.window=null,0!==(r=m(t,e))&&(t.state=null),r):c}var y,v,b=!0;function _(t){if(b){var e;for(y=new n.Buf32(512),v=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,y,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,v,0,t.work,{bits:5}),b=!1}t.lencode=y,t.lenbits=9,t.distcode=v,t.distbits=5}function w(t,e,r,i){var s,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>i&&(s=i),n.arraySet(o.window,e,r-i,s,o.wnext),(i-=s)?(n.arraySet(o.window,e,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}e.inflateReset=p,e.inflateReset2=m,e.inflateResetKeep=d,e.inflateInit=function(t){return g(t,15)},e.inflateInit2=g,e.inflate=function(t,e){var r,f,d,p,m,g,y,v,b,S,E,C,k,A,x,T,I,R,P,F,O,M,B,N,D=0,L=new n.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return c;(r=t.state).mode===u&&(r.mode=13),m=t.next_out,d=t.output,p=t.next_in,f=t.input,v=r.hold,b=r.bits,S=g=t.avail_in,E=y=t.avail_out,M=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;b<16;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}if(2&r.wrap&&35615===v){r.check=0,L[0]=255&v,L[1]=v>>>8&255,r.check=s(r.check,L,2,0),v=0,b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&v)<<8)+(v>>8))%31){t.msg="incorrect header check",r.mode=l;break}if(8!=(15&v)){t.msg="unknown compression method",r.mode=l;break}if(b-=4,O=8+(15&(v>>>=4)),0===r.wbits)r.wbits=O;else if(O>r.wbits){t.msg="invalid window size",r.mode=l;break}r.dmax=1<<O,t.adler=r.check=1,r.mode=512&v?10:u,v=0,b=0;break;case 2:for(;b<16;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}if(r.flags=v,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=l;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=l;break}r.head&&(r.head.text=v>>8&1),512&r.flags&&(L[0]=255&v,L[1]=v>>>8&255,r.check=s(r.check,L,2,0)),v=0,b=0,r.mode=3;case 3:for(;b<32;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}r.head&&(r.head.time=v),512&r.flags&&(L[0]=255&v,L[1]=v>>>8&255,L[2]=v>>>16&255,L[3]=v>>>24&255,r.check=s(r.check,L,4,0)),v=0,b=0,r.mode=4;case 4:for(;b<16;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}r.head&&(r.head.xflags=255&v,r.head.os=v>>8),512&r.flags&&(L[0]=255&v,L[1]=v>>>8&255,r.check=s(r.check,L,2,0)),v=0,b=0,r.mode=5;case 5:if(1024&r.flags){for(;b<16;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}r.length=v,r.head&&(r.head.extra_len=v),512&r.flags&&(L[0]=255&v,L[1]=v>>>8&255,r.check=s(r.check,L,2,0)),v=0,b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((C=r.length)>g&&(C=g),C&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,f,p,C,O)),512&r.flags&&(r.check=s(r.check,f,C,p)),g-=C,p+=C,r.length-=C),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===g)break t;C=0;do{O=f[p+C++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O))}while(O&&C<g);if(512&r.flags&&(r.check=s(r.check,f,C,p)),g-=C,p+=C,O)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===g)break t;C=0;do{O=f[p+C++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O))}while(O&&C<g);if(512&r.flags&&(r.check=s(r.check,f,C,p)),g-=C,p+=C,O)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;b<16;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}if(v!==(65535&r.check)){t.msg="header crc mismatch",r.mode=l;break}v=0,b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=u;break;case 10:for(;b<32;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}t.adler=r.check=h(v),v=0,b=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=m,t.avail_out=y,t.next_in=p,t.avail_in=g,r.hold=v,r.bits=b,2;t.adler=r.check=1,r.mode=u;case u:if(5===e||6===e)break t;case 13:if(r.last){v>>>=7&b,b-=7&b,r.mode=27;break}for(;b<3;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}switch(r.last=1&v,b-=1,3&(v>>>=1)){case 0:r.mode=14;break;case 1:if(_(r),r.mode=20,6===e){v>>>=2,b-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=l}v>>>=2,b-=2;break;case 14:for(v>>>=7&b,b-=7&b;b<32;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}if((65535&v)!=(v>>>16^65535)){t.msg="invalid stored block lengths",r.mode=l;break}if(r.length=65535&v,v=0,b=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(C=r.length){if(C>g&&(C=g),C>y&&(C=y),0===C)break t;n.arraySet(d,f,p,C,m),g-=C,p+=C,y-=C,m+=C,r.length-=C;break}r.mode=u;break;case 17:for(;b<14;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}if(r.nlen=257+(31&v),b-=5,r.ndist=1+(31&(v>>>=5)),b-=5,r.ncode=4+(15&(v>>>=5)),v>>>=4,b-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=l;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;b<3;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}r.lens[j[r.have++]]=7&v,v>>>=3,b-=3}for(;r.have<19;)r.lens[j[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M=a(0,r.lens,0,19,r.lencode,0,r.work,B={bits:r.lenbits}),r.lenbits=B.bits,M){t.msg="invalid code lengths set",r.mode=l;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;T=(D=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,I=65535&D,!((x=D>>>24)<=b);){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}if(I<16)v>>>=x,b-=x,r.lens[r.have++]=I;else{if(16===I){for(N=x+2;b<N;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}if(v>>>=x,b-=x,0===r.have){t.msg="invalid bit length repeat",r.mode=l;break}O=r.lens[r.have-1],C=3+(3&v),v>>>=2,b-=2}else if(17===I){for(N=x+3;b<N;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}b-=x,O=0,C=3+(7&(v>>>=x)),v>>>=3,b-=3}else{for(N=x+7;b<N;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}b-=x,O=0,C=11+(127&(v>>>=x)),v>>>=7,b-=7}if(r.have+C>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=l;break}for(;C--;)r.lens[r.have++]=O}}if(r.mode===l)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=l;break}if(r.lenbits=9,M=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,B={bits:r.lenbits}),r.lenbits=B.bits,M){t.msg="invalid literal/lengths set",r.mode=l;break}if(r.distbits=6,r.distcode=r.distdyn,M=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,B={bits:r.distbits}),r.distbits=B.bits,M){t.msg="invalid distances set",r.mode=l;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(g>=6&&y>=258){t.next_out=m,t.avail_out=y,t.next_in=p,t.avail_in=g,r.hold=v,r.bits=b,o(t,E),m=t.next_out,d=t.output,y=t.avail_out,p=t.next_in,f=t.input,g=t.avail_in,v=r.hold,b=r.bits,r.mode===u&&(r.back=-1);break}for(r.back=0;T=(D=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,I=65535&D,!((x=D>>>24)<=b);){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}if(T&&0==(240&T)){for(R=x,P=T,F=I;T=(D=r.lencode[F+((v&(1<<R+P)-1)>>R)])>>>16&255,I=65535&D,!(R+(x=D>>>24)<=b);){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}v>>>=R,b-=R,r.back+=R}if(v>>>=x,b-=x,r.back+=x,r.length=I,0===T){r.mode=26;break}if(32&T){r.back=-1,r.mode=u;break}if(64&T){t.msg="invalid literal/length code",r.mode=l;break}r.extra=15&T,r.mode=22;case 22:if(r.extra){for(N=r.extra;b<N;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;T=(D=r.distcode[v&(1<<r.distbits)-1])>>>16&255,I=65535&D,!((x=D>>>24)<=b);){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}if(0==(240&T)){for(R=x,P=T,F=I;T=(D=r.distcode[F+((v&(1<<R+P)-1)>>R)])>>>16&255,I=65535&D,!(R+(x=D>>>24)<=b);){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}v>>>=R,b-=R,r.back+=R}if(v>>>=x,b-=x,r.back+=x,64&T){t.msg="invalid distance code",r.mode=l;break}r.offset=I,r.extra=15&T,r.mode=24;case 24:if(r.extra){for(N=r.extra;b<N;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=l;break}r.mode=25;case 25:if(0===y)break t;if(r.offset>(C=E-y)){if((C=r.offset-C)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=l;break}k=C>r.wnext?r.wsize-(C-=r.wnext):r.wnext-C,C>r.length&&(C=r.length),A=r.window}else A=d,k=m-r.offset,C=r.length;C>y&&(C=y),y-=C,r.length-=C;do{d[m++]=A[k++]}while(--C);0===r.length&&(r.mode=21);break;case 26:if(0===y)break t;d[m++]=r.length,y--,r.mode=21;break;case 27:if(r.wrap){for(;b<32;){if(0===g)break t;g--,v|=f[p++]<<b,b+=8}if(t.total_out+=E-=y,r.total+=E,E&&(t.adler=r.check=r.flags?s(r.check,d,E,m-E):i(r.check,d,E,m-E)),E=y,(r.flags?v:h(v))!==r.check){t.msg="incorrect data check",r.mode=l;break}v=0,b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;b<32;){if(0===g)break t;g--,v+=f[p++]<<b,b+=8}if(v!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=l;break}v=0,b=0}r.mode=29;case 29:M=1;break t;case l:M=-3;break t;case 31:return-4;case 32:default:return c}return t.next_out=m,t.avail_out=y,t.next_in=p,t.avail_in=g,r.hold=v,r.bits=b,(r.wsize||E!==t.avail_out&&r.mode<l&&(r.mode<27||4!==e))&&w(t,t.output,t.next_out,E-t.avail_out)?(r.mode=31,-4):(E-=t.avail_out,t.total_in+=S-=t.avail_in,t.total_out+=E,r.total+=E,r.wrap&&E&&(t.adler=r.check=r.flags?s(r.check,d,E,t.next_out-E):i(r.check,d,E,t.next_out-E)),t.data_type=r.bits+(r.last?64:0)+(r.mode===u?128:0)+(20===r.mode||15===r.mode?256:0),(0===S&&0===E||4===e)&&0===M&&(M=-5),M)},e.inflateEnd=function(t){if(!t||!t.state)return c;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?c:(r.head=e,e.done=!1,0):c},e.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?c:11===r.mode&&i(1,e,n,0)!==r.check?-3:w(t,e,n,n)?(r.mode=31,-4):(r.havedict=1,0):c},e.inflateInfo="pako inflate (from Nodeca project)"},71888:function(t,e,r){"use strict";var n=r(12507),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,c,u,l,h,f){var d,p,m,g,y,v,b,_,w,S=f.bits,E=0,C=0,k=0,A=0,x=0,T=0,I=0,R=0,P=0,F=0,O=null,M=0,B=new n.Buf16(16),N=new n.Buf16(16),D=null,L=0;for(E=0;E<=15;E++)B[E]=0;for(C=0;C<c;C++)B[e[r+C]]++;for(x=S,A=15;A>=1&&0===B[A];A--);if(x>A&&(x=A),0===A)return u[l++]=20971520,u[l++]=20971520,f.bits=1,0;for(k=1;k<A&&0===B[k];k++);for(x<k&&(x=k),R=1,E=1;E<=15;E++)if(R<<=1,(R-=B[E])<0)return-1;if(R>0&&(0===t||1!==A))return-1;for(N[1]=0,E=1;E<15;E++)N[E+1]=N[E]+B[E];for(C=0;C<c;C++)0!==e[r+C]&&(h[N[e[r+C]]++]=C);if(0===t?(O=D=h,v=19):1===t?(O=i,M-=257,D=s,L-=257,v=256):(O=o,D=a,v=-1),F=0,C=0,E=k,y=l,T=x,I=0,m=-1,g=(P=1<<x)-1,1===t&&P>852||2===t&&P>592)return 1;for(;;){b=E-I,h[C]<v?(_=0,w=h[C]):h[C]>v?(_=D[L+h[C]],w=O[M+h[C]]):(_=96,w=0),d=1<<E-I,k=p=1<<T;do{u[y+(F>>I)+(p-=d)]=b<<24|_<<16|w|0}while(0!==p);for(d=1<<E-1;F&d;)d>>=1;if(0!==d?(F&=d-1,F+=d):F=0,C++,0==--B[E]){if(E===A)break;E=e[r+h[C]]}if(E>x&&(F&g)!==m){for(0===I&&(I=x),y+=k,R=1<<(T=E-I);T+I<A&&!((R-=B[T+I])<=0);)T++,R<<=1;if(P+=1<<T,1===t&&P>852||2===t&&P>592)return 1;u[m=F&g]=x<<24|T<<16|y-l|0}}return 0!==F&&(u[y+F]=E-I<<24|64<<16|0),f.bits=x,0}},25746:function(t){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},92641:function(t,e,r){"use strict";var n=r(12507);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var l=new Array(60);i(l);var h=new Array(512);i(h);var f=new Array(256);i(f);var d=new Array(29);i(d);var p,m,g,y=new Array(30);function v(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function _(t){return t<256?h[t]:h[256+(t>>>7)]}function w(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function S(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function E(t,e,r){S(t,r[2*e],r[2*e+1])}function C(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function k(t,e,r){var n,i,s=new Array(16),o=0;for(n=1;n<=15;n++)s[n]=o=o+r[n-1]<<1;for(i=0;i<=e;i++){var a=t[2*i+1];0!==a&&(t[2*i]=C(s[a]++,a))}}function A(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function x(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function T(t,e,r,n){var i=2*e,s=2*r;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]}function I(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&T(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!T(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function R(t,e,r){var n,i,a,c,u=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],i=t.pending_buf[t.l_buf+u],u++,0===n?E(t,i,e):(E(t,(a=f[i])+256+1,e),0!==(c=s[a])&&S(t,i-=d[a],c),E(t,a=_(--n),r),0!==(c=o[a])&&S(t,n-=y[a],c))}while(u<t.last_lit);E(t,256,e)}function P(t,e){var r,n,i,s=e.dyn_tree,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,c=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<c;r++)0!==s[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):s[2*r+1]=0;for(;t.heap_len<2;)s[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=o[2*i+1]);for(e.max_code=u,r=t.heap_len>>1;r>=1;r--)I(t,s,r);i=c;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],I(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,s[2*i]=s[2*r]+s[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,s[2*r+1]=s[2*n+1]=i,t.heap[1]=i++,I(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,s,o,a,c=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(s=0;s<=15;s++)t.bl_count[s]=0;for(c[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(s=c[2*c[2*(n=t.heap[r])+1]+1]+1)>p&&(s=p,m++),c[2*n+1]=s,n>u||(t.bl_count[s]++,o=0,n>=d&&(o=f[n-d]),t.opt_len+=(a=c[2*n])*(s+o),h&&(t.static_len+=a*(l[2*n+1]+o)));if(0!==m){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(s=p;0!==s;s--)for(n=t.bl_count[s];0!==n;)(i=t.heap[--r])>u||(c[2*i+1]!==s&&(t.opt_len+=(s-c[2*i+1])*c[2*i],c[2*i+1]=s),n--)}}(t,e),k(s,u,t.bl_count)}function F(t,e,r){var n,i,s=-1,o=e[1],a=0,c=7,u=4;for(0===o&&(c=138,u=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++a<c&&i===o||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,s=i,0===o?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4))}function O(t,e,r){var n,i,s=-1,o=e[1],a=0,c=7,u=4;for(0===o&&(c=138,u=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++a<c&&i===o)){if(a<u)do{E(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(E(t,i,t.bl_tree),a--),E(t,16,t.bl_tree),S(t,a-3,2)):a<=10?(E(t,17,t.bl_tree),S(t,a-3,3)):(E(t,18,t.bl_tree),S(t,a-11,7));a=0,s=i,0===o?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4)}}i(y);var M=!1;function B(t,e,r,i){S(t,0+(i?1:0),3),function(t,e,r,i){x(t),w(t,r),w(t,~r),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r)}e._tr_init=function(t){M||(function(){var t,e,r,n,i,c=new Array(16);for(r=0,n=0;n<28;n++)for(d[n]=r,t=0;t<1<<s[n];t++)f[r++]=n;for(f[r-1]=n,i=0,n=0;n<16;n++)for(y[n]=i,t=0;t<1<<o[n];t++)h[i++]=n;for(i>>=7;n<30;n++)for(y[n]=i<<7,t=0;t<1<<o[n]-7;t++)h[256+i++]=n;for(e=0;e<=15;e++)c[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,c[8]++;for(;t<=255;)u[2*t+1]=9,t++,c[9]++;for(;t<=279;)u[2*t+1]=7,t++,c[7]++;for(;t<=287;)u[2*t+1]=8,t++,c[8]++;for(k(u,287,c),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=C(t,5);p=new v(u,s,257,286,15),m=new v(l,o,0,30,15),g=new v(new Array(0),a,0,19,7)}(),M=!0),t.l_desc=new b(t.dyn_ltree,p),t.d_desc=new b(t.dyn_dtree,m),t.bl_desc=new b(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,A(t)},e._tr_stored_block=B,e._tr_flush_block=function(t,e,r,n){var i,s,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),P(t,t.l_desc),P(t,t.d_desc),o=function(t){var e;for(F(t,t.dyn_ltree,t.l_desc.max_code),F(t,t.dyn_dtree,t.d_desc.max_code),P(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*c[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(s=t.static_len+3+7>>>3)<=(i=t.opt_len+3+7>>>3)&&(i=s)):i=s=r+5,r+4<=i&&-1!==e?B(t,e,r,n):4===t.strategy||s===i?(S(t,2+(n?1:0),3),R(t,u,l)):(S(t,4+(n?1:0),3),function(t,e,r,n){var i;for(S(t,e-257,5),S(t,r-1,5),S(t,n-4,4),i=0;i<n;i++)S(t,t.bl_tree[2*c[i]+1],3);O(t,t.dyn_ltree,e-1),O(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),R(t,t.dyn_ltree,t.dyn_dtree)),A(t),n&&x(t)},e._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(f[r]+256+1)]++,t.dyn_dtree[2*_(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){S(t,2,3),E(t,256,u),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},56613:function(t){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},75525:function(t,e,r){"use strict";var n=r(64766);e.certificate=r(93161);var i=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});e.RSAPrivateKey=i;var s=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});e.RSAPublicKey=s;var o=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});e.PublicKey=o;var a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});e.PrivateKey=c;var u=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});e.EncryptedPrivateKey=u;var l=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});e.DSAPrivateKey=l,e.DSAparam=n.define("DSAparam",function(){this.int()});var h=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});e.ECPrivateKey=h;var f=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});e.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},93161:function(t,e,r){"use strict";var n=r(64766),i=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),c=n.define("RelativeDistinguishedName",function(){this.setof(s)}),u=n.define("RDNSequence",function(){this.seqof(c)}),l=n.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),h=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),f=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(l),this.key("validity").use(h),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),p=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});t.exports=p},21437:function(t,e,r){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=r(60406),a=r(6165),c=r(36810).Buffer;t.exports=function(t,e){var r,u=t.toString(),l=u.match(n);if(l){var h="aes"+l[1],f=c.from(l[2],"hex"),d=c.from(l[3].replace(/[\r\n]/g,""),"base64"),p=o(e,f.slice(0,8),parseInt(l[1],10)).key,m=[],g=a.createDecipheriv(h,p,f);m.push(g.update(d)),m.push(g.final()),r=c.concat(m)}else{var y=u.match(s);r=c.from(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:r}}},98823:function(t,e,r){var n=r(75525),i=r(873),s=r(21437),o=r(6165),a=r(15867),c=r(36810).Buffer;function u(t){var e;"object"!=typeof t||c.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=c.from(t));var r,u,l=s(t,e),h=l.tag,f=l.data;switch(h){case"CERTIFICATE":u=n.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=n.PublicKey.decode(f,"der")),r=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=n.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":f=function(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=i[t.algorithm.decrypt.cipher.algo.join(".")],u=t.algorithm.decrypt.cipher.iv,l=t.subjectPrivateKey,h=parseInt(s.split("-")[1],10)/8,f=a.pbkdf2Sync(e,r,n,h,"sha1"),d=o.createDecipheriv(s,f,u),p=[];return p.push(d.update(l)),p.push(d.final()),c.concat(p)}(f=n.EncryptedPrivateKey.decode(f,"der"),e);case"PRIVATE KEY":switch(r=(u=n.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:n.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=n.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=n.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+h)}}t.exports=u,u.signature=n.signature},15867:function(t,e,r){e.pbkdf2=r(2285),e.pbkdf2Sync=r(76739)},2285:function(t,e,r){var n,i=r(36810).Buffer,s=r(80495),o=r(8645),a=r(76739),c=r(68766),u=global.crypto&&global.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function f(t,e,r,n,s){return u.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(t){return u.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:s}},t,n<<3)}).then(function(t){return i.from(t)})}t.exports=function(t,e,r,d,p,m){"function"==typeof p&&(m=p,p=void 0);var g=l[(p=p||"sha1").toLowerCase()];if(!g||"function"!=typeof global.Promise)return process.nextTick(function(){var n;try{n=a(t,e,r,d,p)}catch(i){return m(i)}m(null,n)});if(s(r,d),t=c(t,o,"Password"),e=c(e,o,"Salt"),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then(function(t){process.nextTick(function(){e(null,t)})},function(t){process.nextTick(function(){e(t)})})}(function(t){if(global.process&&!global.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==h[t])return h[t];var e=f(n=n||i.alloc(8),n,10,128,t).then(function(){return!0}).catch(function(){return!1});return h[t]=e,e}(g).then(function(n){return n?f(t,e,r,d,g):a(t,e,r,d,p)}),m)}},8645:function(t){var e;e=process.browser?"utf-8":process.version?parseInt(process.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",t.exports=e},80495:function(t){var e=Math.pow(2,30)-1;t.exports=function(t,r){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>e||r!=r)throw new TypeError("Bad key length")}},76739:function(t,e,r){var n=r(30390),i=r(91605),s=r(58675),o=r(36810).Buffer,a=r(80495),c=r(8645),u=r(68766),l=o.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(t,e,r){var a=function(t){return"rmd160"===t||"ripemd160"===t?function(t){return(new i).update(t).digest()}:"md5"===t?n:function(e){return s(t).update(e).digest()}}(t),c="sha512"===t||"sha384"===t?128:64;e.length>c?e=a(e):e.length<c&&(e=o.concat([e,l],c));for(var u=o.allocUnsafe(c+h[t]),f=o.allocUnsafe(c+h[t]),d=0;d<c;d++)u[d]=54^e[d],f[d]=92^e[d];var p=o.allocUnsafe(c+r+4);u.copy(p,0,0,c),this.ipad1=p,this.ipad2=u,this.opad=f,this.alg=t,this.blocksize=c,this.hash=a,this.size=h[t]}f.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,r,n,i){a(r,n);var s=new f(i=i||"sha1",t=u(t,c,"Password"),(e=u(e,c,"Salt")).length),l=o.allocUnsafe(n),d=o.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var p=0,m=h[i],g=Math.ceil(n/m),y=1;y<=g;y++){d.writeUInt32BE(y,e.length);for(var v=s.run(d,s.ipad1),b=v,_=1;_<r;_++){b=s.run(b,s.ipad2);for(var w=0;w<m;w++)v[w]^=b[w]}v.copy(l,p),p+=m}return l}},68766:function(t,e,r){var n=r(36810).Buffer;t.exports=function(t,e,r){if(n.isBuffer(t))return t;if("string"==typeof t)return n.from(t,e);if(ArrayBuffer.isView(t))return n.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},66320:function(t){var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,c=[],u=!1,l=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&f())}function f(){if(!u){var t=o(h);u=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||u||o(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},37941:function(t,e,r){e.publicEncrypt=r(29026),e.privateDecrypt=r(35476),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}},32561:function(t,e,r){var n=r(24939),i=r(36810).Buffer;function s(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var r,o=i.alloc(0),a=0;o.length<e;)r=s(a++),o=i.concat([o,n("sha1").update(t).update(r).digest()]);return o.slice(0,e)}},35476:function(t,e,r){var n=r(98823),i=r(32561),s=r(76982),o=r(52327),a=r(79041),c=r(24939),u=r(90433),l=r(36810).Buffer;t.exports=function(t,e,r){var h;h=t.padding?t.padding:r?1:4;var f,d=n(t),p=d.modulus.byteLength();if(e.length>p||new o(e).cmp(d.modulus)>=0)throw new Error("decryption error");f=r?u(new o(e),d):a(e,d);var m=l.alloc(p-f.length);if(f=l.concat([m,f],p),4===h)return function(t,e){var r=t.modulus.byteLength(),n=c("sha1").update(l.alloc(0)).digest(),o=n.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,o+1),u=e.slice(o+1),h=s(a,i(u,o)),f=s(u,i(h,r-o-1));if(function(t,e){t=l.from(t),e=l.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}(n,f.slice(0,o)))throw new Error("decryption error");for(var d=o;0===f[d];)d++;if(1!==f[d++])throw new Error("decryption error");return f.slice(d)}(d,f);if(1===h)return function(t,e,r){for(var n=e.slice(0,2),i=2,s=0;0!==e[i++];)if(i>=e.length){s++;break}var o=e.slice(2,i-1);if(("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return e.slice(i)}(0,f,r);if(3===h)return f;throw new Error("unknown padding")}},29026:function(t,e,r){var n=r(98823),i=r(13484),s=r(24939),o=r(32561),a=r(76982),c=r(52327),u=r(90433),l=r(79041),h=r(36810).Buffer;t.exports=function(t,e,r){var f;f=t.padding?t.padding:r?1:4;var d,p=n(t);if(4===f)d=function(t,e){var r=t.modulus.byteLength(),n=e.length,u=s("sha1").update(h.alloc(0)).digest(),l=u.length,f=2*l;if(n>r-f-2)throw new Error("message too long");var d=h.alloc(r-n-f-2),p=r-l-1,m=i(l),g=a(h.concat([u,d,h.alloc(1,1),e],p),o(m,p)),y=a(m,o(g,l));return new c(h.concat([h.alloc(1),y,g],r))}(p,e);else if(1===f)d=function(t,e,r){var n,s=e.length,o=t.modulus.byteLength();if(s>o-11)throw new Error("message too long");return n=r?h.alloc(o-s-3,255):function(t){for(var e,r=h.allocUnsafe(t),n=0,s=i(2*t),o=0;n<t;)o===s.length&&(s=i(2*t),o=0),(e=s[o++])&&(r[n++]=e);return r}(o-s-3),new c(h.concat([h.from([0,r?1:2]),n,h.alloc(1),e],o))}(p,e,r);else{if(3!==f)throw new Error("unknown padding");if((d=new c(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?l(d,p):u(d,p)}},90433:function(t,e,r){var n=r(52327),i=r(36810).Buffer;t.exports=function(t,e){return i.from(t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed().toArray())}},76982:function(t){t.exports=function(t,e){for(var r=t.length,n=-1;++n<r;)t[n]^=e[n];return t}},13484:function(t,e,r){"use strict";var n=65536,i=r(36810).Buffer,s=global.crypto||global.msCrypto;t.exports=s&&s.getRandomValues?function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var r=i.allocUnsafe(t);if(t>0)if(t>n)for(var o=0;o<t;o+=n)s.getRandomValues(r.slice(o,o+n));else s.getRandomValues(r);return"function"==typeof e?process.nextTick(function(){e(null,r)}):r}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},72377:function(t,e,r){"use strict";function n(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var i=r(36810),s=r(13484),o=i.Buffer,a=i.kMaxLength,c=global.crypto||global.msCrypto,u=Math.pow(2,32)-1;function l(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>u||t<0)throw new TypeError("offset must be a uint32");if(t>a||t>e)throw new RangeError("offset out of range")}function h(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>u||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>a)throw new RangeError("buffer too small")}function f(t,e,r,n){if(process.browser){var i=new Uint8Array(t.buffer,e,r);return c.getRandomValues(i),n?void process.nextTick(function(){n(null,t)}):t}if(!n)return s(r).copy(t,e),t;s(r,function(r,i){if(r)return n(r);i.copy(t,e),n(null,t)})}c&&c.getRandomValues||!process.browser?(e.randomFill=function(t,e,r,n){if(!(o.isBuffer(t)||t instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)n=e,e=0,r=t.length;else if("function"==typeof r)n=r,r=t.length-e;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return l(e,t.length),h(r,e,t.length),f(t,e,r,n)},e.randomFillSync=function(t,e,r){if(void 0===e&&(e=0),!(o.isBuffer(t)||t instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return l(e,t.length),void 0===r&&(r=t.length-e),h(r,e,t.length),f(t,e,r)}):(e.randomFill=n,e.randomFillSync=n)},88103:function(){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var t;!function(t){!function(e){var r="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=i(t);function i(t,e){return function(r,n){"function"!=typeof t[r]&&Object.defineProperty(t,r,{configurable:!0,writable:!0,value:n}),e&&e(r,n)}}void 0===r.Reflect?r.Reflect=t:n=i(r.Reflect,n),function(t){var e=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,o={__proto__:[]}instanceof Array,a=!s&&!o,c={create:s?function(){return M(Object.create(null))}:o?function(){return M({__proto__:null})}:function(){return M({})},has:a?function(t,r){return e.call(t,r)}:function(t,e){return e in t},get:a?function(t,r){return e.call(t,r)?t[r]:void 0}:function(t,e){return t[e]}},u=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,h=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],r=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var r=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},e.prototype.delete=function(e){var r=this._find(e,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new r(this._keys,this._values,n)},e.prototype.values=function(){return new r(this._keys,this._values,s)},e.prototype.entries=function(){return new r(this._keys,this._values,o)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[i]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function n(t,e){return t}function s(t,e){return e}function o(t,e){return[t,e]}}():Map,f=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new h}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}():Set,d=new(l||"function"!=typeof WeakMap?function(){var t=c.create(),r=n();return function(){function t(){this._key=n()}return t.prototype.has=function(t){var e=i(t,!1);return void 0!==e&&c.has(e,this._key)},t.prototype.get=function(t){var e=i(t,!1);return void 0!==e?c.get(e,this._key):void 0},t.prototype.set=function(t,e){return i(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=i(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=n()},t}();function n(){var e;do{e="@@WeakMap@@"+o()}while(c.has(t,e));return t[e]=!0,e}function i(t,n){if(!e.call(t,r)){if(!n)return;Object.defineProperty(t,r,{value:c.create()})}return t[r]}function s(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function o(){var t,e=(t=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):s(new Uint8Array(t),t):s(new Array(t),t));e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var r="",n=0;n<16;++n){var i=e[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}():WeakMap);function p(t,e,r){var n=d.get(t);if(E(n)){if(!r)return;n=new h,d.set(t,n)}var i=n.get(e);if(E(i)){if(!r)return;i=new h,n.set(e,i)}return i}function m(t,e,r){if(g(t,e,r))return!0;var n=O(e);return!C(n)&&m(t,n,r)}function g(t,e,r){var n=p(e,r,!1);return!E(n)&&!!n.has(t)}function y(t,e,r){if(g(t,e,r))return v(t,e,r);var n=O(e);return C(n)?void 0:y(t,n,r)}function v(t,e,r){var n=p(e,r,!1);if(!E(n))return n.get(t)}function b(t,e,r,n){p(r,n,!0).set(t,e)}function _(t,e){var r=w(t,e),n=O(t);if(null===n)return r;var i=_(n,e);if(i.length<=0)return r;if(r.length<=0)return i;for(var s=new f,o=[],a=0,c=r;a<c.length;a++)s.has(h=c[a])||(s.add(h),o.push(h));for(var u=0,l=i;u<l.length;u++){var h;s.has(h=l[u])||(s.add(h),o.push(h))}return o}function w(t,e){var r=[],n=p(t,e,!1);if(E(n))return r;for(var s=function(t){var e=R(t,i);if(!T(e))throw new TypeError;var r=e.call(t);if(!k(r))throw new TypeError;return r}(n.keys()),o=0;;){var a=P(s);if(!a)return r.length=o,r;var c=a.value;try{r[o]=c}catch(u){try{F(s)}finally{throw u}}o++}}function S(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function E(t){return void 0===t}function C(t){return null===t}function k(t){return"object"==typeof t?null!==t:"function"==typeof t}function A(t){var e=function(t,e){switch(S(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",i=R(t,n);if(void 0!==i){var s=i.call(t,r);if(k(s))throw new TypeError;return s}return function(t,e){if("string"===e){var r=t.toString;if(T(r)&&!k(i=r.call(t)))return i;if(T(n=t.valueOf)&&!k(i=n.call(t)))return i}else{var n;if(T(n=t.valueOf)&&!k(i=n.call(t)))return i;var i,s=t.toString;if(T(s)&&!k(i=s.call(t)))return i}throw new TypeError}(t,"default"===r?"number":r)}(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function x(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function T(t){return"function"==typeof t}function I(t){return"function"==typeof t}function R(t,e){var r=t[e];if(null!=r){if(!T(r))throw new TypeError;return r}}function P(t){var e=t.next();return!e.done&&e}function F(t){var e=t.return;e&&e.call(t)}function O(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===u)return e;if(e!==u)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return e;var i=n.constructor;return"function"!=typeof i||i===t?e:i}function M(t){return t.__=void 0,delete t.__,t}t("decorate",function(t,e,r,n){if(E(r)){if(!x(t))throw new TypeError;if(!I(e))throw new TypeError;return function(t,e){for(var r=t.length-1;r>=0;--r){var n=(0,t[r])(e);if(!E(n)&&!C(n)){if(!I(n))throw new TypeError;e=n}}return e}(t,e)}if(!x(t))throw new TypeError;if(!k(e))throw new TypeError;if(!k(n)&&!E(n)&&!C(n))throw new TypeError;return C(n)&&(n=void 0),function(t,e,r,n){for(var i=t.length-1;i>=0;--i){var s=(0,t[i])(e,r,n);if(!E(s)&&!C(s)){if(!k(s))throw new TypeError;n=s}}return n}(t,e,r=A(r),n)}),t("metadata",function(t,e){return function(r,n){if(!k(r))throw new TypeError;if(!E(n)&&!function(t){switch(S(t)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;b(t,e,r,n)}}),t("defineMetadata",function(t,e,r,n){if(!k(r))throw new TypeError;return E(n)||(n=A(n)),b(t,e,r,n)}),t("hasMetadata",function(t,e,r){if(!k(e))throw new TypeError;return E(r)||(r=A(r)),m(t,e,r)}),t("hasOwnMetadata",function(t,e,r){if(!k(e))throw new TypeError;return E(r)||(r=A(r)),g(t,e,r)}),t("getMetadata",function(t,e,r){if(!k(e))throw new TypeError;return E(r)||(r=A(r)),y(t,e,r)}),t("getOwnMetadata",function(t,e,r){if(!k(e))throw new TypeError;return E(r)||(r=A(r)),v(t,e,r)}),t("getMetadataKeys",function(t,e){if(!k(t))throw new TypeError;return E(e)||(e=A(e)),_(t,e)}),t("getOwnMetadataKeys",function(t,e){if(!k(t))throw new TypeError;return E(e)||(e=A(e)),w(t,e)}),t("deleteMetadata",function(t,e,r){if(!k(e))throw new TypeError;E(r)||(r=A(r));var n=p(e,r,!1);if(E(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var i=d.get(e);return i.delete(r),i.size>0||d.delete(e),!0})}(n)}()}(t||(t={}))},91605:function(t,e,r){"use strict";var n=r(93915).Buffer,i=r(98047),s=r(69524),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function m(t,e,r,n,i,s,o,a){return p(t+(e^r^n)+s+o|0,a)+i|0}function g(t,e,r,n,i,s,o,a){return p(t+(e&r|~e&n)+s+o|0,a)+i|0}function y(t,e,r,n,i,s,o,a){return p(t+((e|~r)^n)+s+o|0,a)+i|0}function v(t,e,r,n,i,s,o,a){return p(t+(e&n|r&~n)+s+o|0,a)+i|0}function b(t,e,r,n,i,s,o,a){return p(t+(e^(r|~n))+s+o|0,a)+i|0}i(d,s),d.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,d=0|this._e,_=0|this._a,w=0|this._b,S=0|this._c,E=0|this._d,C=0|this._e,k=0;k<80;k+=1){var A,x;k<16?(A=m(r,n,i,s,d,t[a[k]],h[0],u[k]),x=b(_,w,S,E,C,t[c[k]],f[0],l[k])):k<32?(A=g(r,n,i,s,d,t[a[k]],h[1],u[k]),x=v(_,w,S,E,C,t[c[k]],f[1],l[k])):k<48?(A=y(r,n,i,s,d,t[a[k]],h[2],u[k]),x=y(_,w,S,E,C,t[c[k]],f[2],l[k])):k<64?(A=v(r,n,i,s,d,t[a[k]],h[3],u[k]),x=g(_,w,S,E,C,t[c[k]],f[3],l[k])):(A=b(r,n,i,s,d,t[a[k]],h[4],u[k]),x=m(_,w,S,E,C,t[c[k]],f[4],l[k])),r=d,d=s,s=p(i,10),i=n,n=A,_=C,C=E,E=p(S,10),S=w,w=x}var T=this._b+i+E|0;this._b=this._c+s+C|0,this._c=this._d+d+_|0,this._d=this._e+r+w|0,this._e=this._a+n+S|0,this._a=T},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n.alloc?n.alloc(20):new n(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=d},36810:function(t,e,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(93915),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},68673:function(t,e,r){"use strict";var n,i=r(93915),s=i.Buffer,o={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(o[n]=i[n]);var a=o.Buffer={};for(n in s)s.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(a[n]=s[n]);if(o.Buffer.prototype=s.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(t,e,r){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return s(t,e,r)}),a.alloc||(a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=s(t);return e&&0!==e.length?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n}),!o.kStringMaxLength)try{o.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(c){}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),t.exports=o},2750:function(t,e){var r;e=t.exports=W,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=e.re=[],s=e.src=[],o=0,a=o++;s[a]="0|[1-9]\\d*";var c=o++;s[c]="[0-9]+";var u=o++;s[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=o++;s[l]="("+s[a]+")\\.("+s[a]+")\\.("+s[a]+")";var h=o++;s[h]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var f=o++;s[f]="(?:"+s[a]+"|"+s[u]+")";var d=o++;s[d]="(?:"+s[c]+"|"+s[u]+")";var p=o++;s[p]="(?:-("+s[f]+"(?:\\."+s[f]+")*))";var m=o++;s[m]="(?:-?("+s[d]+"(?:\\."+s[d]+")*))";var g=o++;s[g]="[0-9A-Za-z-]+";var y=o++;s[y]="(?:\\+("+s[g]+"(?:\\."+s[g]+")*))";var v=o++,b="v?"+s[l]+s[p]+"?"+s[y]+"?";s[v]="^"+b+"$";var _="[v=\\s]*"+s[h]+s[m]+"?"+s[y]+"?",w=o++;s[w]="^"+_+"$";var S=o++;s[S]="((?:<|>)?=?)";var E=o++;s[E]=s[c]+"|x|X|\\*";var C=o++;s[C]=s[a]+"|x|X|\\*";var k=o++;s[k]="[v=\\s]*("+s[C]+")(?:\\.("+s[C]+")(?:\\.("+s[C]+")(?:"+s[p]+")?"+s[y]+"?)?)?";var A=o++;s[A]="[v=\\s]*("+s[E]+")(?:\\.("+s[E]+")(?:\\.("+s[E]+")(?:"+s[m]+")?"+s[y]+"?)?)?";var x=o++;s[x]="^"+s[S]+"\\s*"+s[k]+"$";var T=o++;s[T]="^"+s[S]+"\\s*"+s[A]+"$";var I=o++;s[I]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var R=o++;s[R]="(?:~>?)";var P=o++;s[P]="(\\s*)"+s[R]+"\\s+",i[P]=new RegExp(s[P],"g");var F=o++;s[F]="^"+s[R]+s[k]+"$";var O=o++;s[O]="^"+s[R]+s[A]+"$";var M=o++;s[M]="(?:\\^)";var B=o++;s[B]="(\\s*)"+s[M]+"\\s+",i[B]=new RegExp(s[B],"g");var N=o++;s[N]="^"+s[M]+s[k]+"$";var D=o++;s[D]="^"+s[M]+s[A]+"$";var L=o++;s[L]="^"+s[S]+"\\s*("+_+")$|^$";var j=o++;s[j]="^"+s[S]+"\\s*("+b+")$|^$";var U=o++;s[U]="(\\s*)"+s[S]+"\\s*("+_+"|"+s[k]+")",i[U]=new RegExp(s[U],"g");var V=o++;s[V]="^\\s*("+s[k]+")\\s+-\\s+("+s[k]+")\\s*$";var H=o++;s[H]="^\\s*("+s[A]+")\\s+-\\s+("+s[A]+")\\s*$";var q=o++;s[q]="(<|>)?=?\\s*\\*";for(var K=0;K<35;K++)r(K,s[K]),i[K]||(i[K]=new RegExp(s[K]));function z(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof W)return t;if("string"!=typeof t)return null;if(t.length>256)return null;if(!(e.loose?i[w]:i[v]).test(t))return null;try{return new W(t,e)}catch(r){return null}}function W(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof W){if(t.loose===e.loose)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof W))return new W(t,e);r("SemVer",t,e),this.options=e,this.loose=!!e.loose;var s=t.trim().match(e.loose?i[w]:i[v]);if(!s)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=s[4]?s[4].split(".").map(function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<n)return e}return t}):[],this.build=s[5]?s[5].split("."):[],this.format()}e.parse=z,e.valid=function(t,e){var r=z(t,e);return r?r.version:null},e.clean=function(t,e){var r=z(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(t){return r("SemVer.compare",this.version,this.options,t),t instanceof W||(t=new W(t,this.options)),this.compareMain(t)||this.comparePre(t)},W.prototype.compareMain=function(t){return t instanceof W||(t=new W(t,this.options)),G(this.major,t.major)||G(this.minor,t.minor)||G(this.patch,t.patch)},W.prototype.comparePre=function(t){if(t instanceof W||(t=new W(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],i=t.prerelease[e];if(r("prerelease compare",e,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return G(n,i)}while(++e)},W.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new W(t,r).inc(e,n).version}catch(i){return null}},e.diff=function(t,e){if(Y(t,e))return null;var r=z(t),n=z(e),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return i+o;return s},e.compareIdentifiers=G;var $=/^[0-9]+$/;function G(t,e){var r=$.test(t),n=$.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1}function Q(t,e,r){return new W(t,r).compare(new W(e,r))}function J(t,e,r){return Q(t,e,r)>0}function Z(t,e,r){return Q(t,e,r)<0}function Y(t,e,r){return 0===Q(t,e,r)}function X(t,e,r){return 0!==Q(t,e,r)}function tt(t,e,r){return Q(t,e,r)>=0}function et(t,e,r){return Q(t,e,r)<=0}function rt(t,e,r,n){switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t===r;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t!==r;case"":case"=":case"==":return Y(t,r,n);case"!=":return X(t,r,n);case">":return J(t,r,n);case">=":return tt(t,r,n);case"<":return Z(t,r,n);case"<=":return et(t,r,n);default:throw new TypeError("Invalid operator: "+e)}}function nt(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof nt){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof nt))return new nt(t,e);r("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.value=this.semver===it?"":this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(t,e){return G(e,t)},e.major=function(t,e){return new W(t,e).major},e.minor=function(t,e){return new W(t,e).minor},e.patch=function(t,e){return new W(t,e).patch},e.compare=Q,e.compareLoose=function(t,e){return Q(t,e,!0)},e.rcompare=function(t,e,r){return Q(e,t,r)},e.sort=function(t,r){return t.sort(function(t,n){return e.compare(t,n,r)})},e.rsort=function(t,r){return t.sort(function(t,n){return e.rcompare(t,n,r)})},e.gt=J,e.lt=Z,e.eq=Y,e.neq=X,e.gte=tt,e.lte=et,e.cmp=rt,e.Comparator=nt;var it={};function st(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof st)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new st(t.raw,e);if(t instanceof nt)return new st(t.value,e);if(!(this instanceof st))return new st(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function ot(t){return!t||"x"===t.toLowerCase()||"*"===t}function at(t,e,r,n,i,s,o,a,c,u,l,h,f){return((e=ot(r)?"":ot(n)?">="+r+".0.0":ot(i)?">="+r+"."+n+".0":">="+e)+" "+(a=ot(c)?"":ot(u)?"<"+(+c+1)+".0.0":ot(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function ct(t,e,n){for(var i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(i=0;i<t.length;i++)if(r(t[i].semver),t[i].semver!==it&&t[i].semver.prerelease.length>0){var s=t[i].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}function ut(t,e,r){try{e=new st(e,r)}catch(n){return!1}return e.test(t)}function lt(t,e,r,n){var i,s,o,a,c;switch(t=new W(t,n),e=new st(e,n),r){case">":i=J,s=et,o=Z,a=">",c=">=";break;case"<":i=Z,s=tt,o=J,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ut(t,e,n))return!1;for(var u=0;u<e.set.length;++u){var l=null,h=null;if(e.set[u].forEach(function(t){t.semver===it&&(t=new nt(">=0.0.0")),h=h||t,i(t.semver,(l=l||t).semver,n)?l=t:o(t.semver,h.semver,n)&&(h=t)}),l.operator===a||l.operator===c)return!1;if((!h.operator||h.operator===a)&&s(t,h.semver))return!1;if(h.operator===c&&o(t,h.semver))return!1}return!0}nt.prototype.parse=function(t){var e=t.match(this.options.loose?i[L]:i[j]);if(!e)throw new TypeError("Invalid comparator: "+t);this.operator=e[1],"="===this.operator&&(this.operator=""),this.semver=e[2]?new W(e[2],this.options.loose):it},nt.prototype.toString=function(){return this.value},nt.prototype.test=function(t){return r("Comparator.test",t,this.options.loose),this.semver===it||("string"==typeof t&&(t=new W(t,this.options)),rt(t,this.operator,this.semver,this.options))},nt.prototype.intersects=function(t,e){if(!(t instanceof nt))throw new TypeError("a Comparator is required");var r;if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return r=new st(t.value,e),ut(this.value,r,e);if(""===t.operator)return r=new st(this.value,e),ut(t.semver,r,e);var n=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),s=this.semver.version===t.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=rt(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),c=rt(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return n||i||s&&o||a||c},e.Range=st,st.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range},st.prototype.toString=function(){return this.range},st.prototype.parseRange=function(t){var e=this.options.loose;t=(t=t.trim()).replace(e?i[H]:i[V],at),r("hyphen replace",t),t=t.replace(i[U],"$1$2$3"),r("comparator trim",t,i[U]),t=(t=(t=t.replace(i[P],"$1~")).replace(i[B],"$1^")).split(/\s+/).join(" ");var n=e?i[L]:i[j],s=t.split(" ").map(function(t){return function(t,e){return r("comp",t,e),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){return r("caret",t,e),t.replace(e.loose?i[D]:i[N],function(e,n,i,s,o){var a;return r("caret",t,e,n,i,s,o),ot(n)?a="":ot(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ot(s)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":o?(r("replaceCaret pr",o),a="0"===n?"0"===i?">="+n+"."+i+"."+s+"-"+o+" <"+n+"."+i+"."+(+s+1):">="+n+"."+i+"."+s+"-"+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+s+"-"+o+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+s+" <"+n+"."+i+"."+(+s+1):">="+n+"."+i+"."+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+s+" <"+(+n+1)+".0.0"),r("caret return",a),a})}(t,e)}).join(" ")}(t,e),r("caret",t),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){return t.replace(e.loose?i[O]:i[F],function(e,n,i,s,o){var a;return r("tilde",t,e,n,i,s,o),ot(n)?a="":ot(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ot(s)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":o?(r("replaceTilde pr",o),a=">="+n+"."+i+"."+s+"-"+o+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+s+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a})}(t,e)}).join(" ")}(t,e),r("tildes",t),t=function(t,e){return r("replaceXRanges",t,e),t.split(/\s+/).map(function(t){return function(t,e){return(t=t.trim()).replace(e.loose?i[T]:i[x],function(e,n,i,s,o,a){r("xRange",t,e,n,i,s,o,a);var c=ot(i),u=c||ot(s),l=u||ot(o);return"="===n&&l&&(n=""),c?e=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(s=0),o=0,">"===n?(n=">=",u?(i=+i+1,s=0,o=0):(s=+s+1,o=0)):"<="===n&&(n="<",u?i=+i+1:s=+s+1),e=n+i+"."+s+"."+o):u?e=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(e=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0"),r("xRange return",e),e})}(t,e)}).join(" ")}(t,e),r("xrange",t),t=function(t,e){return r("replaceStars",t,e),t.trim().replace(i[q],"")}(t,e),r("stars",t),t}(t,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter(function(t){return!!t.match(n)})),s.map(function(t){return new nt(t,this.options)},this)},st.prototype.intersects=function(t,e){if(!(t instanceof st))throw new TypeError("a Range is required");return this.set.some(function(r){return r.every(function(r){return t.set.some(function(t){return t.every(function(t){return r.intersects(t,e)})})})})},e.toComparators=function(t,e){return new st(t,e).set.map(function(t){return t.map(function(t){return t.value}).join(" ").trim().split(" ")})},st.prototype.test=function(t){if(!t)return!1;"string"==typeof t&&(t=new W(t,this.options));for(var e=0;e<this.set.length;e++)if(ct(this.set[e],t,this.options))return!0;return!1},e.satisfies=ut,e.maxSatisfying=function(t,e,r){var n=null,i=null;try{var s=new st(e,r)}catch(o){return null}return t.forEach(function(t){s.test(t)&&(n&&-1!==i.compare(t)||(i=new W(n=t,r)))}),n},e.minSatisfying=function(t,e,r){var n=null,i=null;try{var s=new st(e,r)}catch(o){return null}return t.forEach(function(t){s.test(t)&&(n&&1!==i.compare(t)||(i=new W(n=t,r)))}),n},e.minVersion=function(t,e){t=new st(t,e);var r=new W("0.0.0");if(t.test(r))return r;if(r=new W("0.0.0-0"),t.test(r))return r;r=null;for(var n=0;n<t.set.length;++n)t.set[n].forEach(function(t){var e=new W(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":r&&!J(r,e)||(r=e);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}});return r&&t.test(r)?r:null},e.validRange=function(t,e){try{return new st(t,e).range||"*"}catch(r){return null}},e.ltr=function(t,e,r){return lt(t,e,"<",r)},e.gtr=function(t,e,r){return lt(t,e,">",r)},e.outside=lt,e.prerelease=function(t,e){var r=z(t,e);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(t,e,r){return t=new st(t,r),e=new st(e,r),t.intersects(e)},e.coerce=function(t){if(t instanceof W)return t;if("string"!=typeof t)return null;var e=t.match(i[I]);return null==e?null:z(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}},63306:function(t,e,r){var n=r(36810).Buffer;function i(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(t=n.from(t,e=e||"utf8"));for(var r=this._block,i=this._blockSize,s=t.length,o=this._len,a=0;a<s;){for(var c=o%i,u=Math.min(s-a,i-c),l=0;l<u;l++)r[c+l]=t[a+l];a+=u,(o+=u)%i==0&&this._update(r)}return this._len+=s,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0;this._block.writeUInt32BE((r-n)/4294967296,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return t?i.toString(t):i},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},58675:function(t,e,r){var n=t.exports=function(t){t=t.toLowerCase();var e=n[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};n.sha=r(26316),n.sha1=r(30698),n.sha224=r(59181),n.sha256=r(66470),n.sha384=r(17692),n.sha512=r(88506)},26316:function(t,e,r){var n=r(98047),i=r(63306),s=r(36810).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(t){return t<<30|t>>>2}function l(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,h=0;h<16;++h)r[h]=t.readInt32BE(4*h);for(;h<80;++h)r[h]=r[h-3]^r[h-8]^r[h-14]^r[h-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((e=n)<<5|e>>>27)+l(d,i,s,a)+c+r[f]+o[d];c=a,a=s,s=u(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},30698:function(t,e,r){var n=r(98047),i=r(63306),s=r(36810).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function h(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,f=0;f<16;++f)r[f]=t.readInt32BE(4*f);for(;f<80;++f)r[f]=(e=r[f-3]^r[f-8]^r[f-14]^r[f-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),m=u(n)+h(p,i,s,a)+c+r[d]+o[p]|0;c=a,a=s,s=l(i),i=n,n=m}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},59181:function(t,e,r){var n=r(98047),i=r(66470),s=r(63306),o=r(36810).Buffer,a=new Array(64);function c(){this.init(),this._w=a,s.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=c},66470:function(t,e,r){var n=r(98047),i=r(63306),s=r(36810).Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(t,e,r){return r^t&(e^r)}function l(t,e,r){return t&e|r&(t|e)}function h(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,y=0;y<16;++y)r[y]=t.readInt32BE(4*y);for(;y<64;++y)r[y]=0|(((e=r[y-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[y-7]+d(r[y-15])+r[y-16];for(var v=0;v<64;++v){var b=g+f(c)+u(c,p,m)+o[v]+r[v]|0,_=h(n)+l(n,i,s)|0;g=m,m=p,p=c,c=a+b|0,a=s,s=i,i=n,n=b+_|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},c.prototype._hash=function(){var t=s.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=c},17692:function(t,e,r){var n=r(98047),i=r(88506),s=r(63306),o=r(36810).Buffer,a=new Array(160);function c(){this.init(),this._w=a,s.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var t=o.allocUnsafe(48);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=c},88506:function(t,e,r){var n=r(98047),i=r(63306),s=r(36810).Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,i.call(this,128,112)}function u(t,e,r){return r^t&(e^r)}function l(t,e,r){return t&e|r&(t|e)}function h(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function f(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function y(t,e){return t>>>0<e>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,s=0|this._dh,a=0|this._eh,c=0|this._fh,v=0|this._gh,b=0|this._hh,_=0|this._al,w=0|this._bl,S=0|this._cl,E=0|this._dl,C=0|this._el,k=0|this._fl,A=0|this._gl,x=0|this._hl,T=0;T<32;T+=2)e[T]=t.readInt32BE(4*T),e[T+1]=t.readInt32BE(4*T+4);for(;T<160;T+=2){var I=e[T-30],R=e[T-30+1],P=d(I,R),F=p(R,I),O=m(I=e[T-4],R=e[T-4+1]),M=g(R,I),B=e[T-32],N=e[T-32+1],D=F+e[T-14+1]|0,L=P+e[T-14]+y(D,F)|0;L=(L=L+O+y(D=D+M|0,M)|0)+B+y(D=D+N|0,N)|0,e[T]=L,e[T+1]=D}for(var j=0;j<160;j+=2){L=e[j],D=e[j+1];var U=l(r,n,i),V=l(_,w,S),H=h(r,_),q=h(_,r),K=f(a,C),z=f(C,a),W=o[j],$=o[j+1],G=u(a,c,v),Q=u(C,k,A),J=x+z|0,Z=b+K+y(J,x)|0;Z=(Z=(Z=Z+G+y(J=J+Q|0,Q)|0)+W+y(J=J+$|0,$)|0)+L+y(J=J+D|0,D)|0;var Y=q+V|0,X=H+U+y(Y,q)|0;b=v,x=A,v=c,A=k,c=a,k=C,a=s+Z+y(C=E+J|0,E)|0,s=i,E=S,i=n,S=w,n=r,w=_,r=Z+X+y(_=J+Y|0,J)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+S|0,this._dl=this._dl+E|0,this._el=this._el+C|0,this._fl=this._fl+k|0,this._gl=this._gl+A|0,this._hl=this._hl+x|0,this._ah=this._ah+r+y(this._al,_)|0,this._bh=this._bh+n+y(this._bl,w)|0,this._ch=this._ch+i+y(this._cl,S)|0,this._dh=this._dh+s+y(this._dl,E)|0,this._eh=this._eh+a+y(this._el,C)|0,this._fh=this._fh+c+y(this._fl,k)|0,this._gh=this._gh+v+y(this._gl,A)|0,this._hh=this._hh+b+y(this._hl,x)|0},c.prototype._hash=function(){var t=s.allocUnsafe(64);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=c},53518:function(t,e,r){t.exports=i;var n=r(23480).EventEmitter;function i(){n.call(this)}r(98047)(i,n),i.Readable=r(34219),i.Writable=r(353),i.Duplex=r(47839),i.Transform=r(17461),i.PassThrough=r(81152),i.finished=r(38899),i.pipeline=r(75792),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",s),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",c));var o=!1;function a(){o||(o=!0,t.end())}function c(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(l(),0===n.listenerCount(this,"error"))throw t}function l(){r.removeListener("data",i),t.removeListener("drain",s),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",u),t.removeListener("error",u),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("error",u),t.on("error",u),r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t}},14386:function(t){"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e,n;function i(e,n,i){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,i))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(t){return String(t)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(t,e,r){var i,s,o,a;if("string"==typeof e&&"not "===e.substr(0,"not ".length)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))s="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var c=("number"!=typeof a&&(a=0),a+".".length>(o=t).length||-1===o.indexOf(".",a)?"argument":"property");s='The "'.concat(t,'" ').concat(c," ").concat(i," ").concat(n(e,"type"))}return s+". Received type ".concat(typeof r)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},47839:function(t,e,r){"use strict";var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=u;var i=r(34219),s=r(353);r(98047)(u,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var c=o[a];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);i.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},81152:function(t,e,r){"use strict";t.exports=i;var n=r(17461);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(98047)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},34219:function(t,e,r){"use strict";var n;t.exports=C,C.ReadableState=E,r(23480);var i,s=function(t,e){return t.listeners(e).length},o=r(61705),a=r(93915).Buffer,c=global.Uint8Array||function(){},u=r(61758);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,f,d=r(15100),p=r(70989),m=r(60822).getHighWaterMark,g=r(14386).q,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(98047)(C,o);var w=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function E(t,e,i){n=n||r(47839),"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!(t=t||{}).objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=r(19158).s),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function C(t){if(n=n||r(47839),!(this instanceof C))return new C(t);this._readableState=new E(t,this,this instanceof n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function k(t,e,r,n,s){i("readableAddChunk",e);var o,u=t._readableState;if(null===e)u.reading=!1,function(t,e){if(i("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?I(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,R(t)))}}(t,u);else if(s||(o=function(t,e){var r,n;return a.isBuffer(n=e)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],e)),r}(u,e)),o)w(t,o);else if(u.objectMode||e&&e.length>0)if("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),n)u.endEmitted?w(t,new _):A(t,u,e,!0);else if(u.ended)w(t,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(e=u.decoder.write(e),u.objectMode||0!==e.length?A(t,u,e,!1):P(t,u)):A(t,u,e,!1)}else n||(u.reading=!1,P(t,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function A(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&I(t)),P(t,e)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(t,e){e(t)},C.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=a.from(t,e),e=""),r=!0),k(this,t,e,!1,r)},C.prototype.unshift=function(t){return k(this,t,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){l||(l=r(19158).s);var e=new l(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var x=1073741824;function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function I(t){var e=t._readableState;i("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(i("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(R,t))}function R(t){var e=t._readableState;i("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,N(t)}function P(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(F,t,e))}function F(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(i("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function O(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function M(t){i("readable nexttick read 0"),t.read(0)}function B(t,e){i("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),N(t),e.flowing&&!e.reading&&t.read(0)}function N(t){var e=t._readableState;for(i("flow",e.flowing);e.flowing&&null!==t.read(););}function D(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function L(t){var e=t._readableState;i("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(j,e,t))}function j(t,e){if(i("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function U(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}C.prototype.read=function(t){i("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return i("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):I(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&L(this),null;var n,s=e.needReadable;return i("need readable",s),(0===e.length||e.length-t<e.highWaterMark)&&i("length less than watermark",s=!0),e.ended||e.reading?i("reading or ended",s=!1):s&&(i("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(r,e))),null===(n=t>0?D(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&L(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(t){w(this,new b("_read()"))},C.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,e);var o=e&&!1===e.end||t===process.stdout||t===process.stderr?p:a;function a(){i("onend"),t.end()}n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",function e(s,o){i("onunpipe"),s===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,i("cleanup"),t.removeListener("close",f),t.removeListener("finish",d),t.removeListener("drain",c),t.removeListener("error",h),t.removeListener("unpipe",e),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",l),u=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||c())});var c=function(t){return function(){var e=t._readableState;i("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,N(t))}}(r);t.on("drain",c);var u=!1;function l(e){i("ondata");var s=t.write(e);i("dest.write",s),!1===s&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==U(n.pipes,t))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(e){i("onerror",e),p(),t.removeListener("error",h),0===s(t,"error")&&w(t,e)}function f(){t.removeListener("finish",d),p()}function d(){i("onfinish"),t.removeListener("close",f),p()}function p(){i("unpipe"),r.unpipe(t)}return r.on("data",l),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(r):t._events.error=[r,t._events.error]:t.on(e,r)}(t,"error",h),t.once("close",f),t.once("finish",d),t.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),t},C.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=U(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},C.prototype.addListener=C.prototype.on=function(t,e){var r=o.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?I(this):n.reading||process.nextTick(M,this))),r},C.prototype.removeListener=function(t,e){var r=o.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick(O,this),r},C.prototype.removeAllListeners=function(t){var e=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick(O,this),e},C.prototype.resume=function(){var t=this._readableState;return t.flowing||(i("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(B,t,e))}(this,t)),t.paused=!1,this},C.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var s in t.on("end",function(){if(i("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(s){i("wrapped data"),r.decoder&&(s=r.decoder.write(s)),r.objectMode&&null==s||(r.objectMode||s&&s.length)&&(e.push(s)||(n=!0,t.pause()))}),t)void 0===this[s]&&"function"==typeof t[s]&&(this[s]=function(e){return function(){return t[e].apply(t,arguments)}}(s));for(var o=0;o<S.length;o++)t.on(S[o],this.emit.bind(this,S[o]));return this._read=function(e){i("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(56066)),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),C._fromList=D,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(t,e){return void 0===f&&(f=r(57739)),f(C,t,e)})},17461:function(t,e,r){"use strict";t.exports=l;var n=r(14386).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(47839);function u(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);c.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(e,r){f(t,e,r)})}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}r(98047)(l,c),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,function(t){e(t)})}},353:function(t,e,r){"use strict";function n(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(void 0),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var i;t.exports=C,C.WritableState=E;var s,o={deprecate:r(55688)},a=r(61705),c=r(93915).Buffer,u=global.Uint8Array||function(){},l=r(70989),h=r(60822).getHighWaterMark,f=r(14386).q,d=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,v=f.ERR_STREAM_NULL_VALUES,b=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function S(){}function E(t,e,s){i=i||r(47839),"boolean"!=typeof s&&(s=e instanceof i),this.objectMode=!!(t=t||{}).objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(R,t,e),t._writableState.errorEmitted=!0,w(t,n)):(i(n),t._writableState.errorEmitted=!0,w(t,n),R(t,e))}(t,r,n,e,i);else{var s=T(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||x(t,r),n?process.nextTick(A,t,r,s,i):A(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function C(t){var e=this instanceof(i=i||r(47839));if(!e&&!s.call(C,this))return new C(t);this._writableState=new E(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function k(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function A(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),R(t,e)}function x(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=new Array(e.bufferedRequestCount),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,k(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new n(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk;if(k(t,e,!1,e.objectMode?1:c.length,c,r.encoding,r.callback),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(t,e){t._final(function(r){e.pendingcb--,r&&w(t,r),e.prefinished=!0,t.emit("prefinish"),R(t,e)})}function R(t,e){var r=T(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(I,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(98047)(C,a),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===C&&t&&t._writableState instanceof E}})):s=function(t){return t instanceof this},C.prototype.pipe=function(){w(this,new g)},C.prototype.write=function(t,e,r){var n,i=this._writableState,s=!1,o=!i.objectMode&&(c.isBuffer(n=t)||n instanceof u);return o&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=S),i.ending?function(t,e){var r=new b;w(t,r),process.nextTick(e,r)}(this,r):(o||function(t,e,r,n){var i;return null===r?i=new v:"string"==typeof r||e.objectMode||(i=new d("chunk",["string","Buffer"],r)),!i||(w(t,i),process.nextTick(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,s=function(t,e,r,n,i,s){if(!r){var o=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r)),e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else k(t,e,!1,a,n,i,s);return u}(this,i,o,t,e,r)),s},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||x(this,t))},C.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(t,e,r){r(new p("_write()"))},C.prototype._writev=null,C.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,R(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(t,e){e(t)}},56066:function(t,e,r){"use strict";var n;function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(38899),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[o];if(null!==e){var r=t[f].read();null!==r&&(t[l]=null,t[o]=null,t[a]=null,e(d(r,!1)))}}function m(t){process.nextTick(p,t)}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise(function(e,r){process.nextTick(function(){t[c]?r(t[c]):e(d(void 0,!0))})});var r,n=this[l];if(n)r=new Promise(function(t,e){return function(r,n){t.then(function(){e[u]?r(d(void 0,!0)):e[h](r,n)},n)}}(n,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(d(i,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,function(){return this}),i(n,"return",function(){var t=this;return new Promise(function(e,r){t[f].destroy(null,function(t){t?r(t):e(d(void 0,!0))})})}),n),g);t.exports=function(t){var e,r=Object.create(y,(i(e={},f,{value:t,writable:!0}),i(e,o,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,u,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var n=r[f].read();n?(r[l]=null,r[o]=null,r[a]=null,t(d(n,!1))):(r[o]=t,r[a]=e)},writable:!0}),e));return r[l]=null,s(t,function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[a];return null!==e&&(r[l]=null,r[o]=null,r[a]=null,e(t)),void(r[c]=t)}var n=r[o];null!==n&&(r[l]=null,r[o]=null,r[a]=null,n(d(void 0,!0))),r[u]=!0}),t.on("readable",m.bind(null,r)),r}},15100:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(93915).Buffer,o=r(61758).inspect,a=o&&o.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e;return(e=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e=s.allocUnsafe(t>>>0),r=this.head,n=0;r;)s.prototype.copy.call(r.data,e,n),n+=r.data.length,r=r.next;return e}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,s=t>i.length?i.length:t;if(n+=s===i.length?i:i.slice(0,t),0==(t-=s)){s===i.length?(++r,this.head=e.next?e.next:this.tail=null):(this.head=e,e.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,this.head=r.next?r.next:this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:a,value:function(t,e){return o(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){i(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},e,{depth:0,customInspect:!1}))}}])&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(t.prototype,e),t}()},70989:function(t){"use strict";function e(t,e){n(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function n(t,e){t.emit("error",e)}t.exports={destroy:function(t,i){var s=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(i?i(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,t)):process.nextTick(n,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!i&&t?s._writableState?s._writableState.errorEmitted?process.nextTick(r,s):(s._writableState.errorEmitted=!0,process.nextTick(e,s,t)):process.nextTick(e,s,t):i?(process.nextTick(r,s),i(t)):process.nextTick(r,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},38899:function(t,e,r){"use strict";var n=r(14386).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,c=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,o||s.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){o=!1,h=!0,a||s.call(e)},d=function(t){s.call(e,t)},p=function(){var t;return o&&!h?(e._readableState&&e._readableState.ended||(t=new n),s.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new n),s.call(e,t)):void 0},m=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",p),e.req?m():e.on("request",m)):a&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",f),e.on("finish",l),!1!==r.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",l),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},57739:function(t){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},75792:function(t,e,r){"use strict";var n,i=r(14386).q,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function c(t,e,i,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",function(){a=!0}),void 0===n&&(n=r(38899)),n(t,{readable:e,writable:i},function(t){if(t)return s(t);a=!0,s()});var c=!1;return function(e){if(!a&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}function u(t){t()}function l(t,e){return t.pipe(e)}function h(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}t.exports=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=h(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var o=e.map(function(t,r){var s=r<e.length-1;return c(t,s,r>0,function(t){n||(n=t),t&&o.forEach(u),s||(o.forEach(u),i(n))})});return e.reduce(l)}},60822:function(t,e,r){"use strict";var n=r(14386).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var s=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}},61705:function(t,e,r){t.exports=r(23480).EventEmitter},19158:function(t,e,r){"use strict";var n=r(36810).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.s=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},s.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=o(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},77791:function(t,e,r){"use strict";var n=r(53925).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.s=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},s.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=o(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},53925:function(t,e,r){var n=r(93915),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o),s(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},14451:function(t,e,r){"use strict";r.r(e),r.d(e,{Lifecycle:function(){return n},autoInjectable:function(){return A},container:function(){return k},delay:function(){return h},inject:function(){return x},injectAll:function(){return P},injectAllWithTransform:function(){return F},injectWithTransform:function(){return O},injectable:function(){return T},instanceCachingFactory:function(){return B},isClassProvider:function(){return m},isFactoryProvider:function(){return u},isNormalToken:function(){return f},isTokenProvider:function(){return a},isValueProvider:function(){return c},predicateAwareClassFactory:function(){return N},registry:function(){return I},scoped:function(){return M},singleton:function(){return R}});var n=function(t){return t[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton",t[t.ResolutionScoped=2]="ResolutionScoped",t[t.ContainerScoped=3]="ContainerScoped",t}({});const i="injectionTokens";function s(t){const e=Reflect.getMetadata("design:paramtypes",t)||[],r=Reflect.getOwnMetadata(i,t)||{};return Object.keys(r).forEach(t=>{e[+t]=r[t]}),e}function o(t,e){return function(r,n,s){const o=Reflect.getOwnMetadata(i,r)||{};o[s]=e?{token:t,transform:e.transformToken,transformArgs:e.args||[]}:t,Reflect.defineMetadata(i,o,r)}}function a(t){return!!t.useToken}function c(t){return null!=t.useValue}function u(t){return!!t.useFactory}class l{constructor(t){this.wrap=t,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct"]}createProxy(t){let e,r=!1;return new Proxy({},this.createHandler(()=>(r||(e=t(this.wrap()),r=!0),e)))}createHandler(t){const e={};return this.reflectMethods.forEach(r=>{e[r]=(...e)=>(e[0]=t(),(0,Reflect[r])(...e))}),e}}function h(t){if(void 0===t)throw new Error("Attempt to `delay` undefined. Constructor must be wrapped in a callback");return new l(t)}function f(t){return"string"==typeof t||"symbol"==typeof t}function d(t){return"object"==typeof t&&"token"in t&&"multiple"in t}function p(t){return"object"==typeof t&&"token"in t&&"transform"in t}function m(t){return!!t.useClass}class g{constructor(){this._registryMap=new Map}entries(){return this._registryMap.entries()}getAll(t){return this.ensure(t),this._registryMap.get(t)}get(t){this.ensure(t);const e=this._registryMap.get(t);return e[e.length-1]||null}set(t,e){this.ensure(t),this._registryMap.get(t).push(e)}setAll(t,e){this._registryMap.set(t,e)}has(t){return this.ensure(t),this._registryMap.get(t).length>0}clear(){this._registryMap.clear()}ensure(t){this._registryMap.has(t)||this._registryMap.set(t,[])}}class y extends g{}class v{constructor(){this.scopedResolutions=new Map}}function b(t,e,r){const[,n=null]=t.toString().match(/constructor\(([\w, ]+)\)/)||[];return function(t,e,r="    "){return[t,...e.message.split("\n").map(t=>r+t)].join("\n")}(`Cannot inject the dependency ${function(t,e){return null===t?`at position #${e}`:`"${t.split(",")[e].trim()}" at position #${e}`}(n,e)} of "${t.name}" constructor. Reason:`,r)}class _ extends g{}class w extends g{}class S{constructor(){this.preResolution=new _,this.postResolution=new w}}const E=new Map;class C{constructor(t){this.parent=t,this._registry=new y,this.interceptors=new S}register(t,e,r={lifecycle:n.Transient}){let i;if(i=function(t){return m(t)||c(t)||a(t)||u(t)}(e)?e:{useClass:e},a(i)){const e=[t];let r=i;for(;null!=r;){const t=r.useToken;if(e.includes(t))throw new Error(`Token registration cycle detected! ${[...e,t].join(" -> ")}`);e.push(t);const n=this._registry.get(t);r=n&&a(n.provider)?n.provider:null}}if((r.lifecycle===n.Singleton||r.lifecycle==n.ContainerScoped||r.lifecycle==n.ResolutionScoped)&&(c(i)||u(i)))throw new Error(`Cannot use lifecycle "${n[r.lifecycle]}" with ValueProviders or FactoryProviders`);return this._registry.set(t,{provider:i,options:r}),this}registerType(t,e){return f(e)?this.register(t,{useToken:e}):this.register(t,{useClass:e})}registerInstance(t,e){return this.register(t,{useValue:e})}registerSingleton(t,e){if(f(t)){if(f(e))return this.register(t,{useToken:e},{lifecycle:n.Singleton});if(e)return this.register(t,{useClass:e},{lifecycle:n.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}let r=t;return e&&!f(e)&&(r=e),this.register(t,{useClass:r},{lifecycle:n.Singleton})}resolve(t,e=new v){const r=this.getRegistration(t);if(!r&&f(t))throw new Error(`Attempted to resolve unregistered dependency token: "${t.toString()}"`);if(this.executePreResolutionInterceptor(t,"Single"),r){const n=this.resolveRegistration(r,e);return this.executePostResolutionInterceptor(t,n,"Single"),n}if(function(t){return"function"==typeof t||t instanceof l}(t)){const r=this.construct(t,e);return this.executePostResolutionInterceptor(t,r,"Single"),r}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")}executePreResolutionInterceptor(t,e){if(this.interceptors.preResolution.has(t)){const r=[];for(const n of this.interceptors.preResolution.getAll(t))"Once"!=n.options.frequency&&r.push(n),n.callback(t,e);this.interceptors.preResolution.setAll(t,r)}}executePostResolutionInterceptor(t,e,r){if(this.interceptors.postResolution.has(t)){const n=[];for(const i of this.interceptors.postResolution.getAll(t))"Once"!=i.options.frequency&&n.push(i),i.callback(t,e,r);this.interceptors.postResolution.setAll(t,n)}}resolveRegistration(t,e){if(t.options.lifecycle===n.ResolutionScoped&&e.scopedResolutions.has(t))return e.scopedResolutions.get(t);const r=t.options.lifecycle===n.Singleton||t.options.lifecycle===n.ContainerScoped;let i;return i=c(t.provider)?t.provider.useValue:a(t.provider)?r?t.instance||(t.instance=this.resolve(t.provider.useToken,e)):this.resolve(t.provider.useToken,e):m(t.provider)?r?t.instance||(t.instance=this.construct(t.provider.useClass,e)):this.construct(t.provider.useClass,e):u(t.provider)?t.provider.useFactory(this):this.construct(t.provider,e),t.options.lifecycle===n.ResolutionScoped&&e.scopedResolutions.set(t,i),i}resolveAll(t,e=new v){const r=this.getAllRegistrations(t);if(!r&&f(t))throw new Error(`Attempted to resolve unregistered dependency token: "${t.toString()}"`);if(this.executePreResolutionInterceptor(t,"All"),r){const n=r.map(t=>this.resolveRegistration(t,e));return this.executePostResolutionInterceptor(t,n,"All"),n}const n=[this.construct(t,e)];return this.executePostResolutionInterceptor(t,n,"All"),n}isRegistered(t,e=!1){return this._registry.has(t)||e&&(this.parent||!1)&&this.parent.isRegistered(t,!0)}reset(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()}clearInstances(){for(const[t,e]of this._registry.entries())this._registry.setAll(t,e.filter(t=>!c(t.provider)).map(t=>(t.instance=void 0,t)))}createChildContainer(){const t=new C(this);for(const[e,r]of this._registry.entries())r.some(({options:t})=>t.lifecycle===n.ContainerScoped)&&t._registry.setAll(e,r.map(t=>t.options.lifecycle===n.ContainerScoped?{provider:t.provider,options:t.options}:t));return t}beforeResolution(t,e,r={frequency:"Always"}){this.interceptors.preResolution.set(t,{callback:e,options:r})}afterResolution(t,e,r={frequency:"Always"}){this.interceptors.postResolution.set(t,{callback:e,options:r})}getRegistration(t){return this.isRegistered(t)?this._registry.get(t):this.parent?this.parent.getRegistration(t):null}getAllRegistrations(t){return this.isRegistered(t)?this._registry.getAll(t):this.parent?this.parent.getAllRegistrations(t):null}construct(t,e){if(t instanceof l)return t.createProxy(t=>this.resolve(t,e));const r=E.get(t);if(!r||0===r.length){if(0===t.length)return new t;throw new Error(`TypeInfo not known for "${t.name}"`)}return new t(...r.map(this.resolveParams(e,t)))}resolveParams(t,e){return(r,n)=>{try{return d(r)?p(r)?r.multiple?this.resolve(r.transform).transform(this.resolveAll(r.token),...r.transformArgs):this.resolve(r.transform).transform(this.resolve(r.token,t),...r.transformArgs):r.multiple?this.resolveAll(r.token):this.resolve(r.token,t):p(r)?this.resolve(r.transform,t).transform(this.resolve(r.token,t),...r.transformArgs):this.resolve(r,t)}catch(i){throw new Error(b(e,n,i))}}}}const k=new C;var A=function(){return function(t){const e=s(t);return class extends t{constructor(...r){super(...r.concat(e.slice(r.length).map((e,n)=>{try{return d(e)?p(e)?e.multiple?k.resolve(e.transform).transform(k.resolveAll(e.token),...e.transformArgs):k.resolve(e.transform).transform(k.resolve(e.token),...e.transformArgs):e.multiple?k.resolveAll(e.token):k.resolve(e.token):p(e)?k.resolve(e.transform).transform(k.resolve(e.token),...e.transformArgs):k.resolve(e)}catch(i){throw new Error(b(t,n+r.length,i))}})))}}}},x=function(t){return o(t)},T=function(){return function(t){E.set(t,s(t))}},I=function(t=[]){return function(e){return t.forEach(t=>{var{token:e,options:r}=t,n=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}(t,["token","options"]);return k.register(e,n,r)}),e}},R=function(){return function(t){T()(t),k.registerSingleton(t)}},P=function(t){return o({token:t,multiple:!0})},F=function(t,e,...r){return o({token:t,multiple:!0,transform:e,transformArgs:r})},O=function(t,e,...r){return o(t,{transformToken:e,args:r})};function M(t,e){return function(r){T()(r),k.register(e||r,r,{lifecycle:t})}}function B(t){let e;return r=>(null==e&&(e=t(r)),e)}function N(t,e,r,n=!0){let i,s;return o=>{const a=t(o);return n&&s===a||(i=(s=a)?o.resolve(e):o.resolve(r)),i}}if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.")},25222:function(t,e){
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(t){"use strict";function e(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length>1){e[0]=e[0].slice(0,-1);for(var n=e.length-1,i=1;i<n;++i)e[i]=e[i].slice(1,-1);return e[n]=e[n].slice(1),e.join("")}return e[0]}function r(t){return"(?:"+t+")"}function n(t){return void 0===t?"undefined":null===t?"null":Object.prototype.toString.call(t).split(" ").pop().split("]").shift().toLowerCase()}function i(t){return t.toUpperCase()}function s(t){var n="[A-Za-z]",i="[0-9]",s=e(i,"[A-Fa-f]"),o=r(r("%[EFef]"+s+"%"+s+s+"%"+s+s)+"|"+r("%[89A-Fa-f]"+s+"%"+s+s)+"|"+r("%"+s+s)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=e("[\\:\\/\\?\\#\\[\\]\\@]",a),u=t?"[\\uE000-\\uF8FF]":"[]",l=e(n,i,"[\\-\\.\\_\\~]",t?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),h=r(n+e(n,i,"[\\+\\-\\.]")+"*"),f=r(r(o+"|"+e(l,a,"[\\:]"))+"*"),d=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|"+i),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?"+i)),p=r(d+"\\."+d+"\\."+d+"\\."+d),m=r(s+"{1,4}"),g=r(r(m+"\\:"+m)+"|"+p),y=r(r(m+"\\:")+"{6}"+g),v=r("\\:\\:"+r(m+"\\:")+"{5}"+g),b=r(r(m)+"?\\:\\:"+r(m+"\\:")+"{4}"+g),_=r(r(r(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+r(m+"\\:")+"{3}"+g),w=r(r(r(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+r(m+"\\:")+"{2}"+g),S=r(r(r(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+g),E=r(r(r(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+g),C=r(r(r(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),k=r(r(r(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),A=r([y,v,b,_,w,S,E,C,k].join("|")),x=r(r(l+"|"+o)+"+"),T=(r(A+"\\%25"+x),r(A+r("\\%25|\\%(?!"+s+"{2})")+x)),I=r("[vV]"+s+"+\\."+e(l,a,"[\\:]")+"+"),R=r("\\["+r(T+"|"+A+"|"+I)+"\\]"),P=r(r(o+"|"+e(l,a))+"*"),F=r(R+"|"+p+"(?!"+P+")|"+P),O=r("[0-9]*"),M=r(r(f+"@")+"?"+F+r("\\:"+O)+"?"),B=r(o+"|"+e(l,a,"[\\:\\@]")),N=r(B+"*"),D=r(B+"+"),L=r(r(o+"|"+e(l,a,"[\\@]"))+"+"),j=r(r("\\/"+N)+"*"),U=r("\\/"+r(D+j)+"?"),V=r(L+j),H=r(D+j),q="(?!"+B+")",K=(r(j+"|"+U+"|"+V+"|"+H+"|"+q),r(r(B+"|"+e("[\\/\\?]",u))+"*")),z=r(r(B+"|[\\/\\?]")+"*"),W=r(r("\\/\\/"+M+j)+"|"+U+"|"+H+"|"+q),$=r(h+"\\:"+W+r("\\?"+K)+"?"+r("\\#"+z)+"?"),G=r(r("\\/\\/"+M+j)+"|"+U+"|"+V+"|"+q),Q=r(G+r("\\?"+K)+"?"+r("\\#"+z)+"?");return r($+"|"+Q),r(h+"\\:"+W+r("\\?"+K)+"?"),r(r("\\/\\/("+r("("+f+")@")+"?("+F+")"+r("\\:("+O+")")+"?)")+"?("+j+"|"+U+"|"+H+"|"+q+")"),r("\\?("+K+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+f+")@")+"?("+F+")"+r("\\:("+O+")")+"?)")+"?("+j+"|"+U+"|"+V+"|"+q+")"),r("\\?("+K+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+f+")@")+"?("+F+")"+r("\\:("+O+")")+"?)")+"?("+j+"|"+U+"|"+H+"|"+q+")"),r("\\?("+K+")"),r("\\#("+z+")"),r("("+f+")@"),r("\\:("+O+")"),{NOT_SCHEME:new RegExp(e("[^]",n,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(e("[^\\%]",l,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",l,c),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+A+")"+r(r("\\%25|\\%(?!"+s+"{2})")+"("+x+")")+"?\\]?$")}}var o=s(!1),a=s(!0),c=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(c){i=!0,s=c}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,l=36,h=/^xn--/,f=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,g=String.fromCharCode;function y(t){throw new RangeError(p[t])}function v(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+function(t,e){for(var r=[],n=t.length;n--;)r[n]=e(t[n]);return r}((t=t.replace(d,".")).split("."),e).join(".")}var b=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},_=function(t,e,r){var n=0;for(t=r?m(t/700):t>>1,t+=m(t/e);t>455;n+=l)t=m(t/35);return m(n+36*t/(t+38))},w=function(t){return v(t,function(t){return f.test(t)?"xn--"+function(t){var e=[],r=(t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),r--)}else e.push(i)}return e}(t)).length,n=128,i=0,s=72,o=!0,a=!1,c=void 0;try{for(var h,f=t[Symbol.iterator]();!(o=(h=f.next()).done);o=!0){var d=h.value;d<128&&e.push(g(d))}}catch(U){a=!0,c=U}finally{try{!o&&f.return&&f.return()}finally{if(a)throw c}}var p=e.length,v=p;for(p&&e.push("-");v<r;){var w=u,S=!0,E=!1,C=void 0;try{for(var k,A=t[Symbol.iterator]();!(S=(k=A.next()).done);S=!0){var x=k.value;x>=n&&x<w&&(w=x)}}catch(U){E=!0,C=U}finally{try{!S&&A.return&&A.return()}finally{if(E)throw C}}var T=v+1;w-n>m((u-i)/T)&&y("overflow"),i+=(w-n)*T,n=w;var I=!0,R=!1,P=void 0;try{for(var F,O=t[Symbol.iterator]();!(I=(F=O.next()).done);I=!0){var M=F.value;if(M<n&&++i>u&&y("overflow"),M==n){for(var B=i,N=l;;N+=l){var D=N<=s?1:N>=s+26?26:N-s;if(B<D)break;var L=B-D,j=l-D;e.push(g(b(D+L%j,0))),B=m(L/j)}e.push(g(b(B,0))),s=_(i,T,v==p),i=0,++v}}}catch(U){R=!0,P=U}finally{try{!I&&O.return&&O.return()}finally{if(R)throw P}}++i,++n}return e.join("")}(t):t})},S=function(t){return v(t,function(t){return h.test(t)?function(t){var e,r=[],n=t.length,i=0,s=128,o=72,a=t.lastIndexOf("-");a<0&&(a=0);for(var c=0;c<a;++c)t.charCodeAt(c)>=128&&y("not-basic"),r.push(t.charCodeAt(c));for(var h=a>0?a+1:0;h<n;){for(var f=i,d=1,p=l;;p+=l){h>=n&&y("invalid-input");var g=(e=t.charCodeAt(h++))-48<10?e-22:e-65<26?e-65:e-97<26?e-97:l;(g>=l||g>m((u-i)/d))&&y("overflow"),i+=g*d;var v=p<=o?1:p>=o+26?26:p-o;if(g<v)break;var b=l-v;d>m(u/b)&&y("overflow"),d*=b}var w=r.length+1;o=_(i-f,w,0==f),m(i/w)>u-s&&y("overflow"),s+=m(i/w),i%=w,r.splice(i++,0,s)}return String.fromCodePoint.apply(String,r)}(t.slice(4).toLowerCase()):t})},E={};function C(t){var e=t.charCodeAt(0);return e<16?"%0"+e.toString(16).toUpperCase():e<128?"%"+e.toString(16).toUpperCase():e<2048?"%"+(e>>6|192).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase():"%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase()}function k(t){for(var e="",r=0,n=t.length;r<n;){var i=parseInt(t.substr(r+1,2),16);if(i<128)e+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var s=parseInt(t.substr(r+4,2),16);e+=String.fromCharCode((31&i)<<6|63&s)}else e+=t.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var o=parseInt(t.substr(r+4,2),16),a=parseInt(t.substr(r+7,2),16);e+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}else e+=t.substr(r,9);r+=9}else e+=t.substr(r,3),r+=3}return e}function A(t,e){function r(t){var r=k(t);return r.match(e.UNRESERVED)?r:t}return t.scheme&&(t.scheme=String(t.scheme).replace(e.PCT_ENCODED,r).toLowerCase().replace(e.NOT_SCHEME,"")),void 0!==t.userinfo&&(t.userinfo=String(t.userinfo).replace(e.PCT_ENCODED,r).replace(e.NOT_USERINFO,C).replace(e.PCT_ENCODED,i)),void 0!==t.host&&(t.host=String(t.host).replace(e.PCT_ENCODED,r).toLowerCase().replace(e.NOT_HOST,C).replace(e.PCT_ENCODED,i)),void 0!==t.path&&(t.path=String(t.path).replace(e.PCT_ENCODED,r).replace(t.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,C).replace(e.PCT_ENCODED,i)),void 0!==t.query&&(t.query=String(t.query).replace(e.PCT_ENCODED,r).replace(e.NOT_QUERY,C).replace(e.PCT_ENCODED,i)),void 0!==t.fragment&&(t.fragment=String(t.fragment).replace(e.PCT_ENCODED,r).replace(e.NOT_FRAGMENT,C).replace(e.PCT_ENCODED,i)),t}function x(t){return t.replace(/^0*(.*)/,"$1")||"0"}function T(t,e){var r=t.match(e.IPV4ADDRESS)||[],n=c(r,2)[1];return n?n.split(".").map(x).join("."):t}function I(t,e){var r=t.match(e.IPV6ADDRESS)||[],n=c(r,3),i=n[1],s=n[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),a=c(o,2),u=a[0],l=a[1],h=l?l.split(":").map(x):[],f=u.split(":").map(x),d=e.IPV4ADDRESS.test(f[f.length-1]),p=d?7:8,m=f.length-p,g=Array(p),y=0;y<p;++y)g[y]=h[y]||f[m+y]||"";d&&(g[p-1]=T(g[p-1],e));var v=g.reduce(function(t,e,r){if(!e||"0"===e){var n=t[t.length-1];n&&n.index+n.length===r?n.length++:t.push({index:r,length:1})}return t},[]).sort(function(t,e){return e.length-t.length})[0],b=void 0;if(v&&v.length>1){var _=g.slice(0,v.index),w=g.slice(v.index+v.length);b=_.join(":")+"::"+w.join(":")}else b=g.join(":");return s&&(b+="%"+s),b}return t}var R=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,P=void 0==="".match(/(){0}/)[1];function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==e.iri?a:o;"suffix"===e.reference&&(t=(e.scheme?e.scheme+":":"")+"//"+t);var i=t.match(R);if(i){P?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==t.indexOf("@")?i[3]:void 0,r.host=-1!==t.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==t.indexOf("?")?i[7]:void 0,r.fragment=-1!==t.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=t.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=I(T(r.host,n),n)),r.reference=void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?"relative":void 0===r.fragment?"absolute":"uri":"same-document",e.reference&&"suffix"!==e.reference&&e.reference!==r.reference&&(r.error=r.error||"URI is not a "+e.reference+" reference.");var s=E[(e.scheme||r.scheme||"").toLowerCase()];if(e.unicodeSupport||s&&s.unicodeSupport)A(r,n);else{if(r.host&&(e.domainHost||s&&s.domainHost))try{r.host=w(r.host.replace(n.PCT_ENCODED,k).toLowerCase())}catch(c){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+c}A(r,o)}s&&s.parse&&s.parse(r,e)}else r.error=r.error||"URI can not be parsed.";return r}function O(t,e){var r=!1!==e.iri?a:o,n=[];return void 0!==t.userinfo&&(n.push(t.userinfo),n.push("@")),void 0!==t.host&&n.push(I(T(String(t.host),r),r).replace(r.IPV6ADDRESS,function(t,e,r){return"["+e+(r?"%25"+r:"")+"]"})),"number"!=typeof t.port&&"string"!=typeof t.port||(n.push(":"),n.push(String(t.port))),n.length?n.join(""):void 0}var M=/^\.\.?\//,B=/^\/\.(\/|$)/,N=/^\/\.\.(\/|$)/,D=/^\/?(?:.|\n)*?(?=\/|$)/;function L(t){for(var e=[];t.length;)if(t.match(M))t=t.replace(M,"");else if(t.match(B))t=t.replace(B,"/");else if(t.match(N))t=t.replace(N,"/"),e.pop();else if("."===t||".."===t)t="";else{var r=t.match(D);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];t=t.slice(n.length),e.push(n)}return e.join("")}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.iri?a:o,n=[],i=E[(e.scheme||t.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(t,e),t.host)if(r.IPV6ADDRESS.test(t.host));else if(e.domainHost||i&&i.domainHost)try{t.host=e.iri?S(t.host):w(t.host.replace(r.PCT_ENCODED,k).toLowerCase())}catch(u){t.error=t.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+u}A(t,r),"suffix"!==e.reference&&t.scheme&&(n.push(t.scheme),n.push(":"));var s=O(t,e);if(void 0!==s&&("suffix"!==e.reference&&n.push("//"),n.push(s),t.path&&"/"!==t.path.charAt(0)&&n.push("/")),void 0!==t.path){var c=t.path;e.absolutePath||i&&i.absolutePath||(c=L(c)),void 0===s&&(c=c.replace(/^\/\//,"/%2F")),n.push(c)}return void 0!==t.query&&(n.push("?"),n.push(t.query)),void 0!==t.fragment&&(n.push("#"),n.push(t.fragment)),n.join("")}function U(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(t=F(j(t,r),r),e=F(j(e,r),r)),!(r=r||{}).tolerant&&e.scheme?(n.scheme=e.scheme,n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=L(e.path||""),n.query=e.query):(void 0!==e.userinfo||void 0!==e.host||void 0!==e.port?(n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=L(e.path||""),n.query=e.query):(e.path?("/"===e.path.charAt(0)?n.path=L(e.path):(n.path=void 0===t.userinfo&&void 0===t.host&&void 0===t.port||t.path?t.path?t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:e.path:"/"+e.path,n.path=L(n.path)),n.query=e.query):(n.path=t.path,n.query=void 0!==e.query?e.query:t.query),n.userinfo=t.userinfo,n.host=t.host,n.port=t.port),n.scheme=t.scheme),n.fragment=e.fragment,n}function V(t,e){return t&&t.toString().replace(e&&e.iri?a.PCT_ENCODED:o.PCT_ENCODED,k)}var H={scheme:"http",domainHost:!0,parse:function(t,e){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t},serialize:function(t,e){var r="https"===String(t.scheme).toLowerCase();return t.port!==(r?443:80)&&""!==t.port||(t.port=void 0),t.path||(t.path="/"),t}},q={scheme:"https",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize};function K(t){return"boolean"==typeof t.secure?t.secure:"wss"===String(t.scheme).toLowerCase()}var z={scheme:"ws",domainHost:!0,parse:function(t,e){var r=t;return r.secure=K(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(t,e){if(t.port!==(K(t)?443:80)&&""!==t.port||(t.port=void 0),"boolean"==typeof t.secure&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){var r=t.resourceName.split("?"),n=c(r,2),i=n[0],s=n[1];t.path=i&&"/"!==i?i:void 0,t.query=s,t.resourceName=void 0}return t.fragment=void 0,t}},W={scheme:"wss",domainHost:z.domainHost,parse:z.parse,serialize:z.serialize},$={},G="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Q="[0-9A-Fa-f]",J=r(r("%[EFef][0-9A-Fa-f]%"+Q+Q+"%"+Q+Q)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+Q+Q)+"|"+r("%"+Q+Q)),Z=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Y=new RegExp(G,"g"),X=new RegExp(J,"g"),tt=new RegExp(e("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Z),"g"),et=new RegExp(e("[^]",G,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),rt=et;function nt(t){var e=k(t);return e.match(Y)?e:t}var it={scheme:"mailto",parse:function(t,e){var r=t,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,s={},o=r.query.split("&"),a=0,c=o.length;a<c;++a){var u=o[a].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),h=0,f=l.length;h<f;++h)n.push(l[h]);break;case"subject":r.subject=V(u[1],e);break;case"body":r.body=V(u[1],e);break;default:i=!0,s[V(u[0],e)]=V(u[1],e)}}i&&(r.headers=s)}r.query=void 0;for(var d=0,p=n.length;d<p;++d){var m=n[d].split("@");if(m[0]=V(m[0]),e.unicodeSupport)m[1]=V(m[1],e).toLowerCase();else try{m[1]=w(V(m[1],e).toLowerCase())}catch(g){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+g}n[d]=m.join("@")}return r},serialize:function(t,e){var r,n=t,s=null!=(r=t.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(s){for(var o=0,a=s.length;o<a;++o){var c=String(s[o]),u=c.lastIndexOf("@"),l=c.slice(0,u).replace(X,nt).replace(X,i).replace(tt,C),h=c.slice(u+1);try{h=e.iri?S(h):w(V(h,e).toLowerCase())}catch(m){n.error=n.error||"Email address's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+m}s[o]=l+"@"+h}n.path=s.join(",")}var f=t.headers=t.headers||{};t.subject&&(f.subject=t.subject),t.body&&(f.body=t.body);var d=[];for(var p in f)f[p]!==$[p]&&d.push(p.replace(X,nt).replace(X,i).replace(et,C)+"="+f[p].replace(X,nt).replace(X,i).replace(rt,C));return d.length&&(n.query=d.join("&")),n}},st=/^([^\:]+)\:(.*)/,ot={scheme:"urn",parse:function(t,e){var r=t.path&&t.path.match(st),n=t;if(r){var i=e.scheme||n.scheme||"urn",s=r[1].toLowerCase(),o=r[2],a=E[i+":"+(e.nid||s)];n.nid=s,n.nss=o,n.path=void 0,a&&(n=a.parse(n,e))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(t,e){var r=t.nid,n=E[(e.scheme||t.scheme||"urn")+":"+(e.nid||r)];n&&(t=n.serialize(t,e));var i=t;return i.path=(r||e.nid)+":"+t.nss,i}},at=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ct={scheme:"urn:uuid",parse:function(t,e){var r=t;return r.uuid=r.nss,r.nss=void 0,e.tolerant||r.uuid&&r.uuid.match(at)||(r.error=r.error||"UUID is not valid."),r},serialize:function(t,e){var r=t;return r.nss=(t.uuid||"").toLowerCase(),r}};E[H.scheme]=H,E[q.scheme]=q,E[z.scheme]=z,E[W.scheme]=W,E[it.scheme]=it,E[ot.scheme]=ot,E[ct.scheme]=ct,t.SCHEMES=E,t.pctEncChar=C,t.pctDecChars=k,t.parse=F,t.removeDotSegments=L,t.serialize=j,t.resolveComponents=U,t.resolve=function(t,e,r){var n=function(t,e){var r={scheme:"null"};if(e)for(var n in e)r[n]=e[n];return r}(0,r);return j(U(F(t,n),F(e,n),n,!0),n)},t.normalize=function(t,e){return"string"==typeof t?t=j(F(t,e),e):"object"===n(t)&&(t=F(j(t,e),e)),t},t.equal=function(t,e,r){return"string"==typeof t?t=j(F(t,r),r):"object"===n(t)&&(t=j(t,r)),"string"==typeof e?e=j(F(e,r),r):"object"===n(e)&&(e=j(e,r)),t===e},t.escapeComponent=function(t,e){return t&&t.toString().replace(e&&e.iri?a.ESCAPE:o.ESCAPE,C)},t.unescapeComponent=V,Object.defineProperty(t,"__esModule",{value:!0})}(e)},55688:function(t){function e(t){try{if(!global.localStorage)return!1}catch(r){return!1}var e=global.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,r){if(e("noDeprecation"))return t;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),n=!0}return t.apply(this,arguments)}}},81793:function(t){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},58651:function(t,e,r){"use strict";var n=r(59702),i=r(6926),s=r(89252),o=r(80053);function a(t){return t.call.bind(t)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=a(Object.prototype.toString),h=a(Number.prototype.valueOf),f=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(c)var p=a(BigInt.prototype.valueOf);if(u)var m=a(Symbol.prototype.valueOf);function g(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(r){return!1}}function y(t){return"[object Map]"===l(t)}function v(t){return"[object Set]"===l(t)}function b(t){return"[object WeakMap]"===l(t)}function _(t){return"[object WeakSet]"===l(t)}function w(t){return"[object ArrayBuffer]"===l(t)}function S(t){return"undefined"!=typeof ArrayBuffer&&(w.working?w(t):t instanceof ArrayBuffer)}function E(t){return"[object DataView]"===l(t)}function C(t){return"undefined"!=typeof DataView&&(E.working?E(t):t instanceof DataView)}function k(t){return"[object SharedArrayBuffer]"===l(t)}function A(t){return"undefined"!=typeof SharedArrayBuffer&&(k.working?k(t):t instanceof SharedArrayBuffer)}function x(t){return g(t,h)}function T(t){return g(t,f)}function I(t){return g(t,d)}function R(t){return c&&g(t,p)}function P(t){return u&&g(t,m)}e.isArgumentsObject=n,e.isGeneratorFunction=i,e.isTypedArray=o,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):o(t)||C(t)},e.isUint8Array=function(t){return"Uint8Array"===s(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===s(t)},e.isUint16Array=function(t){return"Uint16Array"===s(t)},e.isUint32Array=function(t){return"Uint32Array"===s(t)},e.isInt8Array=function(t){return"Int8Array"===s(t)},e.isInt16Array=function(t){return"Int16Array"===s(t)},e.isInt32Array=function(t){return"Int32Array"===s(t)},e.isFloat32Array=function(t){return"Float32Array"===s(t)},e.isFloat64Array=function(t){return"Float64Array"===s(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===s(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===s(t)},y.working="undefined"!=typeof Map&&y(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(y.working?y(t):t instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(v.working?v(t):t instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(b.working?b(t):t instanceof WeakMap)},_.working="undefined"!=typeof WeakSet&&_(new WeakSet),e.isWeakSet=function(t){return _(t)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),e.isArrayBuffer=S,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=C,k.working="undefined"!=typeof SharedArrayBuffer&&k(new SharedArrayBuffer),e.isSharedArrayBuffer=A,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===l(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===l(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===l(t)},e.isGeneratorObject=function(t){return"[object Generator]"===l(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===l(t)},e.isNumberObject=x,e.isStringObject=T,e.isBooleanObject=I,e.isBigIntObject=R,e.isSymbolObject=P,e.isBoxedPrimitive=function(t){return x(t)||T(t)||I(t)||R(t)||P(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(S(t)||A(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})},69196:function(t,e,r){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(c(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,s=n.length,o=String(t).replace(i,function(t){if("%%"===t)return"%";if(r>=s)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return t}}),a=n[r];r<s;a=n[++r])g(a)||!w(a)?o+=" "+a:o+=" "+c(a);return o},e.deprecate=function(t,r){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var s={},o=/^$/;if(process.env.NODE_DEBUG){var a=process.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+a+"$","i")}function c(t,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&e._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),h(n,t,n.depth)}function u(t,e){var r=c.styles[e];return r?"\x1b["+c.colors[r][0]+"m"+t+"\x1b["+c.colors[r][1]+"m":t}function l(t,e){return t}function h(t,r,n){if(t.customInspect&&r&&C(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return v(i)||(i=h(t,i,n)),i}var s=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(v(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return y(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}(t,r);if(s)return s;var o=Object.keys(r),a=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),E(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return f(r);if(0===o.length){if(C(r))return t.stylize("[Function"+(r.name?": "+r.name:"")+"]","special");if(_(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return t.stylize(Date.prototype.toString.call(r),"date");if(E(r))return f(r)}var c,u="",l=!1,w=["{","}"];return p(r)&&(l=!0,w=["[","]"]),C(r)&&(u=" [Function"+(r.name?": "+r.name:"")+"]"),_(r)&&(u=" "+RegExp.prototype.toString.call(r)),S(r)&&(u=" "+Date.prototype.toUTCString.call(r)),E(r)&&(u=" "+f(r)),0!==o.length||l&&0!=r.length?n<0?_(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=l?function(t,e,r,n,i){for(var s=[],o=0,a=e.length;o<a;++o)I(e,String(o))?s.push(d(t,e,r,n,String(o),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(d(t,e,r,n,i,!0))}),s}(t,r,n,a,o):o.map(function(e){return d(t,r,n,a,e,l)}),t.seen.pop(),function(t,e,r){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(c,u,w)):w[0]+u+w[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,r,n,i,s){var o,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=t.stylize(c.set?"[Getter/Setter]":"[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),I(n,i)||(o="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=g(r)?h(t,c.value,null):h(t,c.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),b(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function p(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return"number"==typeof t}function v(t){return"string"==typeof t}function b(t){return void 0===t}function _(t){return w(t)&&"[object RegExp]"===k(t)}function w(t){return"object"==typeof t&&null!==t}function S(t){return w(t)&&"[object Date]"===k(t)}function E(t){return w(t)&&("[object Error]"===k(t)||t instanceof Error)}function C(t){return"function"==typeof t}function k(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!s[t])if(o.test(t)){var r=process.pid;s[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else s[t]=function(){};return s[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=r(58651),e.isArray=p,e.isBoolean=m,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=_,e.types.isRegExp=_,e.isObject=w,e.isDate=S,e.types.isDate=S,e.isError=E,e.types.isNativeError=E,e.isFunction=C,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(81793);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),x[t.getMonth()],e].join(" ")}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",T(),e.format.apply(e,arguments))},e.inherits=r(98047),e._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(R&&t[R]){var e;if("function"!=typeof(e=t[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise(function(t,n){e=t,r=n}),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push(function(t,n){t?r(t):e(n)});try{t.apply(this,i)}catch(o){r(o)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),R&&Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=R,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var n=e.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return n.apply(i,arguments)};t.apply(this,e).then(function(t){process.nextTick(s.bind(null,null,t))},function(t){process.nextTick(P.bind(null,t,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,n(t)),e}},71351:function(t,e,r){var n=r(76885),i=r(3008),s=i;s.v1=n,s.v4=i,t.exports=s},70623:function(t){for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,r){var n=r||0;return[e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]]].join("")}},4602:function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},76885:function(t,e,r){var n,i,s=r(4602),o=r(70623),a=0,c=0;t.exports=function(t,e,r){var u=e&&r||0,l=e||[],h=(t=t||{}).node||n,f=void 0!==t.clockseq?t.clockseq:i;if(null==h||null==f){var d=s();null==h&&(h=n=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==f&&(f=i=16383&(d[6]<<8|d[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:c+1,g=p-a+(m-c)/1e4;if(g<0&&void 0===t.clockseq&&(f=f+1&16383),(g<0||p>a)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,c=m,i=f;var y=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;l[u++]=y>>>24&255,l[u++]=y>>>16&255,l[u++]=y>>>8&255,l[u++]=255&y;var v=p/4294967296*1e4&268435455;l[u++]=v>>>8&255,l[u++]=255&v,l[u++]=v>>>24&15|16,l[u++]=v>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var b=0;b<6;++b)l[u+b]=h[b];return e||o(l)}},3008:function(t,e,r){var n=r(4602),i=r(70623);t.exports=function(t,e,r){var s=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;++a)e[s+a]=o[a];return e||i(o)}},89252:function(t,e,r){"use strict";var n=r(99070),i=r(69695),s=r(69661),o=s("Object.prototype.toString"),a=r(71039)()&&"symbol"==typeof Symbol.toStringTag,c=i(),u=s("String.prototype.slice"),l={},h=r(72289),f=Object.getPrototypeOf;a&&h&&f&&n(c,function(t){if("function"==typeof global[t]){var e=new global[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=f(e),n=h(r,Symbol.toStringTag);if(!n){var i=f(r);n=h(i,Symbol.toStringTag)}l[t]=n.get}});var d=r(80053);t.exports=function(t){return!!d(t)&&(a?function(t){var e=!1;return n(l,function(r,n){if(!e)try{var i=r.call(t);i===n&&(e=i)}catch(s){}}),e}(t):u(o(t),8,-1))}},66835:function(t){"use strict";t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},40038:function(t){"use strict";t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},55415:function(t){"use strict";t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},42063:function(t){"use strict";t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},42236:function(t){"use strict";t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},61930:function(t){"use strict";t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},17519:function(t){"use strict";t.exports={i8:"6.5.3"}},873:function(t){"use strict";t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},32574:function(){},63906:function(){},61758:function(){}},0,[[54450,666]]]);